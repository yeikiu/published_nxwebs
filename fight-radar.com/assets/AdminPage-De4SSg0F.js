import{q as Te,j as _t,f as y,az as xt,c as t,u as i,i as A,A as e,z as Ge,t as k,T as ot,m as tt,b as f,o as Be,C as p,_ as Qe,y as u,av as Dt,a as st,p as lt,s as it,k as ve,n as O,Q as We,a3 as At,aA as M,aB as $t,F as rt,aC as te,O as kt,D as qe,E as Ne,aD as He,aE as at,V as ne,aF as Lt,aG as Ft,aH as Pt,aI as Ct,aJ as dt,X as ct,aK as Mt,aL as Rt,ac as ut,l as ft,J as gt,h as It,r as Et,x as qt,I as Nt}from"./lucide-qo0zz29p.js";import{r as zt,R as Fe,s as Je,t as Tt,v as Bt,w as Ut,x as Kt,P as Ot,N as Ht,V as Qt,p as Wt,m as Vt,y as jt}from"./index-ydjJeVzK.js";import{f as Gt,h as mt}from"./helpers-B2E5sdej.js";import"./highcharts-DyRVWUji.js";var Jt=y('<div class="error-message svelte-apfh6f"><span class="error-icon svelte-apfh6f"><!></span> </div>'),Xt=y('<div class="spinner svelte-apfh6f"></div> Logging in...',1),Yt=y('<div class="login-container svelte-apfh6f"><div class="login-card svelte-apfh6f"><div class="login-header svelte-apfh6f"><div class="lock-icon svelte-apfh6f"><!></div> <h1 class="svelte-apfh6f">Admin Login</h1> <p class="svelte-apfh6f">Access the fighter management dashboard</p></div> <form class="login-form svelte-apfh6f"><div class="form-group svelte-apfh6f"><label for="username" class="svelte-apfh6f">Username</label> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-apfh6f"/></div> <div class="form-group svelte-apfh6f"><label for="password" class="svelte-apfh6f">Password</label> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-apfh6f"/></div> <!> <button type="submit" class="login-btn svelte-apfh6f"><!></button> <div class="demo-info svelte-apfh6f"><small class="svelte-apfh6f">Demo credentials: <strong class="svelte-apfh6f">demo</strong> / <strong class="svelte-apfh6f">test</strong></small></div></form></div></div>');function pt(H,n){Te(n,!1);let a=Ge(""),v=Ge(""),s=Ge(!1),r=Ge("");async function l(_){if(_.preventDefault(),!e(a)||!e(v)){p(r,"Please enter both username and password");return}p(s,!0),p(r,"");try{console.log("Attempting login with:",e(a),e(v));const $=await zt.login(e(a),e(v));console.log("Login result:",$),$?(console.log("Login successful, navigating to:",Fe.ADMIN_DASHBOARD),Je.navigate(Fe.ADMIN_DASHBOARD)):p(r,"Invalid credentials. Try demo:test")}catch($){console.error("Login error:",$),p(r,"Login failed. Please try again.")}finally{p(s,!1)}}function h(){p(r,"")}_t();var x=Yt(),P=t(x),L=t(P),c=t(L),m=t(c);xt(m,{size:48});var d=i(L,2),w=t(d),o=i(t(w),2),V=i(w,2),E=i(t(V),2),g=i(V,2);{var F=_=>{var $=Jt(),q=t($),ae=t(q);Qe(ae,{size:18});var oe=i(q);k(()=>u(oe,` ${e(r)??""}`)),f(_,$)};A(g,_=>{e(r)&&_(F)})}var R=i(g,2),C=t(R);{var j=_=>{var $=Xt();f(_,$)},I=_=>{var $=Dt("Login");f(_,$)};A(C,_=>{e(s)?_(j):_(I,!1)})}k(()=>{o.disabled=e(s),E.disabled=e(s),R.disabled=e(s)}),ot(o,()=>e(a),_=>p(a,_)),tt("input",o,h),ot(E,()=>e(v),_=>p(v,_)),tt("input",E,h),tt("submit",d,l),f(H,x),Be()}var Zt=y('<button class="refresh-btn svelte-1kbkmxv" title="Refresh data"><!></button>'),ea=y('<div class="loading-spinner svelte-1kbkmxv"><div class="spinner svelte-1kbkmxv"></div> <span>Loading...</span></div>'),ta=y('<div class="error-state svelte-1kbkmxv"><span class="error-icon svelte-1kbkmxv">⚠️</span> <p class="error-message svelte-1kbkmxv"> </p></div>'),aa=y('<div><div class="widget-header svelte-1kbkmxv"><div class="widget-title svelte-1kbkmxv"><!> <h3 class="svelte-1kbkmxv"> </h3></div> <!></div> <div class="widget-content svelte-1kbkmxv"><!></div></div>');function nt(H,n){let a=lt(n,"loading",3,!1),v=lt(n,"className",3,"");var s=aa();let r;var l=t(s),h=t(l),x=t(h);{var P=g=>{const F=M(()=>n.icon);var R=ve(),C=O(R);We(C,()=>e(F),(j,I)=>{I(j,{size:18})}),f(g,R)};A(x,g=>{n.icon&&g(P)})}var L=i(x,2),c=t(L),m=i(h,2);{var d=g=>{var F=Zt();F.__click=function(...C){n.onRefresh?.apply(this,C)};var R=t(F);{let C=M(()=>a()?"spinning":"");At(R,{size:16,get class(){return e(C)}})}k(()=>F.disabled=a()),f(g,F)};A(m,g=>{n.onRefresh&&g(d)})}var w=i(l,2),o=t(w);{var V=g=>{var F=ea();f(g,F)},E=g=>{var F=ve(),R=O(F);{var C=I=>{var _=ta(),$=i(t(_),2),q=t($);k(()=>u(q,n.error)),f(I,_)},j=I=>{var _=ve(),$=O(_);{var q=ae=>{var oe=ve(),xe=O(oe);$t(xe,()=>n.children),f(ae,oe)};A($,ae=>{n.children&&ae(q)},!0)}f(I,_)};A(R,I=>{n.error?I(C):I(j,!1)},!0)}f(g,F)};A(o,g=>{a()?g(V):g(E,!1)})}k(g=>{r=it(s,1,`widget-card ${v()??""}`,"svelte-1kbkmxv",r,g),u(c,n.title)},[()=>({loading:a()})]),f(H,s)}st(["click"]);class sa{constructor(){this.localeCache={}}async loadFightersData(){try{const{allRawFightersArr:n}=await Gt.loadFightersFromCSV();return n}catch(n){return console.error("Failed to load fighters data:",n),[]}}async getDatasetOverview(){const n=await this.loadFightersData(),a=await mt("data/ALL_DIVISIONS_DATA_WITH_URLS.csv"),v={};n.forEach(d=>{const w=d.Division||"Unknown";v[w]=(v[w]||0)+1});const s=n.filter(d=>d.Number_of_Fights_36m&&d.Number_of_Fights_36m>0).length,r=n.length-s;let l=0;n.forEach(d=>{let w=0;d.Fighter&&d.Fighter.trim()!==""&&(w+=1),d.Division&&d.Division.trim()!==""&&(w+=1),d.Career_Record&&d.Career_Record.trim()!==""&&(w+=1),d.picture_url&&d.picture_url.trim()!==""&&(w+=1),l+=w/4});const h=n.length>0?l/n.length*100:0,x=n.filter(d=>!d.picture_url||d.picture_url.trim()===""),P=x.length,L=n.length>0?Math.round((n.length-P)/n.length*100):100;let c=0,m="current";if(a.lastModified){const w=new Date().getTime()-a.lastModified.getTime();c=Math.floor(w/(1e3*60*60*24)),c<=7?m="current":c<=30?m="warning":m="outdated"}else m="outdated",c=-1;return{totalFighters:n.length,activeFighters:s,inactiveFighters:r,fightersByDivision:v,lastUpdate:a.lastModified,dataQualityScore:Math.round(h),missingPictures:{count:P,completionRate:L,fighters:x.map(d=>d.Fighter||"Unknown").slice(0,10)},maintenanceStatus:{status:m,daysSinceLastUpdate:c}}}async getMissingPicturesData(){const n=await this.loadFightersData(),a=n.filter(s=>!s.picture_url||s.picture_url.trim()===""),v=n.length>0?(n.length-a.length)/n.length*100:0;return{count:a.length,fighters:a.map(s=>s.Fighter).slice(0,20),completionRate:Math.round(v)}}async getMaintenanceStatus(){const a=(await mt("data/ALL_DIVISIONS_DATA_WITH_URLS.csv")).lastModified;let v=0,s="current";if(a){const l=new Date().getTime()-a.getTime();v=Math.floor(l/(1e3*60*60*24)),v<=7?s="current":v<=30?s="warning":s="outdated"}else s="outdated",v=-1;return{lastDatasetUpdate:a,status:s,daysSinceLastUpdate:v}}async getTranslationHealth(){const n={en:Kt,es:Ut,fr:Bt,pt:Tt},a=Object.keys(n),v={},s={};try{for(const l of a)try{this.localeCache[l]=n[l]}catch(h){console.warn(`Failed to load locale ${l}:`,h),v[l]=["Failed to load locale file"],s[l]=0}const r=this.getAllKeys(this.localeCache.en||{});return a.forEach(l=>{if(l==="en"){v[l]=[],s[l]=100;return}const h=this.getAllKeys(this.localeCache[l]||{}),x=r.filter(P=>!h.includes(P));v[l]=x,s[l]=r.length>0?Math.round((r.length-x.length)/r.length*100):0}),{languages:a,totalKeys:r.length,missingKeysByLanguage:v,completionByLanguage:s}}catch(r){return console.error("Failed to check translation health:",r),a.forEach(l=>{v[l]=["Error loading translations"],s[l]=0}),{languages:a,totalKeys:0,missingKeysByLanguage:v,completionByLanguage:s}}}getAllKeys(n,a=""){let v=[];for(const s in n){const r=a?`${a}.${s}`:s;typeof n[s]=="object"&&n[s]!==null&&!Array.isArray(n[s])?v=v.concat(this.getAllKeys(n[s],r)):v.push(r)}return v.sort()}async testProxiesStatus(){const n=[],a=Ot.proxyConfigs.map(async s=>{const r=Date.now();try{const l=await fetch(s.url+encodeURIComponent("https://www.githubstatus.com/history.rss"),{headers:s.headers||{}});return{name:s.name,active:l.ok,responseTime:Date.now()-r}}catch{return{name:s.name,active:!1,responseTime:Date.now()-r}}});return(await Promise.allSettled(a)).forEach(s=>{s.status==="fulfilled"&&n.push(s.value)}),n}async testRSSFeedsStatus(){const n=[],v=[...Ht.rssSources,...Qt.videoSources].map(async r=>{const l=Date.now();try{const h=await Wt.fetchRSS(r.url);return{name:r.name,active:h.length>0,responseTime:Date.now()-l}}catch{return{name:r.name,active:!1,responseTime:Date.now()-l}}});return(await Promise.allSettled(v)).forEach(r=>{r.status==="fulfilled"&&n.push(r.value)}),n}async getDataQualityAlerts(){const n=await this.loadFightersData(),a=[];n.forEach(s=>{(!s.height_inches||s.height_inches===0)&&a.push({type:"missing_data",fighter:s.Fighter,field:"height_inches",description:"Missing height information",severity:"medium"}),(!s.Birth_Date||s.Birth_Date==="")&&a.push({type:"missing_data",fighter:s.Fighter,field:"Birth_Date",description:"Missing birth date",severity:"low"}),s.Birth_Date&&new Date(s.Birth_Date)>new Date&&a.push({type:"invalid_data",fighter:s.Fighter,field:"Birth_Date",description:"Future birth date",severity:"high"}),s.height_inches&&(s.height_inches<50||s.height_inches>90)&&a.push({type:"invalid_data",fighter:s.Fighter,field:"height_inches",description:"Unusual height value",severity:"medium"})});const v=new Map;return n.forEach(s=>{const r=s.Fighter.toLowerCase().trim();v.has(r)||v.set(r,[]),v.get(r).push(s.Fighter)}),v.forEach((s,r)=>{s.length>1&&a.push({type:"duplicate",fighter:s.join(", "),description:"Potential duplicate fighters",severity:"high"})}),a.slice(0,50)}}const ze=new sa;var ia=y('<div class="division-item svelte-1p3994o"><span class="division-name svelte-1p3994o"> </span> <span class="division-count svelte-1p3994o"> </span></div>'),ra=y('<!> <span class="status-label svelte-1p3994o"> </span>',1),na=y('<div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Fecha Exacta:</span> <span class="info-value svelte-1p3994o"> </span></div>'),va=y('<div class="missing-fighter-item svelte-1p3994o"><span class="fighter-name svelte-1p3994o"> </span></div>'),oa=y('<div class="more-missing-indicator svelte-1p3994o"> </div>'),la=y('<div class="missing-pictures-section svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores Sin Fotos <span class="missing-count svelte-1p3994o"> </span></h4> <div class="missing-pictures-grid svelte-1p3994o"><!> <!></div></div>'),da=y('<div class="overview-stats svelte-1p3994o"><div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Total Luchadores</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #10b981"> </div> <div class="stat-label svelte-1p3994o">Activos</div> <div class="stat-description svelte-1p3994o">Con peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #f59e0b"> </div> <div class="stat-label svelte-1p3994o">Inactivos</div> <div class="stat-description svelte-1p3994o">Sin peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Calidad de Datos</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Fotos Completas</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div></div> <div class="divisions-breakdown svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores por División</h4> <div class="divisions-grid svelte-1p3994o"></div></div> <div class="dataset-info svelte-1p3994o"><div class="info-header svelte-1p3994o"><h4 class="svelte-1p3994o">Información del Dataset</h4> <div class="status-indicator svelte-1p3994o"><!></div></div> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Última Actualización:</span> <span class="info-value svelte-1p3994o"> </span></div> <!> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Tiempo Transcurrido:</span> <span class="info-value svelte-1p3994o"> </span></div></div> <!> <div class="quality-progress svelte-1p3994o"><div class="progress-header svelte-1p3994o"><span class="svelte-1p3994o">Integridad de Datos</span> <span class="svelte-1p3994o"> </span></div> <div class="progress-bar svelte-1p3994o"><div class="progress-fill svelte-1p3994o"></div></div></div> <div class="maintenance-legend svelte-1p3994o"><div class="legend-title svelte-1p3994o">Leyenda de Estados del Dataset:</div> <div class="legend-items svelte-1p3994o"><div class="legend-item svelte-1p3994o"><!> <span>Actualizado (&lt; 7 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Necesita Atención (7-30 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Desactualizado (> 30 días)</span></div></div></div>',1);function ca(H,n){Te(n,!0);let a=te(null),v=te(!0),s=te(void 0);async function r(){p(v,!0),p(s,void 0);try{p(a,await ze.getDatasetOverview(),!0)}catch(o){p(s,o instanceof Error?o.message:"Failed to load dataset overview",!0),console.error("Dataset overview error:",o)}finally{p(v,!1)}}rt(r);function l(o){return o>=90?"#10b981":o>=70?"#f59e0b":"#ef4444"}function h(o){return o>=90?"Excelente":o>=80?"Bueno":o>=70?"Regular":"Necesita Mejoras"}function x(o){if(!o)return"Desconocido";const E=new Date().getTime()-o.getTime(),g=Math.floor(E/(1e3*60*60*24));return g===0?"Hoy":g===1?"Ayer":g<7?`hace ${g} días`:g<30?`hace ${Math.floor(g/7)} semanas`:g<365?`hace ${Math.floor(g/30)} meses`:`hace ${Math.floor(g/365)} años`}function P(o){return o>=95?"#10b981":o>=85?"#f59e0b":o>=70?"#fb923c":"#ef4444"}function L(o){return o>=95?"Excelente":o>=85?"Bueno":o>=70?"Regular":"Necesita Trabajo"}function c(o){switch(o){case"current":return"#10b981";case"warning":return"#f59e0b";case"outdated":return"#ef4444";default:return"#6b7280"}}function m(o){switch(o){case"current":return"Actualizado";case"warning":return"Necesita Atención";case"outdated":return"Desactualizado";default:return"Desconocido"}}function d(o){switch(o){case"current":return He;case"warning":return Qe;case"outdated":return at;default:return He}}function w(o){return o===-1?"Desconocido":o===0?"Hoy":o===1?"Ayer":o<7?`hace ${o} días`:o<30?`hace ${Math.floor(o/7)} semanas`:o<365?`hace ${Math.floor(o/30)} meses`:`hace ${Math.floor(o/365)} años`}nt(H,{title:"Resumen del Dataset",get icon(){return kt},get loading(){return e(v)},get error(){return e(s)},className:"dataset-overview-widget",children:(o,V)=>{var E=ve(),g=O(E);{var F=R=>{var C=da(),j=O(C),I=t(j),_=t(I),$=t(_),q=i(I,2),ae=t(q),oe=t(ae),xe=i(q,2),le=t(xe),T=t(le),Q=i(xe,2),de=t(Q),ce=t(de),De=i(de,4),ge=t(De),Ae=t(ge),$e=i(Q,2),me=t($e),b=t(me),S=i(me,4),D=t(S),N=t(D),G=i(j,2),B=i(t(G),2);qe(B,21,()=>Object.entries(e(a).fightersByDivision).sort((K,ee)=>ee[1]-K[1]),Ne,(K,ee)=>{var re=M(()=>Lt(e(ee),2));let pe=()=>e(re)[0],_e=()=>e(re)[1];var Le=ia(),fe=t(Le),we=t(fe),Ce=i(fe,2),Se=t(Ce);k(()=>{u(we,pe()),u(Se,_e())}),f(K,Le)});var U=i(G,2),z=t(U),se=i(t(z),2),ie=t(se);{var he=K=>{const ee=M(()=>d(e(a).maintenanceStatus.status));var re=ra(),pe=O(re);{let fe=M(()=>c(e(a).maintenanceStatus.status));We(pe,()=>e(ee),(we,Ce)=>{Ce(we,{size:18,get color(){return e(fe)}})})}var _e=i(pe,2),Le=t(_e);k((fe,we)=>{ne(_e,`color: ${fe??""}`),u(Le,we)},[()=>c(e(a).maintenanceStatus.status),()=>m(e(a).maintenanceStatus.status)]),f(K,re)};A(ie,K=>{e(a).maintenanceStatus&&K(he)})}var ue=i(z,2),X=i(t(ue),2),be=t(X),Y=i(ue,2);{var W=K=>{var ee=na(),re=i(t(ee),2),pe=t(re);k(_e=>u(pe,_e),[()=>e(a).lastUpdate.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]),f(K,ee)};A(Y,K=>{e(a).lastUpdate&&K(W)})}var J=i(Y,2),Z=i(t(J),2),ye=t(Z),ke=i(U,2);{var Ue=K=>{var ee=la(),re=t(ee),pe=i(t(re)),_e=t(pe),Le=i(re,2),fe=t(Le);qe(fe,17,()=>e(a).missingPictures.fighters,Ne,(Se,Ie)=>{var Ee=va(),Ze=t(Ee),et=t(Ze);k(()=>u(et,e(Ie))),f(Se,Ee)});var we=i(fe,2);{var Ce=Se=>{var Ie=oa(),Ee=t(Ie);k(()=>u(Ee,`+ ${e(a).missingPictures.count-10} más...`)),f(Se,Ie)};A(we,Se=>{e(a).missingPictures.count>10&&Se(Ce)})}k(()=>u(_e,`(${e(a).missingPictures.count??""})`)),f(K,ee)};A(ke,K=>{e(a).missingPictures.count>0&&K(Ue)})}var Me=i(ke,2),Ve=t(Me),Pe=i(t(Ve),2),Ke=t(Pe),Re=i(Ve,2),Oe=t(Re),Xe=i(Me,2),Ye=i(t(Xe),2),je=t(Ye),ht=t(je);He(ht,{size:14,color:"#10b981"});var vt=i(je,2),bt=t(vt);Qe(bt,{size:14,color:"#f59e0b"});var yt=i(vt,2),wt=t(yt);at(wt,{size:14,color:"#ef4444"}),k((K,ee,re,pe,_e,Le,fe,we,Ce,Se,Ie,Ee,Ze,et,St)=>{u($,K),u(oe,ee),u(T,re),ne(de,`color: ${pe??""}`),u(ce,`${e(a).dataQualityScore??""}%`),ne(ge,`background-color: ${_e??""}20; color: ${Le??""}`),u(Ae,fe),ne(me,`color: ${we??""}`),u(b,`${e(a).missingPictures.completionRate??""}%`),ne(D,`background-color: ${Ce??""}20; color: ${Se??""}`),u(N,Ie),u(be,Ee),ne(Z,`color: ${Ze??""}`),u(ye,et),u(Ke,`${e(a).dataQualityScore??""}%`),ne(Oe,`width: ${e(a).dataQualityScore??""}%; background-color: ${St??""}`)},[()=>e(a).totalFighters.toLocaleString(),()=>e(a).activeFighters.toLocaleString(),()=>e(a).inactiveFighters.toLocaleString(),()=>l(e(a).dataQualityScore),()=>l(e(a).dataQualityScore),()=>l(e(a).dataQualityScore),()=>h(e(a).dataQualityScore),()=>P(e(a).missingPictures.completionRate),()=>P(e(a).missingPictures.completionRate),()=>P(e(a).missingPictures.completionRate),()=>L(e(a).missingPictures.completionRate),()=>x(e(a).lastUpdate),()=>c(e(a).maintenanceStatus.status),()=>w(e(a).maintenanceStatus.daysSinceLastUpdate),()=>l(e(a).dataQualityScore)]),f(R,C)};A(g,R=>{e(a)&&R(F)})}f(o,E)},$$slots:{default:!0}}),Be()}var ua=(H,n,a)=>p(n,e(a),!0),fa=y('<div class="missing-indicator svelte-1iuchf4"> </div>'),ga=y('<div><button class="language-button svelte-1iuchf4"><div class="language-header svelte-1iuchf4"><div class="language-info svelte-1iuchf4"><span class="language-name svelte-1iuchf4"> </span> <span class="language-code svelte-1iuchf4"> </span></div> <div class="completion-indicator"><!></div></div> <div class="completion-details svelte-1iuchf4"><div class="completion-percentage svelte-1iuchf4"> </div> <div class="completion-status svelte-1iuchf4"> </div></div> <div class="progress-bar svelte-1iuchf4"><div class="progress-fill svelte-1iuchf4"></div></div> <!></button></div>'),ma=y('<span class="missing-count svelte-1iuchf4"> </span>'),pa=y('<div class="no-missing-keys svelte-1iuchf4"><!> <span>¡Todas las traducciones están completas!</span></div>'),_a=y('<div class="missing-key-item svelte-1iuchf4"><code class="svelte-1iuchf4"> </code></div>'),ha=y('<div class="more-missing-indicator svelte-1iuchf4"> </div>'),ba=y('<div class="missing-keys-list svelte-1iuchf4"><!> <!></div>'),ya=y('<div class="missing-keys-section svelte-1iuchf4"><h4 class="svelte-1iuchf4"> <!></h4> <!></div>'),wa=y('<div class="translation-overview svelte-1iuchf4"><div class="overview-stats svelte-1iuchf4"><div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Claves Totales</div></div> <div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Idiomas</div></div></div></div> <div class="languages-status svelte-1iuchf4"><h4 class="svelte-1iuchf4">Estado por Idioma</h4> <div class="languages-grid svelte-1iuchf4"></div></div> <!>',1);function Sa(H,n){Te(n,!0);let a=te(null),v=te(!0),s=te(void 0),r=te("");async function l(){p(v,!0),p(s,void 0);try{p(a,await ze.getTranslationHealth(),!0),e(a)&&!e(r)&&e(a).languages.length>0&&p(r,e(a).languages.find(c=>c!=="en")||e(a).languages[0],!0)}catch(c){p(s,c instanceof Error?c.message:"Error al cargar estado de traducciones",!0),console.error("Translation health error:",c)}finally{p(v,!1)}}rt(l);function h(c){return c>=95?"#10b981":c>=80?"#f59e0b":c>=60?"#fb923c":"#ef4444"}function x(c){return c>=95?He:c>=80?Qe:at}function P(c){return c>=95?"Completo":c>=80?"Casi Completo":c>=60?"En Progreso":"Incompleto"}function L(c){return{en:"Inglés",es:"Español",fr:"Francés",pt:"Portugués"}[c]||c.toUpperCase()}nt(H,{title:"Estado de Traducciones",get icon(){return Ft},get loading(){return e(v)},get error(){return e(s)},className:"translation-health-widget",children:(c,m)=>{var d=ve(),w=O(d);{var o=V=>{var E=wa(),g=O(E),F=t(g),R=t(F),C=t(R),j=t(C),I=i(R,2),_=t(I),$=t(_),q=i(g,2),ae=i(t(q),2);qe(ae,21,()=>e(a).languages,Ne,(le,T)=>{const Q=M(()=>e(a).completionByLanguage[e(T)]),de=M(()=>e(a).missingKeysByLanguage[e(T)]?.length||0);var ce=ga();let De;var ge=t(ce);ge.__click=[ua,r,T];var Ae=t(ge),$e=t(Ae),me=t($e),b=t(me),S=i(me,2),D=t(S),N=i($e,2),G=t(N);{var B=W=>{const J=M(()=>x(e(Q)));var Z=ve(),ye=O(Z);{let ke=M(()=>h(e(Q)));We(ye,()=>e(J),(Ue,Me)=>{Me(Ue,{size:16,get color(){return e(ke)}})})}f(W,Z)};A(G,W=>{e(Q)!==void 0&&W(B)})}var U=i(Ae,2),z=t(U),se=t(z),ie=i(z,2),he=t(ie),ue=i(U,2),X=t(ue),be=i(ue,2);{var Y=W=>{var J=fa(),Z=t(J);k(()=>u(Z,`${e(de)??""} claves faltantes`)),f(W,J)};A(be,W=>{e(de)>0&&W(Y)})}k((W,J,Z,ye,ke)=>{De=it(ce,1,"language-item svelte-1iuchf4",null,De,W),u(b,J),u(D,`(${e(T)??""})`),ne(z,`color: ${Z??""}`),u(se,`${e(Q)??""}%`),u(he,ye),ne(X,`width: ${e(Q)??""}%; background-color: ${ke??""}`)},[()=>({selected:e(r)===e(T)}),()=>L(e(T)),()=>h(e(Q)),()=>P(e(Q)),()=>h(e(Q))]),f(le,ce)});var oe=i(q,2);{var xe=le=>{const T=M(()=>e(a).missingKeysByLanguage[e(r)]);var Q=ya(),de=t(Q),ce=t(de),De=i(ce);{var ge=b=>{var S=ma(),D=t(S);k(()=>u(D,`(${e(T).length??""})`)),f(b,S)};A(De,b=>{e(T).length>0&&b(ge)})}var Ae=i(de,2);{var $e=b=>{var S=pa(),D=t(S);He(D,{size:20,color:"#10b981"}),f(b,S)},me=b=>{var S=ba(),D=t(S);qe(D,17,()=>e(T).slice(0,10),Ne,(B,U)=>{var z=_a(),se=t(z),ie=t(se);k(()=>u(ie,e(U))),f(B,z)});var N=i(D,2);{var G=B=>{var U=ha(),z=t(U);k(()=>u(z,`+ ${e(T).length-10} claves más...`)),f(B,U)};A(N,B=>{e(T).length>10&&B(G)})}f(b,S)};A(Ae,b=>{e(T).length===0?b($e):b(me,!1)})}k(b=>u(ce,`Claves Faltantes en ${b??""} `),[()=>L(e(r))]),f(le,Q)};A(oe,le=>{e(r)&&e(a).missingKeysByLanguage[e(r)]&&le(xe)})}k(le=>{u(j,le),u($,e(a).languages.length)},[()=>e(a).totalKeys.toLocaleString()]),f(V,E)};A(w,V=>{e(a)&&V(o)})}f(c,d)},$$slots:{default:!0}}),Be()}st(["click"]);async function xa(H,n,a,v,s){p(n,!0);try{p(a,await ze.testProxiesStatus(),!0),p(v,await ze.testRSSFeedsStatus(),!0),console.log({rssStatus:e(v).find(({name:r})=>r==="MMA Mania")})}catch(r){p(s,r instanceof Error?r.message:"Error al ejecutar prueba de proxies",!0),console.error("Proxy test error:",r)}finally{p(n,!1)}}var Da=y('<div class="service-item svelte-1rmb815"><div class="service-header svelte-1rmb815"><div class="service-info svelte-1rmb815"><div class="service-name svelte-1rmb815"> </div> <div class="service-description svelte-1rmb815"> </div></div> <div class="service-status"><!></div></div> <div class="service-details svelte-1rmb815"><div class="status-info svelte-1rmb815"><span class="status-label svelte-1rmb815"> </span> <span class="response-time svelte-1rmb815"> </span></div> <div class="status-indicator svelte-1rmb815"><div class="indicator-bar svelte-1rmb815"><div class="indicator-fill svelte-1rmb815"></div></div></div></div></div>'),Aa=y('<div class="summary-stat svelte-1rmb815"><div class="summary-value svelte-1rmb815"> </div> <div class="summary-label svelte-1rmb815">Fuentes Activas</div></div> <div class="summary-progress svelte-1rmb815"><div class="progress-header svelte-1rmb815"><span class="svelte-1rmb815">Disponibilidad RSS</span> <span class="svelte-1rmb815"> </span></div> <div class="progress-bar svelte-1rmb815"><div class="progress-fill svelte-1rmb815"></div></div></div>',1),$a=y('<div class="feed-item svelte-1rmb815"><div class="feed-status"><!></div> <div class="feed-info svelte-1rmb815"><span class="feed-name svelte-1rmb815"> </span> <span class="feed-time svelte-1rmb815"> </span></div></div>'),ka=y('<div class="status-overview svelte-1rmb815"><div class="test-action svelte-1rmb815"><button><!> </button></div></div> <div class="services-section svelte-1rmb815"><h4 class="svelte-1rmb815">Proxies habilitados</h4> <div class="services-grid svelte-1rmb815"></div></div> <div class="news-feeds-section svelte-1rmb815"><h4 class="svelte-1rmb815">Fuentes de Noticias RSS</h4> <div class="feeds-summary svelte-1rmb815"><!></div> <div class="feeds-grid svelte-1rmb815"></div></div> <div class="connection-legend svelte-1rmb815"><div class="legend-title svelte-1rmb815">Leyenda de Estados:</div> <div class="legend-items svelte-1rmb815"><div class="legend-item svelte-1rmb815"><!> <span>Conectado (&lt; 1s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Lento (1-3s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Sin Conexión</span></div></div></div>',1);function La(H,n){Te(n,!0);let a=te(null),v=te(null),s=te(!0),r=te(void 0),l=te(!1);async function h(){p(s,!0),p(r,void 0);try{p(a,await ze.testProxiesStatus(),!0),p(v,await ze.testRSSFeedsStatus(),!0)}catch(m){p(r,m instanceof Error?m.message:"Error al probar estado de proxies",!0),console.error("Proxy status error:",m)}finally{p(s,!1)}}rt(h);function x(m,d=0){return m?d>0&&d<1e3?"#10b981":d>=1e3&&d<3e3?"#f59e0b":"#fb923c":"#ef4444"}function P(m){return m?dt:ct}function L(m,d=0){return m?d===-1?"Error":d===0?"Conectado":d<500?"Rápido":d<1e3?"Normal":d<3e3?"Lento":"Muy Lento":"Sin Conexión"}function c(m){return m===-1?"Error":m===0?"-":`${m}ms`}nt(H,{title:"Estado de Conexiones",get icon(){return Pt},get loading(){return e(s)},get error(){return e(r)},onRefresh:h,className:"proxy-status-widget",children:(m,d)=>{var w=ve(),o=O(w);{var V=E=>{var g=ka(),F=O(g),R=t(F),C=t(R);let j;C.__click=[xa,l,a,v,r];var I=t(C);{let b=M(()=>e(l)?"spinning":"");Ct(I,{size:16,get class(){return e(b)}})}var _=i(I),$=i(F,2),q=i(t($),2);qe(q,21,()=>e(a),Ne,(b,S)=>{const D=M(()=>e(S).active),N=M(()=>e(S).responseTime||0);var G=Da(),B=t(G),U=t(B),z=t(U),se=t(z),ie=i(z,2),he=t(ie),ue=i(U,2),X=t(ue);{var be=Pe=>{const Ke=M(()=>P(e(D)));var Re=ve(),Oe=O(Re);{let Xe=M(()=>x(e(D),e(N)));We(Oe,()=>e(Ke),(Ye,je)=>{je(Ye,{size:18,get color(){return e(Xe)}})})}f(Pe,Re)};A(X,Pe=>{e(D)!==void 0&&Pe(be)})}var Y=i(B,2),W=t(Y),J=t(W),Z=t(J),ye=i(J,2),ke=t(ye),Ue=i(W,2),Me=t(Ue),Ve=t(Me);k((Pe,Ke,Re,Oe)=>{u(se,e(S).name),u(he,e(S).name),ne(J,`color: ${Pe??""}`),u(Z,Ke),u(ke,Re),ne(Ve,`width: ${e(D)?"100%":"0%"}; background-color: ${Oe??""}`)},[()=>x(e(D),e(N)),()=>L(e(D),e(N)),()=>c(e(N)),()=>x(e(D),e(N))]),f(b,G)});var ae=i($,2),oe=i(t(ae),2),xe=t(oe);{var le=b=>{const S=M(()=>e(v).length),D=M(()=>e(v).filter(({active:Y})=>Y).length),N=M(()=>e(S)>0?Math.round(e(D)/e(S)*100):0);var G=Aa(),B=O(G),U=t(B),z=t(U),se=i(B,2),ie=t(se),he=i(t(ie),2),ue=t(he),X=i(ie,2),be=t(X);k(Y=>{u(z,`${e(D)??""}/${e(S)??""}`),u(ue,`${e(N)??""}%`),ne(be,`width: ${e(N)??""}%; background-color: ${Y??""}`)},[()=>x(e(N)>=80,0)]),f(b,G)};A(xe,b=>{e(v)&&b(le)})}var T=i(oe,2);qe(T,21,()=>e(v)??[],Ne,(b,S)=>{const D=M(()=>e(S).responseTime);var N=$a(),G=t(N),B=t(G);{var U=X=>{const be=M(()=>P(e(S).active));var Y=ve(),W=O(Y);{let J=M(()=>x(e(S).active,e(D)));We(W,()=>e(be),(Z,ye)=>{ye(Z,{size:14,get color(){return e(J)}})})}f(X,Y)};A(B,X=>{e(S).name&&X(U)})}var z=i(G,2),se=t(z),ie=t(se),he=i(se,2),ue=t(he);k(X=>{u(ie,e(S).name),u(ue,X)},[()=>c(e(D))]),f(b,N)});var Q=i(ae,2),de=i(t(Q),2),ce=t(de),De=t(ce);dt(De,{size:14,color:"#10b981"});var ge=i(ce,2),Ae=t(ge);Qe(Ae,{size:14,color:"#f59e0b"});var $e=i(ge,2),me=t($e);ct(me,{size:14,color:"#ef4444"}),k(b=>{j=it(C,1,"test-all-btn svelte-1rmb815",null,j,b),C.disabled=e(l),u(_,` ${e(l)?"Probando...":"Probar Todas las Conexiones"}`)},[()=>({testing:e(l)})]),f(E,g)};A(o,E=>{e(a)&&E(V)})}f(m,w)},$$slots:{default:!0}}),Be()}st(["click"]);var Fa=y('<div class="admin-dashboard svelte-10d68cq"><div class="dashboard-header svelte-10d68cq"><div class="header-content svelte-10d68cq"><div class="header-title svelte-10d68cq"><!> <div class="title-text svelte-10d68cq"><h1 class="svelte-10d68cq">Panel de Administración</h1> <p class="svelte-10d68cq">Monitoreo y mantenimiento del dataset UFC Radar</p></div></div> <div class="header-info svelte-10d68cq"><div class="current-time svelte-10d68cq"> </div> <div class="status-badge svelte-10d68cq"><!> <span class="svelte-10d68cq">Acceso Autorizado</span></div></div></div></div> <div class="dashboard-content svelte-10d68cq"><div class="widgets-grid svelte-10d68cq"><div class="widget-section overview-section svelte-10d68cq"><!></div> <div class="widget-section translations-section svelte-10d68cq"><!></div> <div class="widget-section proxy-section svelte-10d68cq"><!></div></div></div> <div class="dashboard-footer svelte-10d68cq"><div class="footer-content svelte-10d68cq"><div class="footer-info svelte-10d68cq"><span class="svelte-10d68cq">UFC Radar Admin Dashboard</span> <span class="svelte-10d68cq">•</span> <span class="svelte-10d68cq">Versión 1.0</span></div> <div class="footer-warning svelte-10d68cq"><!> <span class="svelte-10d68cq">Panel interno - Solo para uso del equipo</span></div></div></div></div>');function Pa(H,n){Te(n,!0);let a=te(Mt(new Date));setInterval(()=>{p(a,new Date,!0)},6e4);function v(q){return q.toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}var s=Fa(),r=t(s),l=t(r),h=t(l),x=t(h);Rt(x,{size:32});var P=i(h,2),L=t(P),c=t(L),m=i(L,2),d=t(m);ut(d,{size:16});var w=i(r,2),o=t(w),V=t(o),E=t(V);ca(E,{});var g=i(V,2),F=t(g);Sa(F,{});var R=i(g,2),C=t(R);La(C,{});var j=i(w,2),I=t(j),_=i(t(I),2),$=t(_);ut($,{size:14}),k(q=>u(c,q),[()=>v(e(a))]),f(H,s),Be()}function Ea(H,n){Te(n,!1);const[a,v]=Nt(),s=()=>gt(Vt,"$currentPath",a),r=()=>gt(jt,"$isAuthenticated",a);ft(()=>(s(),r()),()=>{console.log("AdminPage - currentPath:",s(),"isAuthenticated:",r())}),ft(()=>(s(),r(),Je),()=>{s()===Fe.ADMIN_DASHBOARD&&!r()?(console.log("Redirecting to login - user not authenticated"),Je.navigate(Fe.ADMIN_LOGIN)):s()===Fe.ADMIN_LOGIN&&r()&&(console.log("Redirecting to dashboard - user already authenticated"),Je.navigate(Fe.ADMIN_DASHBOARD))}),It(),_t();var l=ve(),h=O(l);{var x=L=>{pt(L,{})},P=L=>{var c=ve(),m=O(c);{var d=o=>{Pa(o,{})},w=o=>{pt(o,{})};A(m,o=>{r()?o(d):o(w,!1)},!0)}f(L,c)};A(h,L=>{s(),Et(Fe),qt(()=>s()===Fe.ADMIN_LOGIN)?L(x):L(P,!1)})}f(H,l),Be(),v()}export{Ea as default};
