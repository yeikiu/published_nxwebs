import{g as yt,p as Ue,l as H,h as _,m,j as P,o as e,k as wt,n as Dt,f as S,H as Ie,$ as Lt,i as J,c as i,q as d,Z as At,t as L,E as fe,s as He,b as p,r as kt,u as Mt,x as qe,z as n,B as u,A as gt,_ as Fa,v as it,K as Qe,L as Je,V as Wt,a0 as Sa,a1 as bt,y as pt,a2 as Ka,a as Ca,a3 as Na,a4 as Pa,a5 as ea,a6 as ta,T as Ct,G as Oa,C as aa,U as qt,w as Ea,N as Tt,a7 as Bt}from"./lucide-BZTUuGOE.js";import{H as $a}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Ia,U as La}from"./UpcomingFights-DzhLeVyc.js";import{$ as Ft,A as ut,n as ia,a as Aa,v as Wa,g as vt,b as qa,u as ft,c as Ba}from"./index-hKHieZQH.js";import{c as St,g as Ht,f as mt,a as Ha,b as Gt,p as Vt,d as Ut,e as jt}from"./fighters_service-Dds2dgD5.js";import{R as Ga,a as zt}from"./RadarChart-B8u0hgO1.js";import{f as Yt,a as Qt,F as Va}from"./unit_conversion-BOumIKLJ.js";import"./highcharts-DyRVWUji.js";var Ua=S('<img class="svelte-gkl5a1"/>'),ja=S('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),za=S("<!> <span> </span>",1),Ya=S("<span> </span>"),Qa=S('<img class="svelte-gkl5a1"/>'),Xa=S('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Za=S('<button type="button"><!> <span> </span></button>'),Ja=S('<div class="no-results svelte-gkl5a1"> </div>'),ei=S('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ti=S('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Xt(W,t){yt(t,!1);const[s,g]=Mt(),c=()=>gt(Ft,"$_",s),a=m(),o=m();let l=Ue(t,"id",8),b=Ue(t,"placeholder",8,""),v=Ue(t,"disabled",8,!0),R=Ue(t,"options",24,()=>[]),K=Ue(t,"selectedValue",12,""),V=Ue(t,"onSelectionChange",8,void 0),y=Ue(t,"onOpenStateChange",8,void 0),j=Ue(t,"shouldOpen",8,!1),Q=m(!1),z=m(),re=m(),$=m(""),ne=m(!1);function G(){v()||(_(Q,!e(Q)),e(Q)&&setTimeout(()=>e(re)?.focus(),0))}function T(E){K(E.value),_($,""),_(Q,!1),V()&&V()(E.value,E)}function N(E){const ce=E.target;_($,ce.value)}function D(E){E.key==="Enter"&&e(o).length>0?(T(e(o)[0]),E.preventDefault()):E.key==="Escape"&&(_($,""),_(Q,!1))}function q(E){e(z)&&!e(z).contains(E.target)&&(_(Q,!1),_($,""))}function X(E){E.key==="Escape"&&_(Q,!1)}H(()=>(P(R()),P(K())),()=>{_(a,R().find(E=>E.value===K()))}),H(()=>(P(j()),e(ne),P(v()),e(re)),()=>{j()&&!e(ne)&&!v()?(_(ne,!0),_(Q,!0),setTimeout(()=>e(re)?.focus(),0)):j()||_(ne,!1)}),H(()=>(P(y()),e(Q)),()=>{y()&&y()(e(Q))}),H(()=>(e($),P(R()),St),()=>{_(o,e($)?R().filter(E=>St(E.label.toLowerCase()).includes(St(e($).toLowerCase()))):R())}),wt(),Dt();var U=ti();Ie("click",Lt,q),Ie("keydown",Lt,X);var se=i(U);let pe;var Y=i(se),A=i(Y);{var Re=E=>{var ce=za(),De=qe(ce);{var Se=Ee=>{var We=Ua();L(()=>{fe(We,"src",(e(a),n(()=>e(a).imageUrl))),fe(We,"alt",(e(a),n(()=>e(a).label)))}),p(Ee,We)},Le=Ee=>{var We=it(),je=qe(We);{var ee=Ke=>{var ke=ja(),Be=i(ke);Wt(Be,()=>e(a).iconComponent,(_e,ae)=>{ae(_e,{size:16})}),p(Ke,ke)};J(je,Ke=>{e(a),n(()=>e(a)?.iconComponent)&&Ke(ee)},!0)}p(Ee,We)};J(De,Ee=>{e(a),n(()=>e(a)?.imageUrl)?Ee(Se):Ee(Le,!1)})}var Ae=d(De,2),Oe=i(Ae);L(()=>u(Oe,(e(a),n(()=>e(a).label)))),p(E,ce)},Ce=E=>{var ce=Ya(),De=i(ce);L(Se=>u(De,Se),[()=>(P(b()),c(),n(()=>b()||c()("common.select_option")))]),p(E,ce)};J(A,E=>{e(a)?E(Re):E(Ce,!1)})}var I=d(Y,2);let ie;var te=d(se,2);{var me=E=>{var ce=ei(),De=i(ce),Se=i(De);At(Se,ke=>_(re,ke),()=>e(re));var Le=d(De,2),Ae=i(Le);let Oe;var Ee=i(Ae),We=i(Ee),je=d(Ae,2);{var ee=ke=>{var Be=it(),_e=qe(Be);Qe(_e,1,()=>e(o),Je,(ae,ue)=>{var Ve=Za();let Ye;var st=i(Ve);{var et=Me=>{var Ne=Qa();L(()=>{fe(Ne,"src",(e(ue),n(()=>e(ue).imageUrl))),fe(Ne,"alt",(e(ue),n(()=>e(ue).label)))}),Ie("error",Ne,Ge=>{Ge.currentTarget.style.display="none"}),p(Me,Ne)},nt=Me=>{var Ne=it(),Ge=qe(Ne);{var lt=at=>{var ct=Xa(),dt=i(ct);Wt(dt,()=>e(ue).iconComponent,(h,f)=>{f(h,{size:16})}),p(at,ct)};J(Ge,at=>{e(ue),n(()=>e(ue)?.iconComponent)&&at(lt)},!0)}p(Me,Ne)};J(st,Me=>{e(ue),n(()=>e(ue)?.imageUrl)?Me(et):Me(nt,!1)})}var tt=d(st,2),rt=i(tt);L(Me=>{Ye=He(Ve,1,"dropdown-item svelte-gkl5a1",null,Ye,Me),u(rt,(e(ue),n(()=>e(ue).label)))},[()=>({selected:K()===e(ue).value})]),Ie("click",Ve,()=>T(e(ue))),p(ae,Ve)}),p(ke,Be)},Ke=ke=>{var Be=it(),_e=qe(Be);{var ae=ue=>{var Ve=Ja(),Ye=i(Ve);L(()=>u(Ye,`No se encontraron resultados para "${e($)??""}"`)),p(ue,Ve)};J(_e,ue=>{e($)&&ue(ae)},!0)}p(ke,Be)};J(je,ke=>{e(o),n(()=>e(o).length>0)?ke(ee):ke(Ke,!1)})}L((ke,Be,_e)=>{fe(Se,"placeholder",ke),fe(Le,"id",`dropdown-options-${l()??""}`),Oe=He(Ae,1,"dropdown-item svelte-gkl5a1",null,Oe,Be),u(We,_e)},[()=>(c(),n(()=>c()("common.search")||"Search...")),()=>({selected:K()===""}),()=>(P(b()),c(),n(()=>b()||c()("common.select_option")))]),Fa(Se,()=>e($),ke=>_($,ke)),Ie("input",Se,N),Ie("keydown",Se,D),Ie("click",Ae,()=>T({value:"",label:b(),imageUrl:""})),p(E,ce)};J(te,E=>{e(Q)&&E(me)})}At(U,E=>_(z,E),()=>e(z)),L((E,ce)=>{fe(U,"id",l()),pe=He(se,1,"dropdown-button svelte-gkl5a1",null,pe,E),se.disabled=v(),fe(se,"aria-expanded",e(Q)),fe(se,"aria-controls",`dropdown-options-${l()??""}`),ie=He(I,1,"dropdown-arrow svelte-gkl5a1",null,ie,ce)},[()=>({disabled:v(),open:e(Q)}),()=>({rotated:e(Q)})]),Ie("click",se,G),p(W,U),kt(),g()}function Kt(W,t){if(t()){ut.trackFighterCardCTA(t().nameWithNickname,"view_profile");const s=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;ia(s)}}function ai(W,t){_(t,!e(t))}var ii=S('<img class="fighter-image svelte-1cmiluv"/> <div class="fighter-placeholder svelte-1cmiluv" style="display: none;">Picture Unavailable</div>',1),si=S('<div class="fighter-placeholder svelte-1cmiluv">Picture Unavailable</div>'),ni=S('<span class="division-ranking champion svelte-1cmiluv" title="Champion"><!></span>'),ri=S('<span class="division-ranking ranked svelte-1cmiluv"> </span>'),oi=(W,t)=>W.key==="Enter"&&t(),li=S('<div class="stat-item role-disc-clickable svelte-1cmiluv" role="button" tabindex="0"><span class="stat-label svelte-1cmiluv">ROLE-DISC:</span> <span><div class="role-emojis svelte-1cmiluv"> </div> <div class="role-name svelte-1cmiluv"> </div></span></div>'),ci=S('<div class="archetype-fields svelte-1cmiluv"><div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value description svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value favorite-zone svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value strengths svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value weaknesses svelte-1cmiluv"> </div></div></div>'),di=S('<hr class="archetype-divider svelte-1cmiluv"/> <div class="archetype-container svelte-1cmiluv"><div class="archetype-section svelte-1cmiluv"><button type="button" class="archetype-section-title svelte-1cmiluv"><span><!></span> </button> <!></div></div>',1),vi=S('<div class="fighter-header svelte-1cmiluv"><div class="header-actions svelte-1cmiluv"><!> <button type="button" class="fighter-detail-cta svelte-1cmiluv" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1cmiluv"><div class="fighter-image-container svelte-1cmiluv"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1cmiluv"><div class="fighter-name svelte-1cmiluv"> </div></button> <div class="fighter-division-container svelte-1cmiluv"><span class="fighter-division svelte-1cmiluv"> </span> <!></div> <div class="star-rating svelte-1cmiluv"><div class="stars-container svelte-1cmiluv"></div></div> <div class="fighter-stats svelte-1cmiluv"><!> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value career-record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span><!></span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value height svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value reach svelte-1cmiluv"> </span></div></div> <!>',1),hi=S('<div class="empty-card svelte-1cmiluv"><div class="empty-message svelte-1cmiluv"> </div></div>'),_i=S('<div class="fighter-card svelte-1cmiluv"><!></div> <!>',1);function Zt(W,t){yt(t,!1);const[s,g]=Mt(),c=()=>gt(Ft,"$_",s),a=m(),o=m(),l=m(),b=m();let v=Ue(t,"fighter",8,null),R=Ue(t,"id",8,""),K=m(!1),V=m(!1);function y(){_(K,!0)}function j(){_(K,!1)}H(()=>c(),()=>{_(a,T=>{if(!T||!T.startsWith("@ARCHETYPE_"))return T;let N="",D="";if(T.includes("_DESCRIPTION"))N=T.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),D="description";else if(T.includes("_FAVORITE_ZONE"))N=T.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),D="favorite_zone";else if(T.includes("_STRENGTHS"))N=T.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),D="strengths";else if(T.includes("_WEAKNESSES"))N=T.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),D="weaknesses";else{const U=T.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!U)return T;N=U[1],D=U[2].toLowerCase()}const q=`archetype_data.${N}.${D}`,X=c()(q);return T.includes("_WEAKNESSES"),X!==q?X:T})}),H(()=>(P(v()),Ht),()=>{_(o,v()?Ht(v().archetype):null)}),H(()=>(P(v()),Yt),()=>{_(l,v()?.rawData.height_inches?Yt(v().rawData.height_inches):"-")}),H(()=>(P(v()),Qt),()=>{_(b,v()?.rawData.reach_inches?Qt(v().rawData.reach_inches):"-")}),wt(),Dt();var Q=_i(),z=qe(Q),re=i(z);{var $=T=>{var N=vi(),D=qe(N),q=i(D),X=i(q);Va(X,{get fighterFullName(){return P(v()),n(()=>v().name)},size:"large"});var U=d(X,2);U.__click=[Kt,v];var se=i(U);Sa(se,{size:16});var pe=d(q,2);pe.__click=[Kt,v];var Y=i(pe),A=i(Y);{var Re=w=>{var r=ii(),k=qe(r);L(()=>{fe(k,"src",(P(v()),n(()=>v().pictureUrl))),fe(k,"alt",`${P(v()),n(()=>v().name)??""} fighter profile picture`)}),Ie("error",k,C=>{C.currentTarget.style.display="none";const B=C.currentTarget.nextElementSibling;B&&(B.style.display="block")}),p(w,r)},Ce=w=>{var r=si();p(w,r)};J(A,w=>{P(v()),n(()=>v().pictureUrl)?w(Re):w(Ce,!1)})}var I=d(D,2);I.__click=[Kt,v];var ie=i(I),te=i(ie),me=d(I,2),E=i(me),ce=i(E),De=d(E,2);{var Se=w=>{var r=it(),k=qe(r);{var C=F=>{var M=ni(),O=i(M);Na(O,{size:16}),p(F,M)},B=F=>{var M=ri(),O=i(M);L(()=>{fe(M,"title",`Division Ranking #${P(v()),n(()=>v().rawData.division_ranking)??""}`),u(O,`#${P(v()),n(()=>v().rawData.division_ranking)??""}`)}),p(F,M)};J(k,F=>{P(v()),n(()=>v().rawData.division_ranking==="0")?F(C):F(B,!1)})}p(w,r)};J(De,w=>{P(v()),n(()=>v().rawData.division_ranking!==void 0&&v().rawData.division_ranking!=="")&&w(Se)})}var Le=d(me,2),Ae=i(Le),Oe=d(Le,2),Ee=i(Oe);{var We=w=>{var r=li();r.__click=y,r.__keydown=[oi,y];var k=i(r),C=d(k,2),B=i(C),F=i(B),M=d(B,2),O=i(M);L((oe,ge)=>{fe(r,"aria-label",oe),fe(k,"title",ge),He(C,1,`stat-value role-indicator archetype-dots archetype-${e(o),n(()=>e(o).type)??""}`,"svelte-1cmiluv"),fe(C,"title",(e(o),n(()=>e(o).tooltip))),u(F,(e(o),n(()=>e(o).label))),u(O,(e(o),n(()=>e(o).name)))},[()=>(c(),n(()=>c()("role_disc_modal.open_modal_aria_label"))),()=>(c(),n(()=>c()("role_disc_modal.archetype_tooltip")))]),p(w,r)};J(Ee,w=>{e(o)&&w(We)})}var je=d(Ee,2),ee=i(je),Ke=i(ee),ke=d(ee,2),Be=i(ke),_e=d(je,2),ae=i(_e),ue=i(ae),Ve=d(ae,2),Ye=i(Ve),st=d(_e,2),et=i(st),nt=i(et),tt=d(et,2);let rt;var Me=i(tt);{var Ne=w=>{var r=pt();L(()=>u(r,`+${P(v()),n(()=>v().streak)??""}W`)),p(w,r)},Ge=w=>{var r=it(),k=qe(r);{var C=F=>{var M=pt();L(()=>u(M,`${P(v()),n(()=>v().streak)??""}L`)),p(F,M)},B=F=>{var M=pt("-");p(F,M)};J(k,F=>{P(v()),n(()=>v().streak<0)?F(C):F(B,!1)},!0)}p(w,r)};J(Me,w=>{P(v()),n(()=>v().streak>0)?w(Ne):w(Ge,!1)})}var lt=d(st,2),at=i(lt),ct=i(at),dt=d(at,2),h=i(dt),f=d(lt,2),x=i(f),Z=i(x),be=d(x,2),Te=i(be),$e=d(Oe,2);{var Pe=w=>{var r=di(),k=d(qe(r),2),C=i(k),B=i(C);B.__click=[ai,V];var F=i(B);let M;var O=i(F);Ka(O,{size:20});var oe=d(F),ge=d(B,2);{var xe=de=>{var ve=ci(),le=i(ve),Fe=i(le),ye=i(Fe),he=i(ye);Pa(he,{size:18});var ze=d(ye,2),Xe=i(ze),Ze=d(Fe,2),ot=i(Ze),_t=d(le,2),xt=i(_t),Nt=i(xt),sa=i(Nt);ea(sa,{size:18});var na=d(Nt,2),ra=i(na),oa=d(xt,2),la=i(oa),Pt=d(_t,2),Ot=i(Pt),Et=i(Ot),ca=i(Et);ta(ca,{size:18});var da=d(Et,2),va=i(da),ha=d(Ot,2),_a=i(ha),ua=d(Pt,2),$t=i(ua),It=i($t),ga=i(It);Ct(ga,{size:18});var fa=d(It,2),pa=i(fa),ma=d($t,2),ba=i(ma);L((ya,wa,Da,ka,xa,Ta,Ra,Ma)=>{u(Xe,ya),u(ot,wa),u(ra,Da),u(la,ka),u(va,xa),u(_a,Ta),u(pa,Ra),u(ba,Ma)},[()=>(c(),n(()=>c()("archetype.tactical_description"))),()=>(e(a),P(v()),n(()=>e(a)(v().archetype.description))),()=>(c(),n(()=>c()("archetype.preferred_zone"))),()=>(e(a),P(v()),n(()=>e(a)(v().archetype.favoriteZone))),()=>(c(),n(()=>c()("archetype.strengths"))),()=>(e(a),P(v()),n(()=>e(a)(v().archetype.strengths))),()=>(c(),n(()=>c()("archetype.weaknesses"))),()=>(e(a),P(v()),n(()=>e(a)(v().archetype.weaknesses)))]),p(de,ve)};J(ge,de=>{e(V)&&de(xe)})}L((de,ve)=>{fe(B,"aria-expanded",e(V)),M=He(F,1,"archetype-caret svelte-1cmiluv",null,M,de),u(oe,` ${ve??""}`)},[()=>({expanded:e(V)}),()=>(c(),n(()=>c()("archetype.analysis_title")))]),p(w,r)};J($e,w=>{P(v()),n(()=>v().archetype)&&w(Pe)})}L((w,r,k,C,B,F,M,O,oe,ge,xe,de)=>{fe(U,"aria-label",`View detailed fighter profile for ${P(v()),n(()=>v().nameWithNickname)??""}`),u(te,(P(v()),n(()=>v().name))),u(ce,w),bt(Ae,`--fill-width: ${P(v()),n(()=>v().stars*20)??""}%`),fe(ee,"title",r),u(Ke,`${k??""}:`),u(Be,(P(v()),n(()=>v().career_record))),fe(ae,"title",C),u(ue,`${B??""}:`),u(Ye,(P(v()),n(()=>v().record_36m))),fe(et,"title",F),u(nt,`${M??""}:`),rt=He(tt,1,"stat-value streak svelte-1cmiluv",null,rt,O),fe(at,"title",oe),u(ct,`${ge??""}:`),u(h,e(l)),fe(x,"title",xe),u(Z,`${de??""}:`),u(Te,e(b))},[()=>(P(mt),P(v()),n(()=>mt(v().division||""))),()=>(c(),n(()=>c()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(c(),n(()=>c()("fighter_profile.career_record"))),()=>(c(),n(()=>c()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(c(),n(()=>c()("fighter_profile.record_36m"))),()=>(c(),n(()=>c()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(c(),n(()=>c()("fighter_profile.streak"))),()=>({"streak-win":v().streak>0,"streak-loss":v().streak<0}),()=>(c(),n(()=>c()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(c(),n(()=>c()("fighter_profile.height"))),()=>(c(),n(()=>c()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(c(),n(()=>c()("fighter_profile.reach")))]),p(T,N)},ne=T=>{var N=hi(),D=i(N),q=i(D);L(X=>u(q,X),[()=>(c(),n(()=>c()("fight_radar.select_fighter_stats")))]),p(T,N)};J(re,T=>{v()?T($):T(ne,!1)})}var G=d(z,2);Ga(G,{get isOpen(){return e(K)},$$events:{close:j}}),L(()=>fe(z,"id",R())),p(W,Q),kt(),g()}Ca(["click","keydown"]);function ui(W){const t=W.filter(a=>a.type===we.VICTORY_METHOD&&(a.prediction.toLowerCase().includes("decision")||a.predictionKey?.toLowerCase().includes("decision")));if(t.length===0)return W;const s=t.reduce((a,o)=>o.confidence>a.confidence?o:a),g=W.filter(a=>{if(a.type!==we.DURATION)return!1;const o=a.prediction.toLowerCase(),l=a.predictionKey?.toLowerCase()||"";return o.includes("over")||l.includes("over")});return W.map(a=>g.some(o=>o.id===a.id)&&a.confidence<s.confidence?{...a,confidence:s.confidence}:a)}function gi(W){const t=W.filter(o=>o.type===we.VICTORY_METHOD),s=W.filter(o=>o.type===we.FIGHT_PROPS);if(t.length===0||s.length===0)return W;const c=t.reduce((o,l)=>l.confidence>o.confidence?l:o).prediction.toLowerCase(),a=new Set;for(const o of s){const l=(o.prediction||"").toLowerCase(),b=(o.predictionKey||"").toLowerCase();(c.includes("ko")||c.includes("tko"))&&(l.includes("submission")||l.includes("ground control")||b.includes("submission")||b.includes("ground_control"))&&a.add(o.id),c.includes("submission")&&(l.includes("standing exchange")&&!l.includes("ground")||b.includes("standing_exchange")&&!b.includes("ground"))&&a.add(o.id),c.includes("decision")&&(l.includes("first round finish")||l.includes("gone in 60")||b.includes("first_round_finish")||b.includes("gone_in_60"))&&a.add(o.id)}return W.filter(o=>!a.has(o.id))}function fi(W){const t=W.filter(c=>c.type===we.DURATION),s=W.filter(c=>c.type===we.FIGHT_PROPS);if(t.length===0||s.length===0)return W;const g=new Set;for(const c of t){const a=(c.prediction||"").toLowerCase(),o=(c.predictionKey||"").toLowerCase(),l=a.includes("under 2.5")||o.includes("under_2_5"),b=a.includes("over 3.5")||o.includes("over_3_5");for(const v of s){const R=(v.prediction||"").toLowerCase(),K=(v.predictionKey||"").toLowerCase();l&&((R.includes("over 100 strikes")||K.includes("over_100_strikes"))&&g.add(v.id),(R.includes("goes to distance")||K.includes("goes_to_distance"))&&g.add(v.id)),b&&(R.includes("first round")||R.includes("gone in 60")||K.includes("first_round")||K.includes("gone_in_60"))&&g.add(v.id)}}return W.filter(c=>!g.has(c.id))}function Jt(W){let t=[...W];return t=ui(t),t=gi(t),t=fi(t),t}var we=(W=>(W.MONEYLINE="moneyline",W.VICTORY_METHOD="victory_method",W.WINNER_AND_METHOD="winner_and_method",W.DURATION="duration",W.GOES_TO_DECISION="goes_to_decision",W.GONE_IN_60="gone_in_60",W.FIGHT_PROPS="fight_props",W.KEY_FACTORS="key_factors",W.TRENDS="trends",W.NO_PREDICTION="no_prediction",W))(we||{}),Rt=(W=>(W.HIGH="high",W.MEDIUM="medium",W.LOW="low",W))(Rt||{});class ht{constructor(){this.config={finishLikelihoodThreshold:35.5,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:-1,predatorVsDefensiveBonus:2.5,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:34,strOffGapMedThreshold:24,strOffGapLowThreshold:16,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:34,ctrlGapMedThreshold:24,ctrlGapLowThreshold:14,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:34,tdOffGapMedThreshold:24,tdOffGapLowThreshold:14,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,earlyFinishScoreThreshold:33,durationSkillGapWeight:.19999999999999998,durationFinishRateWeight:.34500000000000003,durationVulnerabilityWeight:.30000000000000004,durationAvgTimeWeight:.185,underBonusBase:21,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:44,durationBothLowFinishThreshold:24,durationPaceAsymmetryThreshold:3.5,durationPaceAsymmetryPenalty:-1.5,durationUnderSkillGapBonus:9,durationUnderLoserVulnBonus:7,durationUnderWinnerFinishBonus:3,durationUnderComboBonus:0,durationUnderExtreme:10,durationUnderSkillGapExtreme:10,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:8,oppTierWeight:9.5,oppTierNeutral:1.82,winRateWeightNormal:.22999999999999993,winRateWeightHigh:.41000000000000003,winRateWeightLow:.33,winRateHighThreshold:78,winRateLowThreshold:41,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:.013999999999999999,agePenaltyPhase3Rate:.011999999999999993,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1.1,damageMultiplier2KO:1.25,damageMultiplier3KO:1.4,damageMultiplier4KO:1.6,damageMultiplier5PlusKO:1.8,relativeAgeThreshold:8,relativeAgeAdjustRate:.003,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:0,heightAdvantageWeight:.0022500000000000003,reachDiffThreshold:-1,heightDiffThreshold:-1,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:17,inactivityPenaltyRate:.004,inactivityMaxPenalty:.23,activityBonusThreshold:2,activityBonus:.04,amplificationEnabled:!0,amplificationThreshold:12,amplificationRate:.016,minProbability:15,maxProbability:88,decisionProbabilityBase:68,decisionLowFinishAdjust:3,goesToDecisionMaxProb:88,decisionBaseMax:85,koMaxProb:89,subMaxProb:76,decisionMinFloor:81,methodOppTierWeight:4.5}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,s,g=!1,c=3){const a=[],l=t.rawData.Number_of_Fights_36m||0,b=s.rawData.Number_of_Fights_36m||0;if(l<3||b<3)return[this.createNoPredictionCard("insufficient_fights",t,s,l,b)];if(t.division!==s.division)return[this.createNoPredictionCard("different_divisions",t,s)];const v=this.calculateWinProbability(t,s);if(g&&v.probability<ht.MIN_MEDIUM_CONFIDENCE){const z=v.winner===t?v.probability:100-v.probability,re=100-z;a.push(this.createNoPredictionCard("low_moneyline_confidence",t,s,void 0,void 0,z,re))}else a.push(this.createMoneylineCard(v));const R=this.predictMethodGivenWinner(t,s,v,c),K=this.predictTotalRounds(t,s,v,c),V=this.generateFightProps(t,s,v,c),y=this.analyzeKeyFactors(t,s),j=this.analyzeTrends(t,s);a.push(this.createVictoryMethodCard(R));const Q=this.predictWinnerAndMethod(v,R);return a.push(Q),a.push(this.createTotalRoundsCard(K)),a.push(this.createFightPropsCard(V)),a.push(this.createKeyFactorsCard(y)),a.push(this.createTrendsCard(j)),this.hasHighConfidencePredictions(a)||a.push(this.createNoPredictionCard("low_confidence")),g?this.sortBetCardsByPriority(this.filterByConfidence(Jt(a))):this.sortBetCardsByPriority(Jt(a))}filterByConfidence(t){return t.filter(s=>s.type==="key_factors"||s.type==="trends"||s.type==="no_prediction"?!0:s.confidence>=ht.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(t,s){const g=(t.rawData.reach_inches||0)-(s.rawData.reach_inches||0),c=(t.rawData.height_inches||0)-(s.rawData.height_inches||0);let a=0,o=0;return g>=3?a+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025):g<=-3&&(o+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025)),c>=3?a+=Math.min(Math.abs(c)*this.config.heightAdvantageWeight,.015):c<=-3&&(o+=Math.min(Math.abs(c)*this.config.heightAdvantageWeight,.015)),{f1Advantage:a,f2Advantage:o}}calculateWinProbability(t,s){const g=this.config.oppTierNeutral,c=this.config.oppTierWeight;let a=t.overall+(t.oppTierScore-g)*c,o=s.overall+(s.oppTierScore-g)*c;const l=this.calculatePhysicalAdvantage(t,s);a*=1+l.f1Advantage,o*=1+l.f2Advantage,a*=this.calculateAgeImpact(t),o*=this.calculateAgeImpact(s);const b=this.getInactiveMonths(t),v=this.getInactiveMonths(s);if(b>=this.config.inactivityThreshold){const Y=Math.min((b-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);a*=1-Y}if(v>=this.config.inactivityThreshold){const Y=Math.min((v-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);o*=1-Y}const R=this.getFightsInPeriod(t,18),K=this.getFightsInPeriod(s,18);R>=this.config.activityBonusThreshold&&(a*=1+this.config.activityBonus),K>=this.config.activityBonusThreshold&&(o*=1+this.config.activityBonus);const V=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,y=s.rawData.Number_of_Fights_36m>0?s.rawData.win/s.rawData.Number_of_Fights_36m*100:0,j=this.calculateMomentum(t),Q=this.calculateMomentum(s);a*=1+j,o*=1+Q;let z=this.config.winRateWeightNormal,re=this.config.winRateWeightNormal;V>=this.config.winRateHighThreshold?z=this.config.winRateWeightHigh:V<this.config.winRateLowThreshold&&(z=this.config.winRateWeightLow),y>=this.config.winRateHighThreshold?re=this.config.winRateWeightHigh:y<this.config.winRateLowThreshold&&(re=this.config.winRateWeightLow);const $=a+V*z,ne=o+y*re,G=this.calculateAge(t),T=this.calculateAge(s),N=G-T;let D=$,q=ne;if(Math.abs(N)>=this.config.relativeAgeThreshold){const Y=Math.min(Math.abs(N)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);N>0?(D=$*(1-Y),q=ne*(1+Y)):(D=$*(1+Y),q=ne*(1-Y))}const X=Math.abs(D-q);if(X>this.config.amplificationThreshold){const Y=1+(X-this.config.amplificationThreshold)*this.config.amplificationRate;D>q?D*=Y:q*=Y}const U=D+q;let se=U>0?Math.round(D/U*100):50,pe=U>0?Math.round(q/U*100):50;if(se=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,se)),pe=100-se,se>pe){let Y=this.getWinReasoningKey(t,s,V,y);return{winner:t,probability:se,reasoningKey:Y,adjustedScore1:D,adjustedScore2:q}}else{let Y=this.getWinReasoningKey(s,t,y,V);return{winner:s,probability:pe,reasoningKey:Y,adjustedScore1:q,adjustedScore2:D}}}predictWinnerAndMethod(t,s){let g=t.probability/100*(s.probability/100)*100;const c=t.winner,a=s.method,o=s.methodKey,l=c.name,b=`combat_analysis.winner_and_method.${o.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:l,predictionKey:b,confidence:Math.round(g),confidenceLevel:this.getConfidenceLevel(g),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:c.name,method:a,methodKey:b,winnerProb:t.probability,methodProb:s.probability,compositeProb:g},priority:2.5}}predictMethodGivenWinner(t,s,g,c=3){const a=g.winner,o=a===t?s:t,l=1.82,b=a.overall+(a.oppTierScore-l)*this.config.methodOppTierWeight,v=o.overall+(o.oppTierScore-l)*this.config.methodOppTierWeight,R=Math.abs(b-v),K=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,V=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,y=a===t?K:V,j=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,Q=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,z=a===t?j:Q,re=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,$=s.rawData.Number_of_Fights_36m>0?s.rawData.win_sub/s.rawData.Number_of_Fights_36m*100:0,ne=a===t?re:$,G=o.rawData.Number_of_Fights_36m>0?o.rawData.loss_kotko/o.rawData.Number_of_Fights_36m*100:0,T=o.rawData.Number_of_Fights_36m>0?o.rawData.loss_sub/o.rawData.Number_of_Fights_36m*100:0,N=G+T,D=N;let q=R*this.config.skillGapWeight+y*this.config.finishRateWeight+N*this.config.vulnerabilityWeight;const X=z>ne&&G>T,U=ne>z&&T>G;(X||U)&&(q+=this.config.methodMatchBonus),a.rawData.Number_of_Fights_36m>=4&&y>=40&&y<=65&&(q+=this.config.highPaceFinishBonus),Math.max(z,ne)>45&&N>35&&(q+=this.config.styleStrengthBonus),y>55&&D>45&&(q+=this.config.finisherVsVulnerableBonus);const Y=a.archetype?.combinedRole||"",A=o.archetype?.combinedRole||"",Re=Y.includes("AT")||Y.includes("ANT"),Ce=A.includes("PT")||A.includes("PNT");Re&&Ce&&y>30&&N>25&&(q+=this.config.predatorVsDefensiveBonus);const ie=Math.min(y,o===t?K:V);if(ie>56){const ee=1.07+(ie-56)/140*.05;q*=Math.min(ee,1.12)}else ie>50&&(q*=1.02);if(q<this.config.finishLikelihoodThreshold){let ee=Math.min(Math.round(100-q),this.config.decisionBaseMax),Ke=this.config.decisionBaseMax;if(ie>58){const ke=6+(ie-58)/12*4;Ke=Math.max(Ke-ke,this.config.decisionMinFloor)}else ie>50?Ke=Math.max(Ke-2,this.config.decisionMinFloor+4):ie>42&&(Ke=Math.max(Ke-1,this.config.decisionMinFloor+2));return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(ee,Ke),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:K,finishRate2:V}}let te=z*this.config.koThreatWinnerWeight+G*this.config.koThreatLoserWeight,me=ne*this.config.subThreatWinnerWeight+T*this.config.subThreatLoserWeight;const E=T-G;E>this.config.subVulnDiffHighThreshold?me+=this.config.subVulnDiffHighBonus:E>this.config.subVulnDiffMedThreshold&&(me+=this.config.subVulnDiffMedBonus);const ce=G-T;ce>this.config.koVulnDiffHighThreshold?te+=this.config.koVulnDiffHighBonus:ce>this.config.koVulnDiffMedThreshold&&(te+=this.config.koVulnDiffMedBonus);const De=a.fightRadar.STR_OFF-o.fightRadar.STR_OFF;if(De>this.config.strOffGapLowThreshold){const ee=De>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:De>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;te+=ee}const Se=a.fightRadar.CTRL-o.fightRadar.CTRL;if(Se>this.config.ctrlGapLowThreshold){const ee=Se>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:Se>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;me+=ee}const Le=a.fightRadar.TD_OFF-o.fightRadar.TD_OFF;if(Le>this.config.tdOffGapLowThreshold){const ee=Le>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:Le>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;me+=ee}const Ae=z>ne&&G>T,Oe=ne>z&&T>G,Ee=Math.abs(te-me),We=Math.abs(z-ne);if(Ee<3?We<5?G>T:Ae&&!Oe||te>me&&!Oe:te>me){let ee=Math.round(q+te*.35);return R>10&&(ee+=this.config.koSkillGapBonus),G>30&&(ee+=this.config.koLoserVulnBonus),z>50&&(ee+=this.config.koWinnerRateBonus),z>60&&G>25&&(ee+=this.config.koComboBonus),Ae&&z>this.config.koMethodMatchWinnerThreshold&&G>this.config.koMethodMatchLoserThreshold&&(ee+=this.config.koMethodMatchBonus),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(ee,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:K,finishRate2:V}}else{let ee=Math.min(Math.round(q+me*.35),this.config.subMaxProb);return R>10&&(ee+=this.config.subSkillGapBonus),T>24&&(ee+=this.config.subLoserVulnBonus),ne>40&&(ee+=this.config.subWinnerRateBonus),ne>50&&T>20&&(ee+=this.config.subComboBonus),Oe&&ne>this.config.subMethodMatchWinnerThreshold&&T>this.config.subMethodMatchLoserThreshold&&(ee+=this.config.subMethodMatchBonus),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(ee,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:K,finishRate2:V}}}predictTotalRounds(t,s,g,c=3){const a=g.winner,o=a===t?s:t,l=1.82,b=3.45,v=a.overall+(a.oppTierScore-l)*b,R=o.overall+(o.oppTierScore-l)*b,K=Math.abs(v-R),V=(t.rawData.Fight_Duration_Seconds||900)/60,y=(s.rawData.Fight_Duration_Seconds||900)/60,j=a===t?V:y,Q=a===t?y:V,z=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,re=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,$=a===t?z:re,ne=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,G=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,T=a===t?ne:G,N=o.rawData.Number_of_Fights_36m>0?(o.rawData.loss_kotko+o.rawData.loss_sub)/o.rawData.Number_of_Fights_36m*100:0;let D=K*this.config.durationSkillGapWeight+$*this.config.durationFinishRateWeight+N*this.config.durationVulnerabilityWeight+(15-Math.min(j,15))*this.config.durationAvgTimeWeight*10;N>this.config.durationLoserVulnThreshold&&(D+=this.config.loserVulnBonus),z<this.config.durationBothLowFinishThreshold&&re<this.config.durationBothLowFinishThreshold&&(D-=this.config.decisionFighterPenalty);const q=t.rawData.Number_of_Fights_36m,X=s.rawData.Number_of_Fights_36m;Math.abs(q-X)>=this.config.durationPaceAsymmetryThreshold&&Math.min(q,X)<=2&&(D-=this.config.durationPaceAsymmetryPenalty);const se=(V+y)/2,pe=[],Y=$>70&&N>50&&K>12||$>80&&N>40||K>15&&$>60;if(D>55&&g.probability>65&&Y||j<6&&Q<8&&K>10){let A=Math.min(Math.round(D+this.config.durationUnderExtreme),75);K>15&&(A+=this.config.durationUnderSkillGapExtreme),$>80&&(A+=this.config.durationUnderFinishRateExtreme),N>60&&(A+=this.config.durationUnderLoserVulnExtreme);const Re=Math.min(A,82);pe.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:Re,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:j})}if(c===5){const A=$>60&&N>40||T>60&&j<8,Re=j<8&&Q<8.5;if(D>this.config.earlyFinishScoreThreshold&&g.probability>48||A){let Ce=Math.min(Math.round(D+this.config.underBonusBase),76);K>10&&(Ce+=this.config.durationUnderSkillGapBonus),N>45&&(Ce+=this.config.durationUnderLoserVulnBonus),$>65&&(Ce+=this.config.durationUnderWinnerFinishBonus),$>50&&N>35&&(Ce+=this.config.durationUnderComboBonus);const I=Math.min(Ce,87);Re&&pe.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:I,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:j})}}if(c===3){let A=68;D>38&&(A=61),D>32&&D<=38&&(A=66),D<25&&(A=75),D<18&&(A=79),$>60&&(A-=4),$<20&&(A+=7),$<15&&N<25&&(A+=5),se>8.5&&(A=Math.min(A+4,85));const Re=Math.min(Math.max(Math.round(A),53),85);pe.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:Re,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:se})}if(c===5){let A=68;D>38&&(A=61),D>32&&D<=38&&(A=66),D<25&&(A=75),D<18&&(A=79),$>60&&(A-=4),$<20&&(A+=7),$<15&&N<25&&(A+=5);const Re=Math.min(Math.max(Math.round(A),53),82);pe.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Re,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:se});const Ce=$<30&&N<30&&se>8,I=D<20,ie=se>8.5;if(Ce||I||ie){let te=55;$<15&&N<15&&(te=68),$<10&&N<10&&(te=72),ie&&(te=Math.max(te,70),$<20&&N<20&&(te=Math.min(te+8,80))),D>20&&(te-=5),D>30&&(te-=8);const me=Math.min(Math.max(Math.round(te),50),82);pe.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:me,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:se})}}return pe.sort((A,Re)=>Re.probability-A.probability),pe[0]}generateFightProps(t,s,g,c=3){const a=this.calculateBettingMetrics(t,s,g);this.hasDominantGrappler(t,s),this.isStrikerWar(t,s);const o=6;return a.f1SubRate+a.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:a}:a.weightedFinishRate&&a.weightedFinishRate>60&&a.weightedAvgFightTime&&a.weightedAvgFightTime<o?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:a}:a.f1KnockdownRate>.6&&a.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:a}:a.f1TakedownRate>15||a.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:a}:a.f1StrikeVolume>120&&a.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:a}:a.f1TakedownRate<5&&a.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:a}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:a}}analyzeKeyFactors(t,s){const g=[],c=t.rawData.reach_inches||0,a=s.rawData.reach_inches||0,o=Math.abs(c-a);if(o>2){const y=c>a?t.name||"Fighter 1":s.name||"Fighter 2";g.push({label:"combat_analysis.key_factors.reach_advantage",value:`${y} +${o}"`,type:"advantage"})}const l=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,b=s.rawData.Sig_Strikes_Thrown>0?Math.round(s.rawData.Sig_Strikes_Landed/s.rawData.Sig_Strikes_Thrown*100):0;g.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${l}% vs ${s.name||"F2"}: ${b}%`,type:"comparison"});const v=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,R=s.rawData.takedowns_attempted_against>0?Math.round(s.rawData.Takedowns_Defended/s.rawData.takedowns_attempted_against*100):85;g.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${v}% vs ${s.name||"F2"}: ${R}%`,type:"comparison"});const K=t.rawData.Number_of_Fights_36m||0,V=s.rawData.Number_of_Fights_36m||0;if(Math.abs(K-V)>2){const y=K>V?t.name||"Fighter 1":s.name||"Fighter 2",j=Math.max(K,V),Q=Math.min(K,V);g.push({label:"combat_analysis.key_factors.higher_activity",value:`${y}: ${j} vs ${Q} fights`,type:"advantage"})}return g}analyzeTrends(t,s){const g=[],c=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=s.rawData.Number_of_Fights_36m>0?Math.round(s.rawData.win/s.rawData.Number_of_Fights_36m*100):0;c>=75?g.push({type:"positive",text:`${t.name||"Fighter 1"} has ${c}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:t.name||"Fighter 1",winRate:c},fighter:t.name}):c<50&&g.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${c}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:t.name||"Fighter 1",winRate:c},fighter:t.name}),a>=75?g.push({type:"positive",text:`${s.name||"Fighter 2"} has ${a}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:s.name||"Fighter 2",winRate:a},fighter:s.name}):a<50&&g.push({type:"negative",text:`${s.name||"Fighter 2"} struggling at ${a}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:s.name||"Fighter 2",winRate:a},fighter:s.name});const o=(t.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60,b=(o+l)/2;return g.push({type:"neutral",text:`Combined average fight time: ${b.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:b.toFixed(1)}}),g}calculateMomentum(t){const s=t.streak;if(s===0)return 0;const g=Math.abs(s);return s>0?g>=3?this.config.winStreak3PlusBonus:g>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:g>=3?-this.config.loseStreak3PlusPenalty:g>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(t){return t===0?1:t===1?this.config.damageMultiplier1KO:t===2?this.config.damageMultiplier2KO:t===3?this.config.damageMultiplier3KO:t===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(t){const s=this.calculateAge(t),c={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=t.rawData.loss_kotko||0,o=this.calculateDamageMultiplier(a),l=(s-c)*o;if(l<=0)return 1;let b=0;return l<=5?b=l*this.config.agePenaltyPhase1Rate:l<=10?b=5*this.config.agePenaltyPhase1Rate+(l-5)*this.config.agePenaltyPhase2Rate:b=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(l-10)*this.config.agePenaltyPhase3Rate,b=Math.min(b,this.config.agePenaltyMaxCap),1-b}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,o=new Date(a);if(!isNaN(o.getTime())){const l=new Date;let b=l.getFullYear()-o.getFullYear();const v=l.getMonth()-o.getMonth();return(v<0||v===0&&l.getDate()<o.getDate())&&b--,b}}const s=25,g=2.5,c=t.rawData.Number_of_Fights_36m||0;return Math.round(s+c/g)}getInactiveMonths(t){const s=t.rawData.Number_of_Fights_36m||0;return s>=3?0:s>=2?6:s>=1?12:24}getFightsInPeriod(t,s){const g=s/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*g)}getWeightedMetric(t,s,g,c,a=.5){const o=g.probability/100,l=1-o;return g.winner===c?t*o+s*l*a:s*o+t*l*a}getFighterStyle(t){const s=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,g=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0;return s>15||g>25?"grappler":c>30&&s<10?"striker":"balanced"}hasDominantGrappler(t,s){const g=this.getFighterStyle(t),c=this.getFighterStyle(s),a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,o=s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0;return g==="grappler"&&a>20||c==="grappler"&&o>20}isStrikerWar(t,s){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(s)==="striker"}calculateBettingMetrics(t,s,g){const c=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,o=(t.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Knockdowns/s.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:s.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Sub_Attempts/s.rawData.Number_of_Fights_36m:0,f1FinishRate:c,f2FinishRate:a,avgFightTime:(o+l)/2,weightedFinishRate:g?this.getWeightedMetric(c,a,g,t,.5):void 0,weightedAvgFightTime:g?this.getWeightedMetric(o,l,g,t,1):void 0}}getWinReasoningKey(t,s,g,c){return t.overall>s.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>s.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>s.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":g>c+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=ht.MIN_HIGH_CONFIDENCE?"high":t>=ht.MIN_MEDIUM_CONFIDENCE?"medium":(t>=ht.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2},priority:1}}createVictoryMethodCard(t){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{method:t.method,finishRate1:t.finishRate1,finishRate2:t.finishRate2},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(t,s,g,c,a,o,l){if(t==="insufficient_fights"&&s&&g){const b=(c||0)<=2,v=(a||0)<=2;let R="";return b&&v?R=`Both fighters have insufficient fight data: ${s.name} (${c} fights) and ${g.name} (${a} fights). Minimum 3 fights required for accurate predictions.`:b?R=`${s.name} has insufficient fight data (${c} fights). Minimum 3 fights required for accurate predictions.`:v&&(R=`${g.name} has insufficient fight data (${a} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:R,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:c,fighter2Fights:a}}}if(t==="different_divisions"&&s&&g)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${s.name} competes in ${s.division} while ${g.name} competes in ${g.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:s.division,fighter2Division:g.division}};if(t==="low_moneyline_confidence"&&s&&g){const b=o||0,v=l||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${s.name} ${b.toFixed(1)}% vs ${g.name} ${v.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:s.name,fighter2Name:g.name,fighter1Probability:b,fighter2Probability:v}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(s=>(s.type==="moneyline"||s.type==="victory_method"||s.type==="duration"||s.type==="winner_and_method"||s.type==="fight_props")&&s.confidence>=ht.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((s,g)=>s.priority-g.priority)}}const pi=new ht;var mi=S('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),bi=S('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),yi=S('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),wi=S('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Di=S('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),ki=S('<div class="bet-explanation svelte-1v78qb8"> </div>'),xi=S('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ti=S('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ri=S('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Mi=S('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Fi=S('<div class="bet-explanation svelte-1v78qb8"> </div>'),Si=S('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ki=S('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ci=S('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),Ni=S('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Pi=S("<div><!></div>"),Oi=S('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),Ei=S('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function $i(W,t){yt(t,!1);const[s,g]=Mt(),c=()=>gt(Aa,"$locale",s),a=()=>gt(Ft,"$_",s),o=m(),l=m(),b=m(),v=m(),R=m(),K=m(),V=m(),y=m(),j=m(),Q=m(),z=m(),re=m(),$=m(),ne=m(),G=m(),T=m(),N=m(),D=m(),q=Oa();let X=Ue(t,"fighter1",8,null),U=Ue(t,"fighter2",8,null),se=Ue(t,"scheduledRounds",8,3);function pe(te){q("roundsChanged",te)}function Y(te,me){return te.filter(E=>E.type===me)}function A(te){switch(te){case Rt.HIGH:return"high-confidence";case Rt.MEDIUM:return"medium-confidence";case Rt.LOW:return"low-confidence";default:return""}}let Re=c();H(()=>(P(X()),P(U())),()=>{_(o,X()&&U())}),H(()=>(e(o),P(X()),P(U()),P(se())),()=>{_(l,e(o)?pi.generateBetCards(X(),U(),!0,se()):[])}),H(()=>(e(o),P(X()),P(U()),e(l),ut),()=>{e(o)&&X()&&U()&&e(l).length>0&&ut.trackBettingAnalysis(X().name,U().name)}),H(()=>(e(l),we),()=>{_(b,Y(e(l),we.MONEYLINE))}),H(()=>(e(l),we),()=>{_(v,Y(e(l),we.VICTORY_METHOD))}),H(()=>(e(l),we),()=>{_(R,Y(e(l),we.WINNER_AND_METHOD))}),H(()=>(e(l),we),()=>{_(K,Y(e(l),we.DURATION))}),H(()=>(e(l),we),()=>{_(V,Y(e(l),we.GOES_TO_DECISION))}),H(()=>(e(l),we),()=>{_(y,Y(e(l),we.GONE_IN_60))}),H(()=>(e(l),we),()=>{_(j,Y(e(l),we.FIGHT_PROPS))}),H(()=>(e(l),we),()=>{_(Q,Y(e(l),we.KEY_FACTORS))}),H(()=>(e(l),we),()=>{_(z,Y(e(l),we.TRENDS))}),H(()=>(e(l),we),()=>{_(re,Y(e(l),we.NO_PREDICTION))}),H(()=>(e(b),e(v),e(R),e(K),e(V),e(y)),()=>{_($,e(b).length+e(v).length+e(R).length+e(K).length+e(V).length+e(y).length)}),H(()=>e($),()=>{_(ne,e($)>0)}),H(()=>e(ne),()=>{_(G,e(ne)?0:1)}),H(()=>(e(j),e(Q),e(z)),()=>{_(T,e(j).length+e(Q).length+e(z).length)}),H(()=>(e($),e(G),e(T)),()=>{_(N,e($)+e(G)+e(T))}),H(()=>c(),()=>{c()!==Re&&Re&&window.location.reload()}),H(()=>e(o),()=>{_(D,e(o))}),wt(),Dt();var Ce=it(),I=qe(Ce);{var ie=te=>{var me=Ei(),E=i(me),ce=i(E),De=i(ce),Se=i(De);ta(Se,{size:32});var Le=d(De),Ae=d(ce,4),Oe=i(Ae),Ee=d(E,2),We=i(Ee),je=i(We),ee=i(je),Ke=d(je,2),ke=i(Ke),Be=d(Ke,2),_e=i(Be),ae=d(We,4),ue=i(ae),Ve=i(ue),Ye=d(ue,2),st=i(Ye),et=d(Ye,2),nt=i(et),tt=d(Ee,2);{var rt=w=>{var r=mi(),k=i(r),C=i(k),B=d(k,2),F=i(B),M=d(F,2);L(O=>{u(C,`${O??""}:`),He(F,1,`rounds-btn ${se()===3?"active":""}`,"svelte-1v78qb8"),He(M,1,`rounds-btn ${se()===5?"active":""}`,"svelte-1v78qb8")},[()=>(a(),n(()=>a()("fight_radar.scheduled_rounds")))]),Ie("click",F,()=>pe(3)),Ie("click",M,()=>pe(5)),p(w,r)};J(tt,w=>{e($)>0&&w(rt)})}var Me=d(tt,2);let Ne;var Ge=i(Me);Qe(Ge,1,()=>e(re),Je,(w,r)=>{var k=bi(),C=i(k),B=i(C);Ct(B,{size:16,style:"display: inline; margin-right: 0.25rem;"});var F=d(B),M=d(C,2),O=i(M),oe=i(O),ge=d(O,2),xe=i(ge),de=d(M,2),ve=i(de);L((le,Fe,ye,he)=>{u(F,` ${le??""}`),u(oe,Fe),u(xe,ye),u(ve,he)},[()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey,{values:e(r).metadata||{}})))]),p(w,k)});var lt=d(Ge,2);Qe(lt,1,()=>e(b),Je,(w,r)=>{var k=yi(),C=i(k),B=i(C),F=d(C,2),M=i(F),O=i(M),oe=d(M,2),ge=i(oe),xe=d(F,2),de=i(xe);L((ve,le,Fe,ye)=>{He(k,1,`bet-card moneyline ${ve??""}`,"svelte-1v78qb8"),u(B,le),u(O,(e(r),n(()=>e(r).prediction))),u(ge,`${e(r),n(()=>e(r).confidence)??""}% ${Fe??""}`),u(de,ye)},[()=>(e(r),n(()=>A(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,k)});var at=d(lt,2);Qe(at,1,()=>e(v),Je,(w,r)=>{var k=wi(),C=i(k),B=i(C),F=d(C,2),M=i(F),O=i(M),oe=d(M,2),ge=i(oe),xe=d(F,2),de=i(xe);L((ve,le,Fe,ye,he)=>{He(k,1,`bet-card method-victory ${ve??""}`,"svelte-1v78qb8"),u(B,le),u(O,Fe),u(ge,`${e(r),n(()=>e(r).confidence)??""}% ${ye??""}`),u(de,he)},[()=>(e(r),n(()=>A(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,k)});var ct=d(at,2);Qe(ct,1,()=>e(R),Je,(w,r)=>{var k=Di(),C=i(k),B=i(C),F=d(C,2),M=i(F),O=i(M),oe=d(M,2),ge=i(oe),xe=d(F,2),de=i(xe);L((ve,le,Fe,ye,he)=>{He(k,1,`bet-card winner-and-method ${ve??""}`,"svelte-1v78qb8"),u(B,le),u(O,`${e(r),n(()=>e(r).prediction)??""}
              ${Fe??""}`),u(ge,`${e(r),n(()=>e(r).confidence)??""}% ${ye??""}`),u(de,he)},[()=>(e(r),n(()=>A(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):"")),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,k)});var dt=d(ct,2);Qe(dt,1,()=>e(K),Je,(w,r)=>{var k=Ti(),C=i(k),B=i(C),F=d(C,2),M=i(F),O=i(M),oe=d(M,2),ge=i(oe),xe=d(F,2),de=i(xe),ve=d(xe,2);{var le=ye=>{var he=ki(),ze=i(he);L(Xe=>u(ze,Xe),[()=>(a(),e(r),n(()=>a()(e(r).explanationKey)))]),p(ye,he)},Fe=ye=>{var he=it(),ze=qe(he);{var Xe=Ze=>{var ot=xi(),_t=i(ot);L(()=>u(_t,(e(r),n(()=>e(r).explanation)))),p(Ze,ot)};J(ze,Ze=>{e(r),n(()=>e(r).explanation)&&Ze(Xe)},!0)}p(ye,he)};J(ve,ye=>{e(r),n(()=>e(r).explanationKey)?ye(le):ye(Fe,!1)})}L((ye,he,ze,Xe,Ze)=>{He(k,1,`bet-card total-rounds ${ye??""}`,"svelte-1v78qb8"),u(B,he),u(O,ze),u(ge,`${e(r),n(()=>e(r).confidence)??""}% ${Xe??""}`),u(de,Ze)},[()=>(e(r),n(()=>A(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,k)});var h=d(dt,2);Qe(h,1,()=>e(V),Je,(w,r)=>{var k=Ri(),C=i(k),B=i(C),F=d(C,2),M=i(F),O=i(M),oe=d(M,2),ge=i(oe),xe=d(F,2),de=i(xe);L((ve,le,Fe,ye,he)=>{He(k,1,`bet-card decision-type ${ve??""}`,"svelte-1v78qb8"),u(B,le),u(O,Fe),u(ge,`${e(r),n(()=>e(r).confidence)??""}% ${ye??""}`),u(de,he)},[()=>(e(r),n(()=>A(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,k)});var f=d(h,2);Qe(f,1,()=>e(y),Je,(w,r)=>{var k=Mi(),C=i(k),B=i(C),F=d(C,2),M=i(F),O=i(M),oe=d(M,2),ge=i(oe),xe=d(F,2),de=i(xe);L((ve,le,Fe,ye,he)=>{He(k,1,`bet-card gone-in-60 ${ve??""}`,"svelte-1v78qb8"),u(B,le),u(O,Fe),u(ge,`${e(r),n(()=>e(r).confidence)??""}% ${ye??""}`),u(de,he)},[()=>(e(r),n(()=>A(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,k)});var x=d(f,2);Qe(x,1,()=>e(j),Je,(w,r)=>{var k=Ki(),C=i(k),B=i(C);ea(B,{size:16,style:"display: inline; margin-right: 0.25rem;"});var F=d(B),M=d(C,2),O=i(M),oe=i(O),ge=d(O,2),xe=i(ge),de=d(M,2),ve=i(de),le=d(de,2);{var Fe=he=>{var ze=Fi(),Xe=i(ze);L(Ze=>u(Xe,Ze),[()=>(a(),e(r),n(()=>a()(e(r).explanationKey)))]),p(he,ze)},ye=he=>{var ze=it(),Xe=qe(ze);{var Ze=ot=>{var _t=Si(),xt=i(_t);L(()=>u(xt,(e(r),n(()=>e(r).explanation)))),p(ot,_t)};J(Xe,ot=>{e(r),n(()=>e(r).explanation)&&ot(Ze)},!0)}p(he,ze)};J(le,he=>{e(r),n(()=>e(r).explanationKey)?he(Fe):he(ye,!1)})}L((he,ze,Xe,Ze,ot)=>{u(F,` ${he??""}`),u(oe,ze),u(xe,`${Xe??""}: ${Ze??""}`),u(ve,ot)},[()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.value"))),()=>(e(r),a(),n(()=>e(r).metadata?.valueKey?a()(e(r).metadata.valueKey):e(r).metadata?.value||"N/A")),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,k)});var Z=d(x,2);Qe(Z,1,()=>e(Q),Je,(w,r)=>{var k=Ni(),C=i(k),B=i(C),F=d(C,2);Qe(F,5,()=>(e(r),n(()=>e(r).metadata?.factors||[])),Je,(M,O)=>{var oe=Ci(),ge=i(oe),xe=i(ge),de=d(ge,2),ve=i(de);L(le=>{u(xe,le),u(ve,(e(O),n(()=>e(O).value)))},[()=>(a(),e(O),n(()=>a()(e(O).label)))]),p(M,oe)}),L(M=>u(B,M),[()=>(a(),e(r),n(()=>a()(e(r).titleKey)))]),p(w,k)});var be=d(Z,2);Qe(be,1,()=>e(z),Je,(w,r)=>{var k=Oi(),C=i(k),B=i(C),F=d(C,2);Qe(F,5,()=>(e(r),n(()=>e(r).metadata?.trends||[])),Je,(M,O)=>{var oe=Pi(),ge=i(oe);{var xe=ve=>{var le=pt();L(Fe=>u(le,Fe),[()=>(a(),e(O),n(()=>a()(e(O).textKey,{values:e(O).params||{}})))]),p(ve,le)},de=ve=>{var le=pt();L(()=>u(le,(e(O),n(()=>e(O).text)))),p(ve,le)};J(ge,ve=>{e(O),n(()=>e(O).textKey)?ve(xe):ve(de,!1)})}L(()=>He(oe,1,`trend-item ${e(O),n(()=>e(O).type)??""}`,"svelte-1v78qb8")),p(M,oe)}),L(M=>u(B,M),[()=>(a(),e(r),n(()=>a()(e(r).titleKey)))]),p(w,k)});var Te=d(Me,2),$e=i(Te),Pe=i($e);L((w,r,k,C)=>{u(Le,` ${w??""}`),u(Oe,r),u(ee,(P(X()),n(()=>X().name))),u(ke,`${P(X()),n(()=>X().rawData.win)??""}-${P(X()),n(()=>X().rawData.loss)??""}-${P(X()),n(()=>X().rawData.draws)??""}`),u(_e,(P(X()),n(()=>X().archetype.archetypeEmojis))),u(Ve,(P(U()),n(()=>U().name))),u(st,`${P(U()),n(()=>U().rawData.win)??""}-${P(U()),n(()=>U().rawData.loss)??""}-${P(U()),n(()=>U().rawData.draws)??""}`),u(nt,(P(U()),n(()=>U().archetype.archetypeEmojis))),Ne=He(Me,1,"betting-grid svelte-1v78qb8",null,Ne,k),u(Pe,`* ${C??""}`)},[()=>(a(),n(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),n(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(N)<=3}),()=>(a(),n(()=>a()("combat_analysis.disclaimer")))]),p(te,me)};J(I,te=>{e(D)&&te(ie)})}p(W,Ce),kt(),g()}var Ii=S('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),Li=S('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Ai=S('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Wi=S('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),qi=S('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Bi=S('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),Hi=S('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Gi=S('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Vi=S('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function Ui(W,t){yt(t,!1);const s=m(),g=m(),c=m(),a=m();let o=Ue(t,"channelId",8),l=m([]),b=m(!0),v=m(null),R=m(0),K=m(!1),V=m(null),y=m(!0);function j(){e(l).length!==0&&(_(y,!0),qt(R),e(R)>=e(l).length*2&&setTimeout(()=>{_(y,!1),_(R,e(l).length),setTimeout(()=>{_(y,!0)},50)},400))}function Q(){e(l).length!==0&&(_(y,!0),qt(R,-1),e(R)<e(l).length&&setTimeout(()=>{_(y,!1),_(R,e(l).length*2-1),setTimeout(()=>{_(y,!0)},50)},400))}function z(I){_(V,I)}let re=0,$=0,ne=0,G=!1,T=!1,N=m(0),D=0;const q=40;function X(I){e(K)&&(re=I.touches[0].clientX,$=I.touches[0].clientY,ne=re,G=!0,T=!1,_(y,!1),D=e(R),_(N,0))}function U(I){if(!e(K)||!G)return;const ie=I.touches[0].clientX,te=I.touches[0].clientY,me=Math.abs(ie-re),E=Math.abs(te-$);if(!T)if(me>q&&me>E)T=!0;else if(E>me&&E>10){G=!1,T=!1,_(y,!0),_(N,0);return}else return;if(T){ne=ie;const ce=ne-re,De=I.currentTarget instanceof HTMLElement?I.currentTarget.clientWidth:window.innerWidth;_(N,-(ce/De)*100),I.preventDefault()}}function se(){if(!e(K)||!G)return;G=!1,T=!1,_(y,!0);const I=re-ne;Math.abs(I)>50?I>0?_(R,D+1):_(R,D-1):Math.abs(e(N))>40?_(R,D+(e(N)>0?1:-1)):_(R,D),e(R)>=e(l).length*2?setTimeout(()=>{_(y,!1),_(R,e(l).length),setTimeout(()=>{_(y,!0)},50)},400):e(R)<e(l).length&&setTimeout(()=>{_(y,!1),_(R,e(l).length*2-1),setTimeout(()=>{_(y,!0)},50)},400),_(N,0),re=0,$=0,ne=0}function pe(){const I=window.innerWidth;_(K,I<768)}aa(()=>(pe(),window.addEventListener("resize",pe),(async()=>{try{const I=await Wa.fetchVideosByChannelId(o(),!0);I.length===0?_(v,"No se encontraron videos para este canal"):(_(l,I),console.log(`Loaded ${e(l).length} videos from channel ${o()}`))}catch(I){console.error("Error fetching videos:",I),_(v,"Error al cargar los videos")}finally{_(b,!1)}})(),()=>{window.removeEventListener("resize",pe)})),H(()=>e(K),()=>{_(s,e(K)?1:window.innerWidth>=1024?4:3)}),H(()=>(e(K),e(s)),()=>{_(g,e(K)?80:100/e(s))}),H(()=>e(K),()=>{_(c,e(K)?10:0)}),H(()=>e(l),()=>{_(a,e(l).length>0?[...e(l).map((I,ie)=>({...I,_key:`prev-${ie}`})),...e(l).map((I,ie)=>({...I,_key:`curr-${ie}`})),...e(l).map((I,ie)=>({...I,_key:`next-${ie}`}))]:[])}),H(()=>(e(l),e(R)),()=>{e(l).length>0&&e(R)===0&&_(R,e(l).length)}),wt(),Dt();var Y=Vi(),A=i(Y);{var Re=I=>{var ie=Ii();p(I,ie)},Ce=I=>{var ie=it(),te=qe(ie);{var me=ce=>{var De=Li(),Se=i(De),Le=i(Se);L(()=>u(Le,e(v))),p(ce,De)},E=ce=>{var De=it(),Se=qe(De);{var Le=Ae=>{var Oe=Gi(),Ee=i(Oe);{var We=_e=>{var ae=Ai();Ie("click",ae,Q),p(_e,ae)};J(Ee,_e=>{e(l),n(()=>e(l).length>1)&&_e(We)})}var je=d(Ee,2),ee=i(je);let Ke;Qe(ee,5,()=>e(a),_e=>_e._key,(_e,ae)=>{var ue=Bi(),Ve=i(ue);{var Ye=Me=>{var Ne=Wi(),Ge=i(Ne);L(()=>{fe(Ge,"src",`${e(ae),n(()=>e(ae).embedUrl)??""}?autoplay=1`),fe(Ge,"title",(e(ae),n(()=>e(ae).title)))}),p(Me,Ne)},st=Me=>{var Ne=qi(),Ge=i(Ne);L(()=>{fe(Ne,"aria-label",`Reproducir ${e(ae),n(()=>e(ae).title)??""}`),fe(Ge,"src",(e(ae),n(()=>e(ae).thumbnailUrl))),fe(Ge,"alt",(e(ae),n(()=>e(ae).title)))}),Ie("click",Ne,()=>z(e(ae)._key)),p(Me,Ne)};J(Ve,Me=>{e(V),e(ae),n(()=>e(V)===e(ae)._key)?Me(Ye):Me(st,!1)})}var et=d(Ve,2),nt=i(et),tt=i(nt),rt=i(tt);L(()=>{bt(ue,`flex: 0 0 ${e(K)?"80%":100/e(s)+"%"}`),fe(nt,"href",(e(ae),n(()=>e(ae).watchUrl))),u(rt,(e(ae),n(()=>e(ae).title)))}),p(_e,ue)});var ke=d(je,2);{var Be=_e=>{var ae=Hi();Ie("click",ae,j),p(_e,ae)};J(ke,_e=>{e(l),n(()=>e(l).length>1)&&_e(Be)})}L(_e=>{Ke=He(ee,1,"videos-track svelte-18xx8u1",null,Ke,_e),bt(ee,`transform: translateX(-${e(R)*e(g)-e(c)+e(N)}%)`)},[()=>({"no-transition":!e(y)})]),Ie("touchstart",Oe,X),Ie("touchmove",Oe,U),Ie("touchend",Oe,se),p(Ae,Oe)};J(Se,Ae=>{e(l),n(()=>e(l).length>0)&&Ae(Le)},!0)}p(ce,De)};J(te,ce=>{e(v)?ce(me):ce(E,!1)},!0)}p(I,ie)};J(A,I=>{e(b)?I(Re):I(Ce,!1)})}p(W,Y),kt()}var ji=S('<div class="loading svelte-1ibyju2" id="loading"><div class="loading-content svelte-1ibyju2"><div class="spinner svelte-1ibyju2"></div> <p class="svelte-1ibyju2"> </p></div></div>'),zi=S('<button class="share-fight-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1ibyju2"></path></svg> </button>'),Yi=S('<div class="action-buttons-section svelte-1ibyju2"><!> <button class="clear-radars-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1ibyju2"></path></svg> </button></div>'),Qi=S('<div class="controls svelte-1ibyju2"><div class="fighter-selectors svelte-1ibyju2"><div class="control-group svelte-1ibyju2"><label for="fighter1-select" class="svelte-1ibyju2"> </label> <div id="fighter1-container-select" class="svelte-1ibyju2"><!></div></div> <div class="vs-divider svelte-1ibyju2">VS</div> <div class="control-group svelte-1ibyju2"><label for="fighter2-select" class="svelte-1ibyju2"> </label> <div id="fighter2-container-select" class="svelte-1ibyju2"><!></div></div></div> <!></div>'),Xi=S('<div class="division-disclaimer svelte-1ibyju2"><div class="disclaimer-title svelte-1ibyju2"><!> <strong class="svelte-1ibyju2"> </strong></div> <div class="disclaimer-text svelte-1ibyju2"> </div></div>'),Zi=S('<div class="fighter-info svelte-1ibyju2"><div id="fighter1-container" class="svelte-1ibyju2"><!></div> <div id="fighter2-container" class="svelte-1ibyju2"><!></div></div>'),Ji=S('<div class="radar-container svelte-1ibyju2"><div id="fight-radar-container" class="svelte-1ibyju2"><!></div> <div id="iq-radar-container" class="svelte-1ibyju2"><!></div></div>'),es=S('<hr class="section-divider svelte-1ibyju2"/> <!> <div class="view-calendar-link svelte-1ibyju2"><button class="calendar-link-btn svelte-1ibyju2"> </button></div>',1),ts=S('<hr class="section-divider svelte-1ibyju2"/> <!>',1),as=S('<div class="fight-radar-app svelte-1ibyju2"><div class="container svelte-1ibyju2"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function hs(W,t){yt(t,!1);const[s,g]=Mt(),c=()=>gt(q,"$urlSearchParams",s),a=()=>gt(Ft,"$_",s),o=m(),l=m(),b=m(),v=m(),R=m(),K=m(),V=m(),y=m(),j=m(),Q=m(),z=m(),re=m();let $=Ue(t,"isDarkMode",8,!0),ne=Ue(t,"toggleTheme",8,()=>{}),G=m(new Map),T=m(new Map),N=m([]),D=m(new Map);const q=Ea(vt());function X(h,f){const x=`fighter${f}`;ft({[x]:h}),q.set(vt())}function U(h){ft({rounds:h.toString()}),q.set(vt())}let se=m(!1),pe=m(!1),Y=m(!1),A=m(!1),Re=m(!1),Ce=m(!1),I=m(!1),ie=m(!1),te=!1;aa(()=>{window.Highcharts=$a,q.set(vt());const h=qa(()=>{q.set(vt())});return me(),h});async function me(){try{_(se,!0);const{allRawFightersDataMap:h,allRawFightersByDivision:f,processedFightersMap:x,processedFighters:Z}=await Ha.loadFightersFromCSV();_(G,h),_(D,f),_(T,x),_(N,Z),_(pe,!0)}catch(h){console.error("Error loading data:",h)}finally{_(se,!1)}}function E(h=[]){return h.map(f=>({value:f.nameWithNickname,label:f.name,imageUrl:ce(f)}))}function ce(h){return h.pictureUrl&&h.pictureUrl!==""?h.pictureUrl:De(h.division)?"no_photo_female.png":"no_photo_male.png"}function De(h){return!!(h&&h.startsWith("W_"))}function Se(h){if(X(h,1),!(!te&&c().has("rounds"))){const x=e(G).get(h),Z=e(l)?e(G).get(e(l)):null;x&&x.division_ranking==="0"||Z&&Z.division_ranking==="0"?U(5):(ft({rounds:""}),q.set(vt()))}te=!0,h&&!e(l)&&(_(ie,!1),setTimeout(()=>{_(ie,!0),setTimeout(()=>{_(ie,!1)},50)},100))}function Le(h){if(X(h,2),!c().has("rounds")){const x=e(o)?e(G).get(e(o)):null,Z=e(G).get(h);x&&x.division_ranking==="0"||Z&&Z.division_ranking==="0"?U(5):(ft({rounds:""}),q.set(vt()))}h&&!e(o)&&(_(I,!1),setTimeout(()=>{_(I,!0),setTimeout(()=>{_(I,!1)},50)},100))}function Ae(h){_(Re,h)}function Oe(h){_(Ce,h)}function Ee(){ut.trackCleanRadars(),ft({fighter1:"",fighter2:"",rounds:""}),q.set(vt())}function We(){if(!e(o)||!e(l))return;const h=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";ut.trackFightShare(e(o),e(l),h);const f=Ba("/",{fighter1:e(o),fighter2:e(l)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(o)} vs ${e(l)} - Fight-Radar`,text:`Compara las estadsticas de ${e(o)} vs ${e(l)}`,url:f}).catch(console.error):navigator.clipboard.writeText(f).then(()=>{je("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",f)})}function je(h){const f=document.createElement("div");f.className="notification",f.textContent=h,f.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(f),setTimeout(()=>{f.style.opacity="1",f.style.transform="translateY(0)"},10),setTimeout(()=>{f.style.opacity="0",f.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(f)},300)},3e3)}function ee(h,f,x){const Z=[];return h&&Z.push({name:h.name,data:[h.fightRadar.STR_OFF,h.fightRadar.STR_DEF,h.fightRadar.TD_OFF,h.fightRadar.TD_DEF,h.fightRadar.CTRL,h.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),f&&Z.push({name:f.name,data:[f.fightRadar.STR_OFF,f.fightRadar.STR_DEF,f.fightRadar.TD_OFF,f.fightRadar.TD_DEF,f.fightRadar.CTRL,f.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&Z.push({name:x.name,data:[x.fightRadar.STR_OFF,x.fightRadar.STR_DEF,x.fightRadar.TD_OFF,x.fightRadar.TD_DEF,x.fightRadar.CTRL,x.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),Z}function Ke(h,f,x){const Z=[];return h&&Z.push({name:h.name,data:[h.iqRadar.distance,h.iqRadar.adaptability,h.iqRadar.composure,h.iqRadar.decisions,h.iqRadar.rhythm,h.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),f&&Z.push({name:f.name,data:[f.iqRadar.distance,f.iqRadar.adaptability,f.iqRadar.composure,f.iqRadar.decisions,f.iqRadar.rhythm,f.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&Z.push({name:x.name,data:[x.iqRadar.distance,x.iqRadar.adaptability,x.iqRadar.composure,x.iqRadar.decisions,x.iqRadar.rhythm,x.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),Z}function ke(h){const f={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[x,Z,be]=h.combinedRole.split("+")??["AT"];let Te=[[x,100]];if(Z&&be?Te=[[x,33],[Z,34],[be,33]]:Z?Te=[[x,50],[Z,50]]:be&&(Te=[[x,60],[be,40]]),Te.length===1){const[$e,Pe]=Te[0],w=Math.min(Pe,70);return`linear-gradient(135deg, ${f[$e]} 0%, ${f[$e]} ${w}%, var(--card-bg) 100%)`}else{const $e=Te.reduce((k,[,C])=>k+C,0);let Pe=[],w=0;return Te.forEach(([k,C],B)=>{const F=C/$e*85,M=f[k];B===0&&Pe.push(`${M} ${w}%`),w+=F,B===Te.length-1?(Pe.push(`${M} ${w}%`),Pe.push("var(--card-bg) 100%")):Pe.push(`${M} ${w}%`)}),`linear-gradient(135deg, ${Pe.join(", ")})`}}H(()=>c(),()=>{_(o,c().get("fighter1")||"")}),H(()=>c(),()=>{_(l,c().get("fighter2")||"")}),H(()=>c(),()=>{_(b,c().get("rounds")==="5"?5:3)}),H(()=>(e(Re),e(Ce)),()=>{_(v,e(Re)||e(Ce))}),H(()=>(e(N),e(l)),()=>{_(R,E(e(N)).filter(h=>h.value!==e(l)))}),H(()=>(e(N),e(o)),()=>{_(K,E(e(N)).filter(h=>h.value!==e(o)))}),H(()=>(e(o),e(l),e(G),e(D),Gt),()=>{_(V,(()=>{if(!e(o)||!e(l))return null;const h=e(G).get(e(o)),f=e(G).get(e(l));if(!h||!f)return null;if(h.Division===f.Division){const x=h.Division;if(e(D).has(x))return Gt(x,e(D).get(x))}return null})())}),H(()=>(e(o),e(T)),()=>{_(y,e(o)?e(T).get(e(o))??null:null)}),H(()=>(e(l),e(T)),()=>{_(j,e(l)?e(T).get(e(l))??null:null)}),H(()=>(e(V),e(o),e(l),e(G),e(D),Vt),()=>{_(Q,(()=>{if(!e(V)||!e(o)||!e(l))return null;const h=e(G).get(e(o));return!h||!e(D).has(h.Division)?null:Vt(e(V),e(D).get(h.Division))})())}),H(()=>(e(y),e(j),e(Q)),()=>{_(z,ee(e(y)??null,e(j)??null,e(Q)??null))}),H(()=>(e(y),e(j),e(Q)),()=>{_(re,Ke(e(y),e(j),e(Q)))}),H(()=>(e(se),e(G),e(o),e(l),ut),()=>{const h=!e(se)&&e(G).size>0&&e(G).has(e(o))&&e(G).has(e(l));_(Y,!!(e(o)&&e(l)&&h)),_(A,!!(e(o)&&e(l)&&h)),e(o)&&e(l)&&h&&ut.trackFighterComparison(e(o),e(l))}),wt(),Dt();var Be=as(),_e=i(Be),ae=i(_e);Ia(ae,{showThemeToggle:!0,get isDarkMode(){return $()},get toggleTheme(){return ne()}});var ue=d(ae,2);{var Ve=h=>{var f=ji(),x=i(f),Z=d(i(x),2),be=i(Z);L(Te=>u(be,Te),[()=>(a(),n(()=>a()("fight_radar.loading_data")))]),p(h,f)};J(ue,h=>{e(se)&&h(Ve)})}var Ye=d(ue,2);{var st=h=>{var f=Qi(),x=i(f),Z=i(x),be=i(Z),Te=i(be),$e=d(be,2),Pe=i($e);{let O=Tt(()=>(a(),n(()=>a()("common.select_fighter"))));Xt(Pe,{id:"fighter1-select",get placeholder(){return e(O)},disabled:!1,get options(){return e(R)},get selectedValue(){return e(o)},onSelectionChange:Se,onOpenStateChange:Ae,get shouldOpen(){return e(I)}})}var w=d(Z,4),r=i(w),k=i(r),C=d(r,2),B=i(C);{let O=Tt(()=>(a(),n(()=>a()("common.select_fighter"))));Xt(B,{id:"fighter2-select",get placeholder(){return e(O)},disabled:!1,get options(){return e(K)},get selectedValue(){return e(l)},onSelectionChange:Le,onOpenStateChange:Oe,get shouldOpen(){return e(ie)}})}var F=d(x,2);{var M=O=>{var oe=Yi(),ge=i(oe);{var xe=le=>{var Fe=zi(),ye=d(i(Fe));L(he=>u(ye,` ${he??""}`),[()=>(a(),n(()=>a()("fight_radar.share_fight")))]),Ie("click",Fe,We),p(le,Fe)};J(ge,le=>{e(o)&&e(l)&&le(xe)})}var de=d(ge,2),ve=d(i(de));L(le=>u(ve,` ${le??""}`),[()=>(a(),n(()=>a()("fight_radar.clear_radars")))]),Ie("click",de,Ee),p(O,oe)};J(F,O=>{(e(o)||e(l))&&O(M)})}L((O,oe)=>{u(Te,`${O??""}:`),u(k,`${oe??""}:`)},[()=>(a(),n(()=>a()("common.fighter_1"))),()=>(a(),n(()=>a()("common.fighter_2")))]),p(h,f)};J(Ye,h=>{e(pe)&&h(st)})}var et=d(Ye,2);{var nt=h=>{var f=it(),x=qe(f);{var Z=be=>{var Te=Xi(),$e=i(Te),Pe=i($e);Ct(Pe,{size:20,class:"disclaimer-icon"});var w=d(Pe,2),r=i(w),k=d($e,2),C=i(k);L((B,F)=>{u(r,B),u(C,F)},[()=>(a(),n(()=>a()("fight_radar.cross_division_title"))),()=>(a(),P(mt),e(y),e(j),n(()=>a()("fight_radar.cross_division_text",{values:{division1:mt(e(y).rawData.Division),division2:mt(e(j).rawData.Division)}})))]),p(be,Te)};J(x,be=>{e(y),e(j),n(()=>e(y)?.rawData&&e(j)?.rawData&&e(y).rawData.Division!==e(j).rawData.Division)&&be(Z)})}p(h,f)};J(et,h=>{e(o)&&e(l)&&e(Y)&&h(nt)})}var tt=d(et,2);{var rt=h=>{var f=Zi(),x=i(f),Z=i(x);Zt(Z,{get fighter(){return e(y)},id:"fighter1-info"});var be=d(x,2),Te=i(be);Zt(Te,{get fighter(){return e(j)},id:"fighter2-info"}),L(($e,Pe)=>{bt(x,`background: ${$e??""}`),bt(be,`background: ${Pe??""}`)},[()=>(e(y),n(()=>e(y)?ke(e(y).archetype):"var(--card-bg)")),()=>(e(j),n(()=>e(j)?ke(e(j).archetype):"var(--card-bg)"))]),p(h,f)};J(tt,h=>{e(Y)&&h(rt)})}var Me=d(tt,2);{var Ne=h=>{var f=Ji(),x=i(f),Z=i(x);Bt(Z,()=>(e(o),e(l),e(z),n(()=>`${e(o)}-${e(l)}-${e(z).length}`)),$e=>{{let Pe=Tt(()=>(P(Ut),n(Ut)));zt($e,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(Pe)},get series(){return e(z)},isIQRadar:!1})}});var be=d(x,2),Te=i(be);Bt(Te,()=>(e(o),e(l),e(re),n(()=>`${e(o)}-${e(l)}-${e(re).length}`)),$e=>{{let Pe=Tt(()=>(P(jt),n(jt)));zt($e,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(Pe)},get series(){return e(re)},isIQRadar:!0})}}),p(h,f)};J(Me,h=>{e(A),e(z),n(()=>e(A)&&e(z).length>0)&&h(Ne)})}var Ge=d(Me,2);$i(Ge,{get fighter1(){return e(y)},get fighter2(){return e(j)},get scheduledRounds(){return e(b)},$$events:{roundsChanged:h=>U(h.detail)}});var lt=d(Ge,2);{var at=h=>{var f=es(),x=d(qe(f),2);La(x,{limit:2});var Z=d(x,2),be=i(Z),Te=i(be);L($e=>u(Te,`${$e??""} `),[()=>(a(),n(()=>a()("banner.view_calendar")))]),Ie("click",be,()=>ia("/calendar")),p(h,f)};J(lt,h=>{!e(o)&&!e(l)&&!e(v)&&h(at)})}var ct=d(_e,2);{var dt=h=>{var f=ts(),x=d(qe(f),2);Ui(x,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),p(h,f)};J(ct,h=>{!e(o)&&!e(l)&&!e(v)&&h(dt)})}p(W,Be),kt(),g()}export{hs as default};
