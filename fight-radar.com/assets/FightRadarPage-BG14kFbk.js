import{q as gt,p as et,l as L,C as f,z as T,r as M,A as e,h as wt,j as ut,f as E,m as Xe,$ as Ct,i as le,c as s,u as d,S as Nt,t as $,B as ke,s as He,b as D,o as pt,I as mt,n as qe,x as o,y as v,J as vt,T as _a,k as lt,D as Be,E as ze,Q as Mt,U as ha,V as xt,W as ht,Y as ga,Z as Gt,_ as Bt,a0 as Tt,a as ua,a1 as pa,w as ma,F as fa,K as yt,a2 as Et}from"./lucide-CFoebsfS.js";import{H as ya}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ba}from"./Header-BFrrms9H.js";import{$ as ft,n as zt,A as ct,a as wa,g as _t,b as Da,u as It,c as Fa}from"./index-_jH0wwo2.js";import{c as Ft,g as $t,f as Ra,a as Ot,p as At,b as Rt,d as Pt,e as Lt}from"./fighters_service-aV8_1ZLi.js";import{R as ka,a as Ht}from"./RadarChart-Dvk2KZtQ.js";import{F as xa}from"./FindYoutubeHighlights-CWAHTT-Y.js";import"./highcharts-DyRVWUji.js";var Ta=E('<img class="svelte-gkl5a1"/>'),Ka=E('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Sa=E("<!> <span> </span>",1),Ca=E("<span> </span>"),Na=E('<img class="svelte-gkl5a1"/>'),Ma=E('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Ea=E('<button type="button"><!> <span> </span></button>'),Ia=E('<div class="no-results svelte-gkl5a1"> </div>'),$a=E('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Oa=E('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Wt(j,t){gt(t,!1);const[i,h]=mt(),n=()=>vt(ft,"$_",i),a=T(),l=T();let c=et(t,"id",8),u=et(t,"placeholder",8,""),_=et(t,"disabled",8,!0),m=et(t,"options",24,()=>[]),y=et(t,"selectedValue",12,""),b=et(t,"onSelectionChange",8,void 0),k=T(!1),J=T(),ie=T(),O=T("");function X(){_()||(f(k,!e(k)),e(k)&&setTimeout(()=>e(ie)?.focus(),0))}function Z(S){y(S.value),f(O,""),f(k,!1),b()&&b()(S.value,S)}function se(S){const he=S.target;f(O,he.value)}function F(S){S.key==="Enter"&&e(l).length>0?(Z(e(l)[0]),S.preventDefault()):S.key==="Escape"&&(f(O,""),f(k,!1))}function R(S){e(J)&&!e(J).contains(S.target)&&(f(k,!1),f(O,""))}function C(S){S.key==="Escape"&&f(k,!1)}L(()=>(M(m()),M(y())),()=>{f(a,m().find(S=>S.value===y()))}),L(()=>(e(O),M(m()),Ft),()=>{f(l,e(O)?m().filter(S=>Ft(S.label.toLowerCase()).includes(Ft(e(O).toLowerCase()))):m())}),wt(),ut();var V=Oa();Xe("click",Ct,R),Xe("keydown",Ct,C);var K=s(V);let be;var G=s(K),A=s(G);{var ve=S=>{var he=Sa(),xe=qe(he);{var Fe=Ke=>{var Ce=Ta();$(()=>{ke(Ce,"src",(e(a),o(()=>e(a).imageUrl))),ke(Ce,"alt",(e(a),o(()=>e(a).label)))}),D(Ke,Ce)},Ee=Ke=>{var Ce=lt(),Ze=qe(Ce);{var q=We=>{var fe=Ka(),Ne=s(fe);Mt(Ne,()=>e(a).iconComponent,(je,Je)=>{Je(je,{size:16})}),D(We,fe)};le(Ze,We=>{e(a),o(()=>e(a)?.iconComponent)&&We(q)},!0)}D(Ke,Ce)};le(xe,Ke=>{e(a),o(()=>e(a)?.imageUrl)?Ke(Fe):Ke(Ee,!1)})}var Ie=d(xe,2),$e=s(Ie);$(()=>v($e,(e(a),o(()=>e(a).label)))),D(S,he)},B=S=>{var he=Ca(),xe=s(he);$(Fe=>v(xe,Fe),[()=>(M(u()),n(),o(()=>u()||n()("common.select_option")))]),D(S,he)};le(A,S=>{e(a)?S(ve):S(B,!1)})}var Te=d(G,2);let Ye;var ee=d(K,2);{var we=S=>{var he=$a(),xe=s(he),Fe=s(xe);Nt(Fe,fe=>f(ie,fe),()=>e(ie));var Ee=d(xe,2),Ie=s(Ee);let $e;var Ke=s(Ie),Ce=s(Ke),Ze=d(Ie,2);{var q=fe=>{var Ne=lt(),je=qe(Ne);Be(je,1,()=>e(l),ze,(Je,ue)=>{var Oe=Ea();let tt;var st=s(Oe);{var ot=I=>{var Y=Na();$(()=>{ke(Y,"src",(e(ue),o(()=>e(ue).imageUrl))),ke(Y,"alt",(e(ue),o(()=>e(ue).label)))}),Xe("error",Y,re=>{re.currentTarget.style.display="none"}),D(I,Y)},g=I=>{var Y=lt(),re=qe(Y);{var De=de=>{var Se=Ma(),Pe=s(Se);Mt(Pe,()=>e(ue).iconComponent,(Ue,Ve)=>{Ve(Ue,{size:16})}),D(de,Se)};le(re,de=>{e(ue),o(()=>e(ue)?.iconComponent)&&de(De)},!0)}D(I,Y)};le(st,I=>{e(ue),o(()=>e(ue)?.imageUrl)?I(ot):I(g,!1)})}var p=d(st,2),x=s(p);$(I=>{tt=He(Oe,1,"dropdown-item svelte-gkl5a1",null,tt,I),v(x,(e(ue),o(()=>e(ue).label)))},[()=>({selected:y()===e(ue).value})]),Xe("click",Oe,()=>Z(e(ue))),D(Je,Oe)}),D(fe,Ne)},We=fe=>{var Ne=lt(),je=qe(Ne);{var Je=ue=>{var Oe=Ia(),tt=s(Oe);$(()=>v(tt,`No se encontraron resultados para "${e(O)??""}"`)),D(ue,Oe)};le(je,ue=>{e(O)&&ue(Je)},!0)}D(fe,Ne)};le(Ze,fe=>{e(l),o(()=>e(l).length>0)?fe(q):fe(We,!1)})}$((fe,Ne,je)=>{ke(Fe,"placeholder",fe),ke(Ee,"id",`dropdown-options-${c()??""}`),$e=He(Ie,1,"dropdown-item svelte-gkl5a1",null,$e,Ne),v(Ce,je)},[()=>(n(),o(()=>n()("common.search")||"Search...")),()=>({selected:y()===""}),()=>(M(u()),n(),o(()=>u()||n()("common.select_option")))]),_a(Fe,()=>e(O),fe=>f(O,fe)),Xe("input",Fe,se),Xe("keydown",Fe,F),Xe("click",Ie,()=>Z({value:"",label:u(),imageUrl:""})),D(S,he)};le(ee,S=>{e(k)&&S(we)})}Nt(V,S=>f(J,S),()=>e(J)),$((S,he)=>{ke(V,"id",c()),be=He(K,1,"dropdown-button svelte-gkl5a1",null,be,S),K.disabled=_(),ke(K,"aria-expanded",e(k)),ke(K,"aria-controls",`dropdown-options-${c()??""}`),Ye=He(Te,1,"dropdown-arrow svelte-gkl5a1",null,Ye,he)},[()=>({disabled:_(),open:e(k)}),()=>({rotated:e(k)})]),Xe("click",K,X),D(j,V),pt(),h()}function kt(j,t){if(t()){const i=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;zt(i)}}var Aa=E('<img class="fighter-image svelte-1gw86rr"/> <div class="fighter-placeholder svelte-1gw86rr" style="display: none;">Picture Unavailable</div>',1),Pa=E('<div class="fighter-placeholder svelte-1gw86rr">Picture Unavailable</div>'),La=(j,t)=>j.key==="Enter"&&t(),Ha=E('<div class="stat-item role-disc-clickable svelte-1gw86rr" role="button" tabindex="0"><span class="stat-label svelte-1gw86rr">ROLE-DISC:</span> <span><div class="role-emojis svelte-1gw86rr"> </div> <div class="role-name svelte-1gw86rr"> </div></span></div>'),Wa=E('<hr class="archetype-divider svelte-1gw86rr"/> <div class="archetype-container svelte-1gw86rr"><div class="archetype-section svelte-1gw86rr"><h3 class="archetype-section-title svelte-1gw86rr"> </h3> <div class="archetype-fields svelte-1gw86rr"><div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value description svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value favorite-zone svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value strengths svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value weaknesses svelte-1gw86rr"> </div></div></div></div></div>',1),Ua=E('<div class="fighter-header svelte-1gw86rr"><div class="header-actions svelte-1gw86rr"><!> <button type="button" class="fighter-detail-cta svelte-1gw86rr" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1gw86rr"><div class="fighter-image-container svelte-1gw86rr"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1gw86rr"><div class="fighter-name svelte-1gw86rr"> </div></button> <div class="star-rating svelte-1gw86rr"><div class="stars-container svelte-1gw86rr"></div></div> <div class="fighter-stats svelte-1gw86rr"><!> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value career-record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span><!></span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value height svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value reach svelte-1gw86rr"> </span></div></div> <!>',1),Va=E('<div class="empty-card svelte-1gw86rr"><div class="empty-message svelte-1gw86rr"> </div></div>'),Ga=E('<div class="fighter-card svelte-1gw86rr"><!></div> <!>',1);function Ut(j,t){gt(t,!1);const[i,h]=mt(),n=()=>vt(ft,"$_",i),a=T(),l=T(),c=T(),u=T();let _=et(t,"fighter",8,null),m=et(t,"id",8,""),y=T(!1);function b(){f(y,!0)}function k(){f(y,!1)}L(()=>n(),()=>{f(a,F=>{if(!F||!F.startsWith("@ARCHETYPE_"))return F;let R="",C="";if(F.includes("_DESCRIPTION"))R=F.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),C="description";else if(F.includes("_FAVORITE_ZONE"))R=F.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),C="favorite_zone";else if(F.includes("_STRENGTHS"))R=F.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),C="strengths";else if(F.includes("_WEAKNESSES"))R=F.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),C="weaknesses";else{const be=F.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!be)return F;R=be[1],C=be[2].toLowerCase()}const V=`archetype_data.${R}.${C}`,K=n()(V);return F.includes("_WEAKNESSES"),K!==V?K:F})}),L(()=>(M(_()),$t),()=>{f(l,_()?$t(_().archetype):null)}),L(()=>M(_()),()=>{f(c,_()?.rawData.height_inches?Math.floor(_().rawData.height_inches/12)+"'"+_().rawData.height_inches%12+'"':"-")}),L(()=>M(_()),()=>{f(u,_()?.rawData.reach_inches?_().rawData.reach_inches+'"':"-")}),wt(),ut();var J=Ga(),ie=qe(J),O=s(ie);{var X=F=>{var R=Ua(),C=qe(R),V=s(C),K=s(V);xa(K,{get fighterFullName(){return M(_()),o(()=>_().nameWithNickname)},size:"large"});var be=d(K,2);be.__click=[kt,_];var G=s(be);ha(G,{size:16});var A=d(V,2);A.__click=[kt,_];var ve=s(A),B=s(ve);{var Te=z=>{var ne=Aa(),Me=qe(ne);$(()=>{ke(Me,"src",(M(_()),o(()=>_().pictureUrl))),ke(Me,"alt",`${M(_()),o(()=>_().name)??""} fighter profile picture`)}),Xe("error",Me,Ae=>{Ae.currentTarget.style.display="none";const P=Ae.currentTarget.nextElementSibling;P&&(P.style.display="block")}),D(z,ne)},Ye=z=>{var ne=Pa();D(z,ne)};le(B,z=>{M(_()),o(()=>_().pictureUrl)?z(Te):z(Ye,!1)})}var ee=d(C,2);ee.__click=[kt,_];var we=s(ee),S=s(we),he=d(ee,2),xe=s(he),Fe=d(he,2),Ee=s(Fe);{var Ie=z=>{var ne=Ha();ne.__click=b,ne.__keydown=[La,b];var Me=s(ne),Ae=d(Me,2),P=s(Ae),r=s(P),w=d(P,2),N=s(w);$((Q,W)=>{ke(ne,"aria-label",Q),ke(Me,"title",W),He(Ae,1,`stat-value role-indicator archetype-dots archetype-${e(l),o(()=>e(l).type)??""}`,"svelte-1gw86rr"),ke(Ae,"title",(e(l),o(()=>e(l).tooltip))),v(r,(e(l),o(()=>e(l).label))),v(N,(e(l),o(()=>e(l).name)))},[()=>(n(),o(()=>n()("role_disc_modal.open_modal_aria_label"))),()=>(n(),o(()=>n()("role_disc_modal.archetype_tooltip")))]),D(z,ne)};le(Ee,z=>{e(l)&&z(Ie)})}var $e=d(Ee,2),Ke=s($e),Ce=s(Ke),Ze=d(Ke,2),q=s(Ze),We=d($e,2),fe=s(We),Ne=s(fe),je=d(fe,2),Je=s(je),ue=d(We,2),Oe=s(ue),tt=s(Oe),st=d(Oe,2);let ot;var g=s(st);{var p=z=>{var ne=ht();$(()=>v(ne,`+${M(_()),o(()=>_().streak)??""}W`)),D(z,ne)},x=z=>{var ne=lt(),Me=qe(ne);{var Ae=r=>{var w=ht();$(()=>v(w,`${M(_()),o(()=>_().streak)??""}L`)),D(r,w)},P=r=>{var w=ht("-");D(r,w)};le(Me,r=>{M(_()),o(()=>_().streak<0)?r(Ae):r(P,!1)},!0)}D(z,ne)};le(g,z=>{M(_()),o(()=>_().streak>0)?z(p):z(x,!1)})}var I=d(ue,2),Y=s(I),re=s(Y),De=d(Y,2),de=s(De),Se=d(I,2),Pe=s(Se),Ue=s(Pe),Ve=d(Pe,2),at=s(Ve),rt=d(Fe,2);{var nt=z=>{var ne=Wa(),Me=d(qe(ne),2),Ae=s(Me),P=s(Ae),r=s(P),w=d(P,2),N=s(w),Q=s(N),W=s(Q),H=s(W);ga(H,{size:18});var U=d(W,2),ce=s(U),pe=d(Q,2),me=s(pe),ge=d(N,2),ae=s(ge),oe=s(ae),Re=s(oe);Gt(Re,{size:18});var _e=d(oe,2),te=s(_e),Le=d(ae,2),Qe=s(Le),Ge=d(ge,2),it=s(Ge),dt=s(it),Dt=s(dt);Bt(Dt,{size:18});var qt=d(dt,2),Yt=s(qt),jt=d(it,2),Qt=s(jt),Zt=d(Ge,2),Kt=s(Zt),St=s(Kt),Jt=s(St);Tt(Jt,{size:18});var Xt=d(St,2),ea=s(Xt),ta=d(Kt,2),aa=s(ta);$((ia,sa,ra,na,oa,la,da,va,ca)=>{v(r,ia),v(ce,sa),v(me,ra),v(te,na),v(Qe,oa),v(Yt,la),v(Qt,da),v(ea,va),v(aa,ca)},[()=>(n(),o(()=>n()("archetype.analysis_title"))),()=>(n(),o(()=>n()("archetype.tactical_description"))),()=>(e(a),M(_()),o(()=>e(a)(_().archetype.description))),()=>(n(),o(()=>n()("archetype.preferred_zone"))),()=>(e(a),M(_()),o(()=>e(a)(_().archetype.favoriteZone))),()=>(n(),o(()=>n()("archetype.strengths"))),()=>(e(a),M(_()),o(()=>e(a)(_().archetype.strengths))),()=>(n(),o(()=>n()("archetype.weaknesses"))),()=>(e(a),M(_()),o(()=>e(a)(_().archetype.weaknesses)))]),D(z,ne)};le(rt,z=>{M(_()),o(()=>_().archetype)&&z(nt)})}$((z,ne,Me,Ae,P,r,w,N,Q,W,H)=>{ke(be,"aria-label",`View detailed fighter profile for ${M(_()),o(()=>_().nameWithNickname)??""}`),v(S,(M(_()),o(()=>_().name))),xt(xe,`--fill-width: ${M(_()),o(()=>_().stars*20)??""}%`),ke(Ke,"title",z),v(Ce,`${ne??""}:`),v(q,(M(_()),o(()=>_().career_record))),ke(fe,"title",Me),v(Ne,`${Ae??""}:`),v(Je,(M(_()),o(()=>_().record_36m))),ke(Oe,"title",P),v(tt,`${r??""}:`),ot=He(st,1,"stat-value streak svelte-1gw86rr",null,ot,w),ke(Y,"title",N),v(re,`${Q??""}:`),v(de,e(c)),ke(Pe,"title",W),v(Ue,`${H??""}:`),v(at,e(u))},[()=>(n(),o(()=>n()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(n(),o(()=>n()("fighter_profile.career_record"))),()=>(n(),o(()=>n()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(n(),o(()=>n()("fighter_profile.record_36m"))),()=>(n(),o(()=>n()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(n(),o(()=>n()("fighter_profile.streak"))),()=>({"streak-win":_().streak>0,"streak-loss":_().streak<0}),()=>(n(),o(()=>n()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(n(),o(()=>n()("fighter_profile.height"))),()=>(n(),o(()=>n()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(n(),o(()=>n()("fighter_profile.reach")))]),D(F,R)},Z=F=>{var R=Va(),C=s(R),V=s(C);$(K=>v(V,K),[()=>(n(),o(()=>n()("fight_radar.select_fighter_stats")))]),D(F,R)};le(O,F=>{_()?F(X):F(Z,!1)})}var se=d(ie,2);ka(se,{get isOpen(){return e(y)},$$events:{close:k}}),$(()=>ke(ie,"id",m())),D(j,J),pt(),h()}ua(["click","keydown"]);var Ba=E('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function za(j,t){gt(t,!1);const[i,h]=mt(),n=()=>vt(ft,"$_",i);function a(){zt("/calendar")}ut();var l=Ba(),c=s(l),u=s(c),_=s(u),m=s(_);pa(m,{size:24,style:"display: inline; margin-right: 0.5rem;"});var y=d(m),b=d(_,2),k=s(b),J=d(u,2),ie=s(J);$((O,X,Z)=>{v(y,` ${O??""}`),v(k,X),v(ie,Z)},[()=>n()("banner.new_functionality"),()=>n()("banner.explore_calendar"),()=>n()("banner.view_calendar")]),Xe("click",J,a),D(j,l),pt(),h()}var ye=(j=>(j.FIGHT_WINNER="fight_winner",j.METHOD_OF_VICTORY="method_of_victory",j.WINNER_AND_ROUND="winner_and_round",j.TOTAL_ROUNDS="total_rounds",j.SPECIFIC_FINISH_METHOD="specific_finish_method",j.GOES_TO_DECISION="goes_to_decision",j.DISTANCE_YES_NO="distance_yes_no",j.GONE_IN_60="gone_in_60",j.FIGHT_PROPS="fight_props",j.KEY_FACTORS="key_factors",j.TRENDS="trends",j.NO_PREDICTION="no_prediction",j))(ye||{}),bt=(j=>(j.HIGH="high",j.MEDIUM="medium",j.LOW="low",j))(bt||{});class qa{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=60,this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,i){const h=[],n=this.calculateWinProbability(t,i),a=this.predictMethodOfVictory(t,i,n),l=this.predictTotalRounds(t,i,n),c=this.predictRoundBetting(t,i,n),u=this.generateFightProps(t,i,n),_=this.analyzeKeyFactors(t,i),m=this.analyzeTrends(t,i);return h.push(this.createMoneylineCard(n)),a.probability>=this.MIN_MEDIUM_CONFIDENCE&&h.push(this.createMethodOfVictoryCard(a)),l.probability>=this.MIN_MEDIUM_CONFIDENCE&&h.push(this.createTotalRoundsCard(l)),c.probability>=this.MIN_HIGH_CONFIDENCE&&h.push(this.createRoundBettingCard(c)),h.push(this.createFightPropsCard(u)),h.push(this.createKeyFactorsCard(_)),h.push(this.createTrendsCard(m)),this.hasHighConfidencePredictions(h)||h.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(h)}validatePredictions(t){const i=this.filterByConfidence(t);return this.resolveContradictions(i)}filterByConfidence(t){return t.filter(i=>i.type==="key_factors"||i.type==="trends"||i.type==="no_prediction"||i.type==="fight_winner"?!0:i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}resolveContradictions(t){let i=[...t];return i=this.resolveMethodVsDurationContradictions(i),i=this.resolveMethodVsPropsContradictions(i),i=this.resolveDurationVsPropsContradictions(i),i}resolveMethodVsDurationContradictions(t){const i=t.find(m=>m.type==="method_of_victory"&&(m.prediction.toLowerCase().includes("decision")||m.predictionKey?.toLowerCase().includes("decision")));if(!i)return t;const h=t.filter(m=>{if(m.type!=="total_rounds")return!1;const y=m.prediction.toLowerCase(),b=m.predictionKey?.toLowerCase()||"";return y.includes("under")||b.includes("under")}),n=t.filter(m=>{if(m.type!=="winner_and_round")return!1;const y=m.prediction.toLowerCase(),b=m.predictionKey?.toLowerCase()||"";return y.includes("round 1")||y.includes("round 2")||b.includes("round_1")||b.includes("round_2")}),a=[...h,...n];if(a.length===0)return t;const l=[i,...a],c=Math.max(...l.map(m=>m.confidence)),u=l.find(m=>m.confidence===c);if(!u)return t;const _=new Set(l.map(m=>m.id));return t.filter(m=>!_.has(m.id)||m.id===u.id)}resolveMethodVsPropsContradictions(t){const i=t.find(l=>l.type==="method_of_victory"),h=t.filter(l=>l.type==="fight_props");if(!i||h.length===0)return t;const n=i.prediction.toLowerCase(),a=new Set;for(const l of h){const c=(l.prediction||"").toLowerCase(),u=(l.predictionKey||"").toLowerCase();(n.includes("ko")||n.includes("tko"))&&(c.includes("submission")||c.includes("ground control")||u.includes("submission")||u.includes("ground_control"))&&a.add(l.id),n.includes("submission")&&(c.includes("standing exchange")&&!c.includes("ground")||u.includes("standing_exchange")&&!u.includes("ground"))&&a.add(l.id),n.includes("decision")&&(c.includes("first round finish")||c.includes("gone in 60")||u.includes("first_round_finish")||u.includes("gone_in_60"))&&a.add(l.id)}return t.filter(l=>!a.has(l.id))}resolveDurationVsPropsContradictions(t){const i=t.filter(a=>a.type==="total_rounds"),h=t.filter(a=>a.type==="fight_props");if(i.length===0||h.length===0)return t;const n=new Set;for(const a of i){const l=(a.prediction||"").toLowerCase(),c=(a.predictionKey||"").toLowerCase(),u=l.includes("under 2.5")||c.includes("under_2_5"),_=l.includes("over 3.5")||c.includes("over_3_5");for(const m of h){const y=(m.prediction||"").toLowerCase(),b=(m.predictionKey||"").toLowerCase();u&&((y.includes("over 100 strikes")||b.includes("over_100_strikes"))&&n.add(m.id),(y.includes("goes to distance")||b.includes("goes_to_distance"))&&n.add(m.id)),_&&(y.includes("first round")||y.includes("gone in 60")||b.includes("first_round")||b.includes("gone_in_60"))&&n.add(m.id)}}return t.filter(a=>!n.has(a.id))}calculatePhysicalAdvantage(t,i){const h=(t.rawData.reach_inches||0)-(i.rawData.reach_inches||0),n=(t.rawData.height_inches||0)-(i.rawData.height_inches||0);let a=0,l=0;return h>=3?a+=Math.min(Math.abs(h)*.004,.025):h<=-3&&(l+=Math.min(Math.abs(h)*.004,.025)),n>=3?a+=Math.min(Math.abs(n)*.0025,.015):n<=-3&&(l+=Math.min(Math.abs(n)*.0025,.015)),{f1Advantage:a,f2Advantage:l}}calculateWinProbability(t,i){let a=t.overall+(t.oppTierScore-1.82)*7.5,l=i.overall+(i.oppTierScore-1.82)*7.5;const c=this.calculatePhysicalAdvantage(t,i);a*=1+c.f1Advantage,l*=1+c.f2Advantage,a*=this.calculateAgeImpact(t),l*=this.calculateAgeImpact(i);const u=this.getInactiveMonths(t),_=this.getInactiveMonths(i);if(u>=18){const B=Math.min((u-18)*.005,.25);a*=1-B}if(_>=18){const B=Math.min((_-18)*.005,.25);l*=1-B}const m=this.getFightsInPeriod(t,18),y=this.getFightsInPeriod(i,18);m>=3&&(a*=1.05),y>=3&&(l*=1.05);const b=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,k=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,J=this.calculateMomentum(t),ie=this.calculateMomentum(i);a*=1+J,l*=1+ie;let O=.32,X=.32;b>=77?O=.38:b<50&&(O=.28),k>=77?X=.38:k<50&&(X=.28);const Z=a+b*O,se=l+k*X,F=this.calculateAge(t),R=this.calculateAge(i),C=F-R;let V=Z,K=se;if(Math.abs(C)>=5){const B=Math.min(Math.abs(C)*.005,.03);C>0?(V=Z*(1-B),K=se*(1+B)):(V=Z*(1+B),K=se*(1-B))}const be=Math.abs(V-K);if(be>11){const B=1+(be-11)*.018;V>K?V*=B:K*=B}const G=V+K;let A=G>0?Math.round(V/G*100):50,ve=G>0?Math.round(K/G*100):50;if(A=Math.max(15,Math.min(88,A)),ve=100-A,A>ve){let B=this.getWinReasoningKey(t,i,b,k);return{winner:t,probability:A,reasoning:B,adjustedScore1:V,adjustedScore2:K}}else{let B=this.getWinReasoningKey(i,t,k,b);return{winner:i,probability:ve,reasoning:B,adjustedScore1:K,adjustedScore2:V}}}predictMethodOfVictory(t,i,h){const n=h.winner,a=n===t?i:t,l=1.82,c=4.5,u=n.overall+(n.oppTierScore-l)*c,_=a.overall+(a.oppTierScore-l)*c,m=Math.abs(u-_),y=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,b=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,k=n===t?y:b,J=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,ie=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,O=n===t?J:ie,X=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,Z=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,se=n===t?X:Z,F=a.rawData.Number_of_Fights_36m>0?(a.rawData.loss_ko+a.rawData.loss_tko)/a.rawData.Number_of_Fights_36m*100:0,R=a.rawData.Number_of_Fights_36m>0?a.rawData.loss_sub/a.rawData.Number_of_Fights_36m*100:0,C=F+R,V=C;let K=m*.16+k*.4+C*.44;const be=O>se&&F>R,G=se>O&&R>F;(be||G)&&(K+=7),n.rawData.Number_of_Fights_36m>=4&&k>=40&&k<=65&&(K+=3);const ve=n.archetype?.combinedRole||"",B=a.archetype?.combinedRole||"",Te=ve.includes("AT")||ve.includes("ANT"),Ye=B.includes("PT")||B.includes("PNT");if(Te&&Ye&&k>30&&C>25&&(K+=3),!(K>=32&&K<36&&C>50)){if(K<36||h.probability<58&&k<24){let q=Math.min(Math.round(100-K),85);return k<15&&V<20&&(q+=3),k<10&&V<15&&(q+=3),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(q,88),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:y,finishRate2:b}}}let ee=O*.56+F*.44,we=se*.59+R*.41;const S=R-F;S>12?we+=10:S>6&&(we+=5);const he=F-R;he>12?ee+=10:he>6&&(ee+=5);const xe=n.fightRadar.STR_OFF-a.fightRadar.STR_OFF;if(xe>15){const q=xe>35?5:xe>25?3:2;ee+=q}const Fe=n.fightRadar.CTRL-a.fightRadar.CTRL;if(Fe>15){const q=Fe>35?5:Fe>25?3:2;we+=q}const Ee=n.fightRadar.TD_OFF-a.fightRadar.TD_OFF;if(Ee>15){const q=Ee>35?4:Ee>25?2:1;we+=q}const Ie=O>se&&F>R,$e=se>O&&R>F,Ke=Math.abs(ee-we),Ce=Math.abs(O-se);if(Ke<3?Ce<5?F>R:Ie&&!$e||ee>we&&!$e:ee>we){let q=Math.min(Math.round(K+ee*.35),81);return m>10&&(q+=7),F>30&&(q+=7),O>50&&(q+=5),O>60&&F>25&&(q+=3),Ie&&O>18&&F>15&&(q+=8),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(q,89),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:y,finishRate2:b}}else{let q=Math.min(Math.round(K+we*.35),76);return m>10&&(q+=7),R>24&&(q+=7),se>40&&(q+=5),se>50&&R>20&&(q+=3),$e&&se>16&&R>12&&(q+=8),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(q,89),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:y,finishRate2:b}}}predictTotalRounds(t,i,h){const n=h.winner,a=n===t?i:t,l=1.82,c=3.45,u=n.overall+(n.oppTierScore-l)*c,_=a.overall+(a.oppTierScore-l)*c,m=Math.abs(u-_),y=(t.rawData.Fight_Duration_Seconds||900)/60,b=(i.rawData.Fight_Duration_Seconds||900)/60,k=n===t?y:b,J=n===t?b:y,ie=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,O=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,X=n===t?ie:O,Z=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,se=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,F=n===t?Z:se,R=a.rawData.Number_of_Fights_36m>0?(a.rawData.loss_ko+a.rawData.loss_tko+a.rawData.loss_sub)/a.rawData.Number_of_Fights_36m*100:0;let C=m*.21+X*.34+R*.3+(15-Math.min(k,15))*.15*10;R>45&&(C+=5),ie<25&&O<25&&(C-=6);const V=t.rawData.Number_of_Fights_36m,K=i.rawData.Number_of_Fights_36m;Math.abs(V-K)>=4&&Math.min(V,K)<=2&&(C-=3);const G=(y+b)/2,A=[],ve=X>70&&R>50&&m>12||X>80&&R>40||m>15&&X>60;if(C>55&&h.probability>65&&ve||k<6&&J<8&&m>10){let ee=Math.min(Math.round(C+10),75);m>15&&(ee+=10),X>80&&(ee+=8),R>60&&(ee+=8);const we=Math.min(ee,82);A.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:we,reasoning:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:k})}const B=X>60&&R>40||F>60&&k<8;if(C>37&&h.probability>48||B){let ee=Math.min(Math.round(C+19),76);m>10&&(ee+=7),R>45&&(ee+=7),X>65&&(ee+=7),X>50&&R>35&&(ee+=4);const we=Math.min(ee,87);A.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:we,reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:k})}let Te=68;C>38&&(Te=61),C>32&&C<=38&&(Te=66),C<25&&(Te=75),C<18&&(Te=79),X>60&&(Te-=4),X<20&&(Te+=7),X<15&&R<25&&(Te+=5);const Ye=Math.min(Math.max(Math.round(Te),53),82);return A.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Ye,reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:G}),A.sort((ee,we)=>we.probability-ee.probability),A[0]}generateFightProps(t,i,h){const n=this.calculateBettingMetrics(t,i,h);return this.hasDominantGrappler(t,i),this.isStrikerWar(t,i),n.f1SubRate+n.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:n}:n.weightedFinishRate&&n.weightedFinishRate>60&&n.weightedAvgFightTime&&n.weightedAvgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:n}:n.f1KnockdownRate>.6&&n.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:n}:n.f1TakedownRate>15||n.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:n}:n.f1StrikeVolume>120&&n.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:n}:n.f1TakedownRate<5&&n.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:n}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:n}}predictRoundBetting(t,i,h){const n=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,c=(i.rawData.Fight_Duration_Seconds||900)/60,u=this.getWeightedMetric(n,a,h,t,.5),_=this.getWeightedMetric(l,c,h,t,1);return u>60&&_<5?{prediction:"Round 1",predictionKey:"betting_markets.round_1",probability:Math.round(Math.min(u+15,85)),reasoning:"betting_markets.reasoning.early_explosive_finish",explanationKey:"betting_markets.explanations.round_1_finish",avgTime:_}:u>40&&_<8?{prediction:"Round 2",predictionKey:"betting_markets.round_2",probability:Math.round(Math.min(u+10,80)),reasoning:"betting_markets.reasoning.second_round_finish",explanationKey:"betting_markets.explanations.round_2_finish",avgTime:_}:{prediction:"Goes to Decision",predictionKey:"betting_markets.goes_to_decision",probability:Math.round(Math.max(100-u,20)),reasoning:"betting_markets.reasoning.likely_decision",explanationKey:"betting_markets.explanations.goes_to_decision",avgTime:_}}analyzeKeyFactors(t,i){const h=[],n=t.rawData.reach_inches||0,a=i.rawData.reach_inches||0,l=Math.abs(n-a);if(l>2){const k=n>a?t.name||"Fighter 1":i.name||"Fighter 2";h.push({label:"combat_analysis.key_factors.reach_advantage",value:`${k} +${l}"`,type:"advantage"})}const c=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,u=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0;h.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${c}% vs ${i.name||"F2"}: ${u}%`,type:"comparison"});const _=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,m=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85;h.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${_}% vs ${i.name||"F2"}: ${m}%`,type:"comparison"});const y=t.rawData.Number_of_Fights_36m||0,b=i.rawData.Number_of_Fights_36m||0;if(Math.abs(y-b)>2){const k=y>b?t.name||"Fighter 1":i.name||"Fighter 2",J=Math.max(y,b),ie=Math.min(y,b);h.push({label:"combat_analysis.key_factors.higher_activity",value:`${k}: ${J} vs ${ie} fights`,type:"advantage"})}return h}analyzeTrends(t,i){const h=[],n=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0;n>=75?h.push({type:"positive",text:`${t.name||"Fighter 1"} has ${n}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:t.name||"Fighter 1",winRate:n},fighter:t.name}):n<50&&h.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${n}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:t.name||"Fighter 1",winRate:n},fighter:t.name}),a>=75?h.push({type:"positive",text:`${i.name||"Fighter 2"} has ${a}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 2",winRate:a},fighter:i.name}):a<50&&h.push({type:"negative",text:`${i.name||"Fighter 2"} struggling at ${a}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 2",winRate:a},fighter:i.name});const l=(t.rawData.Fight_Duration_Seconds||900)/60,c=(i.rawData.Fight_Duration_Seconds||900)/60,u=(l+c)/2;return h.push({type:"neutral",text:`Combined average fight time: ${u.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:u.toFixed(1)}}),h}calculateMomentum(t){const i=t.streak;if(i===0)return 0;const h=Math.abs(i);return i>0?h>=3?.08:h>=2?.05:.02:h>=3?-.08:h>=2?-.05:-.02}calculateDamageMultiplier(t){return t===0?1:t===1?1.1:t===2?1.25:t===3?1.4:t===4?1.6:1.8}calculateAgeImpact(t){const i=this.calculateAge(t),n={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=(t.rawData.loss_ko||0)+(t.rawData.loss_tko||0),l=this.calculateDamageMultiplier(a),c=(i-n)*l;if(c<=0)return 1;let u=0;return c<=5?u=c*.01:c<=10?u=.05+(c-5)*.015:u=.125+(c-10)*.02,u=Math.min(u,.3),1-u}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,l=new Date(a);if(!isNaN(l.getTime())){const c=new Date;let u=c.getFullYear()-l.getFullYear();const _=c.getMonth()-l.getMonth();return(_<0||_===0&&c.getDate()<l.getDate())&&u--,u}}const i=25,h=2.5,n=t.rawData.Number_of_Fights_36m||0;return Math.round(i+n/h)}getInactiveMonths(t){const i=t.rawData.Number_of_Fights_36m||0;return i>=3?0:i>=2?6:i>=1?12:24}getFightsInPeriod(t,i){const h=i/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*h)}hasBodyShotThreat(t,i){const h=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,n=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0;return h>40||n>40}getWeightedMetric(t,i,h,n,a=.5){const l=h.probability/100,c=1-l;return h.winner===n?t*l+i*c*a:i*l+t*c*a}getFighterStyle(t){const i=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,h=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,n=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0;return i>15||h>25?"grappler":n>30&&i<10?"striker":"balanced"}hasDominantGrappler(t,i){const h=this.getFighterStyle(t),n=this.getFighterStyle(i),a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,l=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0;return h==="grappler"&&a>20||n==="grappler"&&l>20}isStrikerWar(t,i){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(i)==="striker"}calculateBettingMetrics(t,i,h){const n=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,c=(i.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f1FinishRate:n,f2FinishRate:a,avgFightTime:(l+c)/2,weightedFinishRate:h?this.getWeightedMetric(n,a,h,t,.5):void 0,weightedAvgFightTime:h?this.getWeightedMetric(l,c,h,t,1):void 0}}getWinReasoningKey(t,i,h,n){return t.overall>i.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>i.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>i.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":h>n+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=this.MIN_HIGH_CONFIDENCE?"high":t>=this.MIN_MEDIUM_CONFIDENCE?"medium":(t>=this.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"fight_winner",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2},priority:1}}createMethodOfVictoryCard(t){return{id:"method-of-victory",type:"method_of_victory",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{finishRate1:t.finishRate1,finishRate2:t.finishRate2},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"total_rounds",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createRoundBettingCard(t){return{id:"round-betting",type:"winner_and_round",category:"secondary",title:"Round Betting",titleKey:"betting_markets.round_betting",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:4}}createMethodAndRoundCard(t){const i=t.probability||70;return{id:"method-and-round",type:"winner_and_round",category:"secondary",title:"Method & Round",titleKey:"betting_markets.method_and_round",prediction:t.prop,predictionKey:t.propKey,confidence:i,confidenceLevel:this.getConfidenceLevel(i),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:5}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(i=>(i.type==="fight_winner"||i.type==="method_of_victory"||i.type==="total_rounds"||i.type==="winner_and_round"||i.type==="fight_props")&&i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((i,h)=>i.priority-h.priority)}}const Vt=new qa;var Ya=E('<div><div class="bet-type svelte-1i86osu"> </div> <div class="bet-prediction svelte-1i86osu"><div class="winner-name svelte-1i86osu"> </div> <div class="confidence svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div></div>'),ja=E('<div><div class="bet-type svelte-1i86osu"> </div> <div class="bet-prediction svelte-1i86osu"><div class="method svelte-1i86osu"> </div> <div class="probability svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div></div>'),Qa=E('<div class="bet-explanation svelte-1i86osu"> </div>'),Za=E('<div class="bet-explanation svelte-1i86osu"> </div>'),Ja=E('<div><div class="bet-type svelte-1i86osu"> </div> <div class="bet-prediction svelte-1i86osu"><div class="rounds"> </div> <div class="probability svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div> <!></div>'),Xa=E('<div><div class="bet-type svelte-1i86osu"> </div> <div class="bet-prediction svelte-1i86osu"><div class="round"> </div> <div class="probability svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div></div>'),ei=E('<div><div class="bet-type svelte-1i86osu"> </div> <div class="bet-prediction svelte-1i86osu"><div class="method-round-combo"> </div> <div class="value svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div></div>'),ti=E('<div><div class="bet-type svelte-1i86osu"> </div> <div class="bet-prediction svelte-1i86osu"><div class="decision"> </div> <div class="probability svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div></div>'),ai=E('<div><div class="bet-type svelte-1i86osu"> </div> <div class="bet-prediction svelte-1i86osu"><div class="gone-60"> </div> <div class="probability svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div></div>'),ii=E('<div class="bet-card no-predictions svelte-1i86osu"><div class="bet-type svelte-1i86osu"><!> </div> <div class="bet-prediction svelte-1i86osu"><div class="no-pred-title svelte-1i86osu"> </div> <div class="no-pred-subtitle svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div></div>'),si=E('<div class="bet-explanation svelte-1i86osu"> </div>'),ri=E('<div class="bet-explanation svelte-1i86osu"> </div>'),ni=E('<div class="bet-card fight-props svelte-1i86osu"><div class="bet-type svelte-1i86osu"><!> </div> <div class="bet-prediction svelte-1i86osu"><div class="prop svelte-1i86osu"> </div> <div class="value svelte-1i86osu"> </div></div> <div class="reasoning svelte-1i86osu"> </div> <!></div>'),oi=E('<div class="stat-item svelte-1i86osu"><span class="stat-label svelte-1i86osu"> </span> <span class="stat-value svelte-1i86osu"> </span></div>'),li=E('<div class="bet-card stats svelte-1i86osu"><div class="bet-type svelte-1i86osu"> </div> <div class="key-stats svelte-1i86osu"></div></div>'),di=E("<div><!></div>"),vi=E('<div class="bet-card trends svelte-1i86osu"><div class="bet-type svelte-1i86osu"> </div> <div class="trend-list svelte-1i86osu"></div></div>'),ci=E('<div class="fight-best-bets svelte-1i86osu"><div class="header svelte-1i86osu"><h2 class="title svelte-1i86osu"><span class="icon svelte-1i86osu"><!></span> </h2> <hr class="title-divider svelte-1i86osu"/> <div class="subtitle svelte-1i86osu"> </div></div> <div class="matchup-header svelte-1i86osu"><div class="fighter-preview svelte-1i86osu"><div class="fighter-name svelte-1i86osu"> </div> <div class="fighter-record svelte-1i86osu"> </div> <div class="fighter-archetype svelte-1i86osu"> </div></div> <div class="vs-divider svelte-1i86osu"><span>VS</span></div> <div class="fighter-preview svelte-1i86osu"><div class="fighter-name svelte-1i86osu"> </div> <div class="fighter-record svelte-1i86osu"> </div> <div class="fighter-archetype svelte-1i86osu"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1i86osu"><small class="svelte-1i86osu"> </small></div></div>');function _i(j,t){gt(t,!1);const[i,h]=mt(),n=()=>vt(wa,"$locale",i),a=()=>vt(ft,"$_",i),l=T(),c=T(),u=T(),_=T(),m=T(),y=T(),b=T(),k=T(),J=T(),ie=T(),O=T(),X=T(),Z=T(),se=T(),F=T(),R=T(),C=T(),V=T(),K=T(),be=T();let G=et(t,"fighter1",8,null),A=et(t,"fighter2",8,null);function ve(S,he){return S.filter(xe=>xe.type===he)}function B(S){switch(S){case bt.HIGH:return"high-confidence";case bt.MEDIUM:return"medium-confidence";case bt.LOW:return"low-confidence";default:return""}}let Te=n();L(()=>(M(G()),M(A())),()=>{f(l,G()&&A())}),L(()=>(e(l),M(G()),M(A())),()=>{f(c,e(l)?Vt.generateBetCards(G(),A()):[])}),L(()=>e(c),()=>{f(u,Vt.validatePredictions(e(c)))}),L(()=>(e(l),M(G()),M(A()),e(u),ct),()=>{e(l)&&G()&&A()&&e(u).length>0&&ct.trackBettingAnalysis(G().name,A().name)}),L(()=>(e(u),ye),()=>{f(_,ve(e(u),ye.FIGHT_WINNER))}),L(()=>(e(u),ye),()=>{f(m,ve(e(u),ye.METHOD_OF_VICTORY))}),L(()=>(e(u),ye),()=>{f(y,ve(e(u),ye.TOTAL_ROUNDS))}),L(()=>(e(u),ye),()=>{f(b,ve(e(u),ye.WINNER_AND_ROUND))}),L(()=>(e(u),ye),()=>{f(k,ve(e(u),ye.DISTANCE_YES_NO))}),L(()=>(e(u),ye),()=>{f(J,ve(e(u),ye.GOES_TO_DECISION))}),L(()=>(e(u),ye),()=>{f(ie,ve(e(u),ye.GONE_IN_60))}),L(()=>(e(u),ye),()=>{f(O,ve(e(u),ye.FIGHT_PROPS))}),L(()=>(e(u),ye),()=>{f(X,ve(e(u),ye.KEY_FACTORS))}),L(()=>(e(u),ye),()=>{f(Z,ve(e(u),ye.TRENDS))}),L(()=>(e(u),ye),()=>{f(se,ve(e(u),ye.NO_PREDICTION))}),L(()=>(e(_),e(m),e(y),e(b),e(k),e(J),e(ie)),()=>{f(F,e(_).length+e(m).length+e(y).length+e(b).length+e(k).length+e(J).length+e(ie).length)}),L(()=>e(F),()=>{f(R,e(F)>0)}),L(()=>e(R),()=>{f(C,e(R)?0:1)}),L(()=>(e(O),e(X),e(Z)),()=>{f(V,e(O).length+e(X).length+e(Z).length)}),L(()=>(e(F),e(C),e(V)),()=>{f(K,e(F)+e(C)+e(V))}),L(()=>n(),()=>{n()!==Te&&Te&&window.location.reload()}),L(()=>e(l),()=>{f(be,e(l))}),wt(),ut();var Ye=lt(),ee=qe(Ye);{var we=S=>{var he=ci(),xe=s(he),Fe=s(xe),Ee=s(Fe),Ie=s(Ee);Bt(Ie,{size:32});var $e=d(Ee),Ke=d(Fe,4),Ce=s(Ke),Ze=d(xe,2),q=s(Ze),We=s(q),fe=s(We),Ne=d(We,2),je=s(Ne),Je=d(Ne,2),ue=s(Je),Oe=d(q,4),tt=s(Oe),st=s(tt),ot=d(tt,2),g=s(ot),p=d(ot,2),x=s(p),I=d(Ze,2);let Y;var re=s(I);Be(re,1,()=>e(_),ze,(P,r)=>{var w=Ya(),N=s(w),Q=s(N),W=d(N,2),H=s(W),U=s(H),ce=d(H,2),pe=s(ce),me=d(W,2),ge=s(me);$((ae,oe,Re,_e)=>{He(w,1,`bet-card moneyline ${ae??""}`,"svelte-1i86osu"),v(Q,oe),v(U,(e(r),o(()=>e(r).prediction))),v(pe,`${e(r),o(()=>e(r).confidence)??""}% ${Re??""}`),v(ge,_e)},[()=>(e(r),o(()=>B(e(r).confidenceLevel))),()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(a(),o(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var De=d(re,2);Be(De,1,()=>e(m),ze,(P,r)=>{var w=ja(),N=s(w),Q=s(N),W=d(N,2),H=s(W),U=s(H),ce=d(H,2),pe=s(ce),me=d(W,2),ge=s(me);$((ae,oe,Re,_e,te)=>{He(w,1,`bet-card method-victory ${ae??""}`,"svelte-1i86osu"),v(Q,oe),v(U,Re),v(pe,`${e(r),o(()=>e(r).confidence)??""}% ${_e??""}`),v(ge,te)},[()=>(e(r),o(()=>B(e(r).confidenceLevel))),()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(e(r),a(),o(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),o(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var de=d(De,2);Be(de,1,()=>e(y),ze,(P,r)=>{var w=Ja(),N=s(w),Q=s(N),W=d(N,2),H=s(W),U=s(H),ce=d(H,2),pe=s(ce),me=d(W,2),ge=s(me),ae=d(me,2);{var oe=_e=>{var te=Qa(),Le=s(te);$(Qe=>v(Le,Qe),[()=>(a(),e(r),o(()=>a()(e(r).explanationKey)))]),D(_e,te)},Re=_e=>{var te=lt(),Le=qe(te);{var Qe=Ge=>{var it=Za(),dt=s(it);$(()=>v(dt,(e(r),o(()=>e(r).explanation)))),D(Ge,it)};le(Le,Ge=>{e(r),o(()=>e(r).explanation)&&Ge(Qe)},!0)}D(_e,te)};le(ae,_e=>{e(r),o(()=>e(r).explanationKey)?_e(oe):_e(Re,!1)})}$((_e,te,Le,Qe,Ge)=>{He(w,1,`bet-card total-rounds ${_e??""}`,"svelte-1i86osu"),v(Q,te),v(U,Le),v(pe,`${e(r),o(()=>e(r).confidence)??""}% ${Qe??""}`),v(ge,Ge)},[()=>(e(r),o(()=>B(e(r).confidenceLevel))),()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(e(r),a(),o(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),o(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var Se=d(de,2);Be(Se,1,()=>e(b),ze,(P,r)=>{var w=Xa(),N=s(w),Q=s(N),W=d(N,2),H=s(W),U=s(H),ce=d(H,2),pe=s(ce),me=d(W,2),ge=s(me);$((ae,oe,Re,_e,te)=>{He(w,1,`bet-card round-betting ${ae??""}`,"svelte-1i86osu"),v(Q,oe),v(U,Re),v(pe,`${e(r),o(()=>e(r).confidence)??""}% ${_e??""}`),v(ge,te)},[()=>(e(r),o(()=>B(e(r).confidenceLevel))),()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(e(r),a(),o(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),o(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var Pe=d(Se,2);Be(Pe,1,()=>e(k),ze,(P,r)=>{var w=ei(),N=s(w),Q=s(N),W=d(N,2),H=s(W),U=s(H),ce=d(H,2),pe=s(ce),me=d(W,2),ge=s(me);$((ae,oe,Re,_e,te)=>{He(w,1,`bet-card method-round ${ae??""}`,"svelte-1i86osu"),v(Q,oe),v(U,Re),v(pe,_e),v(ge,te)},[()=>(e(r),o(()=>B(e(r).confidenceLevel))),()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(e(r),a(),o(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(e(r),a(),o(()=>e(r).metadata?.valueKey?a()(e(r).metadata.valueKey):e(r).metadata?.value||"N/A")),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var Ue=d(Pe,2);Be(Ue,1,()=>e(J),ze,(P,r)=>{var w=ti(),N=s(w),Q=s(N),W=d(N,2),H=s(W),U=s(H),ce=d(H,2),pe=s(ce),me=d(W,2),ge=s(me);$((ae,oe,Re,_e,te)=>{He(w,1,`bet-card decision-type ${ae??""}`,"svelte-1i86osu"),v(Q,oe),v(U,Re),v(pe,`${e(r),o(()=>e(r).confidence)??""}% ${_e??""}`),v(ge,te)},[()=>(e(r),o(()=>B(e(r).confidenceLevel))),()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(e(r),a(),o(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),o(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var Ve=d(Ue,2);Be(Ve,1,()=>e(ie),ze,(P,r)=>{var w=ai(),N=s(w),Q=s(N),W=d(N,2),H=s(W),U=s(H),ce=d(H,2),pe=s(ce),me=d(W,2),ge=s(me);$((ae,oe,Re,_e,te)=>{He(w,1,`bet-card gone-in-60 ${ae??""}`,"svelte-1i86osu"),v(Q,oe),v(U,Re),v(pe,`${e(r),o(()=>e(r).confidence)??""}% ${_e??""}`),v(ge,te)},[()=>(e(r),o(()=>B(e(r).confidenceLevel))),()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(e(r),a(),o(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),o(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var at=d(Ve,2);Be(at,1,()=>e(se),ze,(P,r)=>{var w=ii(),N=s(w),Q=s(N);Tt(Q,{size:16,style:"display: inline; margin-right: 0.25rem;"});var W=d(Q),H=d(N,2),U=s(H),ce=s(U),pe=d(U,2),me=s(pe),ge=d(H,2),ae=s(ge);$((oe,Re,_e,te)=>{v(W,` ${oe??""}`),v(ce,Re),v(me,_e),v(ae,te)},[()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(e(r),a(),o(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),o(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var rt=d(at,2);Be(rt,1,()=>e(O),ze,(P,r)=>{var w=ni(),N=s(w),Q=s(N);Gt(Q,{size:16,style:"display: inline; margin-right: 0.25rem;"});var W=d(Q),H=d(N,2),U=s(H),ce=s(U),pe=d(U,2),me=s(pe),ge=d(H,2),ae=s(ge),oe=d(ge,2);{var Re=te=>{var Le=si(),Qe=s(Le);$(Ge=>v(Qe,Ge),[()=>(a(),e(r),o(()=>a()(e(r).explanationKey)))]),D(te,Le)},_e=te=>{var Le=lt(),Qe=qe(Le);{var Ge=it=>{var dt=ri(),Dt=s(dt);$(()=>v(Dt,(e(r),o(()=>e(r).explanation)))),D(it,dt)};le(Qe,it=>{e(r),o(()=>e(r).explanation)&&it(Ge)},!0)}D(te,Le)};le(oe,te=>{e(r),o(()=>e(r).explanationKey)?te(Re):te(_e,!1)})}$((te,Le,Qe,Ge,it)=>{v(W,` ${te??""}`),v(ce,Le),v(me,`${Qe??""}: ${Ge??""}`),v(ae,it)},[()=>(a(),e(r),o(()=>a()(e(r).titleKey))),()=>(e(r),a(),o(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),o(()=>a()("combat_analysis.value"))),()=>(e(r),a(),o(()=>e(r).metadata?.valueKey?a()(e(r).metadata.valueKey):e(r).metadata?.value||"N/A")),()=>(a(),e(r),o(()=>a()(e(r).reasoningKey)))]),D(P,w)});var nt=d(rt,2);Be(nt,1,()=>e(X),ze,(P,r)=>{var w=li(),N=s(w),Q=s(N),W=d(N,2);Be(W,5,()=>(e(r),o(()=>e(r).metadata?.factors||[])),ze,(H,U)=>{var ce=oi(),pe=s(ce),me=s(pe),ge=d(pe,2),ae=s(ge);$(oe=>{v(me,oe),v(ae,(e(U),o(()=>e(U).value)))},[()=>(a(),e(U),o(()=>a()(e(U).label)))]),D(H,ce)}),$(H=>v(Q,H),[()=>(a(),e(r),o(()=>a()(e(r).titleKey)))]),D(P,w)});var z=d(nt,2);Be(z,1,()=>e(Z),ze,(P,r)=>{var w=vi(),N=s(w),Q=s(N),W=d(N,2);Be(W,5,()=>(e(r),o(()=>e(r).metadata?.trends||[])),ze,(H,U)=>{var ce=di(),pe=s(ce);{var me=ae=>{var oe=ht();$(Re=>v(oe,Re),[()=>(a(),e(U),o(()=>a()(e(U).textKey,{values:e(U).params||{}})))]),D(ae,oe)},ge=ae=>{var oe=ht();$(()=>v(oe,(e(U),o(()=>e(U).text)))),D(ae,oe)};le(pe,ae=>{e(U),o(()=>e(U).textKey)?ae(me):ae(ge,!1)})}$(()=>He(ce,1,`trend-item ${e(U),o(()=>e(U).type)??""}`,"svelte-1i86osu")),D(H,ce)}),$(H=>v(Q,H),[()=>(a(),e(r),o(()=>a()(e(r).titleKey)))]),D(P,w)});var ne=d(I,2),Me=s(ne),Ae=s(Me);$((P,r,w,N)=>{v($e,` ${P??""}`),v(Ce,r),v(fe,(M(G()),o(()=>G().name))),v(je,`${M(G()),o(()=>G().rawData.win)??""}-${M(G()),o(()=>G().rawData.loss)??""}-${M(G()),o(()=>G().rawData.draws)??""}`),v(ue,(M(G()),o(()=>G().archetype.archetypeEmojis))),v(st,(M(A()),o(()=>A().name))),v(g,`${M(A()),o(()=>A().rawData.win)??""}-${M(A()),o(()=>A().rawData.loss)??""}-${M(A()),o(()=>A().rawData.draws)??""}`),v(x,(M(A()),o(()=>A().archetype.archetypeEmojis))),Y=He(I,1,"betting-grid svelte-1i86osu",null,Y,w),v(Ae,`* ${N??""}`)},[()=>(a(),o(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),o(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(K)<=3}),()=>(a(),o(()=>a()("combat_analysis.disclaimer")))]),D(S,he)};le(ee,S=>{e(be)&&S(we)})}D(j,Ye),pt(),h()}var hi=E('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),gi=E('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),ui=E('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),pi=E('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),mi=E('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),fi=E('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),yi=E('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),bi=E('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function Ci(j,t){gt(t,!1);const[i,h]=mt(),n=()=>vt(C,"$urlSearchParams",i),a=()=>vt(ft,"$_",i),l=T(),c=T(),u=T(),_=T(),m=T(),y=T(),b=T(),k=T(),J=T(),ie=T();let O=et(t,"isDarkMode",8,!0),X=et(t,"toggleTheme",8,()=>{}),Z=T(new Map),se=T(new Map),F=T(),R=T(new Map);const C=ma(_t());function V(g,p){const x=`fighter${p}`;It({[x]:g}),C.set(_t())}let K=T(!1),be=T(!1),G=T(!1),A=T(!1);fa(()=>{window.Highcharts=ya,C.set(_t());const g=Da(()=>{C.set(_t())});return ve(),g});async function ve(){try{f(K,!0);const{allRawFightersDataMap:g,allRawFightersByDivision:p,processedFightersMap:x,processedFighters:I}=await Ra.loadFightersFromCSV();f(Z,g),f(R,p),f(se,x),f(F,I),f(be,!0)}catch(g){console.error("Error loading data:",g)}finally{f(K,!1)}}function B(g=[]){return g.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:Te(p)}))}function Te(g){return g.pictureUrl&&g.pictureUrl!==""?g.pictureUrl:Ye(g.division)?"no_photo_female.png":"no_photo_male.png"}function Ye(g){return!!(g&&g.startsWith("W_"))}function ee(g){V(g,1)}function we(g){V(g,2)}function S(){ct.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(l)||"none",fighter2:e(c)||"none"}),It({fighter1:"",fighter2:""}),C.set(_t())}function he(){if(!e(l)||!e(c))return;const g=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";ct.trackFightShare(e(l),e(c),g);const p=Fa("/",{fighter1:e(l),fighter2:e(c)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(c)} - Fight Radar`,text:`Compara las estadsticas de ${e(l)} vs ${e(c)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{xe("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function xe(g){const p=document.createElement("div");p.className="notification",p.textContent=g,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function Fe(g,p,x){const I=[];return g&&I.push({name:g.name,data:[g.fightRadar.STR_OFF,g.fightRadar.STR_DEF,g.fightRadar.TD_OFF,g.fightRadar.TD_DEF,g.fightRadar.CTRL,g.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&I.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&I.push({name:x.name,data:[x.fightRadar.STR_OFF,x.fightRadar.STR_DEF,x.fightRadar.TD_OFF,x.fightRadar.TD_DEF,x.fightRadar.CTRL,x.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),I}function Ee(g,p,x){const I=[];return g&&I.push({name:g.name,data:[g.iqRadar.distance,g.iqRadar.adaptability,g.iqRadar.composure,g.iqRadar.decisions,g.iqRadar.rhythm,g.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&I.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&I.push({name:x.name,data:[x.iqRadar.distance,x.iqRadar.adaptability,x.iqRadar.composure,x.iqRadar.decisions,x.iqRadar.rhythm,x.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),I}function Ie(g){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[x,I,Y]=g.combinedRole.split("+")??["AT"];let re=[[x,100]];if(I&&Y?re=[[x,33],[I,34],[Y,33]]:I?re=[[x,50],[I,50]]:Y&&(re=[[x,60],[Y,40]]),re.length===1){const[De,de]=re[0],Se=Math.min(de,70);return`linear-gradient(135deg, ${p[De]} 0%, ${p[De]} ${Se}%, var(--card-bg) 100%)`}else{const De=re.reduce((Ue,[,Ve])=>Ue+Ve,0);let de=[],Se=0;return re.forEach(([Ue,Ve],at)=>{const rt=Ve/De*85,nt=p[Ue];at===0&&de.push(`${nt} ${Se}%`),Se+=rt,at===re.length-1?(de.push(`${nt} ${Se}%`),de.push("var(--card-bg) 100%")):de.push(`${nt} ${Se}%`)}),`linear-gradient(135deg, ${de.join(", ")})`}}L(()=>n(),()=>{f(l,n().get("fighter1")||"")}),L(()=>n(),()=>{f(c,n().get("fighter2")||"")}),L(()=>(e(F),e(c)),()=>{f(u,B(e(F)).filter(g=>g.value!==e(c)))}),L(()=>(e(F),e(l)),()=>{f(_,B(e(F)).filter(g=>g.value!==e(l)))}),L(()=>(e(l),e(c),e(Z),e(R),Ot),()=>{f(m,(()=>{if(!e(l)||!e(c))return null;const g=e(Z).get(e(l)),p=e(Z).get(e(c));if(!g||!p)return null;if(g.Division===p.Division){const x=g.Division;if(e(R).has(x))return Ot(x,e(R).get(x))}return null})())}),L(()=>(e(l),e(se)),()=>{f(y,e(l)?e(se).get(e(l))??null:null)}),L(()=>(e(c),e(se)),()=>{f(b,e(c)?e(se).get(e(c))??null:null)}),L(()=>(e(m),e(l),e(c),e(Z),e(R),At),()=>{f(k,(()=>{if(!e(m)||!e(l)||!e(c))return null;const g=e(Z).get(e(l));return!g||!e(R).has(g.Division)?null:At(e(m),e(R).get(g.Division))})())}),L(()=>(e(y),e(b),e(k)),()=>{f(J,Fe(e(y)??null,e(b)??null,e(k)??null))}),L(()=>(e(y),e(b),e(k)),()=>{f(ie,Ee(e(y),e(b),e(k)))}),L(()=>(e(K),e(Z),e(l),e(c),ct),()=>{const g=!e(K)&&e(Z).size>0&&e(Z).has(e(l))&&e(Z).has(e(c));f(G,!!(e(l)&&e(c)&&g)),f(A,!!(e(l)&&e(c)&&g)),e(l)&&e(c)&&g&&ct.trackFighterComparison(e(l),e(c))}),wt(),ut();var $e=bi(),Ke=s($e),Ce=s(Ke);ba(Ce,{showThemeToggle:!0,get isDarkMode(){return O()},get toggleTheme(){return X()}});var Ze=d(Ce,2);{var q=g=>{var p=hi(),x=s(p),I=d(s(x),2),Y=s(I);$(re=>v(Y,re),[()=>(a(),o(()=>a()("fight_radar.loading_data")))]),D(g,p)};le(Ze,g=>{e(K)&&g(q)})}var We=d(Ze,2);{var fe=g=>{var p=pi(),x=s(p),I=s(x),Y=s(I),re=s(Y),De=d(Y,2),de=s(De);{let z=yt(()=>(a(),o(()=>a()("common.select_fighter"))));Wt(de,{id:"fighter1-select",get placeholder(){return e(z)},disabled:!1,get options(){return e(u)},get selectedValue(){return e(l)},onSelectionChange:ee})}var Se=d(I,4),Pe=s(Se),Ue=s(Pe),Ve=d(Pe,2),at=s(Ve);{let z=yt(()=>(a(),o(()=>a()("common.select_fighter"))));Wt(at,{id:"fighter2-select",get placeholder(){return e(z)},disabled:!1,get options(){return e(_)},get selectedValue(){return e(c)},onSelectionChange:we})}var rt=d(x,2);{var nt=z=>{var ne=ui(),Me=s(ne);{var Ae=w=>{var N=gi(),Q=d(s(N));$(W=>v(Q,` ${W??""}`),[()=>(a(),o(()=>a()("fight_radar.share_fight")))]),Xe("click",N,he),D(w,N)};le(Me,w=>{e(l)&&e(c)&&w(Ae)})}var P=d(Me,2),r=d(s(P));$(w=>v(r,` ${w??""}`),[()=>(a(),o(()=>a()("fight_radar.clear_radars")))]),Xe("click",P,S),D(z,ne)};le(rt,z=>{(e(l)||e(c))&&z(nt)})}$((z,ne)=>{v(re,`${z??""}:`),v(Ue,`${ne??""}:`)},[()=>(a(),o(()=>a()("common.fighter_1"))),()=>(a(),o(()=>a()("common.fighter_2")))]),D(g,p)};le(We,g=>{e(be)&&g(fe)})}var Ne=d(We,2);{var je=g=>{var p=lt(),x=qe(p);{var I=Y=>{var re=mi(),De=s(re),de=s(De);Tt(de,{size:20,class:"disclaimer-icon"});var Se=d(de,2),Pe=s(Se),Ue=d(De,2),Ve=s(Ue);$((at,rt)=>{v(Pe,at),v(Ve,rt)},[()=>(a(),o(()=>a()("fight_radar.cross_division_title"))),()=>(a(),M(Rt),e(y),e(b),o(()=>a()("fight_radar.cross_division_text",{values:{division1:Rt(e(y).rawData.Division),division2:Rt(e(b).rawData.Division)}})))]),D(Y,re)};le(x,Y=>{e(y),e(b),o(()=>e(y)?.rawData&&e(b)?.rawData&&e(y).rawData.Division!==e(b).rawData.Division)&&Y(I)})}D(g,p)};le(Ne,g=>{e(l)&&e(c)&&e(G)&&g(je)})}var Je=d(Ne,2);{var ue=g=>{var p=fi(),x=s(p),I=s(x);Ut(I,{get fighter(){return e(y)},id:"fighter1-info"});var Y=d(x,2),re=s(Y);Ut(re,{get fighter(){return e(b)},id:"fighter2-info"}),$((De,de)=>{xt(x,`background: ${De??""}`),xt(Y,`background: ${de??""}`)},[()=>(e(y),o(()=>e(y)?Ie(e(y).archetype):"var(--card-bg)")),()=>(e(b),o(()=>e(b)?Ie(e(b).archetype):"var(--card-bg)"))]),D(g,p)};le(Je,g=>{e(G)&&g(ue)})}var Oe=d(Je,2);{var tt=g=>{var p=yi(),x=s(p),I=s(x);Et(I,()=>(e(l),e(c),e(J),o(()=>`${e(l)}-${e(c)}-${e(J).length}`)),De=>{{let de=yt(()=>(M(Pt),o(Pt)));Ht(De,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(de)},get series(){return e(J)},isIQRadar:!1})}});var Y=d(x,2),re=s(Y);Et(re,()=>(e(l),e(c),e(ie),o(()=>`${e(l)}-${e(c)}-${e(ie).length}`)),De=>{{let de=yt(()=>(M(Lt),o(Lt)));Ht(De,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(de)},get series(){return e(ie)},isIQRadar:!0})}}),D(g,p)};le(Oe,g=>{e(A),e(J),o(()=>e(A)&&e(J).length>0)&&g(tt)})}var st=d(Oe,2);_i(st,{get fighter1(){return e(y)},get fighter2(){return e(b)}});var ot=d(st,2);za(ot,{}),D(j,$e),pt(),h()}export{Ci as default};
