import{g as yt,p as Ue,l as G,h as _,m as b,j as N,o as e,k as wt,n as Dt,f as K,H as Ie,$ as Lt,i as Z,c as i,q as d,Z as At,t as W,E as ge,s as He,b as p,r as kt,u as Ft,x as Ae,z as n,B as u,A as gt,_ as Ma,v as it,K as Qe,L as Je,V as Wt,a0 as Sa,a1 as bt,y as pt,a2 as Ka,a as Ca,a3 as Na,a4 as Pa,a5 as ea,a6 as ta,T as Ct,G as Oa,C as aa,U as qt,w as Ea,N as xt,a7 as Bt}from"./lucide-BZTUuGOE.js";import{H as $a}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Ia,U as La}from"./UpcomingFights-gSy3Dyl9.js";import{$ as Mt,A as ut,n as ia,a as Aa,v as Wa,g as vt,b as qa,u as ft,c as Ba}from"./index-DcOkPfmg.js";import{c as St,g as Ht,f as mt,a as Ha,b as Gt,p as Vt,d as Ut,e as jt}from"./fighters_service-D7uFbIWj.js";import{R as Ga,a as zt}from"./RadarChart-CNF2X2aO.js";import{f as Yt,a as Qt,F as Va}from"./unit_conversion-OOvSob_r.js";import"./highcharts-DyRVWUji.js";var Ua=K('<img class="svelte-gkl5a1"/>'),ja=K('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),za=K("<!> <span> </span>",1),Ya=K("<span> </span>"),Qa=K('<img class="svelte-gkl5a1"/>'),Xa=K('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Za=K('<button type="button"><!> <span> </span></button>'),Ja=K('<div class="no-results svelte-gkl5a1"> </div>'),ei=K('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ti=K('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Xt(B,t){yt(t,!1);const[s,g]=Ft(),c=()=>gt(Mt,"$_",s),a=b(),o=b();let l=Ue(t,"id",8),y=Ue(t,"placeholder",8,""),v=Ue(t,"disabled",8,!0),M=Ue(t,"options",24,()=>[]),P=Ue(t,"selectedValue",12,""),U=Ue(t,"onSelectionChange",8,void 0),D=Ue(t,"onOpenStateChange",8,void 0),L=Ue(t,"shouldOpen",8,!1),Y=b(!1),ne=b(),z=b(),I=b(""),ye=b(!1);function j(){v()||(_(Y,!e(Y)),e(Y)&&setTimeout(()=>e(z)?.focus(),0))}function R($){P($.value),_(I,""),_(Y,!1),U()&&U()($.value,$)}function k($){const oe=$.target;_(I,oe.value)}function m($){$.key==="Enter"&&e(o).length>0?(R(e(o)[0]),$.preventDefault()):$.key==="Escape"&&(_(I,""),_(Y,!1))}function J($){e(ne)&&!e(ne).contains($.target)&&(_(Y,!1),_(I,""))}function A($){$.key==="Escape"&&_(Y,!1)}G(()=>(N(M()),N(P())),()=>{_(a,M().find($=>$.value===P()))}),G(()=>(N(L()),e(ye),N(v()),e(z)),()=>{L()&&!e(ye)&&!v()?(_(ye,!0),_(Y,!0),setTimeout(()=>e(z)?.focus(),0)):L()||_(ye,!1)}),G(()=>(N(D()),e(Y)),()=>{D()&&D()(e(Y))}),G(()=>(e(I),N(M()),St),()=>{_(o,e(I)?M().filter($=>St($.label.toLowerCase()).includes(St(e(I).toLowerCase()))):M())}),wt(),Dt();var V=ti();Ie("click",Lt,J),Ie("keydown",Lt,A);var ie=i(V);let fe;var Q=i(ie),q=i(Q);{var ke=$=>{var oe=za(),we=Ae(oe);{var Me=Pe=>{var qe=Ua();W(()=>{ge(qe,"src",(e(a),n(()=>e(a).imageUrl))),ge(qe,"alt",(e(a),n(()=>e(a).label)))}),p(Pe,qe)},We=Pe=>{var qe=it(),te=Ae(qe);{var Oe=je=>{var xe=ja(),Be=i(xe);Wt(Be,()=>e(a).iconComponent,(he,ae)=>{ae(he,{size:16})}),p(je,xe)};Z(te,je=>{e(a),n(()=>e(a)?.iconComponent)&&je(Oe)},!0)}p(Pe,qe)};Z(we,Pe=>{e(a),n(()=>e(a)?.imageUrl)?Pe(Me):Pe(We,!1)})}var $e=d(we,2),Le=i($e);W(()=>u(Le,(e(a),n(()=>e(a).label)))),p($,oe)},Se=$=>{var oe=Ya(),we=i(oe);W(Me=>u(we,Me),[()=>(N(y()),c(),n(()=>y()||c()("common.select_option")))]),p($,oe)};Z(q,$=>{e(a)?$(ke):$(Se,!1)})}var E=d(Q,2);let se;var ee=d(ie,2);{var Ke=$=>{var oe=ei(),we=i(oe),Me=i(we);At(Me,xe=>_(z,xe),()=>e(z));var We=d(we,2),$e=i(We);let Le;var Pe=i($e),qe=i(Pe),te=d($e,2);{var Oe=xe=>{var Be=it(),he=Ae(Be);Qe(he,1,()=>e(o),Je,(ae,_e)=>{var Ve=Za();let Ye;var st=i(Ve);{var et=Re=>{var Ce=Qa();W(()=>{ge(Ce,"src",(e(_e),n(()=>e(_e).imageUrl))),ge(Ce,"alt",(e(_e),n(()=>e(_e).label)))}),Ie("error",Ce,Ge=>{Ge.currentTarget.style.display="none"}),p(Re,Ce)},nt=Re=>{var Ce=it(),Ge=Ae(Ce);{var lt=at=>{var ct=Xa(),dt=i(ct);Wt(dt,()=>e(_e).iconComponent,(h,f)=>{f(h,{size:16})}),p(at,ct)};Z(Ge,at=>{e(_e),n(()=>e(_e)?.iconComponent)&&at(lt)},!0)}p(Re,Ce)};Z(st,Re=>{e(_e),n(()=>e(_e)?.imageUrl)?Re(et):Re(nt,!1)})}var tt=d(st,2),rt=i(tt);W(Re=>{Ye=He(Ve,1,"dropdown-item svelte-gkl5a1",null,Ye,Re),u(rt,(e(_e),n(()=>e(_e).label)))},[()=>({selected:P()===e(_e).value})]),Ie("click",Ve,()=>R(e(_e))),p(ae,Ve)}),p(xe,Be)},je=xe=>{var Be=it(),he=Ae(Be);{var ae=_e=>{var Ve=Ja(),Ye=i(Ve);W(()=>u(Ye,`No se encontraron resultados para "${e(I)??""}"`)),p(_e,Ve)};Z(he,_e=>{e(I)&&_e(ae)},!0)}p(xe,Be)};Z(te,xe=>{e(o),n(()=>e(o).length>0)?xe(Oe):xe(je,!1)})}W((xe,Be,he)=>{ge(Me,"placeholder",xe),ge(We,"id",`dropdown-options-${l()??""}`),Le=He($e,1,"dropdown-item svelte-gkl5a1",null,Le,Be),u(qe,he)},[()=>(c(),n(()=>c()("common.search")||"Search...")),()=>({selected:P()===""}),()=>(N(y()),c(),n(()=>y()||c()("common.select_option")))]),Ma(Me,()=>e(I),xe=>_(I,xe)),Ie("input",Me,k),Ie("keydown",Me,m),Ie("click",$e,()=>R({value:"",label:y(),imageUrl:""})),p($,oe)};Z(ee,$=>{e(Y)&&$(Ke)})}At(V,$=>_(ne,$),()=>e(ne)),W(($,oe)=>{ge(V,"id",l()),fe=He(ie,1,"dropdown-button svelte-gkl5a1",null,fe,$),ie.disabled=v(),ge(ie,"aria-expanded",e(Y)),ge(ie,"aria-controls",`dropdown-options-${l()??""}`),se=He(E,1,"dropdown-arrow svelte-gkl5a1",null,se,oe)},[()=>({disabled:v(),open:e(Y)}),()=>({rotated:e(Y)})]),Ie("click",ie,j),p(B,V),kt(),g()}function Kt(B,t){if(t()){ut.trackFighterCardCTA(t().nameWithNickname,"view_profile");const s=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;ia(s)}}function ai(B,t){_(t,!e(t))}var ii=K('<img class="fighter-image svelte-1cmiluv"/> <div class="fighter-placeholder svelte-1cmiluv" style="display: none;">Picture Unavailable</div>',1),si=K('<div class="fighter-placeholder svelte-1cmiluv">Picture Unavailable</div>'),ni=K('<span class="division-ranking champion svelte-1cmiluv" title="Champion"><!></span>'),ri=K('<span class="division-ranking ranked svelte-1cmiluv"> </span>'),oi=(B,t)=>B.key==="Enter"&&t(),li=K('<div class="stat-item role-disc-clickable svelte-1cmiluv" role="button" tabindex="0"><span class="stat-label svelte-1cmiluv">ROLE-DISC:</span> <span><div class="role-emojis svelte-1cmiluv"> </div> <div class="role-name svelte-1cmiluv"> </div></span></div>'),ci=K('<div class="archetype-fields svelte-1cmiluv"><div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value description svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value favorite-zone svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value strengths svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value weaknesses svelte-1cmiluv"> </div></div></div>'),di=K('<hr class="archetype-divider svelte-1cmiluv"/> <div class="archetype-container svelte-1cmiluv"><div class="archetype-section svelte-1cmiluv"><button type="button" class="archetype-section-title svelte-1cmiluv"><span><!></span> </button> <!></div></div>',1),vi=K('<div class="fighter-header svelte-1cmiluv"><div class="header-actions svelte-1cmiluv"><!> <button type="button" class="fighter-detail-cta svelte-1cmiluv" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1cmiluv"><div class="fighter-image-container svelte-1cmiluv"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1cmiluv"><div class="fighter-name svelte-1cmiluv"> </div></button> <div class="fighter-division-container svelte-1cmiluv"><span class="fighter-division svelte-1cmiluv"> </span> <!></div> <div class="star-rating svelte-1cmiluv"><div class="stars-container svelte-1cmiluv"></div></div> <div class="fighter-stats svelte-1cmiluv"><!> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value career-record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span><!></span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value height svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value reach svelte-1cmiluv"> </span></div></div> <!>',1),hi=K('<div class="empty-card svelte-1cmiluv"><div class="empty-message svelte-1cmiluv"> </div></div>'),_i=K('<div class="fighter-card svelte-1cmiluv"><!></div> <!>',1);function Zt(B,t){yt(t,!1);const[s,g]=Ft(),c=()=>gt(Mt,"$_",s),a=b(),o=b(),l=b(),y=b();let v=Ue(t,"fighter",8,null),M=Ue(t,"id",8,""),P=b(!1),U=b(!1);function D(){_(P,!0)}function L(){_(P,!1)}G(()=>c(),()=>{_(a,R=>{if(!R||!R.startsWith("@ARCHETYPE_"))return R;let k="",m="";if(R.includes("_DESCRIPTION"))k=R.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),m="description";else if(R.includes("_FAVORITE_ZONE"))k=R.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),m="favorite_zone";else if(R.includes("_STRENGTHS"))k=R.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),m="strengths";else if(R.includes("_WEAKNESSES"))k=R.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),m="weaknesses";else{const V=R.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!V)return R;k=V[1],m=V[2].toLowerCase()}const J=`archetype_data.${k}.${m}`,A=c()(J);return R.includes("_WEAKNESSES"),A!==J?A:R})}),G(()=>(N(v()),Ht),()=>{_(o,v()?Ht(v().archetype):null)}),G(()=>(N(v()),Yt),()=>{_(l,v()?.rawData.height_inches?Yt(v().rawData.height_inches):"-")}),G(()=>(N(v()),Qt),()=>{_(y,v()?.rawData.reach_inches?Qt(v().rawData.reach_inches):"-")}),wt(),Dt();var Y=_i(),ne=Ae(Y),z=i(ne);{var I=R=>{var k=vi(),m=Ae(k),J=i(m),A=i(J);Va(A,{get fighterFullName(){return N(v()),n(()=>v().name)},size:"large"});var V=d(A,2);V.__click=[Kt,v];var ie=i(V);Sa(ie,{size:16});var fe=d(J,2);fe.__click=[Kt,v];var Q=i(fe),q=i(Q);{var ke=w=>{var r=ii(),T=Ae(r);W(()=>{ge(T,"src",(N(v()),n(()=>v().pictureUrl))),ge(T,"alt",`${N(v()),n(()=>v().name)??""} fighter profile picture`)}),Ie("error",T,C=>{C.currentTarget.style.display="none";const H=C.currentTarget.nextElementSibling;H&&(H.style.display="block")}),p(w,r)},Se=w=>{var r=si();p(w,r)};Z(q,w=>{N(v()),n(()=>v().pictureUrl)?w(ke):w(Se,!1)})}var E=d(m,2);E.__click=[Kt,v];var se=i(E),ee=i(se),Ke=d(E,2),$=i(Ke),oe=i($),we=d($,2);{var Me=w=>{var r=it(),T=Ae(r);{var C=S=>{var F=ni(),O=i(F);Na(O,{size:16}),p(S,F)},H=S=>{var F=ri(),O=i(F);W(()=>{ge(F,"title",`Division Ranking #${N(v()),n(()=>v().rawData.division_ranking)??""}`),u(O,`#${N(v()),n(()=>v().rawData.division_ranking)??""}`)}),p(S,F)};Z(T,S=>{N(v()),n(()=>v().rawData.division_ranking==="0")?S(C):S(H,!1)})}p(w,r)};Z(we,w=>{N(v()),n(()=>v().rawData.division_ranking!==void 0&&v().rawData.division_ranking!=="")&&w(Me)})}var We=d(Ke,2),$e=i(We),Le=d(We,2),Pe=i(Le);{var qe=w=>{var r=li();r.__click=D,r.__keydown=[oi,D];var T=i(r),C=d(T,2),H=i(C),S=i(H),F=d(H,2),O=i(F);W((re,ue)=>{ge(r,"aria-label",re),ge(T,"title",ue),He(C,1,`stat-value role-indicator archetype-dots archetype-${e(o),n(()=>e(o).type)??""}`,"svelte-1cmiluv"),ge(C,"title",(e(o),n(()=>e(o).tooltip))),u(S,(e(o),n(()=>e(o).label))),u(O,(e(o),n(()=>e(o).name)))},[()=>(c(),n(()=>c()("role_disc_modal.open_modal_aria_label"))),()=>(c(),n(()=>c()("role_disc_modal.archetype_tooltip")))]),p(w,r)};Z(Pe,w=>{e(o)&&w(qe)})}var te=d(Pe,2),Oe=i(te),je=i(Oe),xe=d(Oe,2),Be=i(xe),he=d(te,2),ae=i(he),_e=i(ae),Ve=d(ae,2),Ye=i(Ve),st=d(he,2),et=i(st),nt=i(et),tt=d(et,2);let rt;var Re=i(tt);{var Ce=w=>{var r=pt();W(()=>u(r,`+${N(v()),n(()=>v().streak)??""}W`)),p(w,r)},Ge=w=>{var r=it(),T=Ae(r);{var C=S=>{var F=pt();W(()=>u(F,`${N(v()),n(()=>v().streak)??""}L`)),p(S,F)},H=S=>{var F=pt("-");p(S,F)};Z(T,S=>{N(v()),n(()=>v().streak<0)?S(C):S(H,!1)},!0)}p(w,r)};Z(Re,w=>{N(v()),n(()=>v().streak>0)?w(Ce):w(Ge,!1)})}var lt=d(st,2),at=i(lt),ct=i(at),dt=d(at,2),h=i(dt),f=d(lt,2),x=i(f),X=i(x),pe=d(x,2),Te=i(pe),Ee=d(Le,2);{var Ne=w=>{var r=di(),T=d(Ae(r),2),C=i(T),H=i(C);H.__click=[ai,U];var S=i(H);let F;var O=i(S);Ka(O,{size:20});var re=d(S),ue=d(H,2);{var De=ce=>{var de=ci(),le=i(de),Fe=i(le),me=i(Fe),ve=i(me);Pa(ve,{size:18});var ze=d(me,2),Xe=i(ze),Ze=d(Fe,2),ot=i(Ze),_t=d(le,2),Tt=i(_t),Nt=i(Tt),sa=i(Nt);ea(sa,{size:18});var na=d(Nt,2),ra=i(na),oa=d(Tt,2),la=i(oa),Pt=d(_t,2),Ot=i(Pt),Et=i(Ot),ca=i(Et);ta(ca,{size:18});var da=d(Et,2),va=i(da),ha=d(Ot,2),_a=i(ha),ua=d(Pt,2),$t=i(ua),It=i($t),ga=i(It);Ct(ga,{size:18});var fa=d(It,2),pa=i(fa),ma=d($t,2),ba=i(ma);W((ya,wa,Da,ka,Ta,xa,Ra,Fa)=>{u(Xe,ya),u(ot,wa),u(ra,Da),u(la,ka),u(va,Ta),u(_a,xa),u(pa,Ra),u(ba,Fa)},[()=>(c(),n(()=>c()("archetype.tactical_description"))),()=>(e(a),N(v()),n(()=>e(a)(v().archetype.description))),()=>(c(),n(()=>c()("archetype.preferred_zone"))),()=>(e(a),N(v()),n(()=>e(a)(v().archetype.favoriteZone))),()=>(c(),n(()=>c()("archetype.strengths"))),()=>(e(a),N(v()),n(()=>e(a)(v().archetype.strengths))),()=>(c(),n(()=>c()("archetype.weaknesses"))),()=>(e(a),N(v()),n(()=>e(a)(v().archetype.weaknesses)))]),p(ce,de)};Z(ue,ce=>{e(U)&&ce(De)})}W((ce,de)=>{ge(H,"aria-expanded",e(U)),F=He(S,1,"archetype-caret svelte-1cmiluv",null,F,ce),u(re,` ${de??""}`)},[()=>({expanded:e(U)}),()=>(c(),n(()=>c()("archetype.analysis_title")))]),p(w,r)};Z(Ee,w=>{N(v()),n(()=>v().archetype)&&w(Ne)})}W((w,r,T,C,H,S,F,O,re,ue,De,ce)=>{ge(V,"aria-label",`View detailed fighter profile for ${N(v()),n(()=>v().nameWithNickname)??""}`),u(ee,(N(v()),n(()=>v().name))),u(oe,w),bt($e,`--fill-width: ${N(v()),n(()=>v().stars*20)??""}%`),ge(Oe,"title",r),u(je,`${T??""}:`),u(Be,(N(v()),n(()=>v().career_record))),ge(ae,"title",C),u(_e,`${H??""}:`),u(Ye,(N(v()),n(()=>v().record_36m))),ge(et,"title",S),u(nt,`${F??""}:`),rt=He(tt,1,"stat-value streak svelte-1cmiluv",null,rt,O),ge(at,"title",re),u(ct,`${ue??""}:`),u(h,e(l)),ge(x,"title",De),u(X,`${ce??""}:`),u(Te,e(y))},[()=>(N(mt),N(v()),n(()=>mt(v().division||""))),()=>(c(),n(()=>c()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(c(),n(()=>c()("fighter_profile.career_record"))),()=>(c(),n(()=>c()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(c(),n(()=>c()("fighter_profile.record_36m"))),()=>(c(),n(()=>c()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(c(),n(()=>c()("fighter_profile.streak"))),()=>({"streak-win":v().streak>0,"streak-loss":v().streak<0}),()=>(c(),n(()=>c()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(c(),n(()=>c()("fighter_profile.height"))),()=>(c(),n(()=>c()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(c(),n(()=>c()("fighter_profile.reach")))]),p(R,k)},ye=R=>{var k=hi(),m=i(k),J=i(m);W(A=>u(J,A),[()=>(c(),n(()=>c()("fight_radar.select_fighter_stats")))]),p(R,k)};Z(z,R=>{v()?R(I):R(ye,!1)})}var j=d(ne,2);Ga(j,{get isOpen(){return e(P)},$$events:{close:L}}),W(()=>ge(ne,"id",M())),p(B,Y),kt(),g()}Ca(["click","keydown"]);function ui(B){const t=B.filter(a=>a.type===be.VICTORY_METHOD&&(a.prediction.toLowerCase().includes("decision")||a.predictionKey?.toLowerCase().includes("decision")));if(t.length===0)return B;const s=t.reduce((a,o)=>o.confidence>a.confidence?o:a),g=B.filter(a=>{if(a.type!==be.DURATION)return!1;const o=a.prediction.toLowerCase(),l=a.predictionKey?.toLowerCase()||"";return o.includes("over")||l.includes("over")});return B.map(a=>g.some(o=>o.id===a.id)&&a.confidence<s.confidence?{...a,confidence:s.confidence}:a)}function gi(B){const t=B.filter(o=>o.type===be.VICTORY_METHOD),s=B.filter(o=>o.type===be.FIGHT_PROPS);if(t.length===0||s.length===0)return B;const c=t.reduce((o,l)=>l.confidence>o.confidence?l:o).prediction.toLowerCase(),a=new Set;for(const o of s){const l=(o.prediction||"").toLowerCase(),y=(o.predictionKey||"").toLowerCase();(c.includes("ko")||c.includes("tko"))&&(l.includes("submission")||l.includes("ground control")||y.includes("submission")||y.includes("ground_control"))&&a.add(o.id),c.includes("submission")&&(l.includes("standing exchange")&&!l.includes("ground")||y.includes("standing_exchange")&&!y.includes("ground"))&&a.add(o.id),c.includes("decision")&&(l.includes("first round finish")||l.includes("gone in 60")||y.includes("first_round_finish")||y.includes("gone_in_60"))&&a.add(o.id)}return B.filter(o=>!a.has(o.id))}function fi(B){const t=B.filter(c=>c.type===be.DURATION),s=B.filter(c=>c.type===be.FIGHT_PROPS);if(t.length===0||s.length===0)return B;const g=new Set;for(const c of t){const a=(c.prediction||"").toLowerCase(),o=(c.predictionKey||"").toLowerCase(),l=a.includes("under 2.5")||o.includes("under_2_5"),y=a.includes("over 3.5")||o.includes("over_3_5");for(const v of s){const M=(v.prediction||"").toLowerCase(),P=(v.predictionKey||"").toLowerCase();l&&((M.includes("over 100 strikes")||P.includes("over_100_strikes"))&&g.add(v.id),(M.includes("goes to distance")||P.includes("goes_to_distance"))&&g.add(v.id)),y&&(M.includes("first round")||M.includes("gone in 60")||P.includes("first_round")||P.includes("gone_in_60"))&&g.add(v.id)}}return B.filter(c=>!g.has(c.id))}function Jt(B){let t=[...B];return t=ui(t),t=gi(t),t=fi(t),t}var be=(B=>(B.MONEYLINE="moneyline",B.VICTORY_METHOD="victory_method",B.WINNER_AND_METHOD="winner_and_method",B.DURATION="duration",B.GOES_TO_DECISION="goes_to_decision",B.GONE_IN_60="gone_in_60",B.FIGHT_PROPS="fight_props",B.KEY_FACTORS="key_factors",B.TRENDS="trends",B.NO_PREDICTION="no_prediction",B))(be||{}),Rt=(B=>(B.HIGH="high",B.MEDIUM="medium",B.LOW="low",B))(Rt||{});class ht{constructor(){this.config={finishLikelihoodThreshold:35.5,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:-1,predatorVsDefensiveBonus:2.5,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:34,strOffGapMedThreshold:24,strOffGapLowThreshold:16,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:34,ctrlGapMedThreshold:24,ctrlGapLowThreshold:14,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:34,tdOffGapMedThreshold:24,tdOffGapLowThreshold:14,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,earlyFinishScoreThreshold:33,durationSkillGapWeight:.19999999999999998,durationFinishRateWeight:.34500000000000003,durationVulnerabilityWeight:.30000000000000004,durationAvgTimeWeight:.185,underBonusBase:21,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:44,durationBothLowFinishThreshold:24,durationPaceAsymmetryThreshold:3.5,durationPaceAsymmetryPenalty:-1.5,durationUnderSkillGapBonus:9,durationUnderLoserVulnBonus:7,durationUnderWinnerFinishBonus:3,durationUnderComboBonus:0,durationUnderExtreme:10,durationUnderSkillGapExtreme:10,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:8,oppTierWeight:9.5,oppTierNeutral:1.82,winRateWeightNormal:.22999999999999993,winRateWeightHigh:.41000000000000003,winRateWeightLow:.33,winRateHighThreshold:78,winRateLowThreshold:41,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:.013999999999999999,agePenaltyPhase3Rate:.011999999999999993,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1.1,damageMultiplier2KO:1.25,damageMultiplier3KO:1.4,damageMultiplier4KO:1.6,damageMultiplier5PlusKO:1.8,relativeAgeThreshold:8,relativeAgeAdjustRate:.003,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:0,heightAdvantageWeight:.0022500000000000003,reachDiffThreshold:-1,heightDiffThreshold:-1,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:17,inactivityPenaltyRate:.004,inactivityMaxPenalty:.23,activityBonusThreshold:2,activityBonus:.04,amplificationEnabled:!0,amplificationThreshold:12,amplificationRate:.016,minProbability:15,maxProbability:88,decisionProbabilityBase:68,decisionLowFinishAdjust:3,goesToDecisionMaxProb:88}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,s,g=!1,c=3){const a=[],l=t.rawData.Number_of_Fights_36m||0,y=s.rawData.Number_of_Fights_36m||0;if(l<3||y<3)return[this.createNoPredictionCard("insufficient_fights",t,s,l,y)];if(t.division!==s.division)return[this.createNoPredictionCard("different_divisions",t,s)];const v=this.calculateWinProbability(t,s);if(g&&v.probability<ht.MIN_MEDIUM_CONFIDENCE){const ne=v.winner===t?v.probability:100-v.probability,z=100-ne;a.push(this.createNoPredictionCard("low_moneyline_confidence",t,s,void 0,void 0,ne,z))}else a.push(this.createMoneylineCard(v));const M=this.predictMethodGivenWinner(t,s,v,c),P=this.predictTotalRounds(t,s,v,c),U=this.generateFightProps(t,s,v,c),D=this.analyzeKeyFactors(t,s),L=this.analyzeTrends(t,s);a.push(this.createVictoryMethodCard(M));const Y=this.predictWinnerAndMethod(v,M);return a.push(Y),a.push(this.createTotalRoundsCard(P)),a.push(this.createFightPropsCard(U)),a.push(this.createKeyFactorsCard(D)),a.push(this.createTrendsCard(L)),this.hasHighConfidencePredictions(a)||a.push(this.createNoPredictionCard("low_confidence")),g?this.sortBetCardsByPriority(this.filterByConfidence(Jt(a))):this.sortBetCardsByPriority(Jt(a))}filterByConfidence(t){return t.filter(s=>s.type==="key_factors"||s.type==="trends"||s.type==="no_prediction"?!0:s.confidence>=ht.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(t,s){const g=(t.rawData.reach_inches||0)-(s.rawData.reach_inches||0),c=(t.rawData.height_inches||0)-(s.rawData.height_inches||0);let a=0,o=0;return g>=3?a+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025):g<=-3&&(o+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025)),c>=3?a+=Math.min(Math.abs(c)*this.config.heightAdvantageWeight,.015):c<=-3&&(o+=Math.min(Math.abs(c)*this.config.heightAdvantageWeight,.015)),{f1Advantage:a,f2Advantage:o}}calculateWinProbability(t,s){const g=this.config.oppTierNeutral,c=this.config.oppTierWeight;let a=t.overall+(t.oppTierScore-g)*c,o=s.overall+(s.oppTierScore-g)*c;const l=this.calculatePhysicalAdvantage(t,s);a*=1+l.f1Advantage,o*=1+l.f2Advantage,a*=this.calculateAgeImpact(t),o*=this.calculateAgeImpact(s);const y=this.getInactiveMonths(t),v=this.getInactiveMonths(s);if(y>=this.config.inactivityThreshold){const Q=Math.min((y-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);a*=1-Q}if(v>=this.config.inactivityThreshold){const Q=Math.min((v-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);o*=1-Q}const M=this.getFightsInPeriod(t,18),P=this.getFightsInPeriod(s,18);M>=this.config.activityBonusThreshold&&(a*=1+this.config.activityBonus),P>=this.config.activityBonusThreshold&&(o*=1+this.config.activityBonus);const U=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,D=s.rawData.Number_of_Fights_36m>0?s.rawData.win/s.rawData.Number_of_Fights_36m*100:0,L=this.calculateMomentum(t),Y=this.calculateMomentum(s);a*=1+L,o*=1+Y;let ne=this.config.winRateWeightNormal,z=this.config.winRateWeightNormal;U>=this.config.winRateHighThreshold?ne=this.config.winRateWeightHigh:U<this.config.winRateLowThreshold&&(ne=this.config.winRateWeightLow),D>=this.config.winRateHighThreshold?z=this.config.winRateWeightHigh:D<this.config.winRateLowThreshold&&(z=this.config.winRateWeightLow);const I=a+U*ne,ye=o+D*z,j=this.calculateAge(t),R=this.calculateAge(s),k=j-R;let m=I,J=ye;if(Math.abs(k)>=this.config.relativeAgeThreshold){const Q=Math.min(Math.abs(k)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);k>0?(m=I*(1-Q),J=ye*(1+Q)):(m=I*(1+Q),J=ye*(1-Q))}const A=Math.abs(m-J);if(A>this.config.amplificationThreshold){const Q=1+(A-this.config.amplificationThreshold)*this.config.amplificationRate;m>J?m*=Q:J*=Q}const V=m+J;let ie=V>0?Math.round(m/V*100):50,fe=V>0?Math.round(J/V*100):50;if(ie=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,ie)),fe=100-ie,ie>fe){let Q=this.getWinReasoningKey(t,s,U,D);return{winner:t,probability:ie,reasoningKey:Q,adjustedScore1:m,adjustedScore2:J}}else{let Q=this.getWinReasoningKey(s,t,D,U);return{winner:s,probability:fe,reasoningKey:Q,adjustedScore1:J,adjustedScore2:m}}}predictWinnerAndMethod(t,s){let g=t.probability/100*(s.probability/100)*100;const c=t.winner,a=s.method,o=s.methodKey,l=c.name,y=`combat_analysis.winner_and_method.${o.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:l,predictionKey:y,confidence:Math.round(g),confidenceLevel:this.getConfidenceLevel(g),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:c.name,method:a,methodKey:y,winnerProb:t.probability,methodProb:s.probability,compositeProb:g},priority:2.5}}predictMethodGivenWinner(t,s,g,c=3){const a=g.winner,o=a===t?s:t,l=1.82,y=4.5,v=a.overall+(a.oppTierScore-l)*y,M=o.overall+(o.oppTierScore-l)*y,P=Math.abs(v-M),U=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,D=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,L=a===t?U:D,Y=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,ne=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,z=a===t?Y:ne,I=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,ye=s.rawData.Number_of_Fights_36m>0?s.rawData.win_sub/s.rawData.Number_of_Fights_36m*100:0,j=a===t?I:ye,R=o.rawData.Number_of_Fights_36m>0?o.rawData.loss_kotko/o.rawData.Number_of_Fights_36m*100:0,k=o.rawData.Number_of_Fights_36m>0?o.rawData.loss_sub/o.rawData.Number_of_Fights_36m*100:0,m=R+k,J=m;let A=P*this.config.skillGapWeight+L*this.config.finishRateWeight+m*this.config.vulnerabilityWeight;const V=z>j&&R>k,ie=j>z&&k>R;(V||ie)&&(A+=this.config.methodMatchBonus),a.rawData.Number_of_Fights_36m>=4&&L>=40&&L<=65&&(A+=this.config.highPaceFinishBonus),Math.max(z,j)>45&&m>35&&(A+=this.config.styleStrengthBonus),L>55&&J>45&&(A+=this.config.finisherVsVulnerableBonus);const q=a.archetype?.combinedRole||"",ke=o.archetype?.combinedRole||"",Se=q.includes("AT")||q.includes("ANT"),E=ke.includes("PT")||ke.includes("PNT");if(Se&&E&&L>30&&m>25&&(A+=this.config.predatorVsDefensiveBonus),!(A>=32&&A<this.config.finishLikelihoodThreshold&&m>50)){if(A<this.config.finishLikelihoodThreshold||g.probability<58&&L<24){let te=Math.min(Math.round(100-A),85);L<15&&J<20&&(te+=this.config.decisionLowFinishAdjust),L<10&&J<15&&(te+=this.config.decisionLowFinishAdjust);let Oe=this.config.goesToDecisionMaxProb;return c===3?Oe=Math.min(Oe+0,88):c===5&&(Oe=Math.max(Oe-0,88)),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(te,Oe),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:U,finishRate2:D}}}let se=z*this.config.koThreatWinnerWeight+R*this.config.koThreatLoserWeight,ee=j*this.config.subThreatWinnerWeight+k*this.config.subThreatLoserWeight;const Ke=k-R;Ke>this.config.subVulnDiffHighThreshold?ee+=this.config.subVulnDiffHighBonus:Ke>this.config.subVulnDiffMedThreshold&&(ee+=this.config.subVulnDiffMedBonus);const $=R-k;$>this.config.koVulnDiffHighThreshold?se+=this.config.koVulnDiffHighBonus:$>this.config.koVulnDiffMedThreshold&&(se+=this.config.koVulnDiffMedBonus);const oe=a.fightRadar.STR_OFF-o.fightRadar.STR_OFF;if(oe>this.config.strOffGapLowThreshold){const te=oe>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:oe>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;se+=te}const we=a.fightRadar.CTRL-o.fightRadar.CTRL;if(we>this.config.ctrlGapLowThreshold){const te=we>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:we>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;ee+=te}const Me=a.fightRadar.TD_OFF-o.fightRadar.TD_OFF;if(Me>this.config.tdOffGapLowThreshold){const te=Me>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:Me>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;ee+=te}const We=z>j&&R>k,$e=j>z&&k>R,Le=Math.abs(se-ee),Pe=Math.abs(z-j);if(Le<3?Pe<5?R>k:We&&!$e||se>ee&&!$e:se>ee){let te=Math.min(Math.round(A+se*.35),81);return P>10&&(te+=this.config.koSkillGapBonus),R>30&&(te+=this.config.koLoserVulnBonus),z>50&&(te+=this.config.koWinnerRateBonus),z>60&&R>25&&(te+=this.config.koComboBonus),We&&z>this.config.koMethodMatchWinnerThreshold&&R>this.config.koMethodMatchLoserThreshold&&(te+=this.config.koMethodMatchBonus),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(te,89),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:U,finishRate2:D}}else{let te=Math.min(Math.round(A+ee*.35),76);return P>10&&(te+=this.config.subSkillGapBonus),k>24&&(te+=this.config.subLoserVulnBonus),j>40&&(te+=this.config.subWinnerRateBonus),j>50&&k>20&&(te+=this.config.subComboBonus),$e&&j>this.config.subMethodMatchWinnerThreshold&&k>this.config.subMethodMatchLoserThreshold&&(te+=this.config.subMethodMatchBonus),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(te,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:U,finishRate2:D}}}predictTotalRounds(t,s,g,c=3){const a=g.winner,o=a===t?s:t,l=1.82,y=3.45,v=a.overall+(a.oppTierScore-l)*y,M=o.overall+(o.oppTierScore-l)*y,P=Math.abs(v-M),U=(t.rawData.Fight_Duration_Seconds||900)/60,D=(s.rawData.Fight_Duration_Seconds||900)/60,L=a===t?U:D,Y=a===t?D:U,ne=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,z=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,I=a===t?ne:z,ye=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,j=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,R=a===t?ye:j,k=o.rawData.Number_of_Fights_36m>0?(o.rawData.loss_kotko+o.rawData.loss_sub)/o.rawData.Number_of_Fights_36m*100:0;let m=P*this.config.durationSkillGapWeight+I*this.config.durationFinishRateWeight+k*this.config.durationVulnerabilityWeight+(15-Math.min(L,15))*this.config.durationAvgTimeWeight*10;k>this.config.durationLoserVulnThreshold&&(m+=this.config.loserVulnBonus),ne<this.config.durationBothLowFinishThreshold&&z<this.config.durationBothLowFinishThreshold&&(m-=this.config.decisionFighterPenalty);const J=t.rawData.Number_of_Fights_36m,A=s.rawData.Number_of_Fights_36m;Math.abs(J-A)>=this.config.durationPaceAsymmetryThreshold&&Math.min(J,A)<=2&&(m-=this.config.durationPaceAsymmetryPenalty);const ie=(U+D)/2,fe=[],Q=I>70&&k>50&&P>12||I>80&&k>40||P>15&&I>60;if(m>55&&g.probability>65&&Q||L<6&&Y<8&&P>10){let q=Math.min(Math.round(m+this.config.durationUnderExtreme),75);P>15&&(q+=this.config.durationUnderSkillGapExtreme),I>80&&(q+=this.config.durationUnderFinishRateExtreme),k>60&&(q+=this.config.durationUnderLoserVulnExtreme);const ke=Math.min(q,82);fe.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:ke,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:L})}if(c===5){const q=I>60&&k>40||R>60&&L<8,ke=L<8&&Y<8.5;if(m>this.config.earlyFinishScoreThreshold&&g.probability>48||q){let Se=Math.min(Math.round(m+this.config.underBonusBase),76);P>10&&(Se+=this.config.durationUnderSkillGapBonus),k>45&&(Se+=this.config.durationUnderLoserVulnBonus),I>65&&(Se+=this.config.durationUnderWinnerFinishBonus),I>50&&k>35&&(Se+=this.config.durationUnderComboBonus);const E=Math.min(Se,87);ke&&fe.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:E,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:L})}}if(c===3){let q=68;m>38&&(q=61),m>32&&m<=38&&(q=66),m<25&&(q=75),m<18&&(q=79),I>60&&(q-=4),I<20&&(q+=7),I<15&&k<25&&(q+=5),ie>8.5&&(q=Math.min(q+4,85));const ke=Math.min(Math.max(Math.round(q),53),85);fe.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:ke,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:ie})}if(c===5){let q=68;m>38&&(q=61),m>32&&m<=38&&(q=66),m<25&&(q=75),m<18&&(q=79),I>60&&(q-=4),I<20&&(q+=7),I<15&&k<25&&(q+=5);const ke=Math.min(Math.max(Math.round(q),53),82);fe.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:ke,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:ie});const Se=I<30&&k<30&&ie>8,E=m<20,se=ie>8.5;if(Se||E||se){let ee=55;I<15&&k<15&&(ee=68),I<10&&k<10&&(ee=72),se&&(ee=Math.max(ee,70),I<20&&k<20&&(ee=Math.min(ee+8,80))),m>20&&(ee-=5),m>30&&(ee-=8);const Ke=Math.min(Math.max(Math.round(ee),50),82);fe.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Ke,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:ie})}}return fe.sort((q,ke)=>ke.probability-q.probability),fe[0]}generateFightProps(t,s,g,c=3){const a=this.calculateBettingMetrics(t,s,g);this.hasDominantGrappler(t,s),this.isStrikerWar(t,s);const o=6;return a.f1SubRate+a.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:a}:a.weightedFinishRate&&a.weightedFinishRate>60&&a.weightedAvgFightTime&&a.weightedAvgFightTime<o?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:a}:a.f1KnockdownRate>.6&&a.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:a}:a.f1TakedownRate>15||a.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:a}:a.f1StrikeVolume>120&&a.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:a}:a.f1TakedownRate<5&&a.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:a}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:a}}analyzeKeyFactors(t,s){const g=[],c=t.rawData.reach_inches||0,a=s.rawData.reach_inches||0,o=Math.abs(c-a);if(o>2){const D=c>a?t.name||"Fighter 1":s.name||"Fighter 2";g.push({label:"combat_analysis.key_factors.reach_advantage",value:`${D} +${o}"`,type:"advantage"})}const l=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,y=s.rawData.Sig_Strikes_Thrown>0?Math.round(s.rawData.Sig_Strikes_Landed/s.rawData.Sig_Strikes_Thrown*100):0;g.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${l}% vs ${s.name||"F2"}: ${y}%`,type:"comparison"});const v=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,M=s.rawData.takedowns_attempted_against>0?Math.round(s.rawData.Takedowns_Defended/s.rawData.takedowns_attempted_against*100):85;g.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${v}% vs ${s.name||"F2"}: ${M}%`,type:"comparison"});const P=t.rawData.Number_of_Fights_36m||0,U=s.rawData.Number_of_Fights_36m||0;if(Math.abs(P-U)>2){const D=P>U?t.name||"Fighter 1":s.name||"Fighter 2",L=Math.max(P,U),Y=Math.min(P,U);g.push({label:"combat_analysis.key_factors.higher_activity",value:`${D}: ${L} vs ${Y} fights`,type:"advantage"})}return g}analyzeTrends(t,s){const g=[],c=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=s.rawData.Number_of_Fights_36m>0?Math.round(s.rawData.win/s.rawData.Number_of_Fights_36m*100):0;c>=75?g.push({type:"positive",text:`${t.name||"Fighter 1"} has ${c}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:t.name||"Fighter 1",winRate:c},fighter:t.name}):c<50&&g.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${c}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:t.name||"Fighter 1",winRate:c},fighter:t.name}),a>=75?g.push({type:"positive",text:`${s.name||"Fighter 2"} has ${a}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:s.name||"Fighter 2",winRate:a},fighter:s.name}):a<50&&g.push({type:"negative",text:`${s.name||"Fighter 2"} struggling at ${a}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:s.name||"Fighter 2",winRate:a},fighter:s.name});const o=(t.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60,y=(o+l)/2;return g.push({type:"neutral",text:`Combined average fight time: ${y.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:y.toFixed(1)}}),g}calculateMomentum(t){const s=t.streak;if(s===0)return 0;const g=Math.abs(s);return s>0?g>=3?this.config.winStreak3PlusBonus:g>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:g>=3?-this.config.loseStreak3PlusPenalty:g>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(t){return t===0?1:t===1?this.config.damageMultiplier1KO:t===2?this.config.damageMultiplier2KO:t===3?this.config.damageMultiplier3KO:t===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(t){const s=this.calculateAge(t),c={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=t.rawData.loss_kotko||0,o=this.calculateDamageMultiplier(a),l=(s-c)*o;if(l<=0)return 1;let y=0;return l<=5?y=l*this.config.agePenaltyPhase1Rate:l<=10?y=5*this.config.agePenaltyPhase1Rate+(l-5)*this.config.agePenaltyPhase2Rate:y=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(l-10)*this.config.agePenaltyPhase3Rate,y=Math.min(y,this.config.agePenaltyMaxCap),1-y}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,o=new Date(a);if(!isNaN(o.getTime())){const l=new Date;let y=l.getFullYear()-o.getFullYear();const v=l.getMonth()-o.getMonth();return(v<0||v===0&&l.getDate()<o.getDate())&&y--,y}}const s=25,g=2.5,c=t.rawData.Number_of_Fights_36m||0;return Math.round(s+c/g)}getInactiveMonths(t){const s=t.rawData.Number_of_Fights_36m||0;return s>=3?0:s>=2?6:s>=1?12:24}getFightsInPeriod(t,s){const g=s/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*g)}getWeightedMetric(t,s,g,c,a=.5){const o=g.probability/100,l=1-o;return g.winner===c?t*o+s*l*a:s*o+t*l*a}getFighterStyle(t){const s=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,g=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0;return s>15||g>25?"grappler":c>30&&s<10?"striker":"balanced"}hasDominantGrappler(t,s){const g=this.getFighterStyle(t),c=this.getFighterStyle(s),a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,o=s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0;return g==="grappler"&&a>20||c==="grappler"&&o>20}isStrikerWar(t,s){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(s)==="striker"}calculateBettingMetrics(t,s,g){const c=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,o=(t.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Knockdowns/s.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:s.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Sub_Attempts/s.rawData.Number_of_Fights_36m:0,f1FinishRate:c,f2FinishRate:a,avgFightTime:(o+l)/2,weightedFinishRate:g?this.getWeightedMetric(c,a,g,t,.5):void 0,weightedAvgFightTime:g?this.getWeightedMetric(o,l,g,t,1):void 0}}getWinReasoningKey(t,s,g,c){return t.overall>s.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>s.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>s.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":g>c+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=ht.MIN_HIGH_CONFIDENCE?"high":t>=ht.MIN_MEDIUM_CONFIDENCE?"medium":(t>=ht.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2},priority:1}}createVictoryMethodCard(t){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{method:t.method,finishRate1:t.finishRate1,finishRate2:t.finishRate2},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(t,s,g,c,a,o,l){if(t==="insufficient_fights"&&s&&g){const y=(c||0)<=2,v=(a||0)<=2;let M="";return y&&v?M=`Both fighters have insufficient fight data: ${s.name} (${c} fights) and ${g.name} (${a} fights). Minimum 3 fights required for accurate predictions.`:y?M=`${s.name} has insufficient fight data (${c} fights). Minimum 3 fights required for accurate predictions.`:v&&(M=`${g.name} has insufficient fight data (${a} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:M,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:c,fighter2Fights:a}}}if(t==="different_divisions"&&s&&g)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${s.name} competes in ${s.division} while ${g.name} competes in ${g.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:s.division,fighter2Division:g.division}};if(t==="low_moneyline_confidence"&&s&&g){const y=o||0,v=l||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${s.name} ${y.toFixed(1)}% vs ${g.name} ${v.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:s.name,fighter2Name:g.name,fighter1Probability:y,fighter2Probability:v}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(s=>(s.type==="moneyline"||s.type==="victory_method"||s.type==="duration"||s.type==="winner_and_method"||s.type==="fight_props")&&s.confidence>=ht.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((s,g)=>s.priority-g.priority)}}const pi=new ht;var mi=K('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),bi=K('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),yi=K('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),wi=K('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Di=K('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),ki=K('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ti=K('<div class="bet-explanation svelte-1v78qb8"> </div>'),xi=K('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ri=K('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Fi=K('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Mi=K('<div class="bet-explanation svelte-1v78qb8"> </div>'),Si=K('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ki=K('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ci=K('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),Ni=K('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Pi=K("<div><!></div>"),Oi=K('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),Ei=K('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function $i(B,t){yt(t,!1);const[s,g]=Ft(),c=()=>gt(Aa,"$locale",s),a=()=>gt(Mt,"$_",s),o=b(),l=b(),y=b(),v=b(),M=b(),P=b(),U=b(),D=b(),L=b(),Y=b(),ne=b(),z=b(),I=b(),ye=b(),j=b(),R=b(),k=b(),m=b(),J=Oa();let A=Ue(t,"fighter1",8,null),V=Ue(t,"fighter2",8,null),ie=Ue(t,"scheduledRounds",8,3);function fe(ee){J("roundsChanged",ee)}function Q(ee,Ke){return ee.filter($=>$.type===Ke)}function q(ee){switch(ee){case Rt.HIGH:return"high-confidence";case Rt.MEDIUM:return"medium-confidence";case Rt.LOW:return"low-confidence";default:return""}}let ke=c();G(()=>(N(A()),N(V())),()=>{_(o,A()&&V())}),G(()=>(e(o),N(A()),N(V()),N(ie())),()=>{_(l,e(o)?pi.generateBetCards(A(),V(),!0,ie()):[])}),G(()=>(e(o),N(A()),N(V()),e(l),ut),()=>{e(o)&&A()&&V()&&e(l).length>0&&ut.trackBettingAnalysis(A().name,V().name)}),G(()=>(e(l),be),()=>{_(y,Q(e(l),be.MONEYLINE))}),G(()=>(e(l),be),()=>{_(v,Q(e(l),be.VICTORY_METHOD))}),G(()=>(e(l),be),()=>{_(M,Q(e(l),be.WINNER_AND_METHOD))}),G(()=>(e(l),be),()=>{_(P,Q(e(l),be.DURATION))}),G(()=>(e(l),be),()=>{_(U,Q(e(l),be.GOES_TO_DECISION))}),G(()=>(e(l),be),()=>{_(D,Q(e(l),be.GONE_IN_60))}),G(()=>(e(l),be),()=>{_(L,Q(e(l),be.FIGHT_PROPS))}),G(()=>(e(l),be),()=>{_(Y,Q(e(l),be.KEY_FACTORS))}),G(()=>(e(l),be),()=>{_(ne,Q(e(l),be.TRENDS))}),G(()=>(e(l),be),()=>{_(z,Q(e(l),be.NO_PREDICTION))}),G(()=>(e(y),e(v),e(M),e(P),e(U),e(D)),()=>{_(I,e(y).length+e(v).length+e(M).length+e(P).length+e(U).length+e(D).length)}),G(()=>e(I),()=>{_(ye,e(I)>0)}),G(()=>e(ye),()=>{_(j,e(ye)?0:1)}),G(()=>(e(L),e(Y),e(ne)),()=>{_(R,e(L).length+e(Y).length+e(ne).length)}),G(()=>(e(I),e(j),e(R)),()=>{_(k,e(I)+e(j)+e(R))}),G(()=>c(),()=>{c()!==ke&&ke&&window.location.reload()}),G(()=>e(o),()=>{_(m,e(o))}),wt(),Dt();var Se=it(),E=Ae(Se);{var se=ee=>{var Ke=Ei(),$=i(Ke),oe=i($),we=i(oe),Me=i(we);ta(Me,{size:32});var We=d(we),$e=d(oe,4),Le=i($e),Pe=d($,2),qe=i(Pe),te=i(qe),Oe=i(te),je=d(te,2),xe=i(je),Be=d(je,2),he=i(Be),ae=d(qe,4),_e=i(ae),Ve=i(_e),Ye=d(_e,2),st=i(Ye),et=d(Ye,2),nt=i(et),tt=d(Pe,2);{var rt=w=>{var r=mi(),T=i(r),C=i(T),H=d(T,2),S=i(H),F=d(S,2);W(O=>{u(C,`${O??""}:`),He(S,1,`rounds-btn ${ie()===3?"active":""}`,"svelte-1v78qb8"),He(F,1,`rounds-btn ${ie()===5?"active":""}`,"svelte-1v78qb8")},[()=>(a(),n(()=>a()("fight_radar.scheduled_rounds")))]),Ie("click",S,()=>fe(3)),Ie("click",F,()=>fe(5)),p(w,r)};Z(tt,w=>{e(I)>0&&w(rt)})}var Re=d(tt,2);let Ce;var Ge=i(Re);Qe(Ge,1,()=>e(z),Je,(w,r)=>{var T=bi(),C=i(T),H=i(C);Ct(H,{size:16,style:"display: inline; margin-right: 0.25rem;"});var S=d(H),F=d(C,2),O=i(F),re=i(O),ue=d(O,2),De=i(ue),ce=d(F,2),de=i(ce);W((le,Fe,me,ve)=>{u(S,` ${le??""}`),u(re,Fe),u(De,me),u(de,ve)},[()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey,{values:e(r).metadata||{}})))]),p(w,T)});var lt=d(Ge,2);Qe(lt,1,()=>e(y),Je,(w,r)=>{var T=yi(),C=i(T),H=i(C),S=d(C,2),F=i(S),O=i(F),re=d(F,2),ue=i(re),De=d(S,2),ce=i(De);W((de,le,Fe,me)=>{He(T,1,`bet-card moneyline ${de??""}`,"svelte-1v78qb8"),u(H,le),u(O,(e(r),n(()=>e(r).prediction))),u(ue,`${e(r),n(()=>e(r).confidence)??""}% ${Fe??""}`),u(ce,me)},[()=>(e(r),n(()=>q(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,T)});var at=d(lt,2);Qe(at,1,()=>e(v),Je,(w,r)=>{var T=wi(),C=i(T),H=i(C),S=d(C,2),F=i(S),O=i(F),re=d(F,2),ue=i(re),De=d(S,2),ce=i(De);W((de,le,Fe,me,ve)=>{He(T,1,`bet-card method-victory ${de??""}`,"svelte-1v78qb8"),u(H,le),u(O,Fe),u(ue,`${e(r),n(()=>e(r).confidence)??""}% ${me??""}`),u(ce,ve)},[()=>(e(r),n(()=>q(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,T)});var ct=d(at,2);Qe(ct,1,()=>e(M),Je,(w,r)=>{var T=Di(),C=i(T),H=i(C),S=d(C,2),F=i(S),O=i(F),re=d(F,2),ue=i(re),De=d(S,2),ce=i(De);W((de,le,Fe,me,ve)=>{He(T,1,`bet-card winner-and-method ${de??""}`,"svelte-1v78qb8"),u(H,le),u(O,`${e(r),n(()=>e(r).prediction)??""}
              ${Fe??""}`),u(ue,`${e(r),n(()=>e(r).confidence)??""}% ${me??""}`),u(ce,ve)},[()=>(e(r),n(()=>q(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):"")),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,T)});var dt=d(ct,2);Qe(dt,1,()=>e(P),Je,(w,r)=>{var T=xi(),C=i(T),H=i(C),S=d(C,2),F=i(S),O=i(F),re=d(F,2),ue=i(re),De=d(S,2),ce=i(De),de=d(De,2);{var le=me=>{var ve=ki(),ze=i(ve);W(Xe=>u(ze,Xe),[()=>(a(),e(r),n(()=>a()(e(r).explanationKey)))]),p(me,ve)},Fe=me=>{var ve=it(),ze=Ae(ve);{var Xe=Ze=>{var ot=Ti(),_t=i(ot);W(()=>u(_t,(e(r),n(()=>e(r).explanation)))),p(Ze,ot)};Z(ze,Ze=>{e(r),n(()=>e(r).explanation)&&Ze(Xe)},!0)}p(me,ve)};Z(de,me=>{e(r),n(()=>e(r).explanationKey)?me(le):me(Fe,!1)})}W((me,ve,ze,Xe,Ze)=>{He(T,1,`bet-card total-rounds ${me??""}`,"svelte-1v78qb8"),u(H,ve),u(O,ze),u(ue,`${e(r),n(()=>e(r).confidence)??""}% ${Xe??""}`),u(ce,Ze)},[()=>(e(r),n(()=>q(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,T)});var h=d(dt,2);Qe(h,1,()=>e(U),Je,(w,r)=>{var T=Ri(),C=i(T),H=i(C),S=d(C,2),F=i(S),O=i(F),re=d(F,2),ue=i(re),De=d(S,2),ce=i(De);W((de,le,Fe,me,ve)=>{He(T,1,`bet-card decision-type ${de??""}`,"svelte-1v78qb8"),u(H,le),u(O,Fe),u(ue,`${e(r),n(()=>e(r).confidence)??""}% ${me??""}`),u(ce,ve)},[()=>(e(r),n(()=>q(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,T)});var f=d(h,2);Qe(f,1,()=>e(D),Je,(w,r)=>{var T=Fi(),C=i(T),H=i(C),S=d(C,2),F=i(S),O=i(F),re=d(F,2),ue=i(re),De=d(S,2),ce=i(De);W((de,le,Fe,me,ve)=>{He(T,1,`bet-card gone-in-60 ${de??""}`,"svelte-1v78qb8"),u(H,le),u(O,Fe),u(ue,`${e(r),n(()=>e(r).confidence)??""}% ${me??""}`),u(ce,ve)},[()=>(e(r),n(()=>q(e(r).confidenceLevel))),()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,T)});var x=d(f,2);Qe(x,1,()=>e(L),Je,(w,r)=>{var T=Ki(),C=i(T),H=i(C);ea(H,{size:16,style:"display: inline; margin-right: 0.25rem;"});var S=d(H),F=d(C,2),O=i(F),re=i(O),ue=d(O,2),De=i(ue),ce=d(F,2),de=i(ce),le=d(ce,2);{var Fe=ve=>{var ze=Mi(),Xe=i(ze);W(Ze=>u(Xe,Ze),[()=>(a(),e(r),n(()=>a()(e(r).explanationKey)))]),p(ve,ze)},me=ve=>{var ze=it(),Xe=Ae(ze);{var Ze=ot=>{var _t=Si(),Tt=i(_t);W(()=>u(Tt,(e(r),n(()=>e(r).explanation)))),p(ot,_t)};Z(Xe,ot=>{e(r),n(()=>e(r).explanation)&&ot(Ze)},!0)}p(ve,ze)};Z(le,ve=>{e(r),n(()=>e(r).explanationKey)?ve(Fe):ve(me,!1)})}W((ve,ze,Xe,Ze,ot)=>{u(S,` ${ve??""}`),u(re,ze),u(De,`${Xe??""}: ${Ze??""}`),u(de,ot)},[()=>(a(),e(r),n(()=>a()(e(r).titleKey))),()=>(e(r),a(),n(()=>e(r).predictionKey?a()(e(r).predictionKey):e(r).prediction)),()=>(a(),n(()=>a()("combat_analysis.value"))),()=>(e(r),a(),n(()=>e(r).metadata?.valueKey?a()(e(r).metadata.valueKey):e(r).metadata?.value||"N/A")),()=>(a(),e(r),n(()=>a()(e(r).reasoningKey)))]),p(w,T)});var X=d(x,2);Qe(X,1,()=>e(Y),Je,(w,r)=>{var T=Ni(),C=i(T),H=i(C),S=d(C,2);Qe(S,5,()=>(e(r),n(()=>e(r).metadata?.factors||[])),Je,(F,O)=>{var re=Ci(),ue=i(re),De=i(ue),ce=d(ue,2),de=i(ce);W(le=>{u(De,le),u(de,(e(O),n(()=>e(O).value)))},[()=>(a(),e(O),n(()=>a()(e(O).label)))]),p(F,re)}),W(F=>u(H,F),[()=>(a(),e(r),n(()=>a()(e(r).titleKey)))]),p(w,T)});var pe=d(X,2);Qe(pe,1,()=>e(ne),Je,(w,r)=>{var T=Oi(),C=i(T),H=i(C),S=d(C,2);Qe(S,5,()=>(e(r),n(()=>e(r).metadata?.trends||[])),Je,(F,O)=>{var re=Pi(),ue=i(re);{var De=de=>{var le=pt();W(Fe=>u(le,Fe),[()=>(a(),e(O),n(()=>a()(e(O).textKey,{values:e(O).params||{}})))]),p(de,le)},ce=de=>{var le=pt();W(()=>u(le,(e(O),n(()=>e(O).text)))),p(de,le)};Z(ue,de=>{e(O),n(()=>e(O).textKey)?de(De):de(ce,!1)})}W(()=>He(re,1,`trend-item ${e(O),n(()=>e(O).type)??""}`,"svelte-1v78qb8")),p(F,re)}),W(F=>u(H,F),[()=>(a(),e(r),n(()=>a()(e(r).titleKey)))]),p(w,T)});var Te=d(Re,2),Ee=i(Te),Ne=i(Ee);W((w,r,T,C)=>{u(We,` ${w??""}`),u(Le,r),u(Oe,(N(A()),n(()=>A().name))),u(xe,`${N(A()),n(()=>A().rawData.win)??""}-${N(A()),n(()=>A().rawData.loss)??""}-${N(A()),n(()=>A().rawData.draws)??""}`),u(he,(N(A()),n(()=>A().archetype.archetypeEmojis))),u(Ve,(N(V()),n(()=>V().name))),u(st,`${N(V()),n(()=>V().rawData.win)??""}-${N(V()),n(()=>V().rawData.loss)??""}-${N(V()),n(()=>V().rawData.draws)??""}`),u(nt,(N(V()),n(()=>V().archetype.archetypeEmojis))),Ce=He(Re,1,"betting-grid svelte-1v78qb8",null,Ce,T),u(Ne,`* ${C??""}`)},[()=>(a(),n(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),n(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(k)<=3}),()=>(a(),n(()=>a()("combat_analysis.disclaimer")))]),p(ee,Ke)};Z(E,ee=>{e(m)&&ee(se)})}p(B,Se),kt(),g()}var Ii=K('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),Li=K('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Ai=K('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Wi=K('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),qi=K('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Bi=K('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),Hi=K('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Gi=K('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Vi=K('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function Ui(B,t){yt(t,!1);const s=b(),g=b(),c=b(),a=b();let o=Ue(t,"channelId",8),l=b([]),y=b(!0),v=b(null),M=b(0),P=b(!1),U=b(null),D=b(!0);function L(){e(l).length!==0&&(_(D,!0),qt(M),e(M)>=e(l).length*2&&setTimeout(()=>{_(D,!1),_(M,e(l).length),setTimeout(()=>{_(D,!0)},50)},400))}function Y(){e(l).length!==0&&(_(D,!0),qt(M,-1),e(M)<e(l).length&&setTimeout(()=>{_(D,!1),_(M,e(l).length*2-1),setTimeout(()=>{_(D,!0)},50)},400))}function ne(E){_(U,E)}let z=0,I=0,ye=0,j=!1,R=!1,k=b(0),m=0;const J=40;function A(E){e(P)&&(z=E.touches[0].clientX,I=E.touches[0].clientY,ye=z,j=!0,R=!1,_(D,!1),m=e(M),_(k,0))}function V(E){if(!e(P)||!j)return;const se=E.touches[0].clientX,ee=E.touches[0].clientY,Ke=Math.abs(se-z),$=Math.abs(ee-I);if(!R)if(Ke>J&&Ke>$)R=!0;else if($>Ke&&$>10){j=!1,R=!1,_(D,!0),_(k,0);return}else return;if(R){ye=se;const oe=ye-z,we=E.currentTarget instanceof HTMLElement?E.currentTarget.clientWidth:window.innerWidth;_(k,-(oe/we)*100),E.preventDefault()}}function ie(){if(!e(P)||!j)return;j=!1,R=!1,_(D,!0);const E=z-ye;Math.abs(E)>50?E>0?_(M,m+1):_(M,m-1):Math.abs(e(k))>40?_(M,m+(e(k)>0?1:-1)):_(M,m),e(M)>=e(l).length*2?setTimeout(()=>{_(D,!1),_(M,e(l).length),setTimeout(()=>{_(D,!0)},50)},400):e(M)<e(l).length&&setTimeout(()=>{_(D,!1),_(M,e(l).length*2-1),setTimeout(()=>{_(D,!0)},50)},400),_(k,0),z=0,I=0,ye=0}function fe(){const E=window.innerWidth;_(P,E<768)}aa(()=>(fe(),window.addEventListener("resize",fe),(async()=>{try{const E=await Wa.fetchVideosByChannelId(o(),!0);E.length===0?_(v,"No se encontraron videos para este canal"):(_(l,E),console.log(`Loaded ${e(l).length} videos from channel ${o()}`))}catch(E){console.error("Error fetching videos:",E),_(v,"Error al cargar los videos")}finally{_(y,!1)}})(),()=>{window.removeEventListener("resize",fe)})),G(()=>e(P),()=>{_(s,e(P)?1:window.innerWidth>=1024?4:3)}),G(()=>(e(P),e(s)),()=>{_(g,e(P)?80:100/e(s))}),G(()=>e(P),()=>{_(c,e(P)?10:0)}),G(()=>e(l),()=>{_(a,e(l).length>0?[...e(l).map((E,se)=>({...E,_key:`prev-${se}`})),...e(l).map((E,se)=>({...E,_key:`curr-${se}`})),...e(l).map((E,se)=>({...E,_key:`next-${se}`}))]:[])}),G(()=>(e(l),e(M)),()=>{e(l).length>0&&e(M)===0&&_(M,e(l).length)}),wt(),Dt();var Q=Vi(),q=i(Q);{var ke=E=>{var se=Ii();p(E,se)},Se=E=>{var se=it(),ee=Ae(se);{var Ke=oe=>{var we=Li(),Me=i(we),We=i(Me);W(()=>u(We,e(v))),p(oe,we)},$=oe=>{var we=it(),Me=Ae(we);{var We=$e=>{var Le=Gi(),Pe=i(Le);{var qe=he=>{var ae=Ai();Ie("click",ae,Y),p(he,ae)};Z(Pe,he=>{e(l),n(()=>e(l).length>1)&&he(qe)})}var te=d(Pe,2),Oe=i(te);let je;Qe(Oe,5,()=>e(a),he=>he._key,(he,ae)=>{var _e=Bi(),Ve=i(_e);{var Ye=Re=>{var Ce=Wi(),Ge=i(Ce);W(()=>{ge(Ge,"src",`${e(ae),n(()=>e(ae).embedUrl)??""}?autoplay=1`),ge(Ge,"title",(e(ae),n(()=>e(ae).title)))}),p(Re,Ce)},st=Re=>{var Ce=qi(),Ge=i(Ce);W(()=>{ge(Ce,"aria-label",`Reproducir ${e(ae),n(()=>e(ae).title)??""}`),ge(Ge,"src",(e(ae),n(()=>e(ae).thumbnailUrl))),ge(Ge,"alt",(e(ae),n(()=>e(ae).title)))}),Ie("click",Ce,()=>ne(e(ae)._key)),p(Re,Ce)};Z(Ve,Re=>{e(U),e(ae),n(()=>e(U)===e(ae)._key)?Re(Ye):Re(st,!1)})}var et=d(Ve,2),nt=i(et),tt=i(nt),rt=i(tt);W(()=>{bt(_e,`flex: 0 0 ${e(P)?"80%":100/e(s)+"%"}`),ge(nt,"href",(e(ae),n(()=>e(ae).watchUrl))),u(rt,(e(ae),n(()=>e(ae).title)))}),p(he,_e)});var xe=d(te,2);{var Be=he=>{var ae=Hi();Ie("click",ae,L),p(he,ae)};Z(xe,he=>{e(l),n(()=>e(l).length>1)&&he(Be)})}W(he=>{je=He(Oe,1,"videos-track svelte-18xx8u1",null,je,he),bt(Oe,`transform: translateX(-${e(M)*e(g)-e(c)+e(k)}%)`)},[()=>({"no-transition":!e(D)})]),Ie("touchstart",Le,A),Ie("touchmove",Le,V),Ie("touchend",Le,ie),p($e,Le)};Z(Me,$e=>{e(l),n(()=>e(l).length>0)&&$e(We)},!0)}p(oe,we)};Z(ee,oe=>{e(v)?oe(Ke):oe($,!1)},!0)}p(E,se)};Z(q,E=>{e(y)?E(ke):E(Se,!1)})}p(B,Q),kt()}var ji=K('<div class="loading svelte-1ibyju2" id="loading"><div class="loading-content svelte-1ibyju2"><div class="spinner svelte-1ibyju2"></div> <p class="svelte-1ibyju2"> </p></div></div>'),zi=K('<button class="share-fight-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1ibyju2"></path></svg> </button>'),Yi=K('<div class="action-buttons-section svelte-1ibyju2"><!> <button class="clear-radars-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1ibyju2"></path></svg> </button></div>'),Qi=K('<div class="controls svelte-1ibyju2"><div class="fighter-selectors svelte-1ibyju2"><div class="control-group svelte-1ibyju2"><label for="fighter1-select" class="svelte-1ibyju2"> </label> <div id="fighter1-container-select" class="svelte-1ibyju2"><!></div></div> <div class="vs-divider svelte-1ibyju2">VS</div> <div class="control-group svelte-1ibyju2"><label for="fighter2-select" class="svelte-1ibyju2"> </label> <div id="fighter2-container-select" class="svelte-1ibyju2"><!></div></div></div> <!></div>'),Xi=K('<div class="division-disclaimer svelte-1ibyju2"><div class="disclaimer-title svelte-1ibyju2"><!> <strong class="svelte-1ibyju2"> </strong></div> <div class="disclaimer-text svelte-1ibyju2"> </div></div>'),Zi=K('<div class="fighter-info svelte-1ibyju2"><div id="fighter1-container" class="svelte-1ibyju2"><!></div> <div id="fighter2-container" class="svelte-1ibyju2"><!></div></div>'),Ji=K('<div class="radar-container svelte-1ibyju2"><div id="fight-radar-container" class="svelte-1ibyju2"><!></div> <div id="iq-radar-container" class="svelte-1ibyju2"><!></div></div>'),es=K('<hr class="section-divider svelte-1ibyju2"/> <!> <div class="view-calendar-link svelte-1ibyju2"><button class="calendar-link-btn svelte-1ibyju2"> </button></div>',1),ts=K('<hr class="section-divider svelte-1ibyju2"/> <!>',1),as=K('<div class="fight-radar-app svelte-1ibyju2"><div class="container svelte-1ibyju2"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function hs(B,t){yt(t,!1);const[s,g]=Ft(),c=()=>gt(J,"$urlSearchParams",s),a=()=>gt(Mt,"$_",s),o=b(),l=b(),y=b(),v=b(),M=b(),P=b(),U=b(),D=b(),L=b(),Y=b(),ne=b(),z=b();let I=Ue(t,"isDarkMode",8,!0),ye=Ue(t,"toggleTheme",8,()=>{}),j=b(new Map),R=b(new Map),k=b([]),m=b(new Map);const J=Ea(vt());function A(h,f){const x=`fighter${f}`;ft({[x]:h}),J.set(vt())}function V(h){ft({rounds:h.toString()}),J.set(vt())}let ie=b(!1),fe=b(!1),Q=b(!1),q=b(!1),ke=b(!1),Se=b(!1),E=b(!1),se=b(!1),ee=!1;aa(()=>{window.Highcharts=$a,J.set(vt());const h=qa(()=>{J.set(vt())});return Ke(),h});async function Ke(){try{_(ie,!0);const{allRawFightersDataMap:h,allRawFightersByDivision:f,processedFightersMap:x,processedFighters:X}=await Ha.loadFightersFromCSV();_(j,h),_(m,f),_(R,x),_(k,X),_(fe,!0)}catch(h){console.error("Error loading data:",h)}finally{_(ie,!1)}}function $(h=[]){return h.map(f=>({value:f.nameWithNickname,label:f.name,imageUrl:oe(f)}))}function oe(h){return h.pictureUrl&&h.pictureUrl!==""?h.pictureUrl:we(h.division)?"no_photo_female.png":"no_photo_male.png"}function we(h){return!!(h&&h.startsWith("W_"))}function Me(h){if(A(h,1),!(!ee&&c().has("rounds"))){const x=e(j).get(h),X=e(l)?e(j).get(e(l)):null;x&&x.division_ranking==="0"||X&&X.division_ranking==="0"?V(5):(ft({rounds:""}),J.set(vt()))}ee=!0,h&&!e(l)&&(_(se,!1),setTimeout(()=>{_(se,!0),setTimeout(()=>{_(se,!1)},50)},100))}function We(h){if(A(h,2),!c().has("rounds")){const x=e(o)?e(j).get(e(o)):null,X=e(j).get(h);x&&x.division_ranking==="0"||X&&X.division_ranking==="0"?V(5):(ft({rounds:""}),J.set(vt()))}h&&!e(o)&&(_(E,!1),setTimeout(()=>{_(E,!0),setTimeout(()=>{_(E,!1)},50)},100))}function $e(h){_(ke,h)}function Le(h){_(Se,h)}function Pe(){ut.trackCleanRadars(),ft({fighter1:"",fighter2:"",rounds:""}),J.set(vt())}function qe(){if(!e(o)||!e(l))return;const h=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";ut.trackFightShare(e(o),e(l),h);const f=Ba("/",{fighter1:e(o),fighter2:e(l)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(o)} vs ${e(l)} - Fight-Radar`,text:`Compara las estadsticas de ${e(o)} vs ${e(l)}`,url:f}).catch(console.error):navigator.clipboard.writeText(f).then(()=>{te("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",f)})}function te(h){const f=document.createElement("div");f.className="notification",f.textContent=h,f.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(f),setTimeout(()=>{f.style.opacity="1",f.style.transform="translateY(0)"},10),setTimeout(()=>{f.style.opacity="0",f.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(f)},300)},3e3)}function Oe(h,f,x){const X=[];return h&&X.push({name:h.name,data:[h.fightRadar.STR_OFF,h.fightRadar.STR_DEF,h.fightRadar.TD_OFF,h.fightRadar.TD_DEF,h.fightRadar.CTRL,h.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),f&&X.push({name:f.name,data:[f.fightRadar.STR_OFF,f.fightRadar.STR_DEF,f.fightRadar.TD_OFF,f.fightRadar.TD_DEF,f.fightRadar.CTRL,f.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&X.push({name:x.name,data:[x.fightRadar.STR_OFF,x.fightRadar.STR_DEF,x.fightRadar.TD_OFF,x.fightRadar.TD_DEF,x.fightRadar.CTRL,x.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),X}function je(h,f,x){const X=[];return h&&X.push({name:h.name,data:[h.iqRadar.distance,h.iqRadar.adaptability,h.iqRadar.composure,h.iqRadar.decisions,h.iqRadar.rhythm,h.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),f&&X.push({name:f.name,data:[f.iqRadar.distance,f.iqRadar.adaptability,f.iqRadar.composure,f.iqRadar.decisions,f.iqRadar.rhythm,f.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&X.push({name:x.name,data:[x.iqRadar.distance,x.iqRadar.adaptability,x.iqRadar.composure,x.iqRadar.decisions,x.iqRadar.rhythm,x.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),X}function xe(h){const f={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[x,X,pe]=h.combinedRole.split("+")??["AT"];let Te=[[x,100]];if(X&&pe?Te=[[x,33],[X,34],[pe,33]]:X?Te=[[x,50],[X,50]]:pe&&(Te=[[x,60],[pe,40]]),Te.length===1){const[Ee,Ne]=Te[0],w=Math.min(Ne,70);return`linear-gradient(135deg, ${f[Ee]} 0%, ${f[Ee]} ${w}%, var(--card-bg) 100%)`}else{const Ee=Te.reduce((T,[,C])=>T+C,0);let Ne=[],w=0;return Te.forEach(([T,C],H)=>{const S=C/Ee*85,F=f[T];H===0&&Ne.push(`${F} ${w}%`),w+=S,H===Te.length-1?(Ne.push(`${F} ${w}%`),Ne.push("var(--card-bg) 100%")):Ne.push(`${F} ${w}%`)}),`linear-gradient(135deg, ${Ne.join(", ")})`}}G(()=>c(),()=>{_(o,c().get("fighter1")||"")}),G(()=>c(),()=>{_(l,c().get("fighter2")||"")}),G(()=>c(),()=>{_(y,c().get("rounds")==="5"?5:3)}),G(()=>(e(ke),e(Se)),()=>{_(v,e(ke)||e(Se))}),G(()=>(e(k),e(l)),()=>{_(M,$(e(k)).filter(h=>h.value!==e(l)))}),G(()=>(e(k),e(o)),()=>{_(P,$(e(k)).filter(h=>h.value!==e(o)))}),G(()=>(e(o),e(l),e(j),e(m),Gt),()=>{_(U,(()=>{if(!e(o)||!e(l))return null;const h=e(j).get(e(o)),f=e(j).get(e(l));if(!h||!f)return null;if(h.Division===f.Division){const x=h.Division;if(e(m).has(x))return Gt(x,e(m).get(x))}return null})())}),G(()=>(e(o),e(R)),()=>{_(D,e(o)?e(R).get(e(o))??null:null)}),G(()=>(e(l),e(R)),()=>{_(L,e(l)?e(R).get(e(l))??null:null)}),G(()=>(e(U),e(o),e(l),e(j),e(m),Vt),()=>{_(Y,(()=>{if(!e(U)||!e(o)||!e(l))return null;const h=e(j).get(e(o));return!h||!e(m).has(h.Division)?null:Vt(e(U),e(m).get(h.Division))})())}),G(()=>(e(D),e(L),e(Y)),()=>{_(ne,Oe(e(D)??null,e(L)??null,e(Y)??null))}),G(()=>(e(D),e(L),e(Y)),()=>{_(z,je(e(D),e(L),e(Y)))}),G(()=>(e(ie),e(j),e(o),e(l),ut),()=>{const h=!e(ie)&&e(j).size>0&&e(j).has(e(o))&&e(j).has(e(l));_(Q,!!(e(o)&&e(l)&&h)),_(q,!!(e(o)&&e(l)&&h)),e(o)&&e(l)&&h&&ut.trackFighterComparison(e(o),e(l))}),wt(),Dt();var Be=as(),he=i(Be),ae=i(he);Ia(ae,{showThemeToggle:!0,get isDarkMode(){return I()},get toggleTheme(){return ye()}});var _e=d(ae,2);{var Ve=h=>{var f=ji(),x=i(f),X=d(i(x),2),pe=i(X);W(Te=>u(pe,Te),[()=>(a(),n(()=>a()("fight_radar.loading_data")))]),p(h,f)};Z(_e,h=>{e(ie)&&h(Ve)})}var Ye=d(_e,2);{var st=h=>{var f=Qi(),x=i(f),X=i(x),pe=i(X),Te=i(pe),Ee=d(pe,2),Ne=i(Ee);{let O=xt(()=>(a(),n(()=>a()("common.select_fighter"))));Xt(Ne,{id:"fighter1-select",get placeholder(){return e(O)},disabled:!1,get options(){return e(M)},get selectedValue(){return e(o)},onSelectionChange:Me,onOpenStateChange:$e,get shouldOpen(){return e(E)}})}var w=d(X,4),r=i(w),T=i(r),C=d(r,2),H=i(C);{let O=xt(()=>(a(),n(()=>a()("common.select_fighter"))));Xt(H,{id:"fighter2-select",get placeholder(){return e(O)},disabled:!1,get options(){return e(P)},get selectedValue(){return e(l)},onSelectionChange:We,onOpenStateChange:Le,get shouldOpen(){return e(se)}})}var S=d(x,2);{var F=O=>{var re=Yi(),ue=i(re);{var De=le=>{var Fe=zi(),me=d(i(Fe));W(ve=>u(me,` ${ve??""}`),[()=>(a(),n(()=>a()("fight_radar.share_fight")))]),Ie("click",Fe,qe),p(le,Fe)};Z(ue,le=>{e(o)&&e(l)&&le(De)})}var ce=d(ue,2),de=d(i(ce));W(le=>u(de,` ${le??""}`),[()=>(a(),n(()=>a()("fight_radar.clear_radars")))]),Ie("click",ce,Pe),p(O,re)};Z(S,O=>{(e(o)||e(l))&&O(F)})}W((O,re)=>{u(Te,`${O??""}:`),u(T,`${re??""}:`)},[()=>(a(),n(()=>a()("common.fighter_1"))),()=>(a(),n(()=>a()("common.fighter_2")))]),p(h,f)};Z(Ye,h=>{e(fe)&&h(st)})}var et=d(Ye,2);{var nt=h=>{var f=it(),x=Ae(f);{var X=pe=>{var Te=Xi(),Ee=i(Te),Ne=i(Ee);Ct(Ne,{size:20,class:"disclaimer-icon"});var w=d(Ne,2),r=i(w),T=d(Ee,2),C=i(T);W((H,S)=>{u(r,H),u(C,S)},[()=>(a(),n(()=>a()("fight_radar.cross_division_title"))),()=>(a(),N(mt),e(D),e(L),n(()=>a()("fight_radar.cross_division_text",{values:{division1:mt(e(D).rawData.Division),division2:mt(e(L).rawData.Division)}})))]),p(pe,Te)};Z(x,pe=>{e(D),e(L),n(()=>e(D)?.rawData&&e(L)?.rawData&&e(D).rawData.Division!==e(L).rawData.Division)&&pe(X)})}p(h,f)};Z(et,h=>{e(o)&&e(l)&&e(Q)&&h(nt)})}var tt=d(et,2);{var rt=h=>{var f=Zi(),x=i(f),X=i(x);Zt(X,{get fighter(){return e(D)},id:"fighter1-info"});var pe=d(x,2),Te=i(pe);Zt(Te,{get fighter(){return e(L)},id:"fighter2-info"}),W((Ee,Ne)=>{bt(x,`background: ${Ee??""}`),bt(pe,`background: ${Ne??""}`)},[()=>(e(D),n(()=>e(D)?xe(e(D).archetype):"var(--card-bg)")),()=>(e(L),n(()=>e(L)?xe(e(L).archetype):"var(--card-bg)"))]),p(h,f)};Z(tt,h=>{e(Q)&&h(rt)})}var Re=d(tt,2);{var Ce=h=>{var f=Ji(),x=i(f),X=i(x);Bt(X,()=>(e(o),e(l),e(ne),n(()=>`${e(o)}-${e(l)}-${e(ne).length}`)),Ee=>{{let Ne=xt(()=>(N(Ut),n(Ut)));zt(Ee,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(Ne)},get series(){return e(ne)},isIQRadar:!1})}});var pe=d(x,2),Te=i(pe);Bt(Te,()=>(e(o),e(l),e(z),n(()=>`${e(o)}-${e(l)}-${e(z).length}`)),Ee=>{{let Ne=xt(()=>(N(jt),n(jt)));zt(Ee,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(Ne)},get series(){return e(z)},isIQRadar:!0})}}),p(h,f)};Z(Re,h=>{e(q),e(ne),n(()=>e(q)&&e(ne).length>0)&&h(Ce)})}var Ge=d(Re,2);$i(Ge,{get fighter1(){return e(D)},get fighter2(){return e(L)},get scheduledRounds(){return e(y)},$$events:{roundsChanged:h=>V(h.detail)}});var lt=d(Ge,2);{var at=h=>{var f=es(),x=d(Ae(f),2);La(x,{limit:2});var X=d(x,2),pe=i(X),Te=i(pe);W(Ee=>u(Te,`${Ee??""} `),[()=>(a(),n(()=>a()("banner.view_calendar")))]),Ie("click",pe,()=>ia("/calendar")),p(h,f)};Z(lt,h=>{!e(o)&&!e(l)&&!e(v)&&h(at)})}var ct=d(he,2);{var dt=h=>{var f=ts(),x=d(Ae(f),2);Ui(x,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),p(h,f)};Z(ct,h=>{!e(o)&&!e(l)&&!e(v)&&h(dt)})}p(B,Be),kt(),g()}export{hs as default};
