import{q as gt,p as je,l as P,C as w,z as x,r as S,A as e,h as wt,j as ut,f as M,m as Ye,$ as St,i as se,c as r,u as d,S as Nt,t as $,B as be,s as Ee,b as k,o as pt,I as ft,n as He,x as n,y as _,J as vt,T as _a,k as ot,D as Pe,E as Le,Q as Mt,U as ha,V as xt,W as ht,Y as ga,Z as Gt,_ as zt,a0 as Ct,a as ua,a1 as pa,w as fa,F as ma,K as yt,a2 as Et}from"./lucide-CFoebsfS.js";import{H as ya}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ba}from"./Header-DN_RcpO7.js";import{$ as mt,n as Bt,A as ct,a as wa,g as _t,b as Da,u as It,c as ka}from"./index-CpGNHGgC.js";import{c as kt,g as $t,f as Fa,a as Ot,p as At,b as Ft,d as Pt,e as Lt}from"./fighters_service-DYrCFYo1.js";import{R as Ra,a as Ht}from"./RadarChart-BeGL5TNO.js";import{F as xa}from"./FindYoutubeHighlights-CWAHTT-Y.js";import"./highcharts-DyRVWUji.js";var Ca=M('<img class="svelte-gkl5a1"/>'),Ka=M('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Ta=M("<!> <span> </span>",1),Sa=M("<span> </span>"),Na=M('<img class="svelte-gkl5a1"/>'),Ma=M('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Ea=M('<button type="button"><!> <span> </span></button>'),Ia=M('<div class="no-results svelte-gkl5a1"> </div>'),$a=M('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Oa=M('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Wt(j,t){gt(t,!1);const[i,h]=ft(),o=()=>vt(mt,"$_",i),a=x(),l=x();let c=je(t,"id",8),g=je(t,"placeholder",8,""),v=je(t,"disabled",8,!0),f=je(t,"options",24,()=>[]),m=je(t,"selectedValue",12,""),b=je(t,"onSelectionChange",8,void 0),K=x(!1),Z=x(),te=x(),O=x("");function we(){v()||(w(K,!e(K)),e(K)&&setTimeout(()=>e(te)?.focus(),0))}function J(y){m(y.value),w(O,""),w(K,!1),b()&&b()(y.value,y)}function oe(y){const fe=y.target;w(O,fe.value)}function F(y){y.key==="Enter"&&e(l).length>0?(J(e(l)[0]),y.preventDefault()):y.key==="Escape"&&(w(O,""),w(K,!1))}function C(y){e(Z)&&!e(Z).contains(y.target)&&(w(K,!1),w(O,""))}function B(y){y.key==="Escape"&&w(K,!1)}P(()=>(S(f()),S(m())),()=>{w(a,f().find(y=>y.value===m()))}),P(()=>(e(O),S(f()),kt),()=>{w(l,e(O)?f().filter(y=>kt(y.label.toLowerCase()).includes(kt(e(O).toLowerCase()))):f())}),wt(),ut();var U=Oa();Ye("click",St,C),Ye("keydown",St,B);var N=r(U);let E;var L=r(N),G=r(L);{var ce=y=>{var fe=Ta(),xe=He(fe);{var ke=Ce=>{var Se=Ca();$(()=>{be(Se,"src",(e(a),n(()=>e(a).imageUrl))),be(Se,"alt",(e(a),n(()=>e(a).label)))}),k(Ce,Se)},ze=Ce=>{var Se=ot(),Je=He(Se);{var at=Ie=>{var ue=Ka(),Fe=r(ue);Mt(Fe,()=>e(a).iconComponent,(Ue,qe)=>{qe(Ue,{size:16})}),k(Ie,ue)};se(Je,Ie=>{e(a),n(()=>e(a)?.iconComponent)&&Ie(at)},!0)}k(Ce,Se)};se(xe,Ce=>{e(a),n(()=>e(a)?.imageUrl)?Ce(ke):Ce(ze,!1)})}var We=d(xe,2),Be=r(We);$(()=>_(Be,(e(a),n(()=>e(a).label)))),k(y,fe)},q=y=>{var fe=Sa(),xe=r(fe);$(ke=>_(xe,ke),[()=>(S(g()),o(),n(()=>g()||o()("common.select_option")))]),k(y,fe)};se(G,y=>{e(a)?y(ce):y(q,!1)})}var Ge=d(L,2);let Qe;var Ze=d(N,2);{var lt=y=>{var fe=$a(),xe=r(fe),ke=r(xe);Nt(ke,ue=>w(te,ue),()=>e(te));var ze=d(xe,2),We=r(ze);let Be;var Ce=r(We),Se=r(Ce),Je=d(We,2);{var at=ue=>{var Fe=ot(),Ue=He(Fe);Pe(Ue,1,()=>e(l),Le,(qe,_e)=>{var Ke=Ea();let Xe;var it=r(Ke);{var nt=I=>{var Y=Na();$(()=>{be(Y,"src",(e(_e),n(()=>e(_e).imageUrl))),be(Y,"alt",(e(_e),n(()=>e(_e).label)))}),Ye("error",Y,ae=>{ae.currentTarget.style.display="none"}),k(I,Y)},u=I=>{var Y=ot(),ae=He(Y);{var me=ne=>{var De=Ma(),Ne=r(De);Mt(Ne,()=>e(_e).iconComponent,($e,Oe)=>{Oe($e,{size:16})}),k(ne,De)};se(ae,ne=>{e(_e),n(()=>e(_e)?.iconComponent)&&ne(me)},!0)}k(I,Y)};se(it,I=>{e(_e),n(()=>e(_e)?.imageUrl)?I(nt):I(u,!1)})}var p=d(it,2),R=r(p);$(I=>{Xe=Ee(Ke,1,"dropdown-item svelte-gkl5a1",null,Xe,I),_(R,(e(_e),n(()=>e(_e).label)))},[()=>({selected:m()===e(_e).value})]),Ye("click",Ke,()=>J(e(_e))),k(qe,Ke)}),k(ue,Fe)},Ie=ue=>{var Fe=ot(),Ue=He(Fe);{var qe=_e=>{var Ke=Ia(),Xe=r(Ke);$(()=>_(Xe,`No se encontraron resultados para "${e(O)??""}"`)),k(_e,Ke)};se(Ue,_e=>{e(O)&&_e(qe)},!0)}k(ue,Fe)};se(Je,ue=>{e(l),n(()=>e(l).length>0)?ue(at):ue(Ie,!1)})}$((ue,Fe,Ue)=>{be(ke,"placeholder",ue),be(ze,"id",`dropdown-options-${c()??""}`),Be=Ee(We,1,"dropdown-item svelte-gkl5a1",null,Be,Fe),_(Se,Ue)},[()=>(o(),n(()=>o()("common.search")||"Search...")),()=>({selected:m()===""}),()=>(S(g()),o(),n(()=>g()||o()("common.select_option")))]),_a(ke,()=>e(O),ue=>w(O,ue)),Ye("input",ke,oe),Ye("keydown",ke,F),Ye("click",We,()=>J({value:"",label:g(),imageUrl:""})),k(y,fe)};se(Ze,y=>{e(K)&&y(lt)})}Nt(U,y=>w(Z,y),()=>e(Z)),$((y,fe)=>{be(U,"id",c()),E=Ee(N,1,"dropdown-button svelte-gkl5a1",null,E,y),N.disabled=v(),be(N,"aria-expanded",e(K)),be(N,"aria-controls",`dropdown-options-${c()??""}`),Qe=Ee(Ge,1,"dropdown-arrow svelte-gkl5a1",null,Qe,fe)},[()=>({disabled:v(),open:e(K)}),()=>({rotated:e(K)})]),Ye("click",N,we),k(j,U),pt(),h()}function Rt(j,t){if(t()){const i=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;Bt(i)}}var Aa=M('<img class="fighter-image svelte-1gw86rr"/> <div class="fighter-placeholder svelte-1gw86rr" style="display: none;">Picture Unavailable</div>',1),Pa=M('<div class="fighter-placeholder svelte-1gw86rr">Picture Unavailable</div>'),La=(j,t)=>j.key==="Enter"&&t(),Ha=M('<div class="stat-item role-disc-clickable svelte-1gw86rr" role="button" tabindex="0"><span class="stat-label svelte-1gw86rr">ROLE-DISC:</span> <span><div class="role-emojis svelte-1gw86rr"> </div> <div class="role-name svelte-1gw86rr"> </div></span></div>'),Wa=M('<hr class="archetype-divider svelte-1gw86rr"/> <div class="archetype-container svelte-1gw86rr"><div class="archetype-section svelte-1gw86rr"><h3 class="archetype-section-title svelte-1gw86rr"> </h3> <div class="archetype-fields svelte-1gw86rr"><div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value description svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value favorite-zone svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value strengths svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value weaknesses svelte-1gw86rr"> </div></div></div></div></div>',1),Ua=M('<div class="fighter-header svelte-1gw86rr"><div class="header-actions svelte-1gw86rr"><!> <button type="button" class="fighter-detail-cta svelte-1gw86rr" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1gw86rr"><div class="fighter-image-container svelte-1gw86rr"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1gw86rr"><div class="fighter-name svelte-1gw86rr"> </div></button> <div class="star-rating svelte-1gw86rr"><div class="stars-container svelte-1gw86rr"></div></div> <div class="fighter-stats svelte-1gw86rr"><!> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value career-record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span><!></span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value height svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value reach svelte-1gw86rr"> </span></div></div> <!>',1),Va=M('<div class="empty-card svelte-1gw86rr"><div class="empty-message svelte-1gw86rr"> </div></div>'),Ga=M('<div class="fighter-card svelte-1gw86rr"><!></div> <!>',1);function Ut(j,t){gt(t,!1);const[i,h]=ft(),o=()=>vt(mt,"$_",i),a=x(),l=x(),c=x(),g=x();let v=je(t,"fighter",8,null),f=je(t,"id",8,""),m=x(!1);function b(){w(m,!0)}function K(){w(m,!1)}P(()=>o(),()=>{w(a,F=>{if(!F||!F.startsWith("@ARCHETYPE_"))return F;let C="",B="";if(F.includes("_DESCRIPTION"))C=F.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),B="description";else if(F.includes("_FAVORITE_ZONE"))C=F.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),B="favorite_zone";else if(F.includes("_STRENGTHS"))C=F.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),B="strengths";else if(F.includes("_WEAKNESSES"))C=F.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),B="weaknesses";else{const E=F.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!E)return F;C=E[1],B=E[2].toLowerCase()}const U=`archetype_data.${C}.${B}`,N=o()(U);return F.includes("_WEAKNESSES"),N!==U?N:F})}),P(()=>(S(v()),$t),()=>{w(l,v()?$t(v().archetype):null)}),P(()=>S(v()),()=>{w(c,v()?.rawData.height_inches?Math.floor(v().rawData.height_inches/12)+"'"+v().rawData.height_inches%12+'"':"-")}),P(()=>S(v()),()=>{w(g,v()?.rawData.reach_inches?v().rawData.reach_inches+'"':"-")}),wt(),ut();var Z=Ga(),te=He(Z),O=r(te);{var we=F=>{var C=Ua(),B=He(C),U=r(B),N=r(U);xa(N,{get fighterFullName(){return S(v()),n(()=>v().nameWithNickname)},size:"large"});var E=d(N,2);E.__click=[Rt,v];var L=r(E);ha(L,{size:16});var G=d(U,2);G.__click=[Rt,v];var ce=r(G),q=r(ce);{var Ge=z=>{var ie=Aa(),Re=He(ie);$(()=>{be(Re,"src",(S(v()),n(()=>v().pictureUrl))),be(Re,"alt",`${S(v()),n(()=>v().name)??""} fighter profile picture`)}),Ye("error",Re,Te=>{Te.currentTarget.style.display="none";const A=Te.currentTarget.nextElementSibling;A&&(A.style.display="block")}),k(z,ie)},Qe=z=>{var ie=Pa();k(z,ie)};se(q,z=>{S(v()),n(()=>v().pictureUrl)?z(Ge):z(Qe,!1)})}var Ze=d(B,2);Ze.__click=[Rt,v];var lt=r(Ze),y=r(lt),fe=d(Ze,2),xe=r(fe),ke=d(fe,2),ze=r(ke);{var We=z=>{var ie=Ha();ie.__click=b,ie.__keydown=[La,b];var Re=r(ie),Te=d(Re,2),A=r(Te),s=r(A),D=d(A,2),T=r(D);$((Q,W)=>{be(ie,"aria-label",Q),be(Re,"title",W),Ee(Te,1,`stat-value role-indicator archetype-dots archetype-${e(l),n(()=>e(l).type)??""}`,"svelte-1gw86rr"),be(Te,"title",(e(l),n(()=>e(l).tooltip))),_(s,(e(l),n(()=>e(l).label))),_(T,(e(l),n(()=>e(l).name)))},[()=>(o(),n(()=>o()("role_disc_modal.open_modal_aria_label"))),()=>(o(),n(()=>o()("role_disc_modal.archetype_tooltip")))]),k(z,ie)};se(ze,z=>{e(l)&&z(We)})}var Be=d(ze,2),Ce=r(Be),Se=r(Ce),Je=d(Ce,2),at=r(Je),Ie=d(Be,2),ue=r(Ie),Fe=r(ue),Ue=d(ue,2),qe=r(Ue),_e=d(Ie,2),Ke=r(_e),Xe=r(Ke),it=d(Ke,2);let nt;var u=r(it);{var p=z=>{var ie=ht();$(()=>_(ie,`+${S(v()),n(()=>v().streak)??""}W`)),k(z,ie)},R=z=>{var ie=ot(),Re=He(ie);{var Te=s=>{var D=ht();$(()=>_(D,`${S(v()),n(()=>v().streak)??""}L`)),k(s,D)},A=s=>{var D=ht("-");k(s,D)};se(Re,s=>{S(v()),n(()=>v().streak<0)?s(Te):s(A,!1)},!0)}k(z,ie)};se(u,z=>{S(v()),n(()=>v().streak>0)?z(p):z(R,!1)})}var I=d(_e,2),Y=r(I),ae=r(Y),me=d(Y,2),ne=r(me),De=d(I,2),Ne=r(De),$e=r(Ne),Oe=d(Ne,2),et=r(Oe),rt=d(ke,2);{var st=z=>{var ie=Wa(),Re=d(He(ie),2),Te=r(Re),A=r(Te),s=r(A),D=d(A,2),T=r(D),Q=r(T),W=r(Q),H=r(W);ga(H,{size:18});var V=d(W,2),le=r(V),he=d(Q,2),ge=r(he),ve=d(T,2),ee=r(ve),re=r(ee),ye=r(re);Gt(ye,{size:18});var de=d(re,2),X=r(de),Me=d(ee,2),Ve=r(Me),Ae=d(ve,2),tt=r(Ae),dt=r(tt),Dt=r(dt);zt(Dt,{size:18});var qt=d(dt,2),Yt=r(qt),jt=d(tt,2),Qt=r(jt),Zt=d(Ae,2),Kt=r(Zt),Tt=r(Kt),Jt=r(Tt);Ct(Jt,{size:18});var Xt=d(Tt,2),ea=r(Xt),ta=d(Kt,2),aa=r(ta);$((ia,ra,sa,na,oa,la,da,va,ca)=>{_(s,ia),_(le,ra),_(ge,sa),_(X,na),_(Ve,oa),_(Yt,la),_(Qt,da),_(ea,va),_(aa,ca)},[()=>(o(),n(()=>o()("archetype.analysis_title"))),()=>(o(),n(()=>o()("archetype.tactical_description"))),()=>(e(a),S(v()),n(()=>e(a)(v().archetype.description))),()=>(o(),n(()=>o()("archetype.preferred_zone"))),()=>(e(a),S(v()),n(()=>e(a)(v().archetype.favoriteZone))),()=>(o(),n(()=>o()("archetype.strengths"))),()=>(e(a),S(v()),n(()=>e(a)(v().archetype.strengths))),()=>(o(),n(()=>o()("archetype.weaknesses"))),()=>(e(a),S(v()),n(()=>e(a)(v().archetype.weaknesses)))]),k(z,ie)};se(rt,z=>{S(v()),n(()=>v().archetype)&&z(st)})}$((z,ie,Re,Te,A,s,D,T,Q,W,H)=>{be(E,"aria-label",`View detailed fighter profile for ${S(v()),n(()=>v().nameWithNickname)??""}`),_(y,(S(v()),n(()=>v().name))),xt(xe,`--fill-width: ${S(v()),n(()=>v().stars*20)??""}%`),be(Ce,"title",z),_(Se,`${ie??""}:`),_(at,(S(v()),n(()=>v().career_record))),be(ue,"title",Re),_(Fe,`${Te??""}:`),_(qe,(S(v()),n(()=>v().record_36m))),be(Ke,"title",A),_(Xe,`${s??""}:`),nt=Ee(it,1,"stat-value streak svelte-1gw86rr",null,nt,D),be(Y,"title",T),_(ae,`${Q??""}:`),_(ne,e(c)),be(Ne,"title",W),_($e,`${H??""}:`),_(et,e(g))},[()=>(o(),n(()=>o()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(o(),n(()=>o()("fighter_profile.career_record"))),()=>(o(),n(()=>o()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(o(),n(()=>o()("fighter_profile.record_36m"))),()=>(o(),n(()=>o()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(o(),n(()=>o()("fighter_profile.streak"))),()=>({"streak-win":v().streak>0,"streak-loss":v().streak<0}),()=>(o(),n(()=>o()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(o(),n(()=>o()("fighter_profile.height"))),()=>(o(),n(()=>o()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(o(),n(()=>o()("fighter_profile.reach")))]),k(F,C)},J=F=>{var C=Va(),B=r(C),U=r(B);$(N=>_(U,N),[()=>(o(),n(()=>o()("fight_radar.select_fighter_stats")))]),k(F,C)};se(O,F=>{v()?F(we):F(J,!1)})}var oe=d(te,2);Ra(oe,{get isOpen(){return e(m)},$$events:{close:K}}),$(()=>be(te,"id",f())),k(j,Z),pt(),h()}ua(["click","keydown"]);var za=M('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function Ba(j,t){gt(t,!1);const[i,h]=ft(),o=()=>vt(mt,"$_",i);function a(){Bt("/calendar")}ut();var l=za(),c=r(l),g=r(c),v=r(g),f=r(v);pa(f,{size:24,style:"display: inline; margin-right: 0.5rem;"});var m=d(f),b=d(v,2),K=r(b),Z=d(g,2),te=r(Z);$((O,we,J)=>{_(m,` ${O??""}`),_(K,we),_(te,J)},[()=>o()("banner.new_functionality"),()=>o()("banner.explore_calendar"),()=>o()("banner.view_calendar")]),Ye("click",Z,a),k(j,l),pt(),h()}var pe=(j=>(j.FIGHT_WINNER="fight_winner",j.METHOD_OF_VICTORY="method_of_victory",j.WINNER_AND_ROUND="winner_and_round",j.TOTAL_ROUNDS="total_rounds",j.SPECIFIC_FINISH_METHOD="specific_finish_method",j.GOES_TO_DECISION="goes_to_decision",j.DISTANCE_YES_NO="distance_yes_no",j.GONE_IN_60="gone_in_60",j.FIGHT_PROPS="fight_props",j.KEY_FACTORS="key_factors",j.TRENDS="trends",j.NO_PREDICTION="no_prediction",j))(pe||{}),bt=(j=>(j.HIGH="high",j.MEDIUM="medium",j.LOW="low",j))(bt||{});class qa{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=60,this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,i){const h=[],o=this.calculateWinProbability(t,i),a=this.predictMethodOfVictory(t,i,o),l=this.predictTotalRounds(t,i,o),c=this.predictRoundBetting(t,i,o),g=this.generateFightProps(t,i,o),v=this.analyzeKeyFactors(t,i),f=this.analyzeTrends(t,i);return h.push(this.createMoneylineCard(o)),a.probability>=this.MIN_MEDIUM_CONFIDENCE&&h.push(this.createMethodOfVictoryCard(a)),l.probability>=this.MIN_MEDIUM_CONFIDENCE&&h.push(this.createTotalRoundsCard(l)),c.probability>=this.MIN_HIGH_CONFIDENCE&&h.push(this.createRoundBettingCard(c)),h.push(this.createFightPropsCard(g)),h.push(this.createKeyFactorsCard(v)),h.push(this.createTrendsCard(f)),this.hasHighConfidencePredictions(h)||h.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(h)}validatePredictions(t){const i=this.filterByConfidence(t);return this.resolveContradictions(i)}filterByConfidence(t){return t.filter(i=>i.type==="key_factors"||i.type==="trends"||i.type==="no_prediction"||i.type==="fight_winner"?!0:i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}resolveContradictions(t){let i=[...t];return i=this.resolveOverUnderContradictions(i),i=this.resolveMethodVsDurationContradictions(i),i=this.resolveMethodVsPropsContradictions(i),i=this.resolveDurationVsPropsContradictions(i),i}resolveMethodVsDurationContradictions(t){const i=t.find(f=>f.type==="method_of_victory"&&(f.prediction.toLowerCase().includes("decision")||f.predictionKey?.toLowerCase().includes("decision")));if(!i)return t;const h=t.filter(f=>{if(f.type!=="total_rounds")return!1;const m=f.prediction.toLowerCase(),b=f.predictionKey?.toLowerCase()||"";return m.includes("under")||b.includes("under")}),o=t.filter(f=>{if(f.type!=="winner_and_round")return!1;const m=f.prediction.toLowerCase(),b=f.predictionKey?.toLowerCase()||"";return m.includes("round 1")||m.includes("round 2")||b.includes("round_1")||b.includes("round_2")}),a=[...h,...o];if(a.length===0)return t;const l=[i,...a],c=Math.max(...l.map(f=>f.confidence)),g=l.find(f=>f.confidence===c);if(!g)return t;const v=new Set(l.map(f=>f.id));return t.filter(f=>!v.has(f.id)||f.id===g.id)}resolveOverUnderContradictions(t){const i=t.filter(a=>a.type==="total_rounds");if(i.length<=1)return t;const h=new Map;for(const a of i){const l=a.prediction.toLowerCase(),c=a.predictionKey?.toLowerCase()||"",g=l.match(/(\d+\.5)/)||c.match(/(\d+)_5/);if(g){const v=g[1].replace("_5",".5");h.has(v)||h.set(v,[]),h.get(v).push(a)}}const o=new Set;for(const[a,l]of h)if(l.length>1){const c=l.some(v=>v.prediction.toLowerCase().includes("over")||v.predictionKey?.toLowerCase().includes("over")),g=l.some(v=>v.prediction.toLowerCase().includes("under")||v.predictionKey?.toLowerCase().includes("under"));if(c&&g){const f=l.sort((m,b)=>b.confidence-m.confidence)[0];for(const m of l)m.id!==f.id&&o.add(m.id)}}return t.filter(a=>!o.has(a.id))}resolveMethodVsPropsContradictions(t){const i=t.find(l=>l.type==="method_of_victory"),h=t.filter(l=>l.type==="fight_props");if(!i||h.length===0)return t;const o=i.prediction.toLowerCase(),a=new Set;for(const l of h){const c=(l.prediction||"").toLowerCase(),g=(l.predictionKey||"").toLowerCase();(o.includes("ko")||o.includes("tko"))&&(c.includes("submission")||c.includes("ground control")||g.includes("submission")||g.includes("ground_control"))&&a.add(l.id),o.includes("submission")&&(c.includes("standing exchange")&&!c.includes("ground")||g.includes("standing_exchange")&&!g.includes("ground"))&&a.add(l.id),o.includes("decision")&&(c.includes("first round finish")||c.includes("gone in 60")||g.includes("first_round_finish")||g.includes("gone_in_60"))&&a.add(l.id)}return t.filter(l=>!a.has(l.id))}resolveDurationVsPropsContradictions(t){const i=t.filter(a=>a.type==="total_rounds"),h=t.filter(a=>a.type==="fight_props");if(i.length===0||h.length===0)return t;const o=new Set;for(const a of i){const l=(a.prediction||"").toLowerCase(),c=(a.predictionKey||"").toLowerCase(),g=l.includes("under 2.5")||c.includes("under_2_5"),v=l.includes("over 3.5")||c.includes("over_3_5");for(const f of h){const m=(f.prediction||"").toLowerCase(),b=(f.predictionKey||"").toLowerCase();g&&((m.includes("over 100 strikes")||b.includes("over_100_strikes"))&&o.add(f.id),(m.includes("goes to distance")||b.includes("goes_to_distance"))&&o.add(f.id)),v&&(m.includes("first round")||m.includes("gone in 60")||b.includes("first_round")||b.includes("gone_in_60"))&&o.add(f.id)}}return t.filter(a=>!o.has(a.id))}calculatePhysicalAdvantage(t,i){const h=(t.rawData.reach_inches||0)-(i.rawData.reach_inches||0),o=(t.rawData.height_inches||0)-(i.rawData.height_inches||0);let a=0,l=0;return h>=3?a+=Math.min(Math.abs(h)*.004,.025):h<=-3&&(l+=Math.min(Math.abs(h)*.004,.025)),o>=3?a+=Math.min(Math.abs(o)*.0025,.015):o<=-3&&(l+=Math.min(Math.abs(o)*.0025,.015)),{f1Advantage:a,f2Advantage:l}}calculateWinProbability(t,i){let a=t.overall+(t.oppTierScore-1.82)*7.5,l=i.overall+(i.oppTierScore-1.82)*7.5;const c=this.calculatePhysicalAdvantage(t,i);a*=1+c.f1Advantage,l*=1+c.f2Advantage,a*=this.calculateAgeImpact(t),l*=this.calculateAgeImpact(i);const g=this.getInactiveMonths(t),v=this.getInactiveMonths(i);if(g>=18){const q=Math.min((g-18)*.005,.25);a*=1-q}if(v>=18){const q=Math.min((v-18)*.005,.25);l*=1-q}const f=this.getFightsInPeriod(t,18),m=this.getFightsInPeriod(i,18);f>=3&&(a*=1.05),m>=3&&(l*=1.05);const b=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,K=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,Z=this.calculateMomentum(t),te=this.calculateMomentum(i);a*=1+Z,l*=1+te;let O=.32,we=.32;b>=77?O=.38:b<50&&(O=.28),K>=77?we=.38:K<50&&(we=.28);const J=a+b*O,oe=l+K*we,F=this.calculateAge(t),C=this.calculateAge(i),B=F-C;let U=J,N=oe;if(Math.abs(B)>=5){const q=Math.min(Math.abs(B)*.005,.03);B>0?(U=J*(1-q),N=oe*(1+q)):(U=J*(1+q),N=oe*(1-q))}const E=Math.abs(U-N);if(E>11){const q=1+(E-11)*.018;U>N?U*=q:N*=q}const L=U+N;let G=L>0?Math.round(U/L*100):50,ce=L>0?Math.round(N/L*100):50;if(G=Math.max(15,Math.min(88,G)),ce=100-G,G>ce){let q=this.getWinReasoningKey(t,i,b,K);return{winner:t,probability:G,reasoning:q,adjustedScore1:U,adjustedScore2:N}}else{let q=this.getWinReasoningKey(i,t,K,b);return{winner:i,probability:ce,reasoning:q,adjustedScore1:N,adjustedScore2:U}}}predictMethodOfVictory(t,i,h){const o=h.winner,a=o===t?i:t,l=1.82,c=4.5,g=o.overall+(o.oppTierScore-l)*c,v=a.overall+(a.oppTierScore-l)*c,f=Math.abs(g-v),m=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,b=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,K=o===t?m:b,Z=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,te=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,O=o===t?Z:te,we=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,J=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,oe=o===t?we:J,F=a.rawData.Number_of_Fights_36m>0?(a.rawData.loss_ko+a.rawData.loss_tko)/a.rawData.Number_of_Fights_36m*100:0,C=a.rawData.Number_of_Fights_36m>0?a.rawData.loss_sub/a.rawData.Number_of_Fights_36m*100:0,B=F+C,U=B,N=f*.2+K*.38+B*.42;if(!(N>=32&&N<36.8&&B>50)){if(N<36.8||h.probability<58&&K<24){let y=Math.min(Math.round(100-N),85);return K<15&&U<20&&(y+=3),K<10&&U<15&&(y+=3),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(y,88),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:m,finishRate2:b}}}let E=O*.56+F*.44,L=oe*.59+C*.41;const G=C-F;G>12?L+=10:G>6&&(L+=5);const ce=F-C;ce>12?E+=10:ce>6&&(E+=5);const q=O>oe&&F>C,Ge=oe>O&&C>F,Qe=Math.abs(E-L),Ze=Math.abs(O-oe);if(Qe<3?Ze<5?F>C:q&&!Ge||E>L&&!Ge:E>L){let y=Math.min(Math.round(N+E*.35),81);return f>10&&(y+=7),F>30&&(y+=7),O>50&&(y+=5),O>60&&F>25&&(y+=3),q&&O>18&&F>15&&(y+=8),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(y,89),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:m,finishRate2:b}}else{let y=Math.min(Math.round(N+L*.35),76);return f>10&&(y+=7),C>24&&(y+=7),oe>40&&(y+=5),oe>50&&C>20&&(y+=3),Ge&&oe>16&&C>12&&(y+=8),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(y,89),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:m,finishRate2:b}}}predictTotalRounds(t,i,h){const o=h.winner,a=o===t?i:t,l=1.82,c=3.45,g=o.overall+(o.oppTierScore-l)*c,v=a.overall+(a.oppTierScore-l)*c,f=Math.abs(g-v),m=(t.rawData.Fight_Duration_Seconds||900)/60,b=(i.rawData.Fight_Duration_Seconds||900)/60,K=o===t?m:b,Z=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,te=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,O=o===t?Z:te,we=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,J=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,oe=o===t?we:J,F=a.rawData.Number_of_Fights_36m>0?(a.rawData.loss_ko+a.rawData.loss_tko+a.rawData.loss_sub)/a.rawData.Number_of_Fights_36m*100:0,C=f*.25+O*.35+F*.3+(15-Math.min(K,15))*.1*10,B=O>60&&F>40||oe>60&&K<8;if(C>39.6&&h.probability>50||B){let E=Math.min(Math.round(C+19),76);return f>10&&(E+=7),F>45&&(E+=7),O>65&&(E+=7),O>50&&F>35&&(E+=4),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(E,87),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:K}}const U=(m+b)/2,N=(Z+te)/2;if(N<8&&U>15.5){let E=Math.min(Math.round(100-N),70);return{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.min(E,72),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:U}}else{let E=68;return C>38&&(E=61),C>32&&C<=38&&(E=66),C<25&&(E=75),C<18&&(E=79),O>60&&(E-=4),O<20&&(E+=7),O<15&&F<25&&(E+=5),{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.min(Math.max(Math.round(E),53),82),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:U}}}generateFightProps(t,i,h){const o=this.calculateBettingMetrics(t,i,h);return this.hasDominantGrappler(t,i),this.isStrikerWar(t,i),o.f1SubRate+o.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:o}:o.weightedFinishRate&&o.weightedFinishRate>60&&o.weightedAvgFightTime&&o.weightedAvgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:o}:o.f1KnockdownRate>.6&&o.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:o}:o.f1TakedownRate>15||o.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:o}:o.f1StrikeVolume>120&&o.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:o}:o.f1TakedownRate<5&&o.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:o}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:o}}predictRoundBetting(t,i,h){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,c=(i.rawData.Fight_Duration_Seconds||900)/60,g=this.getWeightedMetric(o,a,h,t,.5),v=this.getWeightedMetric(l,c,h,t,1);return g>60&&v<5?{prediction:"Round 1",predictionKey:"betting_markets.round_1",probability:Math.round(Math.min(g+15,85)),reasoning:"betting_markets.reasoning.early_explosive_finish",explanationKey:"betting_markets.explanations.round_1_finish",avgTime:v}:g>40&&v<8?{prediction:"Round 2",predictionKey:"betting_markets.round_2",probability:Math.round(Math.min(g+10,80)),reasoning:"betting_markets.reasoning.second_round_finish",explanationKey:"betting_markets.explanations.round_2_finish",avgTime:v}:{prediction:"Goes to Decision",predictionKey:"betting_markets.goes_to_decision",probability:Math.round(Math.max(100-g,20)),reasoning:"betting_markets.reasoning.likely_decision",explanationKey:"betting_markets.explanations.goes_to_decision",avgTime:v}}analyzeKeyFactors(t,i){const h=[],o=t.rawData.reach_inches||0,a=i.rawData.reach_inches||0,l=Math.abs(o-a);if(l>2){const K=o>a?t.name||"Fighter 1":i.name||"Fighter 2";h.push({label:"combat_analysis.key_factors.reach_advantage",value:`${K} +${l}"`,type:"advantage"})}const c=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,g=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0;h.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${c}% vs ${i.name||"F2"}: ${g}%`,type:"comparison"});const v=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,f=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85;h.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${v}% vs ${i.name||"F2"}: ${f}%`,type:"comparison"});const m=t.rawData.Number_of_Fights_36m||0,b=i.rawData.Number_of_Fights_36m||0;if(Math.abs(m-b)>2){const K=m>b?t.name||"Fighter 1":i.name||"Fighter 2",Z=Math.max(m,b),te=Math.min(m,b);h.push({label:"combat_analysis.key_factors.higher_activity",value:`${K}: ${Z} vs ${te} fights`,type:"advantage"})}return h}analyzeTrends(t,i){const h=[],o=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0;o>=75?h.push({type:"positive",text:`${t.name||"Fighter 1"} has ${o}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:t.name||"Fighter 1",winRate:o},fighter:t.name}):o<50&&h.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${o}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:t.name||"Fighter 1",winRate:o},fighter:t.name}),a>=75?h.push({type:"positive",text:`${i.name||"Fighter 2"} has ${a}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 2",winRate:a},fighter:i.name}):a<50&&h.push({type:"negative",text:`${i.name||"Fighter 2"} struggling at ${a}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 2",winRate:a},fighter:i.name});const l=(t.rawData.Fight_Duration_Seconds||900)/60,c=(i.rawData.Fight_Duration_Seconds||900)/60,g=(l+c)/2;return h.push({type:"neutral",text:`Combined average fight time: ${g.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:g.toFixed(1)}}),h}calculateMomentum(t){const i=t.streak;if(i===0)return 0;const h=Math.abs(i);return i>0?h>=3?.08:h>=2?.05:.02:h>=3?-.08:h>=2?-.05:-.02}calculateDamageMultiplier(t){return t===0?1:t===1?1.1:t===2?1.25:t===3?1.4:t===4?1.6:1.8}calculateAgeImpact(t){const i=this.calculateAge(t),o={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=(t.rawData.loss_ko||0)+(t.rawData.loss_tko||0),l=this.calculateDamageMultiplier(a),c=(i-o)*l;if(c<=0)return 1;let g=0;return c<=5?g=c*.01:c<=10?g=.05+(c-5)*.015:g=.125+(c-10)*.02,g=Math.min(g,.3),1-g}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,l=new Date(a);if(!isNaN(l.getTime())){const c=new Date;let g=c.getFullYear()-l.getFullYear();const v=c.getMonth()-l.getMonth();return(v<0||v===0&&c.getDate()<l.getDate())&&g--,g}}const i=25,h=2.5,o=t.rawData.Number_of_Fights_36m||0;return Math.round(i+o/h)}getInactiveMonths(t){const i=t.rawData.Number_of_Fights_36m||0;return i>=3?0:i>=2?6:i>=1?12:24}getFightsInPeriod(t,i){const h=i/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*h)}hasBodyShotThreat(t,i){const h=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,o=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0;return h>40||o>40}getWeightedMetric(t,i,h,o,a=.5){const l=h.probability/100,c=1-l;return h.winner===o?t*l+i*c*a:i*l+t*c*a}getFighterStyle(t){const i=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,h=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0;return i>15||h>25?"grappler":o>30&&i<10?"striker":"balanced"}hasDominantGrappler(t,i){const h=this.getFighterStyle(t),o=this.getFighterStyle(i),a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,l=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0;return h==="grappler"&&a>20||o==="grappler"&&l>20}isStrikerWar(t,i){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(i)==="striker"}calculateBettingMetrics(t,i,h){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,c=(i.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f1FinishRate:o,f2FinishRate:a,avgFightTime:(l+c)/2,weightedFinishRate:h?this.getWeightedMetric(o,a,h,t,.5):void 0,weightedAvgFightTime:h?this.getWeightedMetric(l,c,h,t,1):void 0}}getWinReasoningKey(t,i,h,o){return t.overall>i.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>i.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>i.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":h>o+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=this.MIN_HIGH_CONFIDENCE?"high":t>=this.MIN_MEDIUM_CONFIDENCE?"medium":(t>=this.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"fight_winner",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2},priority:1}}createMethodOfVictoryCard(t){return{id:"method-of-victory",type:"method_of_victory",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{finishRate1:t.finishRate1,finishRate2:t.finishRate2},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"total_rounds",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createRoundBettingCard(t){return{id:"round-betting",type:"winner_and_round",category:"secondary",title:"Round Betting",titleKey:"betting_markets.round_betting",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:4}}createMethodAndRoundCard(t){const i=t.probability||70;return{id:"method-and-round",type:"winner_and_round",category:"secondary",title:"Method & Round",titleKey:"betting_markets.method_and_round",prediction:t.prop,predictionKey:t.propKey,confidence:i,confidenceLevel:this.getConfidenceLevel(i),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:5}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(i=>(i.type==="fight_winner"||i.type==="method_of_victory"||i.type==="total_rounds"||i.type==="winner_and_round"||i.type==="fight_props")&&i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((i,h)=>i.priority-h.priority)}}const Vt=new qa;var Ya=M('<div><div class="bet-type svelte-18hrft8"> </div> <div class="bet-prediction svelte-18hrft8"><div class="winner-name svelte-18hrft8"> </div> <div class="confidence svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div></div>'),ja=M('<div><div class="bet-type svelte-18hrft8"> </div> <div class="bet-prediction svelte-18hrft8"><div class="method svelte-18hrft8"> </div> <div class="probability svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div></div>'),Qa=M('<div class="bet-explanation svelte-18hrft8"> </div>'),Za=M('<div class="bet-explanation svelte-18hrft8"> </div>'),Ja=M('<div><div class="bet-type svelte-18hrft8"> </div> <div class="bet-prediction svelte-18hrft8"><div class="rounds"> </div> <div class="probability svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div> <!></div>'),Xa=M('<div><div class="bet-type svelte-18hrft8"> </div> <div class="bet-prediction svelte-18hrft8"><div class="round"> </div> <div class="probability svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div></div>'),ei=M('<div><div class="bet-type svelte-18hrft8"> </div> <div class="bet-prediction svelte-18hrft8"><div class="method-round-combo"> </div> <div class="value svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div></div>'),ti=M('<div><div class="bet-type svelte-18hrft8"> </div> <div class="bet-prediction svelte-18hrft8"><div class="decision"> </div> <div class="probability svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div></div>'),ai=M('<div><div class="bet-type svelte-18hrft8"> </div> <div class="bet-prediction svelte-18hrft8"><div class="gone-60"> </div> <div class="probability svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div></div>'),ii=M('<div class="bet-card no-predictions svelte-18hrft8"><div class="bet-type svelte-18hrft8"><!> </div> <div class="bet-prediction svelte-18hrft8"><div class="no-pred-title svelte-18hrft8"> </div> <div class="no-pred-subtitle svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div></div>'),ri=M('<div class="bet-explanation svelte-18hrft8"> </div>'),si=M('<div class="bet-explanation svelte-18hrft8"> </div>'),ni=M('<div class="bet-card fight-props svelte-18hrft8"><div class="bet-type svelte-18hrft8"><!> </div> <div class="bet-prediction svelte-18hrft8"><div class="prop svelte-18hrft8"> </div> <div class="value svelte-18hrft8"> </div></div> <div class="reasoning svelte-18hrft8"> </div> <!></div>'),oi=M('<div class="stat-item svelte-18hrft8"><span class="stat-label svelte-18hrft8"> </span> <span class="stat-value svelte-18hrft8"> </span></div>'),li=M('<div class="bet-card stats svelte-18hrft8"><div class="bet-type svelte-18hrft8"> </div> <div class="key-stats svelte-18hrft8"></div></div>'),di=M("<div><!></div>"),vi=M('<div class="bet-card trends svelte-18hrft8"><div class="bet-type svelte-18hrft8"> </div> <div class="trend-list svelte-18hrft8"></div></div>'),ci=M('<div class="fight-best-bets svelte-18hrft8"><div class="header svelte-18hrft8"><h2 class="title svelte-18hrft8"><span class="icon svelte-18hrft8"><!></span> </h2> <hr class="title-divider svelte-18hrft8"/> <div class="subtitle svelte-18hrft8"> </div></div> <div class="matchup-header svelte-18hrft8"><div class="fighter-preview svelte-18hrft8"><div class="fighter-name svelte-18hrft8"> </div> <div class="fighter-record svelte-18hrft8"> </div> <div class="fighter-archetype svelte-18hrft8"> </div></div> <div class="vs-divider svelte-18hrft8"><span>VS</span></div> <div class="fighter-preview svelte-18hrft8"><div class="fighter-name svelte-18hrft8"> </div> <div class="fighter-record svelte-18hrft8"> </div> <div class="fighter-archetype svelte-18hrft8"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-18hrft8"><small class="svelte-18hrft8"> </small></div></div>');function _i(j,t){gt(t,!1);const[i,h]=ft(),o=()=>vt(wa,"$locale",i),a=()=>vt(mt,"$_",i),l=x(),c=x(),g=x(),v=x(),f=x(),m=x(),b=x(),K=x(),Z=x(),te=x(),O=x(),we=x(),J=x(),oe=x(),F=x(),C=x(),B=x(),U=x(),N=x(),E=x();let L=je(t,"fighter1",8,null),G=je(t,"fighter2",8,null);function ce(y,fe){return y.filter(xe=>xe.type===fe)}function q(y){switch(y){case bt.HIGH:return"high-confidence";case bt.MEDIUM:return"medium-confidence";case bt.LOW:return"low-confidence";default:return""}}let Ge=o();P(()=>(S(L()),S(G())),()=>{w(l,L()&&G())}),P(()=>(e(l),S(L()),S(G())),()=>{w(c,e(l)?Vt.generateBetCards(L(),G()):[])}),P(()=>e(c),()=>{w(g,Vt.validatePredictions(e(c)))}),P(()=>(e(l),S(L()),S(G()),e(g),ct),()=>{e(l)&&L()&&G()&&e(g).length>0&&ct.trackBettingAnalysis(L().name,G().name)}),P(()=>(e(g),pe),()=>{w(v,ce(e(g),pe.FIGHT_WINNER))}),P(()=>(e(g),pe),()=>{w(f,ce(e(g),pe.METHOD_OF_VICTORY))}),P(()=>(e(g),pe),()=>{w(m,ce(e(g),pe.TOTAL_ROUNDS))}),P(()=>(e(g),pe),()=>{w(b,ce(e(g),pe.WINNER_AND_ROUND))}),P(()=>(e(g),pe),()=>{w(K,ce(e(g),pe.DISTANCE_YES_NO))}),P(()=>(e(g),pe),()=>{w(Z,ce(e(g),pe.GOES_TO_DECISION))}),P(()=>(e(g),pe),()=>{w(te,ce(e(g),pe.GONE_IN_60))}),P(()=>(e(g),pe),()=>{w(O,ce(e(g),pe.FIGHT_PROPS))}),P(()=>(e(g),pe),()=>{w(we,ce(e(g),pe.KEY_FACTORS))}),P(()=>(e(g),pe),()=>{w(J,ce(e(g),pe.TRENDS))}),P(()=>(e(g),pe),()=>{w(oe,ce(e(g),pe.NO_PREDICTION))}),P(()=>(e(v),e(f),e(m),e(b),e(K),e(Z),e(te)),()=>{w(F,e(v).length+e(f).length+e(m).length+e(b).length+e(K).length+e(Z).length+e(te).length)}),P(()=>e(F),()=>{w(C,e(F)>0)}),P(()=>e(C),()=>{w(B,e(C)?0:1)}),P(()=>(e(O),e(we),e(J)),()=>{w(U,e(O).length+e(we).length+e(J).length)}),P(()=>(e(F),e(B),e(U)),()=>{w(N,e(F)+e(B)+e(U))}),P(()=>o(),()=>{o()!==Ge&&Ge&&window.location.reload()}),P(()=>e(l),()=>{w(E,e(l))}),wt(),ut();var Qe=ot(),Ze=He(Qe);{var lt=y=>{var fe=ci(),xe=r(fe),ke=r(xe),ze=r(ke),We=r(ze);zt(We,{size:32});var Be=d(ze),Ce=d(ke,4),Se=r(Ce),Je=d(xe,2),at=r(Je),Ie=r(at),ue=r(Ie),Fe=d(Ie,2),Ue=r(Fe),qe=d(Fe,2),_e=r(qe),Ke=d(at,4),Xe=r(Ke),it=r(Xe),nt=d(Xe,2),u=r(nt),p=d(nt,2),R=r(p),I=d(Je,2);let Y;var ae=r(I);Pe(ae,1,()=>e(v),Le,(A,s)=>{var D=Ya(),T=r(D),Q=r(T),W=d(T,2),H=r(W),V=r(H),le=d(H,2),he=r(le),ge=d(W,2),ve=r(ge);$((ee,re,ye,de)=>{Ee(D,1,`bet-card moneyline ${ee??""}`,"svelte-18hrft8"),_(Q,re),_(V,(e(s),n(()=>e(s).prediction))),_(he,`${e(s),n(()=>e(s).confidence)??""}% ${ye??""}`),_(ve,de)},[()=>(e(s),n(()=>q(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var me=d(ae,2);Pe(me,1,()=>e(f),Le,(A,s)=>{var D=ja(),T=r(D),Q=r(T),W=d(T,2),H=r(W),V=r(H),le=d(H,2),he=r(le),ge=d(W,2),ve=r(ge);$((ee,re,ye,de,X)=>{Ee(D,1,`bet-card method-victory ${ee??""}`,"svelte-18hrft8"),_(Q,re),_(V,ye),_(he,`${e(s),n(()=>e(s).confidence)??""}% ${de??""}`),_(ve,X)},[()=>(e(s),n(()=>q(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var ne=d(me,2);Pe(ne,1,()=>e(m),Le,(A,s)=>{var D=Ja(),T=r(D),Q=r(T),W=d(T,2),H=r(W),V=r(H),le=d(H,2),he=r(le),ge=d(W,2),ve=r(ge),ee=d(ge,2);{var re=de=>{var X=Qa(),Me=r(X);$(Ve=>_(Me,Ve),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),k(de,X)},ye=de=>{var X=ot(),Me=He(X);{var Ve=Ae=>{var tt=Za(),dt=r(tt);$(()=>_(dt,(e(s),n(()=>e(s).explanation)))),k(Ae,tt)};se(Me,Ae=>{e(s),n(()=>e(s).explanation)&&Ae(Ve)},!0)}k(de,X)};se(ee,de=>{e(s),n(()=>e(s).explanationKey)?de(re):de(ye,!1)})}$((de,X,Me,Ve,Ae)=>{Ee(D,1,`bet-card total-rounds ${de??""}`,"svelte-18hrft8"),_(Q,X),_(V,Me),_(he,`${e(s),n(()=>e(s).confidence)??""}% ${Ve??""}`),_(ve,Ae)},[()=>(e(s),n(()=>q(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var De=d(ne,2);Pe(De,1,()=>e(b),Le,(A,s)=>{var D=Xa(),T=r(D),Q=r(T),W=d(T,2),H=r(W),V=r(H),le=d(H,2),he=r(le),ge=d(W,2),ve=r(ge);$((ee,re,ye,de,X)=>{Ee(D,1,`bet-card round-betting ${ee??""}`,"svelte-18hrft8"),_(Q,re),_(V,ye),_(he,`${e(s),n(()=>e(s).confidence)??""}% ${de??""}`),_(ve,X)},[()=>(e(s),n(()=>q(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var Ne=d(De,2);Pe(Ne,1,()=>e(K),Le,(A,s)=>{var D=ei(),T=r(D),Q=r(T),W=d(T,2),H=r(W),V=r(H),le=d(H,2),he=r(le),ge=d(W,2),ve=r(ge);$((ee,re,ye,de,X)=>{Ee(D,1,`bet-card method-round ${ee??""}`,"svelte-18hrft8"),_(Q,re),_(V,ye),_(he,de),_(ve,X)},[()=>(e(s),n(()=>q(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var $e=d(Ne,2);Pe($e,1,()=>e(Z),Le,(A,s)=>{var D=ti(),T=r(D),Q=r(T),W=d(T,2),H=r(W),V=r(H),le=d(H,2),he=r(le),ge=d(W,2),ve=r(ge);$((ee,re,ye,de,X)=>{Ee(D,1,`bet-card decision-type ${ee??""}`,"svelte-18hrft8"),_(Q,re),_(V,ye),_(he,`${e(s),n(()=>e(s).confidence)??""}% ${de??""}`),_(ve,X)},[()=>(e(s),n(()=>q(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var Oe=d($e,2);Pe(Oe,1,()=>e(te),Le,(A,s)=>{var D=ai(),T=r(D),Q=r(T),W=d(T,2),H=r(W),V=r(H),le=d(H,2),he=r(le),ge=d(W,2),ve=r(ge);$((ee,re,ye,de,X)=>{Ee(D,1,`bet-card gone-in-60 ${ee??""}`,"svelte-18hrft8"),_(Q,re),_(V,ye),_(he,`${e(s),n(()=>e(s).confidence)??""}% ${de??""}`),_(ve,X)},[()=>(e(s),n(()=>q(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var et=d(Oe,2);Pe(et,1,()=>e(oe),Le,(A,s)=>{var D=ii(),T=r(D),Q=r(T);Ct(Q,{size:16,style:"display: inline; margin-right: 0.25rem;"});var W=d(Q),H=d(T,2),V=r(H),le=r(V),he=d(V,2),ge=r(he),ve=d(H,2),ee=r(ve);$((re,ye,de,X)=>{_(W,` ${re??""}`),_(le,ye),_(ge,de),_(ee,X)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var rt=d(et,2);Pe(rt,1,()=>e(O),Le,(A,s)=>{var D=ni(),T=r(D),Q=r(T);Gt(Q,{size:16,style:"display: inline; margin-right: 0.25rem;"});var W=d(Q),H=d(T,2),V=r(H),le=r(V),he=d(V,2),ge=r(he),ve=d(H,2),ee=r(ve),re=d(ve,2);{var ye=X=>{var Me=ri(),Ve=r(Me);$(Ae=>_(Ve,Ae),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),k(X,Me)},de=X=>{var Me=ot(),Ve=He(Me);{var Ae=tt=>{var dt=si(),Dt=r(dt);$(()=>_(Dt,(e(s),n(()=>e(s).explanation)))),k(tt,dt)};se(Ve,tt=>{e(s),n(()=>e(s).explanation)&&tt(Ae)},!0)}k(X,Me)};se(re,X=>{e(s),n(()=>e(s).explanationKey)?X(ye):X(de,!1)})}$((X,Me,Ve,Ae,tt)=>{_(W,` ${X??""}`),_(le,Me),_(ge,`${Ve??""}: ${Ae??""}`),_(ee,tt)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.value"))),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),k(A,D)});var st=d(rt,2);Pe(st,1,()=>e(we),Le,(A,s)=>{var D=li(),T=r(D),Q=r(T),W=d(T,2);Pe(W,5,()=>(e(s),n(()=>e(s).metadata?.factors||[])),Le,(H,V)=>{var le=oi(),he=r(le),ge=r(he),ve=d(he,2),ee=r(ve);$(re=>{_(ge,re),_(ee,(e(V),n(()=>e(V).value)))},[()=>(a(),e(V),n(()=>a()(e(V).label)))]),k(H,le)}),$(H=>_(Q,H),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),k(A,D)});var z=d(st,2);Pe(z,1,()=>e(J),Le,(A,s)=>{var D=vi(),T=r(D),Q=r(T),W=d(T,2);Pe(W,5,()=>(e(s),n(()=>e(s).metadata?.trends||[])),Le,(H,V)=>{var le=di(),he=r(le);{var ge=ee=>{var re=ht();$(ye=>_(re,ye),[()=>(a(),e(V),n(()=>a()(e(V).textKey,{values:e(V).params||{}})))]),k(ee,re)},ve=ee=>{var re=ht();$(()=>_(re,(e(V),n(()=>e(V).text)))),k(ee,re)};se(he,ee=>{e(V),n(()=>e(V).textKey)?ee(ge):ee(ve,!1)})}$(()=>Ee(le,1,`trend-item ${e(V),n(()=>e(V).type)??""}`,"svelte-18hrft8")),k(H,le)}),$(H=>_(Q,H),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),k(A,D)});var ie=d(I,2),Re=r(ie),Te=r(Re);$((A,s,D,T)=>{_(Be,` ${A??""}`),_(Se,s),_(ue,(S(L()),n(()=>L().name))),_(Ue,`${S(L()),n(()=>L().rawData.win)??""}-${S(L()),n(()=>L().rawData.loss)??""}-${S(L()),n(()=>L().rawData.draws)??""}`),_(_e,(S(L()),n(()=>L().archetype.archetypeEmojis))),_(it,(S(G()),n(()=>G().name))),_(u,`${S(G()),n(()=>G().rawData.win)??""}-${S(G()),n(()=>G().rawData.loss)??""}-${S(G()),n(()=>G().rawData.draws)??""}`),_(R,(S(G()),n(()=>G().archetype.archetypeEmojis))),Y=Ee(I,1,"betting-grid svelte-18hrft8",null,Y,D),_(Te,`* ${T??""}`)},[()=>(a(),n(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),n(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(N)<=3}),()=>(a(),n(()=>a()("combat_analysis.disclaimer")))]),k(y,fe)};se(Ze,y=>{e(E)&&y(lt)})}k(j,Qe),pt(),h()}var hi=M('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),gi=M('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),ui=M('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),pi=M('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),fi=M('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),mi=M('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),yi=M('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),bi=M('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function Si(j,t){gt(t,!1);const[i,h]=ft(),o=()=>vt(B,"$urlSearchParams",i),a=()=>vt(mt,"$_",i),l=x(),c=x(),g=x(),v=x(),f=x(),m=x(),b=x(),K=x(),Z=x(),te=x();let O=je(t,"isDarkMode",8,!0),we=je(t,"toggleTheme",8,()=>{}),J=x(new Map),oe=x(new Map),F=x(),C=x(new Map);const B=fa(_t());function U(u,p){const R=`fighter${p}`;It({[R]:u}),B.set(_t())}let N=x(!1),E=x(!1),L=x(!1),G=x(!1);ma(()=>{window.Highcharts=ya,B.set(_t());const u=Da(()=>{B.set(_t())});return ce(),u});async function ce(){try{w(N,!0);const{allRawFightersDataMap:u,allRawFightersByDivision:p,processedFightersMap:R,processedFighters:I}=await Fa.loadFightersFromCSV();w(J,u),w(C,p),w(oe,R),w(F,I),w(E,!0)}catch(u){console.error("Error loading data:",u)}finally{w(N,!1)}}function q(u=[]){return u.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:Ge(p)}))}function Ge(u){return u.pictureUrl&&u.pictureUrl!==""?u.pictureUrl:Qe(u.division)?"no_photo_female.png":"no_photo_male.png"}function Qe(u){return!!(u&&u.startsWith("W_"))}function Ze(u){U(u,1)}function lt(u){U(u,2)}function y(){ct.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(l)||"none",fighter2:e(c)||"none"}),It({fighter1:"",fighter2:""}),B.set(_t())}function fe(){if(!e(l)||!e(c))return;const u=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";ct.trackFightShare(e(l),e(c),u);const p=ka("/",{fighter1:e(l),fighter2:e(c)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(c)} - Fight Radar`,text:`Compara las estadsticas de ${e(l)} vs ${e(c)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{xe("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function xe(u){const p=document.createElement("div");p.className="notification",p.textContent=u,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function ke(u,p,R){const I=[];return u&&I.push({name:u.name,data:[u.fightRadar.STR_OFF,u.fightRadar.STR_DEF,u.fightRadar.TD_OFF,u.fightRadar.TD_DEF,u.fightRadar.CTRL,u.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&I.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),R&&I.push({name:R.name,data:[R.fightRadar.STR_OFF,R.fightRadar.STR_DEF,R.fightRadar.TD_OFF,R.fightRadar.TD_DEF,R.fightRadar.CTRL,R.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),I}function ze(u,p,R){const I=[];return u&&I.push({name:u.name,data:[u.iqRadar.distance,u.iqRadar.adaptability,u.iqRadar.composure,u.iqRadar.decisions,u.iqRadar.rhythm,u.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&I.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),R&&I.push({name:R.name,data:[R.iqRadar.distance,R.iqRadar.adaptability,R.iqRadar.composure,R.iqRadar.decisions,R.iqRadar.rhythm,R.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),I}function We(u){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[R,I,Y]=u.combinedRole.split("+")??["AT"];let ae=[[R,100]];if(I&&Y?ae=[[R,33],[I,34],[Y,33]]:I?ae=[[R,50],[I,50]]:Y&&(ae=[[R,60],[Y,40]]),ae.length===1){const[me,ne]=ae[0],De=Math.min(ne,70);return`linear-gradient(135deg, ${p[me]} 0%, ${p[me]} ${De}%, var(--card-bg) 100%)`}else{const me=ae.reduce(($e,[,Oe])=>$e+Oe,0);let ne=[],De=0;return ae.forEach(([$e,Oe],et)=>{const rt=Oe/me*85,st=p[$e];et===0&&ne.push(`${st} ${De}%`),De+=rt,et===ae.length-1?(ne.push(`${st} ${De}%`),ne.push("var(--card-bg) 100%")):ne.push(`${st} ${De}%`)}),`linear-gradient(135deg, ${ne.join(", ")})`}}P(()=>o(),()=>{w(l,o().get("fighter1")||"")}),P(()=>o(),()=>{w(c,o().get("fighter2")||"")}),P(()=>(e(F),e(c)),()=>{w(g,q(e(F)).filter(u=>u.value!==e(c)))}),P(()=>(e(F),e(l)),()=>{w(v,q(e(F)).filter(u=>u.value!==e(l)))}),P(()=>(e(l),e(c),e(J),e(C),Ot),()=>{w(f,(()=>{if(!e(l)||!e(c))return null;const u=e(J).get(e(l)),p=e(J).get(e(c));if(!u||!p)return null;if(u.Division===p.Division){const R=u.Division;if(e(C).has(R))return Ot(R,e(C).get(R))}return null})())}),P(()=>(e(l),e(oe)),()=>{w(m,e(l)?e(oe).get(e(l))??null:null)}),P(()=>(e(c),e(oe)),()=>{w(b,e(c)?e(oe).get(e(c))??null:null)}),P(()=>(e(f),e(l),e(c),e(J),e(C),At),()=>{w(K,(()=>{if(!e(f)||!e(l)||!e(c))return null;const u=e(J).get(e(l));return!u||!e(C).has(u.Division)?null:At(e(f),e(C).get(u.Division))})())}),P(()=>(e(m),e(b),e(K)),()=>{w(Z,ke(e(m)??null,e(b)??null,e(K)??null))}),P(()=>(e(m),e(b),e(K)),()=>{w(te,ze(e(m),e(b),e(K)))}),P(()=>(e(N),e(J),e(l),e(c),ct),()=>{const u=!e(N)&&e(J).size>0&&e(J).has(e(l))&&e(J).has(e(c));w(L,!!(e(l)&&e(c)&&u)),w(G,!!(e(l)&&e(c)&&u)),e(l)&&e(c)&&u&&ct.trackFighterComparison(e(l),e(c))}),wt(),ut();var Be=bi(),Ce=r(Be),Se=r(Ce);ba(Se,{showThemeToggle:!0,get isDarkMode(){return O()},get toggleTheme(){return we()}});var Je=d(Se,2);{var at=u=>{var p=hi(),R=r(p),I=d(r(R),2),Y=r(I);$(ae=>_(Y,ae),[()=>(a(),n(()=>a()("fight_radar.loading_data")))]),k(u,p)};se(Je,u=>{e(N)&&u(at)})}var Ie=d(Je,2);{var ue=u=>{var p=pi(),R=r(p),I=r(R),Y=r(I),ae=r(Y),me=d(Y,2),ne=r(me);{let z=yt(()=>(a(),n(()=>a()("common.select_fighter"))));Wt(ne,{id:"fighter1-select",get placeholder(){return e(z)},disabled:!1,get options(){return e(g)},get selectedValue(){return e(l)},onSelectionChange:Ze})}var De=d(I,4),Ne=r(De),$e=r(Ne),Oe=d(Ne,2),et=r(Oe);{let z=yt(()=>(a(),n(()=>a()("common.select_fighter"))));Wt(et,{id:"fighter2-select",get placeholder(){return e(z)},disabled:!1,get options(){return e(v)},get selectedValue(){return e(c)},onSelectionChange:lt})}var rt=d(R,2);{var st=z=>{var ie=ui(),Re=r(ie);{var Te=D=>{var T=gi(),Q=d(r(T));$(W=>_(Q,` ${W??""}`),[()=>(a(),n(()=>a()("fight_radar.share_fight")))]),Ye("click",T,fe),k(D,T)};se(Re,D=>{e(l)&&e(c)&&D(Te)})}var A=d(Re,2),s=d(r(A));$(D=>_(s,` ${D??""}`),[()=>(a(),n(()=>a()("fight_radar.clear_radars")))]),Ye("click",A,y),k(z,ie)};se(rt,z=>{(e(l)||e(c))&&z(st)})}$((z,ie)=>{_(ae,`${z??""}:`),_($e,`${ie??""}:`)},[()=>(a(),n(()=>a()("common.fighter_1"))),()=>(a(),n(()=>a()("common.fighter_2")))]),k(u,p)};se(Ie,u=>{e(E)&&u(ue)})}var Fe=d(Ie,2);{var Ue=u=>{var p=ot(),R=He(p);{var I=Y=>{var ae=fi(),me=r(ae),ne=r(me);Ct(ne,{size:20,class:"disclaimer-icon"});var De=d(ne,2),Ne=r(De),$e=d(me,2),Oe=r($e);$((et,rt)=>{_(Ne,et),_(Oe,rt)},[()=>(a(),n(()=>a()("fight_radar.cross_division_title"))),()=>(a(),S(Ft),e(m),e(b),n(()=>a()("fight_radar.cross_division_text",{values:{division1:Ft(e(m).rawData.Division),division2:Ft(e(b).rawData.Division)}})))]),k(Y,ae)};se(R,Y=>{e(m),e(b),n(()=>e(m)?.rawData&&e(b)?.rawData&&e(m).rawData.Division!==e(b).rawData.Division)&&Y(I)})}k(u,p)};se(Fe,u=>{e(l)&&e(c)&&e(L)&&u(Ue)})}var qe=d(Fe,2);{var _e=u=>{var p=mi(),R=r(p),I=r(R);Ut(I,{get fighter(){return e(m)},id:"fighter1-info"});var Y=d(R,2),ae=r(Y);Ut(ae,{get fighter(){return e(b)},id:"fighter2-info"}),$((me,ne)=>{xt(R,`background: ${me??""}`),xt(Y,`background: ${ne??""}`)},[()=>(e(m),n(()=>e(m)?We(e(m).archetype):"var(--card-bg)")),()=>(e(b),n(()=>e(b)?We(e(b).archetype):"var(--card-bg)"))]),k(u,p)};se(qe,u=>{e(L)&&u(_e)})}var Ke=d(qe,2);{var Xe=u=>{var p=yi(),R=r(p),I=r(R);Et(I,()=>(e(l),e(c),e(Z),n(()=>`${e(l)}-${e(c)}-${e(Z).length}`)),me=>{{let ne=yt(()=>(S(Pt),n(Pt)));Ht(me,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(ne)},get series(){return e(Z)},isIQRadar:!1})}});var Y=d(R,2),ae=r(Y);Et(ae,()=>(e(l),e(c),e(te),n(()=>`${e(l)}-${e(c)}-${e(te).length}`)),me=>{{let ne=yt(()=>(S(Lt),n(Lt)));Ht(me,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(ne)},get series(){return e(te)},isIQRadar:!0})}}),k(u,p)};se(Ke,u=>{e(G),e(Z),n(()=>e(G)&&e(Z).length>0)&&u(Xe)})}var it=d(Ke,2);_i(it,{get fighter1(){return e(m)},get fighter2(){return e(b)}});var nt=d(it,2);Ba(nt,{}),k(j,Be),pt(),h()}export{Si as default};
