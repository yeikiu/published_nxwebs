import{q as Te,j as _t,f as S,az as Dt,c as t,u as i,i as F,A as e,z as je,t as P,T as vt,m as tt,b as f,o as ze,C as p,_ as He,y as u,av as xt,p as ot,s as st,k as ne,n as O,Q as Qe,aA as I,aB as $t,F as it,aC as te,O as At,D as qe,E as Ne,aD as Oe,aE as at,V as re,aF as Lt,a as mt,aG as Ft,aH as Ct,aI as Pt,aJ as lt,X as dt,aK as kt,aL as Mt,ac as ct,l as ut,J as ft,h as It,r as Rt,x as Et,I as qt}from"./lucide-qo0zz29p.js";import{r as Nt,R as Fe,s as Ge,t as Tt,v as zt,w as Bt,x as Ut,P as Kt,N as Ot,V as Ht,p as Qt,m as Wt,y as Vt}from"./index-Ddoz_S_w.js";import{f as jt,h as gt}from"./helpers-Oin_Zoc9.js";import"./highcharts-DyRVWUji.js";var Gt=S('<div class="error-message svelte-apfh6f"><span class="error-icon svelte-apfh6f"><!></span> </div>'),Jt=S('<div class="spinner svelte-apfh6f"></div> Logging in...',1),Xt=S('<div class="login-container svelte-apfh6f"><div class="login-card svelte-apfh6f"><div class="login-header svelte-apfh6f"><div class="lock-icon svelte-apfh6f"><!></div> <h1 class="svelte-apfh6f">Admin Login</h1> <p class="svelte-apfh6f">Access the fighter management dashboard</p></div> <form class="login-form svelte-apfh6f"><div class="form-group svelte-apfh6f"><label for="username" class="svelte-apfh6f">Username</label> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-apfh6f"/></div> <div class="form-group svelte-apfh6f"><label for="password" class="svelte-apfh6f">Password</label> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-apfh6f"/></div> <!> <button type="submit" class="login-btn svelte-apfh6f"><!></button> <div class="demo-info svelte-apfh6f"><small class="svelte-apfh6f">Demo credentials: <strong class="svelte-apfh6f">demo</strong> / <strong class="svelte-apfh6f">test</strong></small></div></form></div></div>');function pt(H,r){Te(r,!1);let a=je(""),v=je(""),s=je(!1),n=je("");async function l(h){if(h.preventDefault(),!e(a)||!e(v)){p(n,"Please enter both username and password");return}p(s,!0),p(n,"");try{console.log("Attempting login with:",e(a),e(v));const L=await Nt.login(e(a),e(v));console.log("Login result:",L),L?(console.log("Login successful, navigating to:",Fe.ADMIN_DASHBOARD),Ge.navigate(Fe.ADMIN_DASHBOARD)):p(n,"Invalid credentials. Try demo:test")}catch(L){console.error("Login error:",L),p(n,"Login failed. Please try again.")}finally{p(s,!1)}}function _(){p(n,"")}_t();var x=Xt(),M=t(x),C=t(M),c=t(C),g=t(c);Dt(g,{size:48});var d=i(C,2),y=t(d),o=i(t(y),2),D=i(y,2),A=i(t(D),2),m=i(D,2);{var G=h=>{var L=Gt(),T=t(L),ue=t(T);He(ue,{size:18});var Se=i(T);P(()=>u(Se,` ${e(n)??""}`)),f(h,L)};F(m,h=>{e(n)&&h(G)})}var q=i(m,2),k=t(q);{var N=h=>{var L=Jt();f(h,L)},V=h=>{var L=xt("Login");f(h,L)};F(k,h=>{e(s)?h(N):h(V,!1)})}P(()=>{o.disabled=e(s),A.disabled=e(s),q.disabled=e(s)}),vt(o,()=>e(a),h=>p(a,h)),tt("input",o,_),vt(A,()=>e(v),h=>p(v,h)),tt("input",A,_),tt("submit",d,l),f(H,x),ze()}var Yt=S('<div class="loading-spinner svelte-k477v0"><div class="spinner svelte-k477v0"></div> <span>Loading...</span></div>'),Zt=S('<div class="error-state svelte-k477v0"><span class="error-icon svelte-k477v0">⚠️</span> <p class="error-message svelte-k477v0"> </p></div>'),ea=S('<div><div class="widget-header svelte-k477v0"><div class="widget-title svelte-k477v0"><!> <h3 class="svelte-k477v0"> </h3></div></div> <div class="widget-content svelte-k477v0"><!></div></div>');function rt(H,r){let a=ot(r,"loading",3,!1),v=ot(r,"className",3,"");var s=ea();let n;var l=t(s),_=t(l),x=t(_);{var M=D=>{const A=I(()=>r.icon);var m=ne(),G=O(m);Qe(G,()=>e(A),(q,k)=>{k(q,{size:18})}),f(D,m)};F(x,D=>{r.icon&&D(M)})}var C=i(x,2),c=t(C),g=i(l,2),d=t(g);{var y=D=>{var A=Yt();f(D,A)},o=D=>{var A=ne(),m=O(A);{var G=k=>{var N=Zt(),V=i(t(N),2),h=t(V);P(()=>u(h,r.error)),f(k,N)},q=k=>{var N=ne(),V=O(N);{var h=L=>{var T=ne(),ue=O(T);$t(ue,()=>r.children),f(L,T)};F(V,L=>{r.children&&L(h)},!0)}f(k,N)};F(m,k=>{r.error?k(G):k(q,!1)},!0)}f(D,A)};F(d,D=>{a()?D(y):D(o,!1)})}P(D=>{n=st(s,1,`widget-card ${v()??""}`,"svelte-k477v0",n,D),u(c,r.title)},[()=>({loading:a()})]),f(H,s)}class ta{constructor(){this.localeCache={}}async loadFightersData(){try{const{allRawFightersArr:r}=await jt.loadFightersFromCSV();return r}catch(r){return console.error("Failed to load fighters data:",r),[]}}async getDatasetOverview(){const r=await this.loadFightersData(),a=await gt("data/ALL_DIVISIONS_DATA_WITH_URLS.csv"),v={};r.forEach(d=>{const y=d.Division||"Unknown";v[y]=(v[y]||0)+1});const s=r.filter(d=>d.Number_of_Fights_36m&&d.Number_of_Fights_36m>0).length,n=r.length-s;let l=0;r.forEach(d=>{let y=0;d.Fighter&&d.Fighter.trim()!==""&&(y+=1),d.Division&&d.Division.trim()!==""&&(y+=1),d.Career_Record&&d.Career_Record.trim()!==""&&(y+=1),d.picture_url&&d.picture_url.trim()!==""&&(y+=1),l+=y/4});const _=r.length>0?l/r.length*100:0,x=r.filter(d=>!d.picture_url||d.picture_url.trim()===""),M=x.length,C=r.length>0?Math.round((r.length-M)/r.length*100):100;let c=0,g="current";if(a.lastModified){const y=new Date().getTime()-a.lastModified.getTime();c=Math.floor(y/(1e3*60*60*24)),c<=7?g="current":c<=30?g="warning":g="outdated"}else g="outdated",c=-1;return{totalFighters:r.length,activeFighters:s,inactiveFighters:n,fightersByDivision:v,lastUpdate:a.lastModified,dataQualityScore:Math.round(_),missingPictures:{count:M,completionRate:C,fighters:x.map(d=>d.Fighter||"Unknown").slice(0,10)},maintenanceStatus:{status:g,daysSinceLastUpdate:c}}}async getMissingPicturesData(){const r=await this.loadFightersData(),a=r.filter(s=>!s.picture_url||s.picture_url.trim()===""),v=r.length>0?(r.length-a.length)/r.length*100:0;return{count:a.length,fighters:a.map(s=>s.Fighter).slice(0,20),completionRate:Math.round(v)}}async getMaintenanceStatus(){const a=(await gt("data/ALL_DIVISIONS_DATA_WITH_URLS.csv")).lastModified;let v=0,s="current";if(a){const l=new Date().getTime()-a.getTime();v=Math.floor(l/(1e3*60*60*24)),v<=7?s="current":v<=30?s="warning":s="outdated"}else s="outdated",v=-1;return{lastDatasetUpdate:a,status:s,daysSinceLastUpdate:v}}async getTranslationHealth(){const r={en:Ut,es:Bt,fr:zt,pt:Tt},a=Object.keys(r),v={},s={};try{for(const l of a)try{this.localeCache[l]=r[l]}catch(_){console.warn(`Failed to load locale ${l}:`,_),v[l]=["Failed to load locale file"],s[l]=0}const n=this.getAllKeys(this.localeCache.en||{});return a.forEach(l=>{if(l==="en"){v[l]=[],s[l]=100;return}const _=this.getAllKeys(this.localeCache[l]||{}),x=n.filter(M=>!_.includes(M));v[l]=x,s[l]=n.length>0?Math.round((n.length-x.length)/n.length*100):0}),{languages:a,totalKeys:n.length,missingKeysByLanguage:v,completionByLanguage:s}}catch(n){return console.error("Failed to check translation health:",n),a.forEach(l=>{v[l]=["Error loading translations"],s[l]=0}),{languages:a,totalKeys:0,missingKeysByLanguage:v,completionByLanguage:s}}}getAllKeys(r,a=""){let v=[];for(const s in r){const n=a?`${a}.${s}`:s;typeof r[s]=="object"&&r[s]!==null&&!Array.isArray(r[s])?v=v.concat(this.getAllKeys(r[s],n)):v.push(n)}return v.sort()}async testProxiesStatus(){const r=[],a=Kt.proxyConfigs.map(async s=>{const n=Date.now();try{const l=await fetch(s.url+encodeURIComponent("https://www.githubstatus.com/history.rss"),{headers:s.headers||{}});return{name:s.name,active:l.ok,responseTime:Date.now()-n}}catch{return{name:s.name,active:!1,responseTime:Date.now()-n}}});return(await Promise.allSettled(a)).forEach(s=>{s.status==="fulfilled"&&r.push(s.value)}),r}async testRSSFeedsStatus(){const r=[],v=[...Ot.rssSources,...Ht.videoSources].map(async n=>{const l=Date.now();try{const _=await Qt.fetchRSS(n.url);return{name:n.name,active:_.length>0,responseTime:Date.now()-l}}catch{return{name:n.name,active:!1,responseTime:Date.now()-l}}});return(await Promise.allSettled(v)).forEach(n=>{n.status==="fulfilled"&&r.push(n.value)}),r}async getDataQualityAlerts(){const r=await this.loadFightersData(),a=[];r.forEach(s=>{(!s.height_inches||s.height_inches===0)&&a.push({type:"missing_data",fighter:s.Fighter,field:"height_inches",description:"Missing height information",severity:"medium"}),(!s.Birth_Date||s.Birth_Date==="")&&a.push({type:"missing_data",fighter:s.Fighter,field:"Birth_Date",description:"Missing birth date",severity:"low"}),s.Birth_Date&&new Date(s.Birth_Date)>new Date&&a.push({type:"invalid_data",fighter:s.Fighter,field:"Birth_Date",description:"Future birth date",severity:"high"}),s.height_inches&&(s.height_inches<50||s.height_inches>90)&&a.push({type:"invalid_data",fighter:s.Fighter,field:"height_inches",description:"Unusual height value",severity:"medium"})});const v=new Map;return r.forEach(s=>{const n=s.Fighter.toLowerCase().trim();v.has(n)||v.set(n,[]),v.get(n).push(s.Fighter)}),v.forEach((s,n)=>{s.length>1&&a.push({type:"duplicate",fighter:s.join(", "),description:"Potential duplicate fighters",severity:"high"})}),a.slice(0,50)}}const Je=new ta;var aa=S('<div class="division-item svelte-1p3994o"><span class="division-name svelte-1p3994o"> </span> <span class="division-count svelte-1p3994o"> </span></div>'),sa=S('<!> <span class="status-label svelte-1p3994o"> </span>',1),ia=S('<div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Fecha Exacta:</span> <span class="info-value svelte-1p3994o"> </span></div>'),ra=S('<div class="missing-fighter-item svelte-1p3994o"><span class="fighter-name svelte-1p3994o"> </span></div>'),na=S('<div class="more-missing-indicator svelte-1p3994o"> </div>'),va=S('<div class="missing-pictures-section svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores Sin Fotos <span class="missing-count svelte-1p3994o"> </span></h4> <div class="missing-pictures-grid svelte-1p3994o"><!> <!></div></div>'),oa=S('<div class="overview-stats svelte-1p3994o"><div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Total Luchadores</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #10b981"> </div> <div class="stat-label svelte-1p3994o">Activos</div> <div class="stat-description svelte-1p3994o">Con peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #f59e0b"> </div> <div class="stat-label svelte-1p3994o">Inactivos</div> <div class="stat-description svelte-1p3994o">Sin peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Calidad de Datos</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Fotos Completas</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div></div> <div class="divisions-breakdown svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores por División</h4> <div class="divisions-grid svelte-1p3994o"></div></div> <div class="dataset-info svelte-1p3994o"><div class="info-header svelte-1p3994o"><h4 class="svelte-1p3994o">Información del Dataset</h4> <div class="status-indicator svelte-1p3994o"><!></div></div> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Última Actualización:</span> <span class="info-value svelte-1p3994o"> </span></div> <!> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Tiempo Transcurrido:</span> <span class="info-value svelte-1p3994o"> </span></div></div> <!> <div class="quality-progress svelte-1p3994o"><div class="progress-header svelte-1p3994o"><span class="svelte-1p3994o">Integridad de Datos</span> <span class="svelte-1p3994o"> </span></div> <div class="progress-bar svelte-1p3994o"><div class="progress-fill svelte-1p3994o"></div></div></div> <div class="maintenance-legend svelte-1p3994o"><div class="legend-title svelte-1p3994o">Leyenda de Estados del Dataset:</div> <div class="legend-items svelte-1p3994o"><div class="legend-item svelte-1p3994o"><!> <span>Actualizado (&lt; 7 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Necesita Atención (7-30 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Desactualizado (> 30 días)</span></div></div></div>',1);function la(H,r){Te(r,!0);let a=te(null),v=te(!0),s=te(void 0);async function n(){p(v,!0),p(s,void 0);try{p(a,await Je.getDatasetOverview(),!0)}catch(o){p(s,o instanceof Error?o.message:"Failed to load dataset overview",!0),console.error("Dataset overview error:",o)}finally{p(v,!1)}}it(n);function l(o){return o>=90?"#10b981":o>=70?"#f59e0b":"#ef4444"}function _(o){return o>=90?"Excelente":o>=80?"Bueno":o>=70?"Regular":"Necesita Mejoras"}function x(o){if(!o)return"Desconocido";const A=new Date().getTime()-o.getTime(),m=Math.floor(A/(1e3*60*60*24));return m===0?"Hoy":m===1?"Ayer":m<7?`hace ${m} días`:m<30?`hace ${Math.floor(m/7)} semanas`:m<365?`hace ${Math.floor(m/30)} meses`:`hace ${Math.floor(m/365)} años`}function M(o){return o>=95?"#10b981":o>=85?"#f59e0b":o>=70?"#fb923c":"#ef4444"}function C(o){return o>=95?"Excelente":o>=85?"Bueno":o>=70?"Regular":"Necesita Trabajo"}function c(o){switch(o){case"current":return"#10b981";case"warning":return"#f59e0b";case"outdated":return"#ef4444";default:return"#6b7280"}}function g(o){switch(o){case"current":return"Actualizado";case"warning":return"Necesita Atención";case"outdated":return"Desactualizado";default:return"Desconocido"}}function d(o){switch(o){case"current":return Oe;case"warning":return He;case"outdated":return at;default:return Oe}}function y(o){return o===-1?"Desconocido":o===0?"Hoy":o===1?"Ayer":o<7?`hace ${o} días`:o<30?`hace ${Math.floor(o/7)} semanas`:o<365?`hace ${Math.floor(o/30)} meses`:`hace ${Math.floor(o/365)} años`}rt(H,{title:"Resumen del Dataset",get icon(){return At},get loading(){return e(v)},get error(){return e(s)},className:"dataset-overview-widget",children:(o,D)=>{var A=ne(),m=O(A);{var G=q=>{var k=oa(),N=O(k),V=t(N),h=t(V),L=t(h),T=i(V,2),ue=t(T),Se=t(ue),ke=i(T,2),ve=t(ke),z=t(ve),Q=i(ke,2),oe=t(Q),le=t(oe),De=i(oe,4),fe=t(De),xe=t(fe),$e=i(Q,2),ge=t($e),b=t(ge),w=i(ge,4),$=t(w),R=t($),j=i(N,2),B=i(t(j),2);qe(B,21,()=>Object.entries(e(a).fightersByDivision).sort((K,ee)=>ee[1]-K[1]),Ne,(K,ee)=>{var ie=I(()=>Lt(e(ee),2));let pe=()=>e(ie)[0],_e=()=>e(ie)[1];var Le=aa(),ce=t(Le),ye=t(ce),Pe=i(ce,2),we=t(Pe);P(()=>{u(ye,pe()),u(we,_e())}),f(K,Le)});var U=i(j,2),E=t(U),ae=i(t(E),2),se=t(ae);{var me=K=>{const ee=I(()=>d(e(a).maintenanceStatus.status));var ie=sa(),pe=O(ie);{let ce=I(()=>c(e(a).maintenanceStatus.status));Qe(pe,()=>e(ee),(ye,Pe)=>{Pe(ye,{size:18,get color(){return e(ce)}})})}var _e=i(pe,2),Le=t(_e);P((ce,ye)=>{re(_e,`color: ${ce??""}`),u(Le,ye)},[()=>c(e(a).maintenanceStatus.status),()=>g(e(a).maintenanceStatus.status)]),f(K,ie)};F(se,K=>{e(a).maintenanceStatus&&K(me)})}var de=i(E,2),X=i(t(de),2),he=t(X),Y=i(de,2);{var W=K=>{var ee=ia(),ie=i(t(ee),2),pe=t(ie);P(_e=>u(pe,_e),[()=>e(a).lastUpdate.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]),f(K,ee)};F(Y,K=>{e(a).lastUpdate&&K(W)})}var J=i(Y,2),Z=i(t(J),2),be=t(Z),Ae=i(U,2);{var Be=K=>{var ee=va(),ie=t(ee),pe=i(t(ie)),_e=t(pe),Le=i(ie,2),ce=t(Le);qe(ce,17,()=>e(a).missingPictures.fighters,Ne,(we,Re)=>{var Ee=ra(),Ze=t(Ee),et=t(Ze);P(()=>u(et,e(Re))),f(we,Ee)});var ye=i(ce,2);{var Pe=we=>{var Re=na(),Ee=t(Re);P(()=>u(Ee,`+ ${e(a).missingPictures.count-10} más...`)),f(we,Re)};F(ye,we=>{e(a).missingPictures.count>10&&we(Pe)})}P(()=>u(_e,`(${e(a).missingPictures.count??""})`)),f(K,ee)};F(Ae,K=>{e(a).missingPictures.count>0&&K(Be)})}var Me=i(Ae,2),We=t(Me),Ce=i(t(We),2),Ue=t(Ce),Ie=i(We,2),Ke=t(Ie),Xe=i(Me,2),Ye=i(t(Xe),2),Ve=t(Ye),ht=t(Ve);Oe(ht,{size:14,color:"#10b981"});var nt=i(Ve,2),bt=t(nt);He(bt,{size:14,color:"#f59e0b"});var yt=i(nt,2),wt=t(yt);at(wt,{size:14,color:"#ef4444"}),P((K,ee,ie,pe,_e,Le,ce,ye,Pe,we,Re,Ee,Ze,et,St)=>{u(L,K),u(Se,ee),u(z,ie),re(oe,`color: ${pe??""}`),u(le,`${e(a).dataQualityScore??""}%`),re(fe,`background-color: ${_e??""}20; color: ${Le??""}`),u(xe,ce),re(ge,`color: ${ye??""}`),u(b,`${e(a).missingPictures.completionRate??""}%`),re($,`background-color: ${Pe??""}20; color: ${we??""}`),u(R,Re),u(he,Ee),re(Z,`color: ${Ze??""}`),u(be,et),u(Ue,`${e(a).dataQualityScore??""}%`),re(Ke,`width: ${e(a).dataQualityScore??""}%; background-color: ${St??""}`)},[()=>e(a).totalFighters.toLocaleString(),()=>e(a).activeFighters.toLocaleString(),()=>e(a).inactiveFighters.toLocaleString(),()=>l(e(a).dataQualityScore),()=>l(e(a).dataQualityScore),()=>l(e(a).dataQualityScore),()=>_(e(a).dataQualityScore),()=>M(e(a).missingPictures.completionRate),()=>M(e(a).missingPictures.completionRate),()=>M(e(a).missingPictures.completionRate),()=>C(e(a).missingPictures.completionRate),()=>x(e(a).lastUpdate),()=>c(e(a).maintenanceStatus.status),()=>y(e(a).maintenanceStatus.daysSinceLastUpdate),()=>l(e(a).dataQualityScore)]),f(q,k)};F(m,q=>{e(a)&&q(G)})}f(o,A)},$$slots:{default:!0}}),ze()}var da=(H,r,a)=>p(r,e(a),!0),ca=S('<div class="missing-indicator svelte-1iuchf4"> </div>'),ua=S('<div><button class="language-button svelte-1iuchf4"><div class="language-header svelte-1iuchf4"><div class="language-info svelte-1iuchf4"><span class="language-name svelte-1iuchf4"> </span> <span class="language-code svelte-1iuchf4"> </span></div> <div class="completion-indicator"><!></div></div> <div class="completion-details svelte-1iuchf4"><div class="completion-percentage svelte-1iuchf4"> </div> <div class="completion-status svelte-1iuchf4"> </div></div> <div class="progress-bar svelte-1iuchf4"><div class="progress-fill svelte-1iuchf4"></div></div> <!></button></div>'),fa=S('<span class="missing-count svelte-1iuchf4"> </span>'),ga=S('<div class="no-missing-keys svelte-1iuchf4"><!> <span>¡Todas las traducciones están completas!</span></div>'),pa=S('<div class="missing-key-item svelte-1iuchf4"><code class="svelte-1iuchf4"> </code></div>'),_a=S('<div class="more-missing-indicator svelte-1iuchf4"> </div>'),ma=S('<div class="missing-keys-list svelte-1iuchf4"><!> <!></div>'),ha=S('<div class="missing-keys-section svelte-1iuchf4"><h4 class="svelte-1iuchf4"> <!></h4> <!></div>'),ba=S('<div class="translation-overview svelte-1iuchf4"><div class="overview-stats svelte-1iuchf4"><div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Claves Totales</div></div> <div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Idiomas</div></div></div></div> <div class="languages-status svelte-1iuchf4"><h4 class="svelte-1iuchf4">Estado por Idioma</h4> <div class="languages-grid svelte-1iuchf4"></div></div> <!>',1);function ya(H,r){Te(r,!0);let a=te(null),v=te(!0),s=te(void 0),n=te("");async function l(){p(v,!0),p(s,void 0);try{p(a,await Je.getTranslationHealth(),!0),e(a)&&!e(n)&&e(a).languages.length>0&&p(n,e(a).languages.find(c=>c!=="en")||e(a).languages[0],!0)}catch(c){p(s,c instanceof Error?c.message:"Error al cargar estado de traducciones",!0),console.error("Translation health error:",c)}finally{p(v,!1)}}it(l);function _(c){return c>=95?"#10b981":c>=80?"#f59e0b":c>=60?"#fb923c":"#ef4444"}function x(c){return c>=95?Oe:c>=80?He:at}function M(c){return c>=95?"Completo":c>=80?"Casi Completo":c>=60?"En Progreso":"Incompleto"}function C(c){return{en:"Inglés",es:"Español",fr:"Francés",pt:"Portugués"}[c]||c.toUpperCase()}rt(H,{title:"Estado de Traducciones",get icon(){return Ft},get loading(){return e(v)},get error(){return e(s)},className:"translation-health-widget",children:(c,g)=>{var d=ne(),y=O(d);{var o=D=>{var A=ba(),m=O(A),G=t(m),q=t(G),k=t(q),N=t(k),V=i(q,2),h=t(V),L=t(h),T=i(m,2),ue=i(t(T),2);qe(ue,21,()=>e(a).languages,Ne,(ve,z)=>{const Q=I(()=>e(a).completionByLanguage[e(z)]),oe=I(()=>e(a).missingKeysByLanguage[e(z)]?.length||0);var le=ua();let De;var fe=t(le);fe.__click=[da,n,z];var xe=t(fe),$e=t(xe),ge=t($e),b=t(ge),w=i(ge,2),$=t(w),R=i($e,2),j=t(R);{var B=W=>{const J=I(()=>x(e(Q)));var Z=ne(),be=O(Z);{let Ae=I(()=>_(e(Q)));Qe(be,()=>e(J),(Be,Me)=>{Me(Be,{size:16,get color(){return e(Ae)}})})}f(W,Z)};F(j,W=>{e(Q)!==void 0&&W(B)})}var U=i(xe,2),E=t(U),ae=t(E),se=i(E,2),me=t(se),de=i(U,2),X=t(de),he=i(de,2);{var Y=W=>{var J=ca(),Z=t(J);P(()=>u(Z,`${e(oe)??""} claves faltantes`)),f(W,J)};F(he,W=>{e(oe)>0&&W(Y)})}P((W,J,Z,be,Ae)=>{De=st(le,1,"language-item svelte-1iuchf4",null,De,W),u(b,J),u($,`(${e(z)??""})`),re(E,`color: ${Z??""}`),u(ae,`${e(Q)??""}%`),u(me,be),re(X,`width: ${e(Q)??""}%; background-color: ${Ae??""}`)},[()=>({selected:e(n)===e(z)}),()=>C(e(z)),()=>_(e(Q)),()=>M(e(Q)),()=>_(e(Q))]),f(ve,le)});var Se=i(T,2);{var ke=ve=>{const z=I(()=>e(a).missingKeysByLanguage[e(n)]);var Q=ha(),oe=t(Q),le=t(oe),De=i(le);{var fe=b=>{var w=fa(),$=t(w);P(()=>u($,`(${e(z).length??""})`)),f(b,w)};F(De,b=>{e(z).length>0&&b(fe)})}var xe=i(oe,2);{var $e=b=>{var w=ga(),$=t(w);Oe($,{size:20,color:"#10b981"}),f(b,w)},ge=b=>{var w=ma(),$=t(w);qe($,17,()=>e(z).slice(0,10),Ne,(B,U)=>{var E=pa(),ae=t(E),se=t(ae);P(()=>u(se,e(U))),f(B,E)});var R=i($,2);{var j=B=>{var U=_a(),E=t(U);P(()=>u(E,`+ ${e(z).length-10} claves más...`)),f(B,U)};F(R,B=>{e(z).length>10&&B(j)})}f(b,w)};F(xe,b=>{e(z).length===0?b($e):b(ge,!1)})}P(b=>u(le,`Claves Faltantes en ${b??""} `),[()=>C(e(n))]),f(ve,Q)};F(Se,ve=>{e(n)&&e(a).missingKeysByLanguage[e(n)]&&ve(ke)})}P(ve=>{u(N,ve),u(L,e(a).languages.length)},[()=>e(a).totalKeys.toLocaleString()]),f(D,A)};F(y,D=>{e(a)&&D(o)})}f(c,d)},$$slots:{default:!0}}),ze()}mt(["click"]);async function wa(H,r,a,v){p(r,!0);try{await a()}catch(s){p(v,s instanceof Error?s.message:"Error al ejecutar prueba de proxies",!0),console.error("Proxy test error:",s)}finally{p(r,!1)}}var Sa=S('<div class="service-item svelte-1rmb815"><div class="service-header svelte-1rmb815"><div class="service-info svelte-1rmb815"><div class="service-name svelte-1rmb815"> </div> <div class="service-description svelte-1rmb815"> </div></div> <div class="service-status"><!></div></div> <div class="service-details svelte-1rmb815"><div class="status-info svelte-1rmb815"><span class="status-label svelte-1rmb815"> </span> <span class="response-time svelte-1rmb815"> </span></div> <div class="status-indicator svelte-1rmb815"><div class="indicator-bar svelte-1rmb815"><div class="indicator-fill svelte-1rmb815"></div></div></div></div></div>'),Da=S('<div class="summary-stat svelte-1rmb815"><div class="summary-value svelte-1rmb815"> </div> <div class="summary-label svelte-1rmb815">Fuentes Activas</div></div> <div class="summary-progress svelte-1rmb815"><div class="progress-header svelte-1rmb815"><span class="svelte-1rmb815">Disponibilidad RSS</span> <span class="svelte-1rmb815"> </span></div> <div class="progress-bar svelte-1rmb815"><div class="progress-fill svelte-1rmb815"></div></div></div>',1),xa=S('<div class="feed-item svelte-1rmb815"><div class="feed-status"><!></div> <div class="feed-info svelte-1rmb815"><span class="feed-name svelte-1rmb815"> </span> <span class="feed-time svelte-1rmb815"> </span></div></div>'),$a=S('<div class="status-overview svelte-1rmb815"><div class="test-action svelte-1rmb815"><button><!> </button></div></div> <div class="services-section svelte-1rmb815"><h4 class="svelte-1rmb815">Proxies habilitados</h4> <div class="services-grid svelte-1rmb815"></div></div> <div class="news-feeds-section svelte-1rmb815"><h4 class="svelte-1rmb815">Fuentes de Noticias RSS</h4> <div class="feeds-summary svelte-1rmb815"><!></div> <div class="feeds-grid svelte-1rmb815"></div></div> <div class="connection-legend svelte-1rmb815"><div class="legend-title svelte-1rmb815">Leyenda de Estados:</div> <div class="legend-items svelte-1rmb815"><div class="legend-item svelte-1rmb815"><!> <span>Conectado (&lt; 1s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Lento (1-3s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Sin Conexión</span></div></div></div>',1);function Aa(H,r){Te(r,!0);let a=te(null),v=te(null),s=te(!0),n=te(void 0),l=te(!1);async function _(){p(s,!0),p(n,void 0);try{p(a,await Je.testProxiesStatus(),!0),p(v,await Je.testRSSFeedsStatus(),!0)}catch(g){p(n,g instanceof Error?g.message:"Error al probar estado de proxies",!0),console.error("Proxy status error:",g)}finally{p(s,!1)}}it(_);function x(g,d=0){return g?d>0&&d<1e3?"#10b981":d>=1e3&&d<3e3?"#f59e0b":"#fb923c":"#ef4444"}function M(g){return g?lt:dt}function C(g,d=0){return g?d===-1?"Error":d===0?"Conectado":d<500?"Rápido":d<1e3?"Normal":d<3e3?"Lento":"Muy Lento":"Sin Conexión"}function c(g){return g===-1?"Error":g===0?"-":`${g}ms`}rt(H,{title:"Estado de Conexiones",get icon(){return Ct},get loading(){return e(s)},get error(){return e(n)},onRefresh:_,className:"proxy-status-widget",children:(g,d)=>{var y=ne(),o=O(y);{var D=A=>{var m=$a(),G=O(m),q=t(G),k=t(q);let N;k.__click=[wa,l,_,n];var V=t(k);{let b=I(()=>e(l)?"spinning":"");Pt(V,{size:16,get class(){return e(b)}})}var h=i(V),L=i(G,2),T=i(t(L),2);qe(T,21,()=>e(a),Ne,(b,w)=>{const $=I(()=>e(w).active),R=I(()=>e(w).responseTime||0);var j=Sa(),B=t(j),U=t(B),E=t(U),ae=t(E),se=i(E,2),me=t(se),de=i(U,2),X=t(de);{var he=Ce=>{const Ue=I(()=>M(e($)));var Ie=ne(),Ke=O(Ie);{let Xe=I(()=>x(e($),e(R)));Qe(Ke,()=>e(Ue),(Ye,Ve)=>{Ve(Ye,{size:18,get color(){return e(Xe)}})})}f(Ce,Ie)};F(X,Ce=>{e($)!==void 0&&Ce(he)})}var Y=i(B,2),W=t(Y),J=t(W),Z=t(J),be=i(J,2),Ae=t(be),Be=i(W,2),Me=t(Be),We=t(Me);P((Ce,Ue,Ie,Ke)=>{u(ae,e(w).name),u(me,e(w).name),re(J,`color: ${Ce??""}`),u(Z,Ue),u(Ae,Ie),re(We,`width: ${e($)?"100%":"0%"}; background-color: ${Ke??""}`)},[()=>x(e($),e(R)),()=>C(e($),e(R)),()=>c(e(R)),()=>x(e($),e(R))]),f(b,j)});var ue=i(L,2),Se=i(t(ue),2),ke=t(Se);{var ve=b=>{const w=I(()=>e(v).length),$=I(()=>e(v).filter(({active:Y})=>Y).length),R=I(()=>e(w)>0?Math.round(e($)/e(w)*100):0);var j=Da(),B=O(j),U=t(B),E=t(U),ae=i(B,2),se=t(ae),me=i(t(se),2),de=t(me),X=i(se,2),he=t(X);P(Y=>{u(E,`${e($)??""}/${e(w)??""}`),u(de,`${e(R)??""}%`),re(he,`width: ${e(R)??""}%; background-color: ${Y??""}`)},[()=>x(e(R)>=80,0)]),f(b,j)};F(ke,b=>{e(v)&&b(ve)})}var z=i(Se,2);qe(z,21,()=>e(v)??[],Ne,(b,w)=>{const $=I(()=>e(w).responseTime);var R=xa(),j=t(R),B=t(j);{var U=X=>{const he=I(()=>M(e(w).active));var Y=ne(),W=O(Y);{let J=I(()=>x(e(w).active,e($)));Qe(W,()=>e(he),(Z,be)=>{be(Z,{size:14,get color(){return e(J)}})})}f(X,Y)};F(B,X=>{e(w).name&&X(U)})}var E=i(j,2),ae=t(E),se=t(ae),me=i(ae,2),de=t(me);P(X=>{u(se,e(w).name),u(de,X)},[()=>c(e($))]),f(b,R)});var Q=i(ue,2),oe=i(t(Q),2),le=t(oe),De=t(le);lt(De,{size:14,color:"#10b981"});var fe=i(le,2),xe=t(fe);He(xe,{size:14,color:"#f59e0b"});var $e=i(fe,2),ge=t($e);dt(ge,{size:14,color:"#ef4444"}),P(b=>{N=st(k,1,"test-all-btn svelte-1rmb815",null,N,b),k.disabled=e(l),u(h,` ${e(l)?"Probando...":"Probar Todas las Conexiones"}`)},[()=>({testing:e(l)})]),f(A,m)};F(o,A=>{e(a)&&A(D)})}f(g,y)},$$slots:{default:!0}}),ze()}mt(["click"]);var La=S('<div class="admin-dashboard svelte-10d68cq"><div class="dashboard-header svelte-10d68cq"><div class="header-content svelte-10d68cq"><div class="header-title svelte-10d68cq"><!> <div class="title-text svelte-10d68cq"><h1 class="svelte-10d68cq">Panel de Administración</h1> <p class="svelte-10d68cq">Monitoreo y mantenimiento del dataset UFC Radar</p></div></div> <div class="header-info svelte-10d68cq"><div class="current-time svelte-10d68cq"> </div> <div class="status-badge svelte-10d68cq"><!> <span class="svelte-10d68cq">Acceso Autorizado</span></div></div></div></div> <div class="dashboard-content svelte-10d68cq"><div class="widgets-grid svelte-10d68cq"><div class="widget-section overview-section svelte-10d68cq"><!></div> <div class="widget-section translations-section svelte-10d68cq"><!></div> <div class="widget-section proxy-section svelte-10d68cq"><!></div></div></div> <div class="dashboard-footer svelte-10d68cq"><div class="footer-content svelte-10d68cq"><div class="footer-info svelte-10d68cq"><span class="svelte-10d68cq">UFC Radar Admin Dashboard</span> <span class="svelte-10d68cq">•</span> <span class="svelte-10d68cq">Versión 1.0</span></div> <div class="footer-warning svelte-10d68cq"><!> <span class="svelte-10d68cq">Panel interno - Solo para uso del equipo</span></div></div></div></div>');function Fa(H,r){Te(r,!0);let a=te(kt(new Date));setInterval(()=>{p(a,new Date,!0)},6e4);function v(T){return T.toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}var s=La(),n=t(s),l=t(n),_=t(l),x=t(_);Mt(x,{size:32});var M=i(_,2),C=t(M),c=t(C),g=i(C,2),d=t(g);ct(d,{size:16});var y=i(n,2),o=t(y),D=t(o),A=t(D);la(A,{});var m=i(D,2),G=t(m);ya(G,{});var q=i(m,2),k=t(q);Aa(k,{});var N=i(y,2),V=t(N),h=i(t(V),2),L=t(h);ct(L,{size:14}),P(T=>u(c,T),[()=>v(e(a))]),f(H,s),ze()}function Ia(H,r){Te(r,!1);const[a,v]=qt(),s=()=>ft(Wt,"$currentPath",a),n=()=>ft(Vt,"$isAuthenticated",a);ut(()=>(s(),n()),()=>{console.log("AdminPage - currentPath:",s(),"isAuthenticated:",n())}),ut(()=>(s(),n(),Ge),()=>{s()===Fe.ADMIN_DASHBOARD&&!n()?(console.log("Redirecting to login - user not authenticated"),Ge.navigate(Fe.ADMIN_LOGIN)):s()===Fe.ADMIN_LOGIN&&n()&&(console.log("Redirecting to dashboard - user already authenticated"),Ge.navigate(Fe.ADMIN_DASHBOARD))}),It(),_t();var l=ne(),_=O(l);{var x=C=>{pt(C,{})},M=C=>{var c=ne(),g=O(c);{var d=o=>{Fa(o,{})},y=o=>{pt(o,{})};F(g,o=>{n()?o(d):o(y,!1)},!0)}f(C,c)};F(_,C=>{s(),Rt(Fe),Et(()=>s()===Fe.ADMIN_LOGIN)?C(x):C(M,!1)})}f(H,l),ze(),v()}export{Ia as default};
