import{q as ut,p as Ge,l as q,C as h,z as D,r as $,A as e,h as gt,j as ft,f as K,m as Ie,$ as Pt,i as te,c as i,u as d,S as $t,t as A,B as ge,s as Ae,b,o as pt,I as mt,n as Oe,x as r,y as g,J as ot,T as Ra,k as st,D as je,E as et,Q as Et,U as Fa,V as _t,W as vt,Y as Ma,a as xa,Z as Sa,_ as Xt,a0 as Zt,a1 as Rt,F as Jt,P as It,w as Ka,K as bt,a2 as Lt}from"./lucide-Bti7H_d4.js";import{H as Ca}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Na,U as Oa}from"./UpcomingFights-DyoloADj.js";import{$ as yt,n as ea,A as ct,a as Pa,v as $a,g as dt,b as Ea,u as At,c as Ia}from"./index-ByixAQvF.js";import{c as kt,g as Wt,f as ht,a as La,b as Bt,p as qt,d as Ht,e as Gt}from"./fighters_service-C1bMnNZV.js";import{R as Aa,a as Vt}from"./RadarChart-G-kMQKQj.js";import{f as Ut,a as jt,F as Wa}from"./unit_conversion-DymV3dMb.js";import"./highcharts-DyRVWUji.js";var Ba=K('<img class="svelte-gkl5a1"/>'),qa=K('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Ha=K("<!> <span> </span>",1),Ga=K("<span> </span>"),Va=K('<img class="svelte-gkl5a1"/>'),Ua=K('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),ja=K('<button type="button"><!> <span> </span></button>'),Ya=K('<div class="no-results svelte-gkl5a1"> </div>'),za=K('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Qa=K('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Yt(E,t){ut(t,!1);const[s,u]=mt(),n=()=>ot(yt,"$_",s),a=D(),c=D();let l=Ge(t,"id",8),m=Ge(t,"placeholder",8,""),_=Ge(t,"disabled",8,!0),k=Ge(t,"options",24,()=>[]),L=Ge(t,"selectedValue",12,""),x=Ge(t,"onSelectionChange",8,void 0),y=Ge(t,"onOpenStateChange",8,void 0),U=Ge(t,"shouldOpen",8,!1),H=D(!1),C=D(),Fe=D(),Y=D(""),z=D(!1);function J(){_()||(h(H,!e(H)),e(H)&&setTimeout(()=>e(Fe)?.focus(),0))}function F(M){L(M.value),h(Y,""),h(H,!1),x()&&x()(M.value,M)}function P(M){const fe=M.target;h(Y,fe.value)}function S(M){M.key==="Enter"&&e(c).length>0?(F(e(c)[0]),M.preventDefault()):M.key==="Escape"&&(h(Y,""),h(H,!1))}function T(M){e(C)&&!e(C).contains(M.target)&&(h(H,!1),h(Y,""))}function I(M){M.key==="Escape"&&h(H,!1)}q(()=>($(k()),$(L())),()=>{h(a,k().find(M=>M.value===L()))}),q(()=>($(U()),e(z),$(_()),e(Fe)),()=>{U()&&!e(z)&&!_()?(h(z,!0),h(H,!0),setTimeout(()=>e(Fe)?.focus(),0)):U()||h(z,!1)}),q(()=>($(y()),e(H)),()=>{y()&&y()(e(H))}),q(()=>(e(Y),$(k()),kt),()=>{h(c,e(Y)?k().filter(M=>kt(M.label.toLowerCase()).includes(kt(e(Y).toLowerCase()))):k())}),gt(),ft();var Q=Qa();Ie("click",Pt,T),Ie("keydown",Pt,I);var oe=i(Q);let ye;var se=i(oe),Le=i(se);{var De=M=>{var fe=Ha(),xe=Oe(fe);{var ke=Ke=>{var G=Ba();A(()=>{ge(G,"src",(e(a),r(()=>e(a).imageUrl))),ge(G,"alt",(e(a),r(()=>e(a).label)))}),b(Ke,G)},Te=Ke=>{var G=st(),ze=Oe(G);{var Qe=We=>{var be=qa(),Ne=i(be);Et(Ne,()=>e(a).iconComponent,(Be,qe)=>{qe(Be,{size:16})}),b(We,be)};te(ze,We=>{e(a),r(()=>e(a)?.iconComponent)&&We(Qe)},!0)}b(Ke,G)};te(xe,Ke=>{e(a),r(()=>e(a)?.imageUrl)?Ke(ke):Ke(Te,!1)})}var Se=d(xe,2),Pe=i(Se);A(()=>g(Pe,(e(a),r(()=>e(a).label)))),b(M,fe)},Me=M=>{var fe=Ga(),xe=i(fe);A(ke=>g(xe,ke),[()=>($(m()),n(),r(()=>m()||n()("common.select_option")))]),b(M,fe)};te(Le,M=>{e(a)?M(De):M(Me,!1)})}var Z=d(se,2);let le;var Ye=d(oe,2);{var W=M=>{var fe=za(),xe=i(fe),ke=i(xe);$t(ke,be=>h(Fe,be),()=>e(Fe));var Te=d(xe,2),Se=i(Te);let Pe;var Ke=i(Se),G=i(Ke),ze=d(Se,2);{var Qe=be=>{var Ne=st(),Be=Oe(Ne);je(Be,1,()=>e(c),et,(qe,we)=>{var Ce=ja();let Xe;var Ve=i(Ce);{var tt=$e=>{var ve=Va();A(()=>{ge(ve,"src",(e(we),r(()=>e(we).imageUrl))),ge(ve,"alt",(e(we),r(()=>e(we).label)))}),Ie("error",ve,ae=>{ae.currentTarget.style.display="none"}),b($e,ve)},Ze=$e=>{var ve=st(),ae=Oe(ve);{var Ue=v=>{var p=Ua(),R=i(p);Et(R,()=>e(we).iconComponent,(ee,he)=>{he(ee,{size:16})}),b(v,p)};te(ae,v=>{e(we),r(()=>e(we)?.iconComponent)&&v(Ue)},!0)}b($e,ve)};te(Ve,$e=>{e(we),r(()=>e(we)?.imageUrl)?$e(tt):$e(Ze,!1)})}var at=d(Ve,2),it=i(at);A($e=>{Xe=Ae(Ce,1,"dropdown-item svelte-gkl5a1",null,Xe,$e),g(it,(e(we),r(()=>e(we).label)))},[()=>({selected:L()===e(we).value})]),Ie("click",Ce,()=>F(e(we))),b(qe,Ce)}),b(be,Ne)},We=be=>{var Ne=st(),Be=Oe(Ne);{var qe=we=>{var Ce=Ya(),Xe=i(Ce);A(()=>g(Xe,`No se encontraron resultados para "${e(Y)??""}"`)),b(we,Ce)};te(Be,we=>{e(Y)&&we(qe)},!0)}b(be,Ne)};te(ze,be=>{e(c),r(()=>e(c).length>0)?be(Qe):be(We,!1)})}A((be,Ne,Be)=>{ge(ke,"placeholder",be),ge(Te,"id",`dropdown-options-${l()??""}`),Pe=Ae(Se,1,"dropdown-item svelte-gkl5a1",null,Pe,Ne),g(G,Be)},[()=>(n(),r(()=>n()("common.search")||"Search...")),()=>({selected:L()===""}),()=>($(m()),n(),r(()=>m()||n()("common.select_option")))]),Ra(ke,()=>e(Y),be=>h(Y,be)),Ie("input",ke,P),Ie("keydown",ke,S),Ie("click",Se,()=>F({value:"",label:m(),imageUrl:""})),b(M,fe)};te(Ye,M=>{e(H)&&M(W)})}$t(Q,M=>h(C,M),()=>e(C)),A((M,fe)=>{ge(Q,"id",l()),ye=Ae(oe,1,"dropdown-button svelte-gkl5a1",null,ye,M),oe.disabled=_(),ge(oe,"aria-expanded",e(H)),ge(oe,"aria-controls",`dropdown-options-${l()??""}`),le=Ae(Z,1,"dropdown-arrow svelte-gkl5a1",null,le,fe)},[()=>({disabled:_(),open:e(H)}),()=>({rotated:e(H)})]),Ie("click",oe,J),b(E,Q),pt(),u()}function Tt(E,t){if(t()){const s=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;ea(s)}}function Xa(E,t){h(t,!e(t))}var Za=K('<img class="fighter-image svelte-1315m6i"/> <div class="fighter-placeholder svelte-1315m6i" style="display: none;">Picture Unavailable</div>',1),Ja=K('<div class="fighter-placeholder svelte-1315m6i">Picture Unavailable</div>'),ei=(E,t)=>E.key==="Enter"&&t(),ti=K('<div class="stat-item role-disc-clickable svelte-1315m6i" role="button" tabindex="0"><span class="stat-label svelte-1315m6i">ROLE-DISC:</span> <span><div class="role-emojis svelte-1315m6i"> </div> <div class="role-name svelte-1315m6i"> </div></span></div>'),ai=K('<div class="archetype-fields svelte-1315m6i"><div class="archetype-field svelte-1315m6i"><div class="archetype-field-header svelte-1315m6i"><span class="archetype-icon svelte-1315m6i"><!></span> <div class="archetype-field-label svelte-1315m6i"> </div></div> <div class="archetype-field-value description svelte-1315m6i"> </div></div> <div class="archetype-field svelte-1315m6i"><div class="archetype-field-header svelte-1315m6i"><span class="archetype-icon svelte-1315m6i"><!></span> <div class="archetype-field-label svelte-1315m6i"> </div></div> <div class="archetype-field-value favorite-zone svelte-1315m6i"> </div></div> <div class="archetype-field svelte-1315m6i"><div class="archetype-field-header svelte-1315m6i"><span class="archetype-icon svelte-1315m6i"><!></span> <div class="archetype-field-label svelte-1315m6i"> </div></div> <div class="archetype-field-value strengths svelte-1315m6i"> </div></div> <div class="archetype-field svelte-1315m6i"><div class="archetype-field-header svelte-1315m6i"><span class="archetype-icon svelte-1315m6i"><!></span> <div class="archetype-field-label svelte-1315m6i"> </div></div> <div class="archetype-field-value weaknesses svelte-1315m6i"> </div></div></div>'),ii=K('<hr class="archetype-divider svelte-1315m6i"/> <div class="archetype-container svelte-1315m6i"><div class="archetype-section svelte-1315m6i"><button type="button" class="archetype-section-title svelte-1315m6i"><span><!></span> </button> <!></div></div>',1),si=K('<div class="fighter-header svelte-1315m6i"><div class="header-actions svelte-1315m6i"><!> <button type="button" class="fighter-detail-cta svelte-1315m6i" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1315m6i"><div class="fighter-image-container svelte-1315m6i"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1315m6i"><div class="fighter-name svelte-1315m6i"> </div></button> <div class="fighter-division svelte-1315m6i"> </div> <div class="star-rating svelte-1315m6i"><div class="stars-container svelte-1315m6i"></div></div> <div class="fighter-stats svelte-1315m6i"><!> <div class="stat-item svelte-1315m6i"><span class="stat-label svelte-1315m6i"> </span> <span class="stat-value career-record svelte-1315m6i"> </span></div> <div class="stat-item svelte-1315m6i"><span class="stat-label svelte-1315m6i"> </span> <span class="stat-value record svelte-1315m6i"> </span></div> <div class="stat-item svelte-1315m6i"><span class="stat-label svelte-1315m6i"> </span> <span><!></span></div> <div class="stat-item svelte-1315m6i"><span class="stat-label svelte-1315m6i"> </span> <span class="stat-value height svelte-1315m6i"> </span></div> <div class="stat-item svelte-1315m6i"><span class="stat-label svelte-1315m6i"> </span> <span class="stat-value reach svelte-1315m6i"> </span></div></div> <!>',1),ni=K('<div class="empty-card svelte-1315m6i"><div class="empty-message svelte-1315m6i"> </div></div>'),ri=K('<div class="fighter-card svelte-1315m6i"><!></div> <!>',1);function zt(E,t){ut(t,!1);const[s,u]=mt(),n=()=>ot(yt,"$_",s),a=D(),c=D(),l=D(),m=D();let _=Ge(t,"fighter",8,null),k=Ge(t,"id",8,""),L=D(!1),x=D(!1);function y(){h(L,!0)}function U(){h(L,!1)}q(()=>n(),()=>{h(a,F=>{if(!F||!F.startsWith("@ARCHETYPE_"))return F;let P="",S="";if(F.includes("_DESCRIPTION"))P=F.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),S="description";else if(F.includes("_FAVORITE_ZONE"))P=F.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),S="favorite_zone";else if(F.includes("_STRENGTHS"))P=F.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),S="strengths";else if(F.includes("_WEAKNESSES"))P=F.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),S="weaknesses";else{const Q=F.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!Q)return F;P=Q[1],S=Q[2].toLowerCase()}const T=`archetype_data.${P}.${S}`,I=n()(T);return F.includes("_WEAKNESSES"),I!==T?I:F})}),q(()=>($(_()),Wt),()=>{h(c,_()?Wt(_().archetype):null)}),q(()=>($(_()),Ut),()=>{h(l,_()?.rawData.height_inches?Ut(_().rawData.height_inches):"-")}),q(()=>($(_()),jt),()=>{h(m,_()?.rawData.reach_inches?jt(_().rawData.reach_inches):"-")}),gt(),ft();var H=ri(),C=Oe(H),Fe=i(C);{var Y=F=>{var P=si(),S=Oe(P),T=i(S),I=i(T);Wa(I,{get fighterFullName(){return $(_()),r(()=>_().nameWithNickname)},size:"large"});var Q=d(I,2);Q.__click=[Tt,_];var oe=i(Q);Fa(oe,{size:16});var ye=d(T,2);ye.__click=[Tt,_];var se=i(ye),Le=i(se);{var De=f=>{var w=Za(),j=Oe(w);A(()=>{ge(j,"src",($(_()),r(()=>_().pictureUrl))),ge(j,"alt",`${$(_()),r(()=>_().name)??""} fighter profile picture`)}),Ie("error",j,B=>{B.currentTarget.style.display="none";const N=B.currentTarget.nextElementSibling;N&&(N.style.display="block")}),b(f,w)},Me=f=>{var w=Ja();b(f,w)};te(Le,f=>{$(_()),r(()=>_().pictureUrl)?f(De):f(Me,!1)})}var Z=d(S,2);Z.__click=[Tt,_];var le=i(Z),Ye=i(le),W=d(Z,2),M=i(W),fe=d(W,2),xe=i(fe),ke=d(fe,2),Te=i(ke);{var Se=f=>{var w=ti();w.__click=y,w.__keydown=[ei,y];var j=i(w),B=d(j,2),N=i(B),O=i(N),X=d(N,2),ie=i(X);A((ce,ue)=>{ge(w,"aria-label",ce),ge(j,"title",ue),Ae(B,1,`stat-value role-indicator archetype-dots archetype-${e(c),r(()=>e(c).type)??""}`,"svelte-1315m6i"),ge(B,"title",(e(c),r(()=>e(c).tooltip))),g(O,(e(c),r(()=>e(c).label))),g(ie,(e(c),r(()=>e(c).name)))},[()=>(n(),r(()=>n()("role_disc_modal.open_modal_aria_label"))),()=>(n(),r(()=>n()("role_disc_modal.archetype_tooltip")))]),b(f,w)};te(Te,f=>{e(c)&&f(Se)})}var Pe=d(Te,2),Ke=i(Pe),G=i(Ke),ze=d(Ke,2),Qe=i(ze),We=d(Pe,2),be=i(We),Ne=i(be),Be=d(be,2),qe=i(Be),we=d(We,2),Ce=i(we),Xe=i(Ce),Ve=d(Ce,2);let tt;var Ze=i(Ve);{var at=f=>{var w=vt();A(()=>g(w,`+${$(_()),r(()=>_().streak)??""}W`)),b(f,w)},it=f=>{var w=st(),j=Oe(w);{var B=O=>{var X=vt();A(()=>g(X,`${$(_()),r(()=>_().streak)??""}L`)),b(O,X)},N=O=>{var X=vt("-");b(O,X)};te(j,O=>{$(_()),r(()=>_().streak<0)?O(B):O(N,!1)},!0)}b(f,w)};te(Ze,f=>{$(_()),r(()=>_().streak>0)?f(at):f(it,!1)})}var $e=d(we,2),ve=i($e),ae=i(ve),Ue=d(ve,2),v=i(Ue),p=d($e,2),R=i(p),ee=i(R),he=d(R,2),pe=i(he),V=d(ke,2);{var o=f=>{var w=ii(),j=d(Oe(w),2),B=i(j),N=i(B);N.__click=[Xa,x];var O=i(N);let X;var ie=i(O);Ma(ie,{size:20});var ce=d(O),ue=d(N,2);{var _e=ne=>{var Re=ai(),de=i(Re),re=i(de),Ee=i(re),He=i(Ee);Sa(He,{size:18});var Je=d(Ee,2),nt=i(Je),lt=d(re,2),Dt=i(lt),Ft=d(de,2),Mt=i(Ft),xt=i(Mt),ta=i(xt);Xt(ta,{size:18});var aa=d(xt,2),ia=i(aa),sa=d(Mt,2),na=i(sa),St=d(Ft,2),Kt=i(St),Ct=i(Kt),ra=i(Ct);Zt(ra,{size:18});var oa=d(Ct,2),la=i(oa),ca=d(Kt,2),da=i(ca),va=d(St,2),Nt=i(va),Ot=i(Nt),ha=i(Ot);Rt(ha,{size:18});var _a=d(Ot,2),ua=i(_a),ga=d(Nt,2),fa=i(ga);A((pa,ma,ya,ba,wa,Da,ka,Ta)=>{g(nt,pa),g(Dt,ma),g(ia,ya),g(na,ba),g(la,wa),g(da,Da),g(ua,ka),g(fa,Ta)},[()=>(n(),r(()=>n()("archetype.tactical_description"))),()=>(e(a),$(_()),r(()=>e(a)(_().archetype.description))),()=>(n(),r(()=>n()("archetype.preferred_zone"))),()=>(e(a),$(_()),r(()=>e(a)(_().archetype.favoriteZone))),()=>(n(),r(()=>n()("archetype.strengths"))),()=>(e(a),$(_()),r(()=>e(a)(_().archetype.strengths))),()=>(n(),r(()=>n()("archetype.weaknesses"))),()=>(e(a),$(_()),r(()=>e(a)(_().archetype.weaknesses)))]),b(ne,Re)};te(ue,ne=>{e(x)&&ne(_e)})}A((ne,Re)=>{ge(N,"aria-expanded",e(x)),X=Ae(O,1,"archetype-caret svelte-1315m6i",null,X,ne),g(ce,` ${Re??""}`)},[()=>({expanded:e(x)}),()=>(n(),r(()=>n()("archetype.analysis_title")))]),b(f,w)};te(V,f=>{$(_()),r(()=>_().archetype)&&f(o)})}A((f,w,j,B,N,O,X,ie,ce,ue,_e,ne)=>{ge(Q,"aria-label",`View detailed fighter profile for ${$(_()),r(()=>_().nameWithNickname)??""}`),g(Ye,($(_()),r(()=>_().name))),g(M,f),_t(xe,`--fill-width: ${$(_()),r(()=>_().stars*20)??""}%`),ge(Ke,"title",w),g(G,`${j??""}:`),g(Qe,($(_()),r(()=>_().career_record))),ge(be,"title",B),g(Ne,`${N??""}:`),g(qe,($(_()),r(()=>_().record_36m))),ge(Ce,"title",O),g(Xe,`${X??""}:`),tt=Ae(Ve,1,"stat-value streak svelte-1315m6i",null,tt,ie),ge(ve,"title",ce),g(ae,`${ue??""}:`),g(v,e(l)),ge(R,"title",_e),g(ee,`${ne??""}:`),g(pe,e(m))},[()=>($(ht),$(_()),r(()=>ht(_().division||""))),()=>(n(),r(()=>n()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(n(),r(()=>n()("fighter_profile.career_record"))),()=>(n(),r(()=>n()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(n(),r(()=>n()("fighter_profile.record_36m"))),()=>(n(),r(()=>n()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(n(),r(()=>n()("fighter_profile.streak"))),()=>({"streak-win":_().streak>0,"streak-loss":_().streak<0}),()=>(n(),r(()=>n()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(n(),r(()=>n()("fighter_profile.height"))),()=>(n(),r(()=>n()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(n(),r(()=>n()("fighter_profile.reach")))]),b(F,P)},z=F=>{var P=ni(),S=i(P),T=i(S);A(I=>g(T,I),[()=>(n(),r(()=>n()("fight_radar.select_fighter_stats")))]),b(F,P)};te(Fe,F=>{_()?F(Y):F(z,!1)})}var J=d(C,2);Aa(J,{get isOpen(){return e(L)},$$events:{close:U}}),A(()=>ge(C,"id",k())),b(E,H),pt(),u()}xa(["click","keydown"]);function oi(E){const t=E.filter(l=>l.type===me.VICTORY_METHOD&&(l.prediction.toLowerCase().includes("decision")||l.predictionKey?.toLowerCase().includes("decision")));if(t.length===0)return E;const s=E.filter(l=>{if(l.type!==me.DURATION)return!1;const m=l.prediction.toLowerCase(),_=l.predictionKey?.toLowerCase()||"";return m.includes("under")||_.includes("under")});if(s.length===0)return E;const u=[...t,...s],n=Math.max(...u.map(l=>l.confidence)),a=u.find(l=>l.confidence===n);if(!a)return E;const c=new Set(u.map(l=>l.id));return E.filter(l=>!c.has(l.id)||l.id===a.id)}function li(E){const t=E.filter(c=>c.type===me.VICTORY_METHOD),s=E.filter(c=>c.type===me.FIGHT_PROPS);if(t.length===0||s.length===0)return E;const n=t.reduce((c,l)=>l.confidence>c.confidence?l:c).prediction.toLowerCase(),a=new Set;for(const c of s){const l=(c.prediction||"").toLowerCase(),m=(c.predictionKey||"").toLowerCase();(n.includes("ko")||n.includes("tko"))&&(l.includes("submission")||l.includes("ground control")||m.includes("submission")||m.includes("ground_control"))&&a.add(c.id),n.includes("submission")&&(l.includes("standing exchange")&&!l.includes("ground")||m.includes("standing_exchange")&&!m.includes("ground"))&&a.add(c.id),n.includes("decision")&&(l.includes("first round finish")||l.includes("gone in 60")||m.includes("first_round_finish")||m.includes("gone_in_60"))&&a.add(c.id)}return E.filter(c=>!a.has(c.id))}function ci(E){const t=E.filter(n=>n.type===me.DURATION),s=E.filter(n=>n.type===me.FIGHT_PROPS);if(t.length===0||s.length===0)return E;const u=new Set;for(const n of t){const a=(n.prediction||"").toLowerCase(),c=(n.predictionKey||"").toLowerCase(),l=a.includes("under 2.5")||c.includes("under_2_5"),m=a.includes("over 3.5")||c.includes("over_3_5");for(const _ of s){const k=(_.prediction||"").toLowerCase(),L=(_.predictionKey||"").toLowerCase();l&&((k.includes("over 100 strikes")||L.includes("over_100_strikes"))&&u.add(_.id),(k.includes("goes to distance")||L.includes("goes_to_distance"))&&u.add(_.id)),m&&(k.includes("first round")||k.includes("gone in 60")||L.includes("first_round")||L.includes("gone_in_60"))&&u.add(_.id)}}return E.filter(n=>!u.has(n.id))}function Qt(E){let t=[...E];return t=oi(t),t=li(t),t=ci(t),t}var me=(E=>(E.MONEYLINE="moneyline",E.VICTORY_METHOD="victory_method",E.WINNER_AND_METHOD="winner_and_method",E.DURATION="duration",E.GOES_TO_DECISION="goes_to_decision",E.GONE_IN_60="gone_in_60",E.FIGHT_PROPS="fight_props",E.KEY_FACTORS="key_factors",E.TRENDS="trends",E.NO_PREDICTION="no_prediction",E))(me||{}),wt=(E=>(E.HIGH="high",E.MEDIUM="medium",E.LOW="low",E))(wt||{});class rt{constructor(){this.config={finishLikelihoodThreshold:35.5,skillGapWeight:.06000000000000005,finishRateWeight:.39999999999999997,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:-1,predatorVsDefensiveBonus:2.5,koThreatWinnerWeight:.58,koThreatLoserWeight:.42,koVulnDiffHighThreshold:11,koVulnDiffMedThreshold:5,koVulnDiffHighBonus:12,koVulnDiffMedBonus:4,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:35,strOffGapMedThreshold:25,strOffGapLowThreshold:15,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:35,ctrlGapMedThreshold:25,ctrlGapLowThreshold:15,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:35,tdOffGapMedThreshold:25,tdOffGapLowThreshold:15,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,earlyFinishScoreThreshold:39,durationSkillGapWeight:.19999999999999998,durationFinishRateWeight:.34500000000000003,durationVulnerabilityWeight:.30000000000000004,durationAvgTimeWeight:.185,underBonusBase:21,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:44,durationBothLowFinishThreshold:24,durationPaceAsymmetryThreshold:3.5,durationPaceAsymmetryPenalty:-1.5,durationUnderSkillGapBonus:9,durationUnderLoserVulnBonus:7,durationUnderWinnerFinishBonus:3,durationUnderComboBonus:0,durationUnderExtreme:10,durationUnderSkillGapExtreme:10,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:8,oppTierWeight:8.5,oppTierNeutral:1.82,winRateWeightNormal:.23999999999999994,winRateWeightHigh:.42000000000000004,winRateWeightLow:.34,winRateHighThreshold:78,winRateLowThreshold:42,ageImpactEnabled:!0,agePenaltyPhase1Rate:.008,agePenaltyPhase2Rate:.015,agePenaltyPhase3Rate:.018,agePenaltyMaxCap:.28,damageMultiplier1KO:1.1,damageMultiplier2KO:1.25,damageMultiplier3KO:1.4,damageMultiplier4KO:1.6,damageMultiplier5PlusKO:1.8,relativeAgeThreshold:8,relativeAgeAdjustRate:.003,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.008,winStreak2Bonus:.028,winStreak3PlusBonus:.048,loseStreak1Penalty:.008,loseStreak2Penalty:.032,loseStreak3PlusPenalty:.048,physicalAdvantagesEnabled:!0,reachAdvantageWeight:0,heightAdvantageWeight:.0022500000000000003,reachDiffThreshold:-1,heightDiffThreshold:-1,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:17,inactivityPenaltyRate:.004,inactivityMaxPenalty:.23,activityBonusThreshold:2,activityBonus:.04,amplificationEnabled:!0,amplificationThreshold:12,amplificationRate:.016,minProbability:15,maxProbability:88,decisionProbabilityBase:68,decisionLowFinishAdjust:3,goesToDecisionMaxProb:88}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,s,u=!1){const n=[],c=t.rawData.Number_of_Fights_36m||0,l=s.rawData.Number_of_Fights_36m||0;if(c<3||l<3)return[this.createNoPredictionCard("insufficient_fights",t,s,c,l)];if(t.division!==s.division)return[this.createNoPredictionCard("different_divisions",t,s)];const m=this.calculateWinProbability(t,s);if(u&&m.probability<rt.MIN_MEDIUM_CONFIDENCE){const H=m.winner===t?m.probability:100-m.probability,C=100-H;n.push(this.createNoPredictionCard("low_moneyline_confidence",t,s,void 0,void 0,H,C))}else n.push(this.createMoneylineCard(m));const _=this.predictMethodGivenWinner(t,s,m),k=this.predictTotalRounds(t,s,m,_),L=this.generateFightProps(t,s,m),x=this.analyzeKeyFactors(t,s),y=this.analyzeTrends(t,s);n.push(this.createVictoryMethodCard(_));const U=this.predictWinnerAndMethod(m,_);return n.push(U),n.push(this.createTotalRoundsCard(k)),n.push(this.createFightPropsCard(L)),n.push(this.createKeyFactorsCard(x)),n.push(this.createTrendsCard(y)),this.hasHighConfidencePredictions(n)||n.push(this.createNoPredictionCard("low_confidence")),u?this.sortBetCardsByPriority(this.filterByConfidence(Qt(n))):this.sortBetCardsByPriority(Qt(n))}filterByConfidence(t){return t.filter(s=>s.type==="key_factors"||s.type==="trends"||s.type==="no_prediction"?!0:s.confidence>=rt.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(t,s){const u=(t.rawData.reach_inches||0)-(s.rawData.reach_inches||0),n=(t.rawData.height_inches||0)-(s.rawData.height_inches||0);let a=0,c=0;return u>=3?a+=Math.min(Math.abs(u)*this.config.reachAdvantageWeight,.025):u<=-3&&(c+=Math.min(Math.abs(u)*this.config.reachAdvantageWeight,.025)),n>=3?a+=Math.min(Math.abs(n)*this.config.heightAdvantageWeight,.015):n<=-3&&(c+=Math.min(Math.abs(n)*this.config.heightAdvantageWeight,.015)),{f1Advantage:a,f2Advantage:c}}calculateWinProbability(t,s){const u=this.config.oppTierNeutral,n=this.config.oppTierWeight;let a=t.overall+(t.oppTierScore-u)*n,c=s.overall+(s.oppTierScore-u)*n;const l=this.calculatePhysicalAdvantage(t,s);a*=1+l.f1Advantage,c*=1+l.f2Advantage,a*=this.calculateAgeImpact(t),c*=this.calculateAgeImpact(s);const m=this.getInactiveMonths(t),_=this.getInactiveMonths(s);if(m>=this.config.inactivityThreshold){const se=Math.min((m-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);a*=1-se}if(_>=this.config.inactivityThreshold){const se=Math.min((_-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);c*=1-se}const k=this.getFightsInPeriod(t,18),L=this.getFightsInPeriod(s,18);k>=this.config.activityBonusThreshold&&(a*=1+this.config.activityBonus),L>=this.config.activityBonusThreshold&&(c*=1+this.config.activityBonus);const x=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,y=s.rawData.Number_of_Fights_36m>0?s.rawData.win/s.rawData.Number_of_Fights_36m*100:0,U=this.calculateMomentum(t),H=this.calculateMomentum(s);a*=1+U,c*=1+H;let C=this.config.winRateWeightNormal,Fe=this.config.winRateWeightNormal;x>=this.config.winRateHighThreshold?C=this.config.winRateWeightHigh:x<this.config.winRateLowThreshold&&(C=this.config.winRateWeightLow),y>=this.config.winRateHighThreshold?Fe=this.config.winRateWeightHigh:y<this.config.winRateLowThreshold&&(Fe=this.config.winRateWeightLow);const Y=a+x*C,z=c+y*Fe,J=this.calculateAge(t),F=this.calculateAge(s),P=J-F;let S=Y,T=z;if(Math.abs(P)>=this.config.relativeAgeThreshold){const se=Math.min(Math.abs(P)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);P>0?(S=Y*(1-se),T=z*(1+se)):(S=Y*(1+se),T=z*(1-se))}const I=Math.abs(S-T);if(I>this.config.amplificationThreshold){const se=1+(I-this.config.amplificationThreshold)*this.config.amplificationRate;S>T?S*=se:T*=se}const Q=S+T;let oe=Q>0?Math.round(S/Q*100):50,ye=Q>0?Math.round(T/Q*100):50;if(oe=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,oe)),ye=100-oe,oe>ye){let se=this.getWinReasoningKey(t,s,x,y);return{winner:t,probability:oe,reasoningKey:se,adjustedScore1:S,adjustedScore2:T}}else{let se=this.getWinReasoningKey(s,t,y,x);return{winner:s,probability:ye,reasoningKey:se,adjustedScore1:T,adjustedScore2:S}}}predictWinnerAndMethod(t,s){const u=t.probability/100*(s.probability/100)*100,n=t.winner,a=s.method,c=s.methodKey,l=n.name,m=`combat_analysis.winner_and_method.${c.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:l,predictionKey:m,confidence:Math.round(u),confidenceLevel:this.getConfidenceLevel(u),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:n.name,method:a,methodKey:m,winnerProb:t.probability,methodProb:s.probability,compositeProb:u},priority:2.5}}predictMethodGivenWinner(t,s,u){const n=u.winner,a=n===t?s:t,c=1.82,l=4.5,m=n.overall+(n.oppTierScore-c)*l,_=a.overall+(a.oppTierScore-c)*l,k=Math.abs(m-_),L=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,x=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,y=n===t?L:x,U=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,H=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,C=n===t?U:H,Fe=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,Y=s.rawData.Number_of_Fights_36m>0?s.rawData.win_sub/s.rawData.Number_of_Fights_36m*100:0,z=n===t?Fe:Y,J=a.rawData.Number_of_Fights_36m>0?a.rawData.loss_kotko/a.rawData.Number_of_Fights_36m*100:0,F=a.rawData.Number_of_Fights_36m>0?a.rawData.loss_sub/a.rawData.Number_of_Fights_36m*100:0,P=J+F,S=P;let T=k*this.config.skillGapWeight+y*this.config.finishRateWeight+P*this.config.vulnerabilityWeight;const I=C>z&&J>F,Q=z>C&&F>J;(I||Q)&&(T+=this.config.methodMatchBonus),n.rawData.Number_of_Fights_36m>=4&&y>=40&&y<=65&&(T+=this.config.highPaceFinishBonus),Math.max(C,z)>45&&P>35&&(T+=this.config.styleStrengthBonus),y>55&&S>45&&(T+=this.config.finisherVsVulnerableBonus);const se=n.archetype?.combinedRole||"",Le=a.archetype?.combinedRole||"",De=se.includes("AT")||se.includes("ANT"),Me=Le.includes("PT")||Le.includes("PNT");if(De&&Me&&y>30&&P>25&&(T+=this.config.predatorVsDefensiveBonus),!(T>=32&&T<this.config.finishLikelihoodThreshold&&P>50)){if(T<this.config.finishLikelihoodThreshold||u.probability<58&&y<24){let G=Math.min(Math.round(100-T),85);return y<15&&S<20&&(G+=this.config.decisionLowFinishAdjust),y<10&&S<15&&(G+=this.config.decisionLowFinishAdjust),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(G,this.config.goesToDecisionMaxProb),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:L,finishRate2:x}}}let Z=C*this.config.koThreatWinnerWeight+J*this.config.koThreatLoserWeight,le=z*this.config.subThreatWinnerWeight+F*this.config.subThreatLoserWeight;const Ye=F-J;Ye>this.config.subVulnDiffHighThreshold?le+=this.config.subVulnDiffHighBonus:Ye>this.config.subVulnDiffMedThreshold&&(le+=this.config.subVulnDiffMedBonus);const W=J-F;W>this.config.koVulnDiffHighThreshold?Z+=this.config.koVulnDiffHighBonus:W>this.config.koVulnDiffMedThreshold&&(Z+=this.config.koVulnDiffMedBonus);const M=n.fightRadar.STR_OFF-a.fightRadar.STR_OFF;if(M>this.config.strOffGapLowThreshold){const G=M>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:M>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;Z+=G}const fe=n.fightRadar.CTRL-a.fightRadar.CTRL;if(fe>this.config.ctrlGapLowThreshold){const G=fe>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:fe>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;le+=G}const xe=n.fightRadar.TD_OFF-a.fightRadar.TD_OFF;if(xe>this.config.tdOffGapLowThreshold){const G=xe>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:xe>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;le+=G}const ke=C>z&&J>F,Te=z>C&&F>J,Se=Math.abs(Z-le),Pe=Math.abs(C-z);if(Se<3?Pe<5?J>F:ke&&!Te||Z>le&&!Te:Z>le){let G=Math.min(Math.round(T+Z*.35),81);return k>10&&(G+=this.config.koSkillGapBonus),J>30&&(G+=this.config.koLoserVulnBonus),C>50&&(G+=this.config.koWinnerRateBonus),C>60&&J>25&&(G+=this.config.koComboBonus),ke&&C>this.config.koMethodMatchWinnerThreshold&&J>this.config.koMethodMatchLoserThreshold&&(G+=this.config.koMethodMatchBonus),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(G,89),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:L,finishRate2:x}}else{let G=Math.min(Math.round(T+le*.35),76);return k>10&&(G+=this.config.subSkillGapBonus),F>24&&(G+=this.config.subLoserVulnBonus),z>40&&(G+=this.config.subWinnerRateBonus),z>50&&F>20&&(G+=this.config.subComboBonus),Te&&z>this.config.subMethodMatchWinnerThreshold&&F>this.config.subMethodMatchLoserThreshold&&(G+=this.config.subMethodMatchBonus),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(G,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:L,finishRate2:x}}}predictTotalRounds(t,s,u,n){const a=u.winner,c=a===t?s:t,l=1.82,m=3.45,_=a.overall+(a.oppTierScore-l)*m,k=c.overall+(c.oppTierScore-l)*m,L=Math.abs(_-k),x=(t.rawData.Fight_Duration_Seconds||900)/60,y=(s.rawData.Fight_Duration_Seconds||900)/60,U=a===t?x:y,H=a===t?y:x,C=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,Fe=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,Y=a===t?C:Fe,z=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,J=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,F=a===t?z:J,P=c.rawData.Number_of_Fights_36m>0?(c.rawData.loss_kotko+c.rawData.loss_sub)/c.rawData.Number_of_Fights_36m*100:0;let S=L*this.config.durationSkillGapWeight+Y*this.config.durationFinishRateWeight+P*this.config.durationVulnerabilityWeight+(15-Math.min(U,15))*this.config.durationAvgTimeWeight*10;P>this.config.durationLoserVulnThreshold&&(S+=this.config.loserVulnBonus),C<this.config.durationBothLowFinishThreshold&&Fe<this.config.durationBothLowFinishThreshold&&(S-=this.config.decisionFighterPenalty);const T=t.rawData.Number_of_Fights_36m,I=s.rawData.Number_of_Fights_36m;Math.abs(T-I)>=this.config.durationPaceAsymmetryThreshold&&Math.min(T,I)<=2&&(S-=this.config.durationPaceAsymmetryPenalty);const oe=(x+y)/2,ye=[],se=Y>70&&P>50&&L>12||Y>80&&P>40||L>15&&Y>60;if(S>55&&u.probability>65&&se||U<6&&H<8&&L>10){let Z=Math.min(Math.round(S+this.config.durationUnderExtreme),75);L>15&&(Z+=this.config.durationUnderSkillGapExtreme),Y>80&&(Z+=this.config.durationUnderFinishRateExtreme),P>60&&(Z+=this.config.durationUnderLoserVulnExtreme);const le=Math.min(Z,82);ye.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:le,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:U})}const Le=Y>60&&P>40||F>60&&U<8;if(S>this.config.earlyFinishScoreThreshold&&u.probability>48||Le){let Z=Math.min(Math.round(S+this.config.underBonusBase),76);L>10&&(Z+=this.config.durationUnderSkillGapBonus),P>45&&(Z+=this.config.durationUnderLoserVulnBonus),Y>65&&(Z+=this.config.durationUnderWinnerFinishBonus),Y>50&&P>35&&(Z+=this.config.durationUnderComboBonus);const le=Math.min(Z,87);ye.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:le,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:U})}let De=68;S>38&&(De=61),S>32&&S<=38&&(De=66),S<25&&(De=75),S<18&&(De=79),Y>60&&(De-=4),Y<20&&(De+=7),Y<15&&P<25&&(De+=5);const Me=Math.min(Math.max(Math.round(De),53),82);if(ye.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Me,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:oe}),n&&n.method==="Decision"){const Z=ye.find(le=>le.prediction.includes("OVER 2.5"));Z&&Z.probability<n.probability&&(Z.probability=Math.min(n.probability,this.config.goesToDecisionMaxProb))}return ye.sort((Z,le)=>le.probability-Z.probability),ye[0]}generateFightProps(t,s,u){const n=this.calculateBettingMetrics(t,s,u);return this.hasDominantGrappler(t,s),this.isStrikerWar(t,s),n.f1SubRate+n.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:n}:n.weightedFinishRate&&n.weightedFinishRate>60&&n.weightedAvgFightTime&&n.weightedAvgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:n}:n.f1KnockdownRate>.6&&n.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:n}:n.f1TakedownRate>15||n.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:n}:n.f1StrikeVolume>120&&n.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:n}:n.f1TakedownRate<5&&n.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:n}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:n}}analyzeKeyFactors(t,s){const u=[],n=t.rawData.reach_inches||0,a=s.rawData.reach_inches||0,c=Math.abs(n-a);if(c>2){const y=n>a?t.name||"Fighter 1":s.name||"Fighter 2";u.push({label:"combat_analysis.key_factors.reach_advantage",value:`${y} +${c}"`,type:"advantage"})}const l=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,m=s.rawData.Sig_Strikes_Thrown>0?Math.round(s.rawData.Sig_Strikes_Landed/s.rawData.Sig_Strikes_Thrown*100):0;u.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${l}% vs ${s.name||"F2"}: ${m}%`,type:"comparison"});const _=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,k=s.rawData.takedowns_attempted_against>0?Math.round(s.rawData.Takedowns_Defended/s.rawData.takedowns_attempted_against*100):85;u.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${_}% vs ${s.name||"F2"}: ${k}%`,type:"comparison"});const L=t.rawData.Number_of_Fights_36m||0,x=s.rawData.Number_of_Fights_36m||0;if(Math.abs(L-x)>2){const y=L>x?t.name||"Fighter 1":s.name||"Fighter 2",U=Math.max(L,x),H=Math.min(L,x);u.push({label:"combat_analysis.key_factors.higher_activity",value:`${y}: ${U} vs ${H} fights`,type:"advantage"})}return u}analyzeTrends(t,s){const u=[],n=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=s.rawData.Number_of_Fights_36m>0?Math.round(s.rawData.win/s.rawData.Number_of_Fights_36m*100):0;n>=75?u.push({type:"positive",text:`${t.name||"Fighter 1"} has ${n}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:t.name||"Fighter 1",winRate:n},fighter:t.name}):n<50&&u.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${n}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:t.name||"Fighter 1",winRate:n},fighter:t.name}),a>=75?u.push({type:"positive",text:`${s.name||"Fighter 2"} has ${a}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:s.name||"Fighter 2",winRate:a},fighter:s.name}):a<50&&u.push({type:"negative",text:`${s.name||"Fighter 2"} struggling at ${a}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:s.name||"Fighter 2",winRate:a},fighter:s.name});const c=(t.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60,m=(c+l)/2;return u.push({type:"neutral",text:`Combined average fight time: ${m.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:m.toFixed(1)}}),u}calculateMomentum(t){const s=t.streak;if(s===0)return 0;const u=Math.abs(s);return s>0?u>=3?this.config.winStreak3PlusBonus:u>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:u>=3?-this.config.loseStreak3PlusPenalty:u>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(t){return t===0?1:t===1?this.config.damageMultiplier1KO:t===2?this.config.damageMultiplier2KO:t===3?this.config.damageMultiplier3KO:t===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(t){const s=this.calculateAge(t),n={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=t.rawData.loss_kotko||0,c=this.calculateDamageMultiplier(a),l=(s-n)*c;if(l<=0)return 1;let m=0;return l<=5?m=l*this.config.agePenaltyPhase1Rate:l<=10?m=5*this.config.agePenaltyPhase1Rate+(l-5)*this.config.agePenaltyPhase2Rate:m=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(l-10)*this.config.agePenaltyPhase3Rate,m=Math.min(m,this.config.agePenaltyMaxCap),1-m}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,c=new Date(a);if(!isNaN(c.getTime())){const l=new Date;let m=l.getFullYear()-c.getFullYear();const _=l.getMonth()-c.getMonth();return(_<0||_===0&&l.getDate()<c.getDate())&&m--,m}}const s=25,u=2.5,n=t.rawData.Number_of_Fights_36m||0;return Math.round(s+n/u)}getInactiveMonths(t){const s=t.rawData.Number_of_Fights_36m||0;return s>=3?0:s>=2?6:s>=1?12:24}getFightsInPeriod(t,s){const u=s/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*u)}getWeightedMetric(t,s,u,n,a=.5){const c=u.probability/100,l=1-c;return u.winner===n?t*c+s*l*a:s*c+t*l*a}getFighterStyle(t){const s=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,u=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,n=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0;return s>15||u>25?"grappler":n>30&&s<10?"striker":"balanced"}hasDominantGrappler(t,s){const u=this.getFighterStyle(t),n=this.getFighterStyle(s),a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,c=s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0;return u==="grappler"&&a>20||n==="grappler"&&c>20}isStrikerWar(t,s){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(s)==="striker"}calculateBettingMetrics(t,s,u){const n=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,c=(t.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Knockdowns/s.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:s.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Sub_Attempts/s.rawData.Number_of_Fights_36m:0,f1FinishRate:n,f2FinishRate:a,avgFightTime:(c+l)/2,weightedFinishRate:u?this.getWeightedMetric(n,a,u,t,.5):void 0,weightedAvgFightTime:u?this.getWeightedMetric(c,l,u,t,1):void 0}}getWinReasoningKey(t,s,u,n){return t.overall>s.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>s.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>s.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":u>n+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=rt.MIN_HIGH_CONFIDENCE?"high":t>=rt.MIN_MEDIUM_CONFIDENCE?"medium":(t>=rt.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2},priority:1}}createVictoryMethodCard(t){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{method:t.method,finishRate1:t.finishRate1,finishRate2:t.finishRate2},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(t,s,u,n,a,c,l){if(t==="insufficient_fights"&&s&&u){const m=(n||0)<=2,_=(a||0)<=2;let k="";return m&&_?k=`Both fighters have insufficient fight data: ${s.name} (${n} fights) and ${u.name} (${a} fights). Minimum 3 fights required for accurate predictions.`:m?k=`${s.name} has insufficient fight data (${n} fights). Minimum 3 fights required for accurate predictions.`:_&&(k=`${u.name} has insufficient fight data (${a} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:k,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:n,fighter2Fights:a}}}if(t==="different_divisions"&&s&&u)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${s.name} competes in ${s.division} while ${u.name} competes in ${u.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:s.division,fighter2Division:u.division}};if(t==="low_moneyline_confidence"&&s&&u){const m=c||0,_=l||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${s.name} ${m.toFixed(1)}% vs ${u.name} ${_.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:s.name,fighter2Name:u.name,fighter1Probability:m,fighter2Probability:_}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(s=>(s.type==="moneyline"||s.type==="victory_method"||s.type==="duration"||s.type==="winner_and_method"||s.type==="fight_props")&&s.confidence>=rt.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((s,u)=>s.priority-u.priority)}}const di=new rt;var vi=K('<div class="bet-card no-predictions svelte-pbvwnq"><div class="bet-type svelte-pbvwnq"><!> </div> <div class="bet-prediction svelte-pbvwnq"><div class="no-pred-title svelte-pbvwnq"> </div> <div class="no-pred-subtitle svelte-pbvwnq"> </div></div> <div class="reasoning svelte-pbvwnq"> </div></div>'),hi=K('<div><div class="bet-type svelte-pbvwnq"> </div> <div class="bet-prediction svelte-pbvwnq"><div class="winner-name svelte-pbvwnq"> </div> <div class="confidence svelte-pbvwnq"> </div></div> <div class="reasoning svelte-pbvwnq"> </div></div>'),_i=K('<div><div class="bet-type svelte-pbvwnq"> </div> <div class="bet-prediction svelte-pbvwnq"><div class="method svelte-pbvwnq"> </div> <div class="probability svelte-pbvwnq"> </div></div> <div class="reasoning svelte-pbvwnq"> </div></div>'),ui=K('<div><div class="bet-type svelte-pbvwnq"> </div> <div class="bet-prediction svelte-pbvwnq"><div class="method svelte-pbvwnq"> </div> <div class="probability svelte-pbvwnq"> </div></div> <div class="reasoning svelte-pbvwnq"> </div></div>'),gi=K('<div class="bet-explanation svelte-pbvwnq"> </div>'),fi=K('<div class="bet-explanation svelte-pbvwnq"> </div>'),pi=K('<div><div class="bet-type svelte-pbvwnq"> </div> <div class="bet-prediction svelte-pbvwnq"><div class="rounds"> </div> <div class="probability svelte-pbvwnq"> </div></div> <div class="reasoning svelte-pbvwnq"> </div> <!></div>'),mi=K('<div><div class="bet-type svelte-pbvwnq"> </div> <div class="bet-prediction svelte-pbvwnq"><div class="decision"> </div> <div class="probability svelte-pbvwnq"> </div></div> <div class="reasoning svelte-pbvwnq"> </div></div>'),yi=K('<div><div class="bet-type svelte-pbvwnq"> </div> <div class="bet-prediction svelte-pbvwnq"><div class="gone-60"> </div> <div class="probability svelte-pbvwnq"> </div></div> <div class="reasoning svelte-pbvwnq"> </div></div>'),bi=K('<div class="bet-explanation svelte-pbvwnq"> </div>'),wi=K('<div class="bet-explanation svelte-pbvwnq"> </div>'),Di=K('<div class="bet-card fight-props svelte-pbvwnq"><div class="bet-type svelte-pbvwnq"><!> </div> <div class="bet-prediction svelte-pbvwnq"><div class="prop svelte-pbvwnq"> </div> <div class="value svelte-pbvwnq"> </div></div> <div class="reasoning svelte-pbvwnq"> </div> <!></div>'),ki=K('<div class="stat-item svelte-pbvwnq"><span class="stat-label svelte-pbvwnq"> </span> <span class="stat-value svelte-pbvwnq"> </span></div>'),Ti=K('<div class="bet-card stats svelte-pbvwnq"><div class="bet-type svelte-pbvwnq"> </div> <div class="key-stats svelte-pbvwnq"></div></div>'),Ri=K("<div><!></div>"),Fi=K('<div class="bet-card trends svelte-pbvwnq"><div class="bet-type svelte-pbvwnq"> </div> <div class="trend-list svelte-pbvwnq"></div></div>'),Mi=K('<div class="fight-best-bets svelte-pbvwnq"><div class="header svelte-pbvwnq"><h2 class="title svelte-pbvwnq"><span class="icon svelte-pbvwnq"><!></span> </h2> <hr class="title-divider svelte-pbvwnq"/> <div class="subtitle svelte-pbvwnq"> </div></div> <div class="matchup-header svelte-pbvwnq"><div class="fighter-preview svelte-pbvwnq"><div class="fighter-name svelte-pbvwnq"> </div> <div class="fighter-record svelte-pbvwnq"> </div> <div class="fighter-archetype svelte-pbvwnq"> </div></div> <div class="vs-divider svelte-pbvwnq"><span>VS</span></div> <div class="fighter-preview svelte-pbvwnq"><div class="fighter-name svelte-pbvwnq"> </div> <div class="fighter-record svelte-pbvwnq"> </div> <div class="fighter-archetype svelte-pbvwnq"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-pbvwnq"><small class="svelte-pbvwnq"> </small></div></div>');function xi(E,t){ut(t,!1);const[s,u]=mt(),n=()=>ot(Pa,"$locale",s),a=()=>ot(yt,"$_",s),c=D(),l=D(),m=D(),_=D(),k=D(),L=D(),x=D(),y=D(),U=D(),H=D(),C=D(),Fe=D(),Y=D(),z=D(),J=D(),F=D(),P=D(),S=D();let T=Ge(t,"fighter1",8,null),I=Ge(t,"fighter2",8,null);function Q(Me,Z){return Me.filter(le=>le.type===Z)}function oe(Me){switch(Me){case wt.HIGH:return"high-confidence";case wt.MEDIUM:return"medium-confidence";case wt.LOW:return"low-confidence";default:return""}}let ye=n();q(()=>($(T()),$(I())),()=>{h(c,T()&&I())}),q(()=>(e(c),$(T()),$(I())),()=>{h(l,e(c)?di.generateBetCards(T(),I(),!0):[])}),q(()=>(e(c),$(T()),$(I()),e(l),ct),()=>{e(c)&&T()&&I()&&e(l).length>0&&ct.trackBettingAnalysis(T().name,I().name)}),q(()=>(e(l),me),()=>{h(m,Q(e(l),me.MONEYLINE))}),q(()=>(e(l),me),()=>{h(_,Q(e(l),me.VICTORY_METHOD))}),q(()=>(e(l),me),()=>{h(k,Q(e(l),me.WINNER_AND_METHOD))}),q(()=>(e(l),me),()=>{h(L,Q(e(l),me.DURATION))}),q(()=>(e(l),me),()=>{h(x,Q(e(l),me.GOES_TO_DECISION))}),q(()=>(e(l),me),()=>{h(y,Q(e(l),me.GONE_IN_60))}),q(()=>(e(l),me),()=>{h(U,Q(e(l),me.FIGHT_PROPS))}),q(()=>(e(l),me),()=>{h(H,Q(e(l),me.KEY_FACTORS))}),q(()=>(e(l),me),()=>{h(C,Q(e(l),me.TRENDS))}),q(()=>(e(l),me),()=>{h(Fe,Q(e(l),me.NO_PREDICTION))}),q(()=>(e(m),e(_),e(k),e(L),e(x),e(y)),()=>{h(Y,e(m).length+e(_).length+e(k).length+e(L).length+e(x).length+e(y).length)}),q(()=>e(Y),()=>{h(z,e(Y)>0)}),q(()=>e(z),()=>{h(J,e(z)?0:1)}),q(()=>(e(U),e(H),e(C)),()=>{h(F,e(U).length+e(H).length+e(C).length)}),q(()=>(e(Y),e(J),e(F)),()=>{h(P,e(Y)+e(J)+e(F))}),q(()=>n(),()=>{n()!==ye&&ye&&window.location.reload()}),q(()=>e(c),()=>{h(S,e(c))}),gt(),ft();var se=st(),Le=Oe(se);{var De=Me=>{var Z=Mi(),le=i(Z),Ye=i(le),W=i(Ye),M=i(W);Zt(M,{size:32});var fe=d(W),xe=d(Ye,4),ke=i(xe),Te=d(le,2),Se=i(Te),Pe=i(Se),Ke=i(Pe),G=d(Pe,2),ze=i(G),Qe=d(G,2),We=i(Qe),be=d(Se,4),Ne=i(be),Be=i(Ne),qe=d(Ne,2),we=i(qe),Ce=d(qe,2),Xe=i(Ce),Ve=d(Te,2);let tt;var Ze=i(Ve);je(Ze,1,()=>e(Fe),et,(V,o)=>{var f=vi(),w=i(f),j=i(w);Rt(j,{size:16,style:"display: inline; margin-right: 0.25rem;"});var B=d(j),N=d(w,2),O=i(N),X=i(O),ie=d(O,2),ce=i(ie),ue=d(N,2),_e=i(ue);A((ne,Re,de,re)=>{g(B,` ${ne??""}`),g(X,Re),g(ce,de),g(_e,re)},[()=>(a(),e(o),r(()=>a()(e(o).titleKey))),()=>(e(o),a(),r(()=>e(o).predictionKey?a()(e(o).predictionKey):e(o).prediction)),()=>(a(),r(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(o),r(()=>a()(e(o).reasoningKey,{values:e(o).metadata||{}})))]),b(V,f)});var at=d(Ze,2);je(at,1,()=>e(m),et,(V,o)=>{var f=hi(),w=i(f),j=i(w),B=d(w,2),N=i(B),O=i(N),X=d(N,2),ie=i(X),ce=d(B,2),ue=i(ce);A((_e,ne,Re,de)=>{Ae(f,1,`bet-card moneyline ${_e??""}`,"svelte-pbvwnq"),g(j,ne),g(O,(e(o),r(()=>e(o).prediction))),g(ie,`${e(o),r(()=>e(o).confidence)??""}% ${Re??""}`),g(ue,de)},[()=>(e(o),r(()=>oe(e(o).confidenceLevel))),()=>(a(),e(o),r(()=>a()(e(o).titleKey))),()=>(a(),r(()=>a()("combat_analysis.probability"))),()=>(a(),e(o),r(()=>a()(e(o).reasoningKey)))]),b(V,f)});var it=d(at,2);je(it,1,()=>e(_),et,(V,o)=>{var f=_i(),w=i(f),j=i(w),B=d(w,2),N=i(B),O=i(N),X=d(N,2),ie=i(X),ce=d(B,2),ue=i(ce);A((_e,ne,Re,de,re)=>{Ae(f,1,`bet-card method-victory ${_e??""}`,"svelte-pbvwnq"),g(j,ne),g(O,Re),g(ie,`${e(o),r(()=>e(o).confidence)??""}% ${de??""}`),g(ue,re)},[()=>(e(o),r(()=>oe(e(o).confidenceLevel))),()=>(a(),e(o),r(()=>a()(e(o).titleKey))),()=>(e(o),a(),r(()=>e(o).predictionKey?a()(e(o).predictionKey):e(o).prediction)),()=>(a(),r(()=>a()("combat_analysis.probability"))),()=>(a(),e(o),r(()=>a()(e(o).reasoningKey)))]),b(V,f)});var $e=d(it,2);je($e,1,()=>e(k),et,(V,o)=>{var f=ui(),w=i(f),j=i(w),B=d(w,2),N=i(B),O=i(N),X=d(N,2),ie=i(X),ce=d(B,2),ue=i(ce);A((_e,ne,Re,de,re)=>{Ae(f,1,`bet-card winner-and-method ${_e??""}`,"svelte-pbvwnq"),g(j,ne),g(O,`${e(o),r(()=>e(o).prediction)??""}
              ${Re??""}`),g(ie,`${e(o),r(()=>e(o).confidence)??""}% ${de??""}`),g(ue,re)},[()=>(e(o),r(()=>oe(e(o).confidenceLevel))),()=>(a(),e(o),r(()=>a()(e(o).titleKey))),()=>(e(o),a(),r(()=>e(o).predictionKey?a()(e(o).predictionKey):"")),()=>(a(),r(()=>a()("combat_analysis.probability"))),()=>(a(),e(o),r(()=>a()(e(o).reasoningKey)))]),b(V,f)});var ve=d($e,2);je(ve,1,()=>e(L),et,(V,o)=>{var f=pi(),w=i(f),j=i(w),B=d(w,2),N=i(B),O=i(N),X=d(N,2),ie=i(X),ce=d(B,2),ue=i(ce),_e=d(ce,2);{var ne=de=>{var re=gi(),Ee=i(re);A(He=>g(Ee,He),[()=>(a(),e(o),r(()=>a()(e(o).explanationKey)))]),b(de,re)},Re=de=>{var re=st(),Ee=Oe(re);{var He=Je=>{var nt=fi(),lt=i(nt);A(()=>g(lt,(e(o),r(()=>e(o).explanation)))),b(Je,nt)};te(Ee,Je=>{e(o),r(()=>e(o).explanation)&&Je(He)},!0)}b(de,re)};te(_e,de=>{e(o),r(()=>e(o).explanationKey)?de(ne):de(Re,!1)})}A((de,re,Ee,He,Je)=>{Ae(f,1,`bet-card total-rounds ${de??""}`,"svelte-pbvwnq"),g(j,re),g(O,Ee),g(ie,`${e(o),r(()=>e(o).confidence)??""}% ${He??""}`),g(ue,Je)},[()=>(e(o),r(()=>oe(e(o).confidenceLevel))),()=>(a(),e(o),r(()=>a()(e(o).titleKey))),()=>(e(o),a(),r(()=>e(o).predictionKey?a()(e(o).predictionKey):e(o).prediction)),()=>(a(),r(()=>a()("combat_analysis.probability"))),()=>(a(),e(o),r(()=>a()(e(o).reasoningKey)))]),b(V,f)});var ae=d(ve,2);je(ae,1,()=>e(x),et,(V,o)=>{var f=mi(),w=i(f),j=i(w),B=d(w,2),N=i(B),O=i(N),X=d(N,2),ie=i(X),ce=d(B,2),ue=i(ce);A((_e,ne,Re,de,re)=>{Ae(f,1,`bet-card decision-type ${_e??""}`,"svelte-pbvwnq"),g(j,ne),g(O,Re),g(ie,`${e(o),r(()=>e(o).confidence)??""}% ${de??""}`),g(ue,re)},[()=>(e(o),r(()=>oe(e(o).confidenceLevel))),()=>(a(),e(o),r(()=>a()(e(o).titleKey))),()=>(e(o),a(),r(()=>e(o).predictionKey?a()(e(o).predictionKey):e(o).prediction)),()=>(a(),r(()=>a()("combat_analysis.probability"))),()=>(a(),e(o),r(()=>a()(e(o).reasoningKey)))]),b(V,f)});var Ue=d(ae,2);je(Ue,1,()=>e(y),et,(V,o)=>{var f=yi(),w=i(f),j=i(w),B=d(w,2),N=i(B),O=i(N),X=d(N,2),ie=i(X),ce=d(B,2),ue=i(ce);A((_e,ne,Re,de,re)=>{Ae(f,1,`bet-card gone-in-60 ${_e??""}`,"svelte-pbvwnq"),g(j,ne),g(O,Re),g(ie,`${e(o),r(()=>e(o).confidence)??""}% ${de??""}`),g(ue,re)},[()=>(e(o),r(()=>oe(e(o).confidenceLevel))),()=>(a(),e(o),r(()=>a()(e(o).titleKey))),()=>(e(o),a(),r(()=>e(o).predictionKey?a()(e(o).predictionKey):e(o).prediction)),()=>(a(),r(()=>a()("combat_analysis.probability"))),()=>(a(),e(o),r(()=>a()(e(o).reasoningKey)))]),b(V,f)});var v=d(Ue,2);je(v,1,()=>e(U),et,(V,o)=>{var f=Di(),w=i(f),j=i(w);Xt(j,{size:16,style:"display: inline; margin-right: 0.25rem;"});var B=d(j),N=d(w,2),O=i(N),X=i(O),ie=d(O,2),ce=i(ie),ue=d(N,2),_e=i(ue),ne=d(ue,2);{var Re=re=>{var Ee=bi(),He=i(Ee);A(Je=>g(He,Je),[()=>(a(),e(o),r(()=>a()(e(o).explanationKey)))]),b(re,Ee)},de=re=>{var Ee=st(),He=Oe(Ee);{var Je=nt=>{var lt=wi(),Dt=i(lt);A(()=>g(Dt,(e(o),r(()=>e(o).explanation)))),b(nt,lt)};te(He,nt=>{e(o),r(()=>e(o).explanation)&&nt(Je)},!0)}b(re,Ee)};te(ne,re=>{e(o),r(()=>e(o).explanationKey)?re(Re):re(de,!1)})}A((re,Ee,He,Je,nt)=>{g(B,` ${re??""}`),g(X,Ee),g(ce,`${He??""}: ${Je??""}`),g(_e,nt)},[()=>(a(),e(o),r(()=>a()(e(o).titleKey))),()=>(e(o),a(),r(()=>e(o).predictionKey?a()(e(o).predictionKey):e(o).prediction)),()=>(a(),r(()=>a()("combat_analysis.value"))),()=>(e(o),a(),r(()=>e(o).metadata?.valueKey?a()(e(o).metadata.valueKey):e(o).metadata?.value||"N/A")),()=>(a(),e(o),r(()=>a()(e(o).reasoningKey)))]),b(V,f)});var p=d(v,2);je(p,1,()=>e(H),et,(V,o)=>{var f=Ti(),w=i(f),j=i(w),B=d(w,2);je(B,5,()=>(e(o),r(()=>e(o).metadata?.factors||[])),et,(N,O)=>{var X=ki(),ie=i(X),ce=i(ie),ue=d(ie,2),_e=i(ue);A(ne=>{g(ce,ne),g(_e,(e(O),r(()=>e(O).value)))},[()=>(a(),e(O),r(()=>a()(e(O).label)))]),b(N,X)}),A(N=>g(j,N),[()=>(a(),e(o),r(()=>a()(e(o).titleKey)))]),b(V,f)});var R=d(p,2);je(R,1,()=>e(C),et,(V,o)=>{var f=Fi(),w=i(f),j=i(w),B=d(w,2);je(B,5,()=>(e(o),r(()=>e(o).metadata?.trends||[])),et,(N,O)=>{var X=Ri(),ie=i(X);{var ce=_e=>{var ne=vt();A(Re=>g(ne,Re),[()=>(a(),e(O),r(()=>a()(e(O).textKey,{values:e(O).params||{}})))]),b(_e,ne)},ue=_e=>{var ne=vt();A(()=>g(ne,(e(O),r(()=>e(O).text)))),b(_e,ne)};te(ie,_e=>{e(O),r(()=>e(O).textKey)?_e(ce):_e(ue,!1)})}A(()=>Ae(X,1,`trend-item ${e(O),r(()=>e(O).type)??""}`,"svelte-pbvwnq")),b(N,X)}),A(N=>g(j,N),[()=>(a(),e(o),r(()=>a()(e(o).titleKey)))]),b(V,f)});var ee=d(Ve,2),he=i(ee),pe=i(he);A((V,o,f,w)=>{g(fe,` ${V??""}`),g(ke,o),g(Ke,($(T()),r(()=>T().name))),g(ze,`${$(T()),r(()=>T().rawData.win)??""}-${$(T()),r(()=>T().rawData.loss)??""}-${$(T()),r(()=>T().rawData.draws)??""}`),g(We,($(T()),r(()=>T().archetype.archetypeEmojis))),g(Be,($(I()),r(()=>I().name))),g(we,`${$(I()),r(()=>I().rawData.win)??""}-${$(I()),r(()=>I().rawData.loss)??""}-${$(I()),r(()=>I().rawData.draws)??""}`),g(Xe,($(I()),r(()=>I().archetype.archetypeEmojis))),tt=Ae(Ve,1,"betting-grid svelte-pbvwnq",null,tt,f),g(pe,`* ${w??""}`)},[()=>(a(),r(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),r(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(P)<=3}),()=>(a(),r(()=>a()("combat_analysis.disclaimer")))]),b(Me,Z)};te(Le,Me=>{e(S)&&Me(De)})}b(E,se),pt(),u()}var Si=K('<div class="loading-spinner svelte-1itttry"><div class="spinner svelte-1itttry"></div> <p class="svelte-1itttry">Cargando shorts...</p></div>'),Ki=K('<div class="error-message svelte-1itttry"><p> </p></div>'),Ci=K('<button class="nav-button prev svelte-1itttry" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1itttry"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Ni=K('<div class="video-embed svelte-1itttry"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-1itttry"></iframe></div>'),Oi=K('<button class="video-thumbnail svelte-1itttry"><img loading="lazy" class="svelte-1itttry"/> <div class="play-overlay svelte-1itttry"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-1itttry"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-1itttry">Shorts</div></button>'),Pi=K('<div class="video-item svelte-1itttry"><!> <div class="video-info svelte-1itttry"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-1itttry"><h3 class="video-title svelte-1itttry"> </h3></a></div></div>'),$i=K('<button class="nav-button next svelte-1itttry" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1itttry"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Ei=K('<a href="https://www.youtube.com/@Figth-Radar/shorts" target="_blank" rel="noopener noreferrer" class="section-header svelte-1itttry"><div class="header-content svelte-1itttry"><div class="header-icon svelte-1itttry"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1itttry"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg></div> <div class="header-text svelte-1itttry"><h2 class="svelte-1itttry"> </h2> <p class="svelte-1itttry"> </p></div></div></a> <div class="carousel-wrapper svelte-1itttry"><!> <div class="videos-container svelte-1itttry"><div></div></div> <!></div>',1),Ii=K('<div class="shorts-slider-container svelte-1itttry"><!></div>');function Li(E,t){ut(t,!1);const[s,u]=mt(),n=()=>ot(yt,"$_",s),a=D(),c=D(),l=D(),m=D();let _=Ge(t,"channelId",8),k=D([]),L=D(!0),x=D(null),y=D(0),U=D(!1),H=D(null),C=D(!0);function Fe(){e(k).length!==0&&(h(C,!0),It(y),e(y)>=e(k).length*2&&setTimeout(()=>{h(C,!1),h(y,e(k).length),setTimeout(()=>{h(C,!0)},50)},400))}function Y(){e(k).length!==0&&(h(C,!0),It(y,-1),e(y)<e(k).length&&setTimeout(()=>{h(C,!1),h(y,e(k).length*2-1),setTimeout(()=>{h(C,!0)},50)},400))}function z(W){h(H,W)}let J=0,F=0,P=0,S=!1,T=!1,I=D(0),Q=0;const oe=40;function ye(W){e(U)&&(J=W.touches[0].clientX,F=W.touches[0].clientY,P=J,S=!0,T=!1,h(C,!1),Q=e(y),h(I,0))}function se(W){if(!e(U)||!S)return;const M=W.touches[0].clientX,fe=W.touches[0].clientY,xe=Math.abs(M-J),ke=Math.abs(fe-F);if(!T)if(xe>oe&&xe>ke)T=!0;else if(ke>xe&&ke>10){S=!1,T=!1,h(C,!0),h(I,0);return}else return;if(T){P=M;const Te=P-J,Se=W.currentTarget instanceof HTMLElement?W.currentTarget.clientWidth:window.innerWidth;h(I,-(Te/Se)*100),W.preventDefault()}}function Le(){if(!e(U)||!S)return;S=!1,T=!1,h(C,!0);const W=J-P;Math.abs(W)>50?W>0?h(y,Q+1):h(y,Q-1):Math.abs(e(I))>40?h(y,Q+(e(I)>0?1:-1)):h(y,Q),e(y)>=e(k).length*2?setTimeout(()=>{h(C,!1),h(y,e(k).length),setTimeout(()=>{h(C,!0)},50)},400):e(y)<e(k).length&&setTimeout(()=>{h(C,!1),h(y,e(k).length*2-1),setTimeout(()=>{h(C,!0)},50)},400),h(I,0),J=0,F=0,P=0}function De(){const W=window.innerWidth;h(U,W<768)}Jt(()=>(De(),window.addEventListener("resize",De),(async()=>{try{const W=await $a.fetchVideosByChannelId(_(),!0);W.length===0?h(x,"No se encontraron videos para este canal"):(h(k,W),console.log(`Loaded ${e(k).length} videos from channel ${_()}`))}catch(W){console.error("Error fetching videos:",W),h(x,"Error al cargar los videos")}finally{h(L,!1)}})(),()=>{window.removeEventListener("resize",De)})),q(()=>e(U),()=>{h(a,e(U)?1:window.innerWidth>=1024?4:3)}),q(()=>(e(U),e(a)),()=>{h(c,e(U)?80:100/e(a))}),q(()=>e(U),()=>{h(l,e(U)?10:0)}),q(()=>e(k),()=>{h(m,e(k).length>0?[...e(k).map((W,M)=>({...W,_key:`prev-${M}`})),...e(k).map((W,M)=>({...W,_key:`curr-${M}`})),...e(k).map((W,M)=>({...W,_key:`next-${M}`}))]:[])}),q(()=>(e(k),e(y)),()=>{e(k).length>0&&e(y)===0&&h(y,e(k).length)}),gt(),ft();var Me=Ii(),Z=i(Me);{var le=W=>{var M=Si();b(W,M)},Ye=W=>{var M=st(),fe=Oe(M);{var xe=Te=>{var Se=Ki(),Pe=i(Se),Ke=i(Pe);A(()=>g(Ke,e(x))),b(Te,Se)},ke=Te=>{var Se=st(),Pe=Oe(Se);{var Ke=G=>{var ze=Ei(),Qe=Oe(ze),We=i(Qe),be=d(i(We),2),Ne=i(be),Be=i(Ne),qe=d(Ne,2),we=i(qe),Ce=d(Qe,2),Xe=i(Ce);{var Ve=ve=>{var ae=Ci();Ie("click",ae,Y),b(ve,ae)};te(Xe,ve=>{e(k),r(()=>e(k).length>1)&&ve(Ve)})}var tt=d(Xe,2),Ze=i(tt);let at;je(Ze,5,()=>e(m),ve=>ve._key,(ve,ae)=>{var Ue=Pi(),v=i(Ue);{var p=o=>{var f=Ni(),w=i(f);A(()=>{ge(w,"src",`${e(ae),r(()=>e(ae).embedUrl)??""}?autoplay=1`),ge(w,"title",(e(ae),r(()=>e(ae).title)))}),b(o,f)},R=o=>{var f=Oi(),w=i(f);A(()=>{ge(f,"aria-label",`Reproducir ${e(ae),r(()=>e(ae).title)??""}`),ge(w,"src",(e(ae),r(()=>e(ae).thumbnailUrl))),ge(w,"alt",(e(ae),r(()=>e(ae).title)))}),Ie("click",f,()=>z(e(ae)._key)),b(o,f)};te(v,o=>{e(H),e(ae),r(()=>e(H)===e(ae)._key)?o(p):o(R,!1)})}var ee=d(v,2),he=i(ee),pe=i(he),V=i(pe);A(()=>{_t(Ue,`flex: 0 0 ${e(U)?"80%":100/e(a)+"%"}`),ge(he,"href",(e(ae),r(()=>e(ae).watchUrl))),g(V,(e(ae),r(()=>e(ae).title)))}),b(ve,Ue)});var it=d(tt,2);{var $e=ve=>{var ae=$i();Ie("click",ae,Fe),b(ve,ae)};te(it,ve=>{e(k),r(()=>e(k).length>1)&&ve($e)})}A((ve,ae,Ue)=>{g(Be,ve),g(we,ae),at=Ae(Ze,1,"videos-track svelte-1itttry",null,at,Ue),_t(Ze,`transform: translateX(-${e(y)*e(c)-e(l)+e(I)}%)`)},[()=>(n(),r(()=>n()("youtube_shorts.latest_shorts"))),()=>(n(),r(()=>n()("youtube_shorts.channel_highlights"))),()=>({"no-transition":!e(C)})]),Ie("touchstart",Ce,ye),Ie("touchmove",Ce,se),Ie("touchend",Ce,Le),b(G,ze)};te(Pe,G=>{e(k),r(()=>e(k).length>0)&&G(Ke)},!0)}b(Te,Se)};te(fe,Te=>{e(x)?Te(xe):Te(ke,!1)},!0)}b(W,M)};te(Z,W=>{e(L)?W(le):W(Ye,!1)})}b(E,Me),pt(),u()}var Ai=K('<div class="loading svelte-1ibyju2" id="loading"><div class="loading-content svelte-1ibyju2"><div class="spinner svelte-1ibyju2"></div> <p class="svelte-1ibyju2"> </p></div></div>'),Wi=K('<button class="share-fight-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1ibyju2"></path></svg> </button>'),Bi=K('<div class="action-buttons-section svelte-1ibyju2"><!> <button class="clear-radars-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1ibyju2"></path></svg> </button></div>'),qi=K('<div class="controls svelte-1ibyju2"><div class="fighter-selectors svelte-1ibyju2"><div class="control-group svelte-1ibyju2"><label for="fighter1-select" class="svelte-1ibyju2"> </label> <div id="fighter1-container-select" class="svelte-1ibyju2"><!></div></div> <div class="vs-divider svelte-1ibyju2">VS</div> <div class="control-group svelte-1ibyju2"><label for="fighter2-select" class="svelte-1ibyju2"> </label> <div id="fighter2-container-select" class="svelte-1ibyju2"><!></div></div></div> <!></div>'),Hi=K('<div class="division-disclaimer svelte-1ibyju2"><div class="disclaimer-title svelte-1ibyju2"><!> <strong class="svelte-1ibyju2"> </strong></div> <div class="disclaimer-text svelte-1ibyju2"> </div></div>'),Gi=K('<div class="fighter-info svelte-1ibyju2"><div id="fighter1-container" class="svelte-1ibyju2"><!></div> <div id="fighter2-container" class="svelte-1ibyju2"><!></div></div>'),Vi=K('<div class="radar-container svelte-1ibyju2"><div id="fight-radar-container" class="svelte-1ibyju2"><!></div> <div id="iq-radar-container" class="svelte-1ibyju2"><!></div></div>'),Ui=K('<hr class="section-divider svelte-1ibyju2"/> <!> <div class="view-calendar-link svelte-1ibyju2"><button class="calendar-link-btn svelte-1ibyju2"> </button></div>',1),ji=K('<hr class="section-divider svelte-1ibyju2"/> <!>',1),Yi=K('<div class="fight-radar-app svelte-1ibyju2"><div class="container svelte-1ibyju2"><!> <!> <!> <!> <!> <!> <!>  <!></div> <!></div>');function ss(E,t){ut(t,!1);const[s,u]=mt(),n=()=>ot(S,"$urlSearchParams",s),a=()=>ot(yt,"$_",s),c=D(),l=D(),m=D(),_=D(),k=D(),L=D(),x=D(),y=D(),U=D(),H=D(),C=D();let Fe=Ge(t,"isDarkMode",8,!0),Y=Ge(t,"toggleTheme",8,()=>{}),z=D(new Map),J=D(new Map),F=D([]),P=D(new Map);const S=Ka(dt());function T(v,p){const R=`fighter${p}`;At({[R]:v}),S.set(dt())}let I=D(!1),Q=D(!1),oe=D(!1),ye=D(!1),se=D(!1),Le=D(!1),De=D(!1),Me=D(!1);Jt(()=>{window.Highcharts=Ca,S.set(dt());const v=Ea(()=>{S.set(dt())});return Z(),v});async function Z(){try{h(I,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:p,processedFightersMap:R,processedFighters:ee}=await La.loadFightersFromCSV();h(z,v),h(P,p),h(J,R),h(F,ee),h(Q,!0)}catch(v){console.error("Error loading data:",v)}finally{h(I,!1)}}function le(v=[]){return v.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:Ye(p)}))}function Ye(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:W(v.division)?"no_photo_female.png":"no_photo_male.png"}function W(v){return!!(v&&v.startsWith("W_"))}function M(v){T(v,1),v&&!e(l)&&(h(Me,!1),setTimeout(()=>{h(Me,!0),setTimeout(()=>{h(Me,!1)},50)},100))}function fe(v){T(v,2),v&&!e(c)&&(h(De,!1),setTimeout(()=>{h(De,!0),setTimeout(()=>{h(De,!1)},50)},100))}function xe(v){h(se,v)}function ke(v){h(Le,v)}function Te(){ct.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(c)||"none",fighter2:e(l)||"none"}),At({fighter1:"",fighter2:""}),S.set(dt())}function Se(){if(!e(c)||!e(l))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";ct.trackFightShare(e(c),e(l),v);const p=Ia("/",{fighter1:e(c),fighter2:e(l)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(c)} vs ${e(l)} - Fight Radar`,text:`Compara las estadísticas de ${e(c)} vs ${e(l)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Pe("¡Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Pe(v){const p=document.createElement("div");p.className="notification",p.textContent=v,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function Ke(v,p,R){const ee=[];return v&&ee.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&ee.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),R&&ee.push({name:R.name,data:[R.fightRadar.STR_OFF,R.fightRadar.STR_DEF,R.fightRadar.TD_OFF,R.fightRadar.TD_DEF,R.fightRadar.CTRL,R.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ee}function G(v,p,R){const ee=[];return v&&ee.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&ee.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),R&&ee.push({name:R.name,data:[R.iqRadar.distance,R.iqRadar.adaptability,R.iqRadar.composure,R.iqRadar.decisions,R.iqRadar.rhythm,R.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ee}function ze(v){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[R,ee,he]=v.combinedRole.split("+")??["AT"];let pe=[[R,100]];if(ee&&he?pe=[[R,33],[ee,34],[he,33]]:ee?pe=[[R,50],[ee,50]]:he&&(pe=[[R,60],[he,40]]),pe.length===1){const[V,o]=pe[0],f=Math.min(o,70);return`linear-gradient(135deg, ${p[V]} 0%, ${p[V]} ${f}%, var(--card-bg) 100%)`}else{const V=pe.reduce((j,[,B])=>j+B,0);let o=[],f=0;return pe.forEach(([j,B],N)=>{const O=B/V*85,X=p[j];N===0&&o.push(`${X} ${f}%`),f+=O,N===pe.length-1?(o.push(`${X} ${f}%`),o.push("var(--card-bg) 100%")):o.push(`${X} ${f}%`)}),`linear-gradient(135deg, ${o.join(", ")})`}}q(()=>n(),()=>{h(c,n().get("fighter1")||"")}),q(()=>n(),()=>{h(l,n().get("fighter2")||"")}),q(()=>(e(se),e(Le)),()=>{h(m,e(se)||e(Le))}),q(()=>(e(F),e(l)),()=>{h(_,le(e(F)).filter(v=>v.value!==e(l)))}),q(()=>(e(F),e(c)),()=>{h(k,le(e(F)).filter(v=>v.value!==e(c)))}),q(()=>(e(c),e(l),e(z),e(P),Bt),()=>{h(L,(()=>{if(!e(c)||!e(l))return null;const v=e(z).get(e(c)),p=e(z).get(e(l));if(!v||!p)return null;if(v.Division===p.Division){const R=v.Division;if(e(P).has(R))return Bt(R,e(P).get(R))}return null})())}),q(()=>(e(c),e(J)),()=>{h(x,e(c)?e(J).get(e(c))??null:null)}),q(()=>(e(l),e(J)),()=>{h(y,e(l)?e(J).get(e(l))??null:null)}),q(()=>(e(L),e(c),e(l),e(z),e(P),qt),()=>{h(U,(()=>{if(!e(L)||!e(c)||!e(l))return null;const v=e(z).get(e(c));return!v||!e(P).has(v.Division)?null:qt(e(L),e(P).get(v.Division))})())}),q(()=>(e(x),e(y),e(U)),()=>{h(H,Ke(e(x)??null,e(y)??null,e(U)??null))}),q(()=>(e(x),e(y),e(U)),()=>{h(C,G(e(x),e(y),e(U)))}),q(()=>(e(I),e(z),e(c),e(l),ct),()=>{const v=!e(I)&&e(z).size>0&&e(z).has(e(c))&&e(z).has(e(l));h(oe,!!(e(c)&&e(l)&&v)),h(ye,!!(e(c)&&e(l)&&v)),e(c)&&e(l)&&v&&ct.trackFighterComparison(e(c),e(l))}),gt(),ft();var Qe=Yi(),We=i(Qe),be=i(We);Na(be,{showThemeToggle:!0,get isDarkMode(){return Fe()},get toggleTheme(){return Y()}});var Ne=d(be,2);{var Be=v=>{var p=Ai(),R=i(p),ee=d(i(R),2),he=i(ee);A(pe=>g(he,pe),[()=>(a(),r(()=>a()("fight_radar.loading_data")))]),b(v,p)};te(Ne,v=>{e(I)&&v(Be)})}var qe=d(Ne,2);{var we=v=>{var p=qi(),R=i(p),ee=i(R),he=i(ee),pe=i(he),V=d(he,2),o=i(V);{let ie=bt(()=>(a(),r(()=>a()("common.select_fighter"))));Yt(o,{id:"fighter1-select",get placeholder(){return e(ie)},disabled:!1,get options(){return e(_)},get selectedValue(){return e(c)},onSelectionChange:M,onOpenStateChange:xe,get shouldOpen(){return e(De)}})}var f=d(ee,4),w=i(f),j=i(w),B=d(w,2),N=i(B);{let ie=bt(()=>(a(),r(()=>a()("common.select_fighter"))));Yt(N,{id:"fighter2-select",get placeholder(){return e(ie)},disabled:!1,get options(){return e(k)},get selectedValue(){return e(l)},onSelectionChange:fe,onOpenStateChange:ke,get shouldOpen(){return e(Me)}})}var O=d(R,2);{var X=ie=>{var ce=Bi(),ue=i(ce);{var _e=de=>{var re=Wi(),Ee=d(i(re));A(He=>g(Ee,` ${He??""}`),[()=>(a(),r(()=>a()("fight_radar.share_fight")))]),Ie("click",re,Se),b(de,re)};te(ue,de=>{e(c)&&e(l)&&de(_e)})}var ne=d(ue,2),Re=d(i(ne));A(de=>g(Re,` ${de??""}`),[()=>(a(),r(()=>a()("fight_radar.clear_radars")))]),Ie("click",ne,Te),b(ie,ce)};te(O,ie=>{(e(c)||e(l))&&ie(X)})}A((ie,ce)=>{g(pe,`${ie??""}:`),g(j,`${ce??""}:`)},[()=>(a(),r(()=>a()("common.fighter_1"))),()=>(a(),r(()=>a()("common.fighter_2")))]),b(v,p)};te(qe,v=>{e(Q)&&v(we)})}var Ce=d(qe,2);{var Xe=v=>{var p=st(),R=Oe(p);{var ee=he=>{var pe=Hi(),V=i(pe),o=i(V);Rt(o,{size:20,class:"disclaimer-icon"});var f=d(o,2),w=i(f),j=d(V,2),B=i(j);A((N,O)=>{g(w,N),g(B,O)},[()=>(a(),r(()=>a()("fight_radar.cross_division_title"))),()=>(a(),$(ht),e(x),e(y),r(()=>a()("fight_radar.cross_division_text",{values:{division1:ht(e(x).rawData.Division),division2:ht(e(y).rawData.Division)}})))]),b(he,pe)};te(R,he=>{e(x),e(y),r(()=>e(x)?.rawData&&e(y)?.rawData&&e(x).rawData.Division!==e(y).rawData.Division)&&he(ee)})}b(v,p)};te(Ce,v=>{e(c)&&e(l)&&e(oe)&&v(Xe)})}var Ve=d(Ce,2);{var tt=v=>{var p=Gi(),R=i(p),ee=i(R);zt(ee,{get fighter(){return e(x)},id:"fighter1-info"});var he=d(R,2),pe=i(he);zt(pe,{get fighter(){return e(y)},id:"fighter2-info"}),A((V,o)=>{_t(R,`background: ${V??""}`),_t(he,`background: ${o??""}`)},[()=>(e(x),r(()=>e(x)?ze(e(x).archetype):"var(--card-bg)")),()=>(e(y),r(()=>e(y)?ze(e(y).archetype):"var(--card-bg)"))]),b(v,p)};te(Ve,v=>{e(oe)&&v(tt)})}var Ze=d(Ve,2);{var at=v=>{var p=Vi(),R=i(p),ee=i(R);Lt(ee,()=>(e(c),e(l),e(H),r(()=>`${e(c)}-${e(l)}-${e(H).length}`)),V=>{{let o=bt(()=>($(Ht),r(Ht)));Vt(V,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(o)},get series(){return e(H)},isIQRadar:!1})}});var he=d(R,2),pe=i(he);Lt(pe,()=>(e(c),e(l),e(C),r(()=>`${e(c)}-${e(l)}-${e(C).length}`)),V=>{{let o=bt(()=>($(Gt),r(Gt)));Vt(V,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(o)},get series(){return e(C)},isIQRadar:!0})}}),b(v,p)};te(Ze,v=>{e(ye),e(H),r(()=>e(ye)&&e(H).length>0)&&v(at)})}var it=d(Ze,2);xi(it,{get fighter1(){return e(x)},get fighter2(){return e(y)}});var $e=d(it,2);{var ve=v=>{var p=Ui(),R=d(Oe(p),2);Oa(R,{limit:2});var ee=d(R,2),he=i(ee),pe=i(he);A(V=>g(pe,`${V??""} →`),[()=>(a(),r(()=>a()("banner.view_calendar")))]),Ie("click",he,()=>ea("/calendar")),b(v,p)};te($e,v=>{!e(c)&&!e(l)&&!e(m)&&v(ve)})}var ae=d(We,2);{var Ue=v=>{var p=ji(),R=d(Oe(p),2);Li(R,{channelId:"UCenuyiBbr2ZdxoHnivWeY6w"}),b(v,p)};te(ae,v=>{!e(c)&&!e(l)&&!e(m)&&v(Ue)})}b(E,Qe),pt(),u()}export{ss as default};
