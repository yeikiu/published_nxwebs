import{q as gt,p as je,l as A,C as b,z as F,r as S,A as e,h as wt,j as ut,f as k,m as Ye,$ as Nt,i as z,c as r,u as d,S as Mt,t as C,B as fe,s as Oe,b as f,o as pt,I as mt,n as Ue,x as n,y as _,J as vt,T as _a,k as ot,D as We,E as He,Q as $t,U as ha,V as Ct,W as xt,Y as ga,Z as Bt,_ as zt,a0 as Kt,a as ua,a1 as pa,w as ma,F as ya,K as ft,a2 as Et}from"./lucide-CFoebsfS.js";import{H as fa}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ba}from"./Header-BPEBPeYn.js";import{$ as yt,n as qt,A as _t,a as wa,g as ht,b as Da,u as Ot,c as xa}from"./index-DpD7lEH3.js";import{c as kt,g as It,f as ka,a as At,p as Lt,b as Ft,d as Pt,e as Wt}from"./fighters_service-DlWVGymk.js";import{R as Fa,a as Ht}from"./RadarChart-lqWx_nEN.js";import{F as Ra}from"./FindYoutubeHighlights-CWAHTT-Y.js";import"./highcharts-DyRVWUji.js";var Ca=k('<img class="svelte-gkl5a1"/>'),Ka=k('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Sa=k("<!> <span> </span>",1),Ta=k("<span> </span>"),Na=k('<img class="svelte-gkl5a1"/>'),Ma=k('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),$a=k('<button type="button"><!> <span> </span></button>'),Ea=k('<div class="no-results svelte-gkl5a1"> </div>'),Oa=k('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Ia=k('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Ut(q,t){gt(t,!1);const[a,c]=mt(),o=()=>vt(yt,"$_",a),i=F(),l=F();let h=je(t,"id",8),g=je(t,"placeholder",8,""),v=je(t,"disabled",8,!0),m=je(t,"options",24,()=>[]),p=je(t,"selectedValue",12,""),D=je(t,"onSelectionChange",8,void 0),T=F(!1),Y=F(),X=F(),G=F("");function we(){v()||(b(T,!e(T)),e(T)&&setTimeout(()=>e(X)?.focus(),0))}function ee(N){p(N.value),b(G,""),b(T,!1),D()&&D()(N.value,N)}function le(N){const ue=N.target;b(G,ue.value)}function R(N){N.key==="Enter"&&e(l).length>0?(ee(e(l)[0]),N.preventDefault()):N.key==="Escape"&&(b(G,""),b(T,!1))}function P(N){e(Y)&&!e(Y).contains(N.target)&&(b(T,!1),b(G,""))}function ae(N){N.key==="Escape"&&b(T,!1)}A(()=>(S(m()),S(p())),()=>{b(i,m().find(N=>N.value===p()))}),A(()=>(e(G),S(m()),kt),()=>{b(l,e(G)?m().filter(N=>kt(N.label.toLowerCase()).includes(kt(e(G).toLowerCase()))):m())}),wt(),ut();var j=Ia();Ye("click",Nt,P),Ye("keydown",Nt,ae);var te=r(j);let be;var $=r(te),ne=r($);{var xe=N=>{var ue=Sa(),Ce=Ue(ue);{var ke=Ke=>{var $e=Ca();C(()=>{fe($e,"src",(e(i),n(()=>e(i).imageUrl))),fe($e,"alt",(e(i),n(()=>e(i).label)))}),f(Ke,$e)},Be=Ke=>{var $e=ot(),Qe=Ue($e);{var et=Ae=>{var ce=Ka(),Fe=r(ce);$t(Fe,()=>e(i).iconComponent,(Ge,qe)=>{qe(Ge,{size:16})}),f(Ae,ce)};z(Qe,Ae=>{e(i),n(()=>e(i)?.iconComponent)&&Ae(et)},!0)}f(Ke,$e)};z(Ce,Ke=>{e(i),n(()=>e(i)?.imageUrl)?Ke(ke):Ke(Be,!1)})}var Ve=d(Ce,2),ze=r(Ve);C(()=>_(ze,(e(i),n(()=>e(i).label)))),f(N,ue)},Ie=N=>{var ue=Ta(),Ce=r(ue);C(ke=>_(Ce,ke),[()=>(S(g()),o(),n(()=>g()||o()("common.select_option")))]),f(N,ue)};z(ne,N=>{e(i)?N(xe):N(Ie,!1)})}var lt=d($,2);let rt;var st=d(te,2);{var dt=N=>{var ue=Oa(),Ce=r(ue),ke=r(Ce);Mt(ke,ce=>b(X,ce),()=>e(X));var Be=d(Ce,2),Ve=r(Be);let ze;var Ke=r(Ve),$e=r(Ke),Qe=d(Ve,2);{var et=ce=>{var Fe=ot(),Ge=Ue(Fe);We(Ge,1,()=>e(l),He,(qe,de)=>{var Se=$a();let Ze;var tt=r(Se);{var nt=M=>{var B=Na();C(()=>{fe(B,"src",(e(de),n(()=>e(de).imageUrl))),fe(B,"alt",(e(de),n(()=>e(de).label)))}),Ye("error",B,ie=>{ie.currentTarget.style.display="none"}),f(M,B)},u=M=>{var B=ot(),ie=Ue(B);{var pe=se=>{var De=Ma(),Ee=r(De);$t(Ee,()=>e(de).iconComponent,(Le,Pe)=>{Pe(Le,{size:16})}),f(se,De)};z(ie,se=>{e(de),n(()=>e(de)?.iconComponent)&&se(pe)},!0)}f(M,B)};z(tt,M=>{e(de),n(()=>e(de)?.imageUrl)?M(nt):M(u,!1)})}var y=d(tt,2),x=r(y);C(M=>{Ze=Oe(Se,1,"dropdown-item svelte-gkl5a1",null,Ze,M),_(x,(e(de),n(()=>e(de).label)))},[()=>({selected:p()===e(de).value})]),Ye("click",Se,()=>ee(e(de))),f(qe,Se)}),f(ce,Fe)},Ae=ce=>{var Fe=ot(),Ge=Ue(Fe);{var qe=de=>{var Se=Ea(),Ze=r(Se);C(()=>_(Ze,`No se encontraron resultados para "${e(G)??""}"`)),f(de,Se)};z(Ge,de=>{e(G)&&de(qe)},!0)}f(ce,Fe)};z(Qe,ce=>{e(l),n(()=>e(l).length>0)?ce(et):ce(Ae,!1)})}C((ce,Fe,Ge)=>{fe(ke,"placeholder",ce),fe(Be,"id",`dropdown-options-${h()??""}`),ze=Oe(Ve,1,"dropdown-item svelte-gkl5a1",null,ze,Fe),_($e,Ge)},[()=>(o(),n(()=>o()("common.search")||"Search...")),()=>({selected:p()===""}),()=>(S(g()),o(),n(()=>g()||o()("common.select_option")))]),_a(ke,()=>e(G),ce=>b(G,ce)),Ye("input",ke,le),Ye("keydown",ke,R),Ye("click",Ve,()=>ee({value:"",label:g(),imageUrl:""})),f(N,ue)};z(st,N=>{e(T)&&N(dt)})}Mt(j,N=>b(Y,N),()=>e(Y)),C((N,ue)=>{fe(j,"id",h()),be=Oe(te,1,"dropdown-button svelte-gkl5a1",null,be,N),te.disabled=v(),fe(te,"aria-expanded",e(T)),fe(te,"aria-controls",`dropdown-options-${h()??""}`),rt=Oe(lt,1,"dropdown-arrow svelte-gkl5a1",null,rt,ue)},[()=>({disabled:v(),open:e(T)}),()=>({rotated:e(T)})]),Ye("click",te,we),f(q,j),pt(),c()}function Rt(q,t){if(t()){const a=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;qt(a)}}var Aa=k('<img class="fighter-image svelte-1gw86rr"/> <div class="fighter-placeholder svelte-1gw86rr" style="display: none;">Picture Unavailable</div>',1),La=k('<div class="fighter-placeholder svelte-1gw86rr">Picture Unavailable</div>'),Pa=(q,t)=>q.key==="Enter"&&t(),Wa=k('<div class="stat-item role-disc-clickable svelte-1gw86rr" role="button" tabindex="0"><span class="stat-label svelte-1gw86rr">ROLE-DISC:</span> <span><div class="role-emojis svelte-1gw86rr"> </div> <div class="role-name svelte-1gw86rr"> </div></span></div>'),Ha=k('<hr class="archetype-divider svelte-1gw86rr"/> <div class="archetype-container svelte-1gw86rr"><div class="archetype-section svelte-1gw86rr"><h3 class="archetype-section-title svelte-1gw86rr"> </h3> <div class="archetype-fields svelte-1gw86rr"><div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value description svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value favorite-zone svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value strengths svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value weaknesses svelte-1gw86rr"> </div></div></div></div></div>',1),Ua=k('<div class="fighter-header svelte-1gw86rr"><div class="header-actions svelte-1gw86rr"><!> <button type="button" class="fighter-detail-cta svelte-1gw86rr" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1gw86rr"><div class="fighter-image-container svelte-1gw86rr"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1gw86rr"><div class="fighter-name svelte-1gw86rr"> </div></button> <div class="star-rating svelte-1gw86rr"><div class="stars-container svelte-1gw86rr"></div></div> <div class="fighter-stats svelte-1gw86rr"><!> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value career-record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span><!></span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value height svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value reach svelte-1gw86rr"> </span></div></div> <!>',1),Va=k('<div class="empty-card svelte-1gw86rr"><div class="empty-message svelte-1gw86rr"> </div></div>'),Ga=k('<div class="fighter-card svelte-1gw86rr"><!></div> <!>',1);function Vt(q,t){gt(t,!1);const[a,c]=mt(),o=()=>vt(yt,"$_",a),i=F(),l=F(),h=F(),g=F();let v=je(t,"fighter",8,null),m=je(t,"id",8,""),p=F(!1);function D(){b(p,!0)}function T(){b(p,!1)}A(()=>o(),()=>{b(i,R=>{if(!R||!R.startsWith("@ARCHETYPE_"))return R;let P="",ae="";if(R.includes("_DESCRIPTION"))P=R.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),ae="description";else if(R.includes("_FAVORITE_ZONE"))P=R.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),ae="favorite_zone";else if(R.includes("_STRENGTHS"))P=R.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),ae="strengths";else if(R.includes("_WEAKNESSES"))P=R.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),ae="weaknesses";else{const be=R.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!be)return R;P=be[1],ae=be[2].toLowerCase()}const j=`archetype_data.${P}.${ae}`,te=o()(j);return R.includes("_WEAKNESSES"),te!==j?te:R})}),A(()=>(S(v()),It),()=>{b(l,v()?It(v().archetype):null)}),A(()=>S(v()),()=>{b(h,v()?.rawData.height_inches?Math.floor(v().rawData.height_inches/12)+"'"+v().rawData.height_inches%12+'"':"-")}),A(()=>S(v()),()=>{b(g,v()?.rawData.reach_inches?v().rawData.reach_inches+'"':"-")}),wt(),ut();var Y=Ga(),X=Ue(Y),G=r(X);{var we=R=>{var P=Ua(),ae=Ue(P),j=r(ae),te=r(j);Ra(te,{get fighterFullName(){return S(v()),n(()=>v().nameWithNickname)},size:"large"});var be=d(te,2);be.__click=[Rt,v];var $=r(be);ha($,{size:16});var ne=d(j,2);ne.__click=[Rt,v];var xe=r(ne),Ie=r(xe);{var lt=U=>{var re=Aa(),Re=Ue(re);C(()=>{fe(Re,"src",(S(v()),n(()=>v().pictureUrl))),fe(Re,"alt",`${S(v()),n(()=>v().name)??""} fighter profile picture`)}),Ye("error",Re,Te=>{Te.currentTarget.style.display="none";const O=Te.currentTarget.nextElementSibling;O&&(O.style.display="block")}),f(U,re)},rt=U=>{var re=La();f(U,re)};z(Ie,U=>{S(v()),n(()=>v().pictureUrl)?U(lt):U(rt,!1)})}var st=d(ae,2);st.__click=[Rt,v];var dt=r(st),N=r(dt),ue=d(st,2),Ce=r(ue),ke=d(ue,2),Be=r(ke);{var Ve=U=>{var re=Wa();re.__click=D,re.__keydown=[Pa,D];var Re=r(re),Te=d(Re,2),O=r(Te),s=r(O),w=d(O,2),K=r(w);C((Q,W)=>{fe(re,"aria-label",Q),fe(Re,"title",W),Oe(Te,1,`stat-value role-indicator archetype-dots archetype-${e(l),n(()=>e(l).type)??""}`,"svelte-1gw86rr"),fe(Te,"title",(e(l),n(()=>e(l).tooltip))),_(s,(e(l),n(()=>e(l).label))),_(K,(e(l),n(()=>e(l).name)))},[()=>(o(),n(()=>o()("role_disc_modal.open_modal_aria_label"))),()=>(o(),n(()=>o()("role_disc_modal.archetype_tooltip")))]),f(U,re)};z(Be,U=>{e(l)&&U(Ve)})}var ze=d(Be,2),Ke=r(ze),$e=r(Ke),Qe=d(Ke,2),et=r(Qe),Ae=d(ze,2),ce=r(Ae),Fe=r(ce),Ge=d(ce,2),qe=r(Ge),de=d(Ae,2),Se=r(de),Ze=r(Se),tt=d(Se,2);let nt;var u=r(tt);{var y=U=>{var re=xt();C(()=>_(re,`+${S(v()),n(()=>v().streak)??""}W`)),f(U,re)},x=U=>{var re=ot(),Re=Ue(re);{var Te=s=>{var w=xt();C(()=>_(w,`${S(v()),n(()=>v().streak)??""}L`)),f(s,w)},O=s=>{var w=xt("-");f(s,w)};z(Re,s=>{S(v()),n(()=>v().streak<0)?s(Te):s(O,!1)},!0)}f(U,re)};z(u,U=>{S(v()),n(()=>v().streak>0)?U(y):U(x,!1)})}var M=d(de,2),B=r(M),ie=r(B),pe=d(B,2),se=r(pe),De=d(M,2),Ee=r(De),Le=r(Ee),Pe=d(Ee,2),Je=r(Pe),at=d(ke,2);{var it=U=>{var re=Ha(),Re=d(Ue(re),2),Te=r(Re),O=r(Te),s=r(O),w=d(O,2),K=r(w),Q=r(K),W=r(Q),L=r(W);ga(L,{size:18});var J=d(W,2),Z=r(J),ve=d(Q,2),ye=r(ve),_e=d(K,2),he=r(_e),me=r(he),I=r(me);Bt(I,{size:18});var V=d(me,2),H=r(V),E=d(he,2),oe=r(E),Ne=d(_e,2),Me=r(Ne),Xe=r(Me),ct=r(Xe);zt(ct,{size:18});var Dt=d(Xe,2),Yt=r(Dt),jt=d(Me,2),Qt=r(jt),Zt=d(Ne,2),St=r(Zt),Tt=r(St),Jt=r(Tt);Kt(Jt,{size:18});var Xt=d(Tt,2),ea=r(Xt),ta=d(St,2),aa=r(ta);C((ia,ra,sa,na,oa,la,da,va,ca)=>{_(s,ia),_(Z,ra),_(ye,sa),_(H,na),_(oe,oa),_(Yt,la),_(Qt,da),_(ea,va),_(aa,ca)},[()=>(o(),n(()=>o()("archetype.analysis_title"))),()=>(o(),n(()=>o()("archetype.tactical_description"))),()=>(e(i),S(v()),n(()=>e(i)(v().archetype.description))),()=>(o(),n(()=>o()("archetype.preferred_zone"))),()=>(e(i),S(v()),n(()=>e(i)(v().archetype.favoriteZone))),()=>(o(),n(()=>o()("archetype.strengths"))),()=>(e(i),S(v()),n(()=>e(i)(v().archetype.strengths))),()=>(o(),n(()=>o()("archetype.weaknesses"))),()=>(e(i),S(v()),n(()=>e(i)(v().archetype.weaknesses)))]),f(U,re)};z(at,U=>{S(v()),n(()=>v().archetype)&&U(it)})}C((U,re,Re,Te,O,s,w,K,Q,W,L)=>{fe(be,"aria-label",`View detailed fighter profile for ${S(v()),n(()=>v().nameWithNickname)??""}`),_(N,(S(v()),n(()=>v().name))),Ct(Ce,`--fill-width: ${S(v()),n(()=>v().stars*20)??""}%`),fe(Ke,"title",U),_($e,`${re??""}:`),_(et,(S(v()),n(()=>v().career_record))),fe(ce,"title",Re),_(Fe,`${Te??""}:`),_(qe,(S(v()),n(()=>v().record_36m))),fe(Se,"title",O),_(Ze,`${s??""}:`),nt=Oe(tt,1,"stat-value streak svelte-1gw86rr",null,nt,w),fe(B,"title",K),_(ie,`${Q??""}:`),_(se,e(h)),fe(Ee,"title",W),_(Le,`${L??""}:`),_(Je,e(g))},[()=>(o(),n(()=>o()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(o(),n(()=>o()("fighter_profile.career_record"))),()=>(o(),n(()=>o()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(o(),n(()=>o()("fighter_profile.record_36m"))),()=>(o(),n(()=>o()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(o(),n(()=>o()("fighter_profile.streak"))),()=>({"streak-win":v().streak>0,"streak-loss":v().streak<0}),()=>(o(),n(()=>o()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(o(),n(()=>o()("fighter_profile.height"))),()=>(o(),n(()=>o()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(o(),n(()=>o()("fighter_profile.reach")))]),f(R,P)},ee=R=>{var P=Va(),ae=r(P),j=r(ae);C(te=>_(j,te),[()=>(o(),n(()=>o()("fight_radar.select_fighter_stats")))]),f(R,P)};z(G,R=>{v()?R(we):R(ee,!1)})}var le=d(X,2);Fa(le,{get isOpen(){return e(p)},$$events:{close:T}}),C(()=>fe(X,"id",m())),f(q,Y),pt(),c()}ua(["click","keydown"]);var Ba=k('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function za(q,t){gt(t,!1);const[a,c]=mt(),o=()=>vt(yt,"$_",a);function i(){qt("/calendar")}ut();var l=Ba(),h=r(l),g=r(h),v=r(g),m=r(v);pa(m,{size:24,style:"display: inline; margin-right: 0.5rem;"});var p=d(m),D=d(v,2),T=r(D),Y=d(g,2),X=r(Y);C((G,we,ee)=>{_(p,` ${G??""}`),_(T,we),_(X,ee)},[()=>o()("banner.new_functionality"),()=>o()("banner.explore_calendar"),()=>o()("banner.view_calendar")]),Ye("click",Y,i),f(q,l),pt(),c()}var ge=(q=>(q.FIGHT_WINNER="fight_winner",q.METHOD_OF_VICTORY="method_of_victory",q.WINNER_AND_ROUND="winner_and_round",q.TOTAL_ROUNDS="total_rounds",q.SPECIFIC_FINISH_METHOD="specific_finish_method",q.GOES_TO_DECISION="goes_to_decision",q.DISTANCE_YES_NO="distance_yes_no",q.GONE_IN_60="gone_in_60",q.FIGHT_PROPS="fight_props",q.KEY_FACTORS="key_factors",q.TRENDS="trends",q.NO_PREDICTION="no_prediction",q))(ge||{}),bt=(q=>(q.HIGH="high",q.MEDIUM="medium",q.LOW="low",q))(bt||{});class qa{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=60,this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,a){const c=[],o=this.calculateWinProbability(t,a),i=this.predictMethodOfVictory(t,a,o),l=this.predictTotalRounds(t,a,o),h=this.predictRoundBetting(t,a,o),g=this.generateFightProps(t,a,o),v=this.analyzeKeyFactors(t,a),m=this.analyzeTrends(t,a);return c.push(this.createMoneylineCard(o)),i.probability>=this.MIN_MEDIUM_CONFIDENCE&&c.push(this.createMethodOfVictoryCard(i)),l.probability>=this.MIN_MEDIUM_CONFIDENCE&&c.push(this.createTotalRoundsCard(l)),h.probability>=this.MIN_HIGH_CONFIDENCE&&c.push(this.createRoundBettingCard(h)),c.push(this.createFightPropsCard(g)),c.push(this.createKeyFactorsCard(v)),c.push(this.createTrendsCard(m)),this.hasHighConfidencePredictions(c)||c.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(c)}validatePredictions(t){const a=this.filterByConfidence(t);return this.resolveContradictions(a)}filterByConfidence(t){return t.filter(a=>a.type==="key_factors"||a.type==="trends"||a.type==="no_prediction"||a.type==="fight_winner"?!0:a.confidence>=this.MIN_MEDIUM_CONFIDENCE)}resolveContradictions(t){let a=[...t];return a=this.resolveOverUnderContradictions(a),a=this.resolveMethodVsDurationContradictions(a),a=this.resolveMethodVsPropsContradictions(a),a=this.resolveDurationVsPropsContradictions(a),a}resolveMethodVsDurationContradictions(t){const a=t.find(m=>m.type==="method_of_victory"&&(m.prediction.toLowerCase().includes("decision")||m.predictionKey?.toLowerCase().includes("decision")));if(!a)return t;const c=t.filter(m=>{if(m.type!=="total_rounds")return!1;const p=m.prediction.toLowerCase(),D=m.predictionKey?.toLowerCase()||"";return p.includes("under")||D.includes("under")}),o=t.filter(m=>{if(m.type!=="winner_and_round")return!1;const p=m.prediction.toLowerCase(),D=m.predictionKey?.toLowerCase()||"";return p.includes("round 1")||p.includes("round 2")||D.includes("round_1")||D.includes("round_2")}),i=[...c,...o];if(i.length===0)return t;const l=[a,...i],h=Math.max(...l.map(m=>m.confidence)),g=l.find(m=>m.confidence===h);if(!g)return t;const v=new Set(l.map(m=>m.id));return t.filter(m=>!v.has(m.id)||m.id===g.id)}resolveOverUnderContradictions(t){const a=t.filter(i=>i.type==="total_rounds");if(a.length<=1)return t;const c=new Map;for(const i of a){const l=i.prediction.toLowerCase(),h=i.predictionKey?.toLowerCase()||"",g=l.match(/(\d+\.5)/)||h.match(/(\d+)_5/);if(g){const v=g[1].replace("_5",".5");c.has(v)||c.set(v,[]),c.get(v).push(i)}}const o=new Set;for(const[i,l]of c)if(l.length>1){const h=l.some(v=>v.prediction.toLowerCase().includes("over")||v.predictionKey?.toLowerCase().includes("over")),g=l.some(v=>v.prediction.toLowerCase().includes("under")||v.predictionKey?.toLowerCase().includes("under"));if(h&&g){const m=l.sort((p,D)=>D.confidence-p.confidence)[0];for(const p of l)p.id!==m.id&&o.add(p.id)}}return t.filter(i=>!o.has(i.id))}resolveMethodVsPropsContradictions(t){const a=t.find(l=>l.type==="method_of_victory"),c=t.filter(l=>l.type==="fight_props");if(!a||c.length===0)return t;const o=a.prediction.toLowerCase(),i=new Set;for(const l of c){const h=(l.prediction||"").toLowerCase(),g=(l.predictionKey||"").toLowerCase();(o.includes("ko")||o.includes("tko"))&&(h.includes("submission")||h.includes("ground control")||g.includes("submission")||g.includes("ground_control"))&&i.add(l.id),o.includes("submission")&&(h.includes("standing exchange")&&!h.includes("ground")||g.includes("standing_exchange")&&!g.includes("ground"))&&i.add(l.id),o.includes("decision")&&(h.includes("first round finish")||h.includes("gone in 60")||g.includes("first_round_finish")||g.includes("gone_in_60"))&&i.add(l.id)}return t.filter(l=>!i.has(l.id))}resolveDurationVsPropsContradictions(t){const a=t.filter(i=>i.type==="total_rounds"),c=t.filter(i=>i.type==="fight_props");if(a.length===0||c.length===0)return t;const o=new Set;for(const i of a){const l=(i.prediction||"").toLowerCase(),h=(i.predictionKey||"").toLowerCase(),g=l.includes("under 2.5")||h.includes("under_2_5"),v=l.includes("over 3.5")||h.includes("over_3_5");for(const m of c){const p=(m.prediction||"").toLowerCase(),D=(m.predictionKey||"").toLowerCase();g&&((p.includes("over 100 strikes")||D.includes("over_100_strikes"))&&o.add(m.id),(p.includes("goes to distance")||D.includes("goes_to_distance"))&&o.add(m.id)),v&&(p.includes("first round")||p.includes("gone in 60")||D.includes("first_round")||D.includes("gone_in_60"))&&o.add(m.id)}}return t.filter(i=>!o.has(i.id))}calculateWinProbability(t,a){let c=t.overall+(t.oppTierScore-5)*3,o=a.overall+(a.oppTierScore-5)*3;c*=this.calculateAgeImpact(t),o*=this.calculateAgeImpact(a);const i=this.getInactiveMonths(t),l=this.getInactiveMonths(a);if(i>=18){const $=Math.min((i-18)*.005,.25);c*=1-$}if(l>=18){const $=Math.min((l-18)*.005,.25);o*=1-$}const h=this.getFightsInPeriod(t,18),g=this.getFightsInPeriod(a,18);h>=3&&(c*=1.05),g>=3&&(o*=1.05);const v=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,m=a.rawData.Number_of_Fights_36m>0?a.rawData.win/a.rawData.Number_of_Fights_36m*100:0,p=this.calculateMomentum(t),D=this.calculateMomentum(a);c*=1+p,o*=1+D;let T=.35,Y=.35;v>=75?T=.4:v<50&&(T=.3),m>=75?Y=.4:m<50&&(Y=.3);const X=c+v*T,G=o+m*Y,we=this.calculateAge(t),ee=this.calculateAge(a),le=we-ee;let R=X,P=G;if(Math.abs(le)>=5){const $=Math.min(Math.abs(le)*.005,.03);le>0?(R=X*(1-$),P=G*(1+$)):(R=X*(1+$),P=G*(1-$))}const ae=Math.abs(R-P);if(ae>15){const $=1+(ae-15)*.015;R>P?R*=$:P*=$}const j=R+P;let te=j>0?Math.round(R/j*100):50,be=j>0?Math.round(P/j*100):50;if(te=Math.max(15,Math.min(88,te)),be=100-te,te>be){let $=this.getWinReasoningKey(t,a,v,m);return{winner:t,probability:te,reasoning:$,adjustedScore1:R,adjustedScore2:P}}else{let $=this.getWinReasoningKey(a,t,m,v);return{winner:a,probability:be,reasoning:$,adjustedScore1:P,adjustedScore2:R}}}predictMethodOfVictory(t,a,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,i=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,l=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,h=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko)/a.rawData.Number_of_Fights_36m*100:0,g=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,v=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0,m=c.winner,p=m===t?a:t,D=p.rawData.Number_of_Fights_36m>0?(p.rawData.loss_ko+p.rawData.loss_tko)/p.rawData.Number_of_Fights_36m*100:0,T=p.rawData.Number_of_Fights_36m>0?p.rawData.loss_sub/p.rawData.Number_of_Fights_36m*100:0,Y=m===t?l:h,X=m===t?g:v,G=this.getWeightedMetric(o,i,c,t,.5);this.getWeightedMetric(l,h,c,t,1),this.getWeightedMetric(g,v,c,t,1);const we=this.hasBodyShotThreat(t,a),ee=this.hasGroundControlThreat(t,a),le=Y*.6+D*.4,R=X*.6+T*.4,ae=D+T>30?35:40;if(G>ae)if(le>R){let j=Math.round(Math.max(Math.min(G+10,75),5));return we&&(j+=5),D>25&&(j+=5),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(j,80),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:o,finishRate2:i}}else{let j=Math.round(Math.max(Math.min(G,65),5));return ee&&(j+=5),T>20&&(j+=5),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(j,70),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:o,finishRate2:i}}else return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.round(Math.max(Math.min(100-G,95),5)),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:o,finishRate2:i}}predictTotalRounds(t,a,c){const o=(t.rawData.Fight_Duration_Seconds||900)/60,i=(a.rawData.Fight_Duration_Seconds||900)/60,l=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,h=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,g=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,v=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko)/a.rawData.Number_of_Fights_36m*100:0,m=this.getWeightedMetric(o,i,c,t,.8),p=this.getWeightedMetric(l,h,c,t,.6);this.getWeightedMetric(g,v,c,t,.7);const D=c.winner,T=D===t?a:t,Y=D===t?o:i,X=D===t?l:h,G=D===t?g:v,we=T.rawData.Number_of_Fights_36m>0?(T.rawData.loss_ko+T.rawData.loss_tko+T.rawData.loss_sub)/T.rawData.Number_of_Fights_36m*100:0,ee=this.hasExplosiveStyle(t,a);if(m<8&&p>50||X>60&&Y<10||ee&&p>50||X>50&&we>35){let le=Math.round(Math.min(p+15,75));return ee&&G>50&&(le+=5),we>40&&(le+=5),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(le,80),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:m}}else{if(p<25&&m>13)return{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.round(Math.min(95-p,80)),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:m};{const le=p>50?55:p<30?70:62;return{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.round(le),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:m}}}}generateFightProps(t,a,c){const o=this.calculateBettingMetrics(t,a,c);return this.hasDominantGrappler(t,a),this.isStrikerWar(t,a),o.f1SubRate+o.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:o}:o.weightedFinishRate&&o.weightedFinishRate>60&&o.weightedAvgFightTime&&o.weightedAvgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:o}:o.f1KnockdownRate>.6&&o.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:o}:o.f1TakedownRate>15||o.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:o}:o.f1StrikeVolume>120&&o.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:o}:o.f1TakedownRate<5&&o.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:o}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:o}}predictRoundBetting(t,a,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,i=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(a.rawData.Fight_Duration_Seconds||900)/60,g=this.getWeightedMetric(o,i,c,t,.5),v=this.getWeightedMetric(l,h,c,t,1);return g>60&&v<5?{prediction:"Round 1",predictionKey:"betting_markets.round_1",probability:Math.round(Math.min(g+15,85)),reasoning:"betting_markets.reasoning.early_explosive_finish",explanationKey:"betting_markets.explanations.round_1_finish",avgTime:v}:g>40&&v<8?{prediction:"Round 2",predictionKey:"betting_markets.round_2",probability:Math.round(Math.min(g+10,80)),reasoning:"betting_markets.reasoning.second_round_finish",explanationKey:"betting_markets.explanations.round_2_finish",avgTime:v}:{prediction:"Goes to Decision",predictionKey:"betting_markets.goes_to_decision",probability:Math.round(Math.max(100-g,20)),reasoning:"betting_markets.reasoning.likely_decision",explanationKey:"betting_markets.explanations.goes_to_decision",avgTime:v}}calculateEarlyFinishRate(t){const a=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,c=(t.rawData.Fight_Duration_Seconds||900)/60;return a>40&&c<4?a*.8:a>25&&c<6?a*.6:a*.3}analyzeKeyFactors(t,a){const c=[],o=t.rawData.reach_inches||0,i=a.rawData.reach_inches||0,l=Math.abs(o-i);if(l>2){const T=o>i?t.name||"Fighter 1":a.name||"Fighter 2";c.push({label:"combat_analysis.key_factors.reach_advantage",value:`${T} +${l}"`,type:"advantage"})}const h=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,g=a.rawData.Sig_Strikes_Thrown>0?Math.round(a.rawData.Sig_Strikes_Landed/a.rawData.Sig_Strikes_Thrown*100):0;c.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${h}% vs ${a.name||"F2"}: ${g}%`,type:"comparison"});const v=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,m=a.rawData.takedowns_attempted_against>0?Math.round(a.rawData.Takedowns_Defended/a.rawData.takedowns_attempted_against*100):85;c.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${v}% vs ${a.name||"F2"}: ${m}%`,type:"comparison"});const p=t.rawData.Number_of_Fights_36m||0,D=a.rawData.Number_of_Fights_36m||0;if(Math.abs(p-D)>2){const T=p>D?t.name||"Fighter 1":a.name||"Fighter 2",Y=Math.max(p,D),X=Math.min(p,D);c.push({label:"combat_analysis.key_factors.higher_activity",value:`${T}: ${Y} vs ${X} fights`,type:"advantage"})}return c}analyzeTrends(t,a){const c=[],o=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,i=a.rawData.Number_of_Fights_36m>0?Math.round(a.rawData.win/a.rawData.Number_of_Fights_36m*100):0;o>=75?c.push({type:"positive",text:`${t.name||"Fighter 1"} has ${o}% win rate`,fighter:t.name}):o<50&&c.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${o}% win rate`,fighter:t.name}),i>=75?c.push({type:"positive",text:`${a.name||"Fighter 2"} has ${i}% win rate`,fighter:a.name}):i<50&&c.push({type:"negative",text:`${a.name||"Fighter 2"} struggling at ${i}% win rate`,fighter:a.name});const l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(a.rawData.Fight_Duration_Seconds||900)/60,g=(l+h)/2;return c.push({type:"neutral",text:`Combined average fight time: ${g.toFixed(1)} minutes`}),c}calculateMomentum(t){const a=t.streak;if(a===0)return 0;const c=Math.abs(a);return a>0?c>=3?.08:c>=2?.05:.02:c>=3?-.08:c>=2?-.05:-.02}calculateDamageMultiplier(t){return t===0?1:t===1?1.1:t===2?1.25:t===3?1.4:t===4?1.6:1.8}calculateAgeImpact(t){const a=this.calculateAge(t),o={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,i=(t.rawData.loss_ko||0)+(t.rawData.loss_tko||0),l=this.calculateDamageMultiplier(i),h=(a-o)*l;if(h<=0)return 1;let g=0;return h<=5?g=h*.01:h<=10?g=.05+(h-5)*.015:g=.125+(h-10)*.02,g=Math.min(g,.3),1-g}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const i=t.birthDate||t.rawData.Birth_Date,l=new Date(i);if(!isNaN(l.getTime())){const h=new Date;let g=h.getFullYear()-l.getFullYear();const v=h.getMonth()-l.getMonth();return(v<0||v===0&&h.getDate()<l.getDate())&&g--,g}}const a=25,c=2.5,o=t.rawData.Number_of_Fights_36m||0;return Math.round(a+o/c)}getInactiveMonths(t){const a=t.rawData.Number_of_Fights_36m||0;return a>=3?0:a>=2?6:a>=1?12:24}getFightsInPeriod(t,a){const c=a/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*c)}hasBodyShotThreat(t,a){const c=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,o=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko)/a.rawData.Number_of_Fights_36m*100:0;return c>40||o>40}hasGroundControlThreat(t,a){const c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0;return c>25||o>25}hasExplosiveStyle(t,a){const c=(t.rawData.Fight_Duration_Seconds||900)/60,o=(a.rawData.Fight_Duration_Seconds||900)/60;return c<5||o<5}getWeightedMetric(t,a,c,o,i=.5){const l=c.probability/100,h=1-l;return c.winner===o?t*l+a*h*i:a*l+t*h*i}getFighterStyle(t){const a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0;return a>15||c>25?"grappler":o>30&&a<10?"striker":"balanced"}hasDominantGrappler(t,a){const c=this.getFighterStyle(t),o=this.getFighterStyle(a),i=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,l=a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0;return c==="grappler"&&i>20||o==="grappler"&&l>20}isStrikerWar(t,a){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(a)==="striker"}calculateBettingMetrics(t,a,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,i=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(a.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Knockdowns/a.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:a.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Sub_Attempts/a.rawData.Number_of_Fights_36m:0,f1FinishRate:o,f2FinishRate:i,avgFightTime:(l+h)/2,weightedFinishRate:c?this.getWeightedMetric(o,i,c,t,.5):void 0,weightedAvgFightTime:c?this.getWeightedMetric(l,h,c,t,1):void 0}}getWinReasoningKey(t,a,c,o){return t.overall>a.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>a.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>a.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":c>o+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=this.MIN_HIGH_CONFIDENCE?"high":t>=this.MIN_MEDIUM_CONFIDENCE?"medium":(t>=this.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"fight_winner",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:1}}createMethodOfVictoryCard(t){return{id:"method-of-victory",type:"method_of_victory",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{finishRate1:t.finishRate1,finishRate2:t.finishRate2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"total_rounds",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createRoundBettingCard(t){return{id:"round-betting",type:"winner_and_round",category:"secondary",title:"Round Betting",titleKey:"betting_markets.round_betting",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:4}}createMethodAndRoundCard(t){const a=t.probability||70;return{id:"method-and-round",type:"winner_and_round",category:"secondary",title:"Method & Round",titleKey:"betting_markets.method_and_round",prediction:t.prop,predictionKey:t.propKey,confidence:a,confidenceLevel:this.getConfidenceLevel(a),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:5}}createDecisionTypeCard(t){return{id:"decision-type",type:"distance_yes_no",category:"secondary",title:"Decision Type",titleKey:"betting_markets.decision_type",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:6}}createGoneIn60Card(t){return{id:"gone-in-60",type:"gone_in_60",category:"prop",title:"Gone in 60 Seconds",titleKey:"betting_markets.gone_in_60_title",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:7}}calculateImpliedOdds(t){if(t<=0)return"N/A";if(t>=100)return"Even";const a=100/t;if(a>=2){const c=(a-1)*100;return`+${Math.round(c)}`}else{const c=-100/(a-1);return`${Math.round(c)}`}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(a=>(a.type==="fight_winner"||a.type==="method_of_victory"||a.type==="total_rounds"||a.type==="winner_and_round"||a.type==="fight_props")&&a.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((a,c)=>a.priority-c.priority)}}const Gt=new qa;var Ya=k('<div class="implied-odds svelte-1lytxch"> </div>'),ja=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="winner-name svelte-1lytxch"> </div> <div class="confidence svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Qa=k('<div class="implied-odds svelte-1lytxch"> </div>'),Za=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method svelte-1lytxch"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Ja=k('<div class="implied-odds svelte-1lytxch"> </div>'),Xa=k('<div class="bet-explanation svelte-1lytxch"> </div>'),ei=k('<div class="bet-explanation svelte-1lytxch"> </div>'),ti=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="rounds"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),ai=k('<div class="implied-odds svelte-1lytxch"> </div>'),ii=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="round"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),ri=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method-round-combo"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),si=k('<div class="implied-odds svelte-1lytxch"> </div>'),ni=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="decision"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),oi=k('<div class="implied-odds svelte-1lytxch"> </div>'),li=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="gone-60"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),di=k('<div class="bet-card no-predictions svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="no-pred-title svelte-1lytxch"> </div> <div class="no-pred-subtitle svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),vi=k('<div class="bet-explanation svelte-1lytxch"> </div>'),ci=k('<div class="bet-explanation svelte-1lytxch"> </div>'),_i=k('<div class="bet-card fight-props svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="prop svelte-1lytxch"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),hi=k('<div class="stat-item svelte-1lytxch"><span class="stat-label svelte-1lytxch"> </span> <span class="stat-value svelte-1lytxch"> </span></div>'),gi=k('<div class="bet-card stats svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="key-stats svelte-1lytxch"></div></div>'),ui=k("<div> </div>"),pi=k('<div class="bet-card trends svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="trend-list svelte-1lytxch"></div></div>'),mi=k('<div class="fight-best-bets svelte-1lytxch"><div class="header svelte-1lytxch"><h2 class="title svelte-1lytxch"><span class="icon svelte-1lytxch"><!></span> </h2> <hr class="title-divider svelte-1lytxch"/> <div class="subtitle svelte-1lytxch"> </div></div> <div class="matchup-header svelte-1lytxch"><div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div> <div class="vs-divider svelte-1lytxch"><span>VS</span></div> <div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1lytxch"><small class="svelte-1lytxch"> </small></div></div>');function yi(q,t){gt(t,!1);const[a,c]=mt(),o=()=>vt(wa,"$locale",a),i=()=>vt(yt,"$_",a),l=F(),h=F(),g=F(),v=F(),m=F(),p=F(),D=F(),T=F(),Y=F(),X=F(),G=F(),we=F(),ee=F(),le=F(),R=F(),P=F(),ae=F(),j=F(),te=F(),be=F();let $=je(t,"fighter1",8,null),ne=je(t,"fighter2",8,null);function xe(N,ue){return N.filter(Ce=>Ce.type===ue)}function Ie(N){switch(N){case bt.HIGH:return"high-confidence";case bt.MEDIUM:return"medium-confidence";case bt.LOW:return"low-confidence";default:return""}}let lt=o();A(()=>(S($()),S(ne())),()=>{b(l,$()&&ne())}),A(()=>(e(l),S($()),S(ne())),()=>{b(h,e(l)?Gt.generateBetCards($(),ne()):[])}),A(()=>e(h),()=>{b(g,Gt.validatePredictions(e(h)))}),A(()=>(e(l),S($()),S(ne()),e(g),_t),()=>{e(l)&&$()&&ne()&&e(g).length>0&&_t.trackBettingAnalysis($().name,ne().name)}),A(()=>(e(g),ge),()=>{b(v,xe(e(g),ge.FIGHT_WINNER))}),A(()=>(e(g),ge),()=>{b(m,xe(e(g),ge.METHOD_OF_VICTORY))}),A(()=>(e(g),ge),()=>{b(p,xe(e(g),ge.TOTAL_ROUNDS))}),A(()=>(e(g),ge),()=>{b(D,xe(e(g),ge.WINNER_AND_ROUND))}),A(()=>(e(g),ge),()=>{b(T,xe(e(g),ge.DISTANCE_YES_NO))}),A(()=>(e(g),ge),()=>{b(Y,xe(e(g),ge.GOES_TO_DECISION))}),A(()=>(e(g),ge),()=>{b(X,xe(e(g),ge.GONE_IN_60))}),A(()=>(e(g),ge),()=>{b(G,xe(e(g),ge.FIGHT_PROPS))}),A(()=>(e(g),ge),()=>{b(we,xe(e(g),ge.KEY_FACTORS))}),A(()=>(e(g),ge),()=>{b(ee,xe(e(g),ge.TRENDS))}),A(()=>(e(g),ge),()=>{b(le,xe(e(g),ge.NO_PREDICTION))}),A(()=>(e(v),e(m),e(p),e(D),e(T),e(Y),e(X)),()=>{b(R,e(v).length+e(m).length+e(p).length+e(D).length+e(T).length+e(Y).length+e(X).length)}),A(()=>e(R),()=>{b(P,e(R)>0)}),A(()=>e(P),()=>{b(ae,e(P)?0:1)}),A(()=>(e(G),e(we),e(ee)),()=>{b(j,e(G).length+e(we).length+e(ee).length)}),A(()=>(e(R),e(ae),e(j)),()=>{b(te,e(R)+e(ae)+e(j))}),A(()=>o(),()=>{o()!==lt&&lt&&window.location.reload()}),A(()=>e(l),()=>{b(be,e(l))}),wt(),ut();var rt=ot(),st=Ue(rt);{var dt=N=>{var ue=mi(),Ce=r(ue),ke=r(Ce),Be=r(ke),Ve=r(Be);zt(Ve,{size:32});var ze=d(Be),Ke=d(ke,4),$e=r(Ke),Qe=d(Ce,2),et=r(Qe),Ae=r(et),ce=r(Ae),Fe=d(Ae,2),Ge=r(Fe),qe=d(Fe,2),de=r(qe),Se=d(et,4),Ze=r(Se),tt=r(Ze),nt=d(Ze,2),u=r(nt),y=d(nt,2),x=r(y),M=d(Qe,2);let B;var ie=r(M);We(ie,1,()=>e(v),He,(O,s)=>{var w=ja(),K=r(w),Q=r(K),W=d(K,2),L=r(W),J=r(L),Z=d(L,2),ve=r(Z),ye=d(Z,2);{var _e=I=>{var V=Ya(),H=r(V);C(E=>_(H,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(i(),n(()=>i()("betting_markets.odds")))]),f(I,V)};z(ye,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=d(W,2),me=r(he);C((I,V,H,E)=>{Oe(w,1,`bet-card moneyline ${I??""}`,"svelte-1lytxch"),_(Q,V),_(J,(e(s),n(()=>e(s).prediction))),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${H??""}`),_(me,E)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var pe=d(ie,2);We(pe,1,()=>e(m),He,(O,s)=>{var w=Za(),K=r(w),Q=r(K),W=d(K,2),L=r(W),J=r(L),Z=d(L,2),ve=r(Z),ye=d(Z,2);{var _e=I=>{var V=Qa(),H=r(V);C(E=>_(H,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(i(),n(()=>i()("betting_markets.odds")))]),f(I,V)};z(ye,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=d(W,2),me=r(he);C((I,V,H,E,oe)=>{Oe(w,1,`bet-card method-victory ${I??""}`,"svelte-1lytxch"),_(Q,V),_(J,H),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(me,oe)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(e(s),i(),n(()=>e(s).predictionKey?i()(e(s).predictionKey):e(s).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var se=d(pe,2);We(se,1,()=>e(p),He,(O,s)=>{var w=ti(),K=r(w),Q=r(K),W=d(K,2),L=r(W),J=r(L),Z=d(L,2),ve=r(Z),ye=d(Z,2);{var _e=E=>{var oe=Ja(),Ne=r(oe);C(Me=>_(Ne,`${Me??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(i(),n(()=>i()("betting_markets.odds")))]),f(E,oe)};z(ye,E=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&E(_e)})}var he=d(W,2),me=r(he),I=d(he,2);{var V=E=>{var oe=Xa(),Ne=r(oe);C(Me=>_(Ne,Me),[()=>(i(),e(s),n(()=>i()(e(s).explanationKey)))]),f(E,oe)},H=E=>{var oe=ot(),Ne=Ue(oe);{var Me=Xe=>{var ct=ei(),Dt=r(ct);C(()=>_(Dt,(e(s),n(()=>e(s).explanation)))),f(Xe,ct)};z(Ne,Xe=>{e(s),n(()=>e(s).explanation)&&Xe(Me)},!0)}f(E,oe)};z(I,E=>{e(s),n(()=>e(s).explanationKey)?E(V):E(H,!1)})}C((E,oe,Ne,Me,Xe)=>{Oe(w,1,`bet-card total-rounds ${E??""}`,"svelte-1lytxch"),_(Q,oe),_(J,Ne),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${Me??""}`),_(me,Xe)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(e(s),i(),n(()=>e(s).predictionKey?i()(e(s).predictionKey):e(s).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var De=d(se,2);We(De,1,()=>e(D),He,(O,s)=>{var w=ii(),K=r(w),Q=r(K),W=d(K,2),L=r(W),J=r(L),Z=d(L,2),ve=r(Z),ye=d(Z,2);{var _e=I=>{var V=ai(),H=r(V);C(E=>_(H,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(i(),n(()=>i()("betting_markets.odds")))]),f(I,V)};z(ye,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=d(W,2),me=r(he);C((I,V,H,E,oe)=>{Oe(w,1,`bet-card round-betting ${I??""}`,"svelte-1lytxch"),_(Q,V),_(J,H),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(me,oe)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(e(s),i(),n(()=>e(s).predictionKey?i()(e(s).predictionKey):e(s).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var Ee=d(De,2);We(Ee,1,()=>e(T),He,(O,s)=>{var w=ri(),K=r(w),Q=r(K),W=d(K,2),L=r(W),J=r(L),Z=d(L,2),ve=r(Z),ye=d(W,2),_e=r(ye);C((he,me,I,V,H)=>{Oe(w,1,`bet-card method-round ${he??""}`,"svelte-1lytxch"),_(Q,me),_(J,I),_(ve,V),_(_e,H)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(e(s),i(),n(()=>e(s).predictionKey?i()(e(s).predictionKey):e(s).prediction)),()=>(e(s),i(),n(()=>e(s).metadata?.valueKey?i()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var Le=d(Ee,2);We(Le,1,()=>e(Y),He,(O,s)=>{var w=ni(),K=r(w),Q=r(K),W=d(K,2),L=r(W),J=r(L),Z=d(L,2),ve=r(Z),ye=d(Z,2);{var _e=I=>{var V=si(),H=r(V);C(E=>_(H,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(i(),n(()=>i()("betting_markets.odds")))]),f(I,V)};z(ye,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=d(W,2),me=r(he);C((I,V,H,E,oe)=>{Oe(w,1,`bet-card decision-type ${I??""}`,"svelte-1lytxch"),_(Q,V),_(J,H),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(me,oe)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(e(s),i(),n(()=>e(s).predictionKey?i()(e(s).predictionKey):e(s).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var Pe=d(Le,2);We(Pe,1,()=>e(X),He,(O,s)=>{var w=li(),K=r(w),Q=r(K),W=d(K,2),L=r(W),J=r(L),Z=d(L,2),ve=r(Z),ye=d(Z,2);{var _e=I=>{var V=oi(),H=r(V);C(E=>_(H,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(i(),n(()=>i()("betting_markets.odds")))]),f(I,V)};z(ye,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=d(W,2),me=r(he);C((I,V,H,E,oe)=>{Oe(w,1,`bet-card gone-in-60 ${I??""}`,"svelte-1lytxch"),_(Q,V),_(J,H),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(me,oe)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(e(s),i(),n(()=>e(s).predictionKey?i()(e(s).predictionKey):e(s).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var Je=d(Pe,2);We(Je,1,()=>e(le),He,(O,s)=>{var w=di(),K=r(w),Q=r(K);Kt(Q,{size:16,style:"display: inline; margin-right: 0.25rem;"});var W=d(Q),L=d(K,2),J=r(L),Z=r(J),ve=d(J,2),ye=r(ve),_e=d(L,2),he=r(_e);C((me,I,V,H)=>{_(W,` ${me??""}`),_(Z,I),_(ye,V),_(he,H)},[()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(e(s),i(),n(()=>e(s).predictionKey?i()(e(s).predictionKey):e(s).prediction)),()=>(i(),n(()=>i()("combat_analysis.confidence_threshold"))),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var at=d(Je,2);We(at,1,()=>e(G),He,(O,s)=>{var w=_i(),K=r(w),Q=r(K);Bt(Q,{size:16,style:"display: inline; margin-right: 0.25rem;"});var W=d(Q),L=d(K,2),J=r(L),Z=r(J),ve=d(J,2),ye=r(ve),_e=d(L,2),he=r(_e),me=d(_e,2);{var I=H=>{var E=vi(),oe=r(E);C(Ne=>_(oe,Ne),[()=>(i(),e(s),n(()=>i()(e(s).explanationKey)))]),f(H,E)},V=H=>{var E=ot(),oe=Ue(E);{var Ne=Me=>{var Xe=ci(),ct=r(Xe);C(()=>_(ct,(e(s),n(()=>e(s).explanation)))),f(Me,Xe)};z(oe,Me=>{e(s),n(()=>e(s).explanation)&&Me(Ne)},!0)}f(H,E)};z(me,H=>{e(s),n(()=>e(s).explanationKey)?H(I):H(V,!1)})}C((H,E,oe,Ne,Me)=>{_(W,` ${H??""}`),_(Z,E),_(ye,`${oe??""}: ${Ne??""}`),_(he,Me)},[()=>(i(),e(s),n(()=>i()(e(s).titleKey))),()=>(e(s),i(),n(()=>e(s).predictionKey?i()(e(s).predictionKey):e(s).prediction)),()=>(i(),n(()=>i()("combat_analysis.value"))),()=>(e(s),i(),n(()=>e(s).metadata?.valueKey?i()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(i(),e(s),n(()=>i()(e(s).reasoningKey)))]),f(O,w)});var it=d(at,2);We(it,1,()=>e(we),He,(O,s)=>{var w=gi(),K=r(w),Q=r(K),W=d(K,2);We(W,5,()=>(e(s),n(()=>e(s).metadata?.factors||[])),He,(L,J)=>{var Z=hi(),ve=r(Z),ye=r(ve),_e=d(ve,2),he=r(_e);C(me=>{_(ye,me),_(he,(e(J),n(()=>e(J).value)))},[()=>(i(),e(J),n(()=>i()(e(J).label)))]),f(L,Z)}),C(L=>_(Q,L),[()=>(i(),e(s),n(()=>i()(e(s).titleKey)))]),f(O,w)});var U=d(it,2);We(U,1,()=>e(ee),He,(O,s)=>{var w=pi(),K=r(w),Q=r(K),W=d(K,2);We(W,5,()=>(e(s),n(()=>e(s).metadata?.trends||[])),He,(L,J)=>{var Z=ui(),ve=r(Z);C(()=>{Oe(Z,1,`trend-item ${e(J),n(()=>e(J).type)??""}`,"svelte-1lytxch"),_(ve,(e(J),n(()=>e(J).text)))}),f(L,Z)}),C(L=>_(Q,L),[()=>(i(),e(s),n(()=>i()(e(s).titleKey)))]),f(O,w)});var re=d(M,2),Re=r(re),Te=r(Re);C((O,s,w,K)=>{_(ze,` ${O??""}`),_($e,s),_(ce,(S($()),n(()=>$().name))),_(Ge,`${S($()),n(()=>$().rawData.win)??""}-${S($()),n(()=>$().rawData.loss)??""}-${S($()),n(()=>$().rawData.draws)??""}`),_(de,(S($()),n(()=>$().archetype.archetypeEmojis))),_(tt,(S(ne()),n(()=>ne().name))),_(u,`${S(ne()),n(()=>ne().rawData.win)??""}-${S(ne()),n(()=>ne().rawData.loss)??""}-${S(ne()),n(()=>ne().rawData.draws)??""}`),_(x,(S(ne()),n(()=>ne().archetype.archetypeEmojis))),B=Oe(M,1,"betting-grid svelte-1lytxch",null,B,w),_(Te,`* ${K??""}`)},[()=>(i(),n(()=>i()("combat_analysis.fight_analysis"))),()=>(i(),n(()=>i()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(te)<=3}),()=>(i(),n(()=>i()("combat_analysis.disclaimer")))]),f(N,ue)};z(st,N=>{e(be)&&N(dt)})}f(q,rt),pt(),c()}var fi=k('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),bi=k('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),wi=k('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),Di=k('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),xi=k('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),ki=k('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),Fi=k('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),Ri=k('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function Ii(q,t){gt(t,!1);const[a,c]=mt(),o=()=>vt(ae,"$urlSearchParams",a),i=()=>vt(yt,"$_",a),l=F(),h=F(),g=F(),v=F(),m=F(),p=F(),D=F(),T=F(),Y=F(),X=F();let G=je(t,"isDarkMode",8,!0),we=je(t,"toggleTheme",8,()=>{}),ee=F(new Map),le=F(new Map),R=F(),P=F(new Map);const ae=ma(ht());function j(u,y){const x=`fighter${y}`;Ot({[x]:u}),ae.set(ht())}let te=F(!1),be=F(!1),$=F(!1),ne=F(!1);ya(()=>{window.Highcharts=fa,ae.set(ht());const u=Da(()=>{ae.set(ht())});return xe(),u});async function xe(){try{b(te,!0);const{allRawFightersDataMap:u,allRawFightersByDivision:y,processedFightersMap:x,processedFighters:M}=await ka.loadFightersFromCSV();b(ee,u),b(P,y),b(le,x),b(R,M),b(be,!0)}catch(u){console.error("Error loading data:",u)}finally{b(te,!1)}}function Ie(u=[]){return u.map(y=>({value:y.nameWithNickname,label:y.name,imageUrl:lt(y)}))}function lt(u){return u.pictureUrl&&u.pictureUrl!==""?u.pictureUrl:rt(u.division)?"no_photo_female.png":"no_photo_male.png"}function rt(u){return!!(u&&u.startsWith("W_"))}function st(u){j(u,1)}function dt(u){j(u,2)}function N(){_t.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(l)||"none",fighter2:e(h)||"none"}),Ot({fighter1:"",fighter2:""}),ae.set(ht())}function ue(){if(!e(l)||!e(h))return;const u=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";_t.trackFightShare(e(l),e(h),u);const y=xa("/",{fighter1:e(l),fighter2:e(h)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(h)} - Fight Radar`,text:`Compara las estadsticas de ${e(l)} vs ${e(h)}`,url:y}).catch(console.error):navigator.clipboard.writeText(y).then(()=>{Ce("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",y)})}function Ce(u){const y=document.createElement("div");y.className="notification",y.textContent=u,y.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(y),setTimeout(()=>{y.style.opacity="1",y.style.transform="translateY(0)"},10),setTimeout(()=>{y.style.opacity="0",y.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(y)},300)},3e3)}function ke(u,y,x){const M=[];return u&&M.push({name:u.name,data:[u.fightRadar.STR_OFF,u.fightRadar.STR_DEF,u.fightRadar.TD_OFF,u.fightRadar.TD_DEF,u.fightRadar.CTRL,u.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),y&&M.push({name:y.name,data:[y.fightRadar.STR_OFF,y.fightRadar.STR_DEF,y.fightRadar.TD_OFF,y.fightRadar.TD_DEF,y.fightRadar.CTRL,y.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&M.push({name:x.name,data:[x.fightRadar.STR_OFF,x.fightRadar.STR_DEF,x.fightRadar.TD_OFF,x.fightRadar.TD_DEF,x.fightRadar.CTRL,x.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),M}function Be(u,y,x){const M=[];return u&&M.push({name:u.name,data:[u.iqRadar.distance,u.iqRadar.adaptability,u.iqRadar.composure,u.iqRadar.decisions,u.iqRadar.rhythm,u.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),y&&M.push({name:y.name,data:[y.iqRadar.distance,y.iqRadar.adaptability,y.iqRadar.composure,y.iqRadar.decisions,y.iqRadar.rhythm,y.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&M.push({name:x.name,data:[x.iqRadar.distance,x.iqRadar.adaptability,x.iqRadar.composure,x.iqRadar.decisions,x.iqRadar.rhythm,x.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),M}function Ve(u){const y={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[x,M,B]=u.combinedRole.split("+")??["AT"];let ie=[[x,100]];if(M&&B?ie=[[x,33],[M,34],[B,33]]:M?ie=[[x,50],[M,50]]:B&&(ie=[[x,60],[B,40]]),ie.length===1){const[pe,se]=ie[0],De=Math.min(se,70);return`linear-gradient(135deg, ${y[pe]} 0%, ${y[pe]} ${De}%, var(--card-bg) 100%)`}else{const pe=ie.reduce((Le,[,Pe])=>Le+Pe,0);let se=[],De=0;return ie.forEach(([Le,Pe],Je)=>{const at=Pe/pe*85,it=y[Le];Je===0&&se.push(`${it} ${De}%`),De+=at,Je===ie.length-1?(se.push(`${it} ${De}%`),se.push("var(--card-bg) 100%")):se.push(`${it} ${De}%`)}),`linear-gradient(135deg, ${se.join(", ")})`}}A(()=>o(),()=>{b(l,o().get("fighter1")||"")}),A(()=>o(),()=>{b(h,o().get("fighter2")||"")}),A(()=>(e(R),e(h)),()=>{b(g,Ie(e(R)).filter(u=>u.value!==e(h)))}),A(()=>(e(R),e(l)),()=>{b(v,Ie(e(R)).filter(u=>u.value!==e(l)))}),A(()=>(e(l),e(h),e(ee),e(P),At),()=>{b(m,(()=>{if(!e(l)||!e(h))return null;const u=e(ee).get(e(l)),y=e(ee).get(e(h));if(!u||!y)return null;if(u.Division===y.Division){const x=u.Division;if(e(P).has(x))return At(x,e(P).get(x))}return null})())}),A(()=>(e(l),e(le)),()=>{b(p,e(l)?e(le).get(e(l))??null:null)}),A(()=>(e(h),e(le)),()=>{b(D,e(h)?e(le).get(e(h))??null:null)}),A(()=>(e(m),e(l),e(h),e(ee),e(P),Lt),()=>{b(T,(()=>{if(!e(m)||!e(l)||!e(h))return null;const u=e(ee).get(e(l));return!u||!e(P).has(u.Division)?null:Lt(e(m),e(P).get(u.Division))})())}),A(()=>(e(p),e(D),e(T)),()=>{b(Y,ke(e(p)??null,e(D)??null,e(T)??null))}),A(()=>(e(p),e(D),e(T)),()=>{b(X,Be(e(p),e(D),e(T)))}),A(()=>(e(te),e(ee),e(l),e(h),_t),()=>{const u=!e(te)&&e(ee).size>0&&e(ee).has(e(l))&&e(ee).has(e(h));b($,!!(e(l)&&e(h)&&u)),b(ne,!!(e(l)&&e(h)&&u)),e(l)&&e(h)&&u&&_t.trackFighterComparison(e(l),e(h))}),wt(),ut();var ze=Ri(),Ke=r(ze),$e=r(Ke);ba($e,{showThemeToggle:!0,get isDarkMode(){return G()},get toggleTheme(){return we()}});var Qe=d($e,2);{var et=u=>{var y=fi(),x=r(y),M=d(r(x),2),B=r(M);C(ie=>_(B,ie),[()=>(i(),n(()=>i()("fight_radar.loading_data")))]),f(u,y)};z(Qe,u=>{e(te)&&u(et)})}var Ae=d(Qe,2);{var ce=u=>{var y=Di(),x=r(y),M=r(x),B=r(M),ie=r(B),pe=d(B,2),se=r(pe);{let U=ft(()=>(i(),n(()=>i()("common.select_fighter"))));Ut(se,{id:"fighter1-select",get placeholder(){return e(U)},disabled:!1,get options(){return e(g)},get selectedValue(){return e(l)},onSelectionChange:st})}var De=d(M,4),Ee=r(De),Le=r(Ee),Pe=d(Ee,2),Je=r(Pe);{let U=ft(()=>(i(),n(()=>i()("common.select_fighter"))));Ut(Je,{id:"fighter2-select",get placeholder(){return e(U)},disabled:!1,get options(){return e(v)},get selectedValue(){return e(h)},onSelectionChange:dt})}var at=d(x,2);{var it=U=>{var re=wi(),Re=r(re);{var Te=w=>{var K=bi(),Q=d(r(K));C(W=>_(Q,` ${W??""}`),[()=>(i(),n(()=>i()("fight_radar.share_fight")))]),Ye("click",K,ue),f(w,K)};z(Re,w=>{e(l)&&e(h)&&w(Te)})}var O=d(Re,2),s=d(r(O));C(w=>_(s,` ${w??""}`),[()=>(i(),n(()=>i()("fight_radar.clear_radars")))]),Ye("click",O,N),f(U,re)};z(at,U=>{(e(l)||e(h))&&U(it)})}C((U,re)=>{_(ie,`${U??""}:`),_(Le,`${re??""}:`)},[()=>(i(),n(()=>i()("common.fighter_1"))),()=>(i(),n(()=>i()("common.fighter_2")))]),f(u,y)};z(Ae,u=>{e(be)&&u(ce)})}var Fe=d(Ae,2);{var Ge=u=>{var y=ot(),x=Ue(y);{var M=B=>{var ie=xi(),pe=r(ie),se=r(pe);Kt(se,{size:20,class:"disclaimer-icon"});var De=d(se,2),Ee=r(De),Le=d(pe,2),Pe=r(Le);C((Je,at)=>{_(Ee,Je),_(Pe,at)},[()=>(i(),n(()=>i()("fight_radar.cross_division_title"))),()=>(i(),S(Ft),e(p),e(D),n(()=>i()("fight_radar.cross_division_text",{values:{division1:Ft(e(p).rawData.Division),division2:Ft(e(D).rawData.Division)}})))]),f(B,ie)};z(x,B=>{e(p),e(D),n(()=>e(p)?.rawData&&e(D)?.rawData&&e(p).rawData.Division!==e(D).rawData.Division)&&B(M)})}f(u,y)};z(Fe,u=>{e(l)&&e(h)&&e($)&&u(Ge)})}var qe=d(Fe,2);{var de=u=>{var y=ki(),x=r(y),M=r(x);Vt(M,{get fighter(){return e(p)},id:"fighter1-info"});var B=d(x,2),ie=r(B);Vt(ie,{get fighter(){return e(D)},id:"fighter2-info"}),C((pe,se)=>{Ct(x,`background: ${pe??""}`),Ct(B,`background: ${se??""}`)},[()=>(e(p),n(()=>e(p)?Ve(e(p).archetype):"var(--card-bg)")),()=>(e(D),n(()=>e(D)?Ve(e(D).archetype):"var(--card-bg)"))]),f(u,y)};z(qe,u=>{e($)&&u(de)})}var Se=d(qe,2);{var Ze=u=>{var y=Fi(),x=r(y),M=r(x);Et(M,()=>(e(l),e(h),e(Y),n(()=>`${e(l)}-${e(h)}-${e(Y).length}`)),pe=>{{let se=ft(()=>(S(Pt),n(Pt)));Ht(pe,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(se)},get series(){return e(Y)},isIQRadar:!1})}});var B=d(x,2),ie=r(B);Et(ie,()=>(e(l),e(h),e(X),n(()=>`${e(l)}-${e(h)}-${e(X).length}`)),pe=>{{let se=ft(()=>(S(Wt),n(Wt)));Ht(pe,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(se)},get series(){return e(X)},isIQRadar:!0})}}),f(u,y)};z(Se,u=>{e(ne),e(Y),n(()=>e(ne)&&e(Y).length>0)&&u(Ze)})}var tt=d(Se,2);yi(tt,{get fighter1(){return e(p)},get fighter2(){return e(D)}});var nt=d(tt,2);za(nt,{}),f(q,ze),pt(),c()}export{Ii as default};
