import{q as gt,p as je,l as O,C as y,z as F,r as E,A as e,h as wt,j as ut,f as x,m as Ye,$ as St,i as Y,c as i,u as o,S as Nt,t as C,B as we,s as Ue,b as f,o as pt,I as mt,n as Ge,x as n,y as c,J as lt,T as ia,k as nt,D as Pe,E as He,Q as Tt,U as ra,V as Ct,W as sa,Y as Wt,Z as Vt,_ as Kt,a as na,a0 as oa,w as la,F as da,K as ft,a1 as Mt}from"./lucide-BNMHXWUo.js";import{H as va}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ca}from"./Header-CcXoi91X.js";import{$ as yt,n as Gt,A as ct,a as _a,g as ht,b as ha,u as $t,c as ga}from"./index-wZDbxZ0L.js";import{c as Dt,g as Et,f as Ft,a as It,b as kt,d as Ot,e as At}from"./helpers-yrZw5hT8.js";import{R as ua,a as Lt}from"./RadarChart-DsDXe-HE.js";import{F as pa}from"./FindYoutubeHighlights-CRYzj1Yn.js";import"./highcharts-DyRVWUji.js";var ma=x('<img class="svelte-gkl5a1"/>'),ya=x('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),fa=x("<!> <span> </span>",1),ba=x("<span> </span>"),wa=x('<img class="svelte-gkl5a1"/>'),xa=x('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Da=x('<button type="button"><!> <span> </span></button>'),Fa=x('<div class="no-results svelte-gkl5a1"> </div>'),ka=x('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Ra=x('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Pt(V,t){gt(t,!1);const[r,l]=mt(),v=()=>lt(yt,"$_",r),a=F(),d=F();let u=je(t,"id",8),g=je(t,"placeholder",8,""),_=je(t,"disabled",8,!0),m=je(t,"options",24,()=>[]),b=je(t,"selectedValue",12,""),k=je(t,"onSelectionChange",8,void 0),H=F(!1),Q=F(),re=F(),ee=F("");function Ie(){_()||(y(H,!e(H)),e(H)&&setTimeout(()=>e(re)?.focus(),0))}function se(K){b(K.value),y(ee,""),y(H,!1),k()&&k()(K.value,K)}function ke(K){const ue=K.target;y(ee,ue.value)}function R(K){K.key==="Enter"&&e(d).length>0?(se(e(d)[0]),K.preventDefault()):K.key==="Escape"&&(y(ee,""),y(H,!1))}function A(K){e(Q)&&!e(Q).contains(K.target)&&(y(H,!1),y(ee,""))}function te(K){K.key==="Escape"&&y(H,!1)}O(()=>(E(m()),E(b())),()=>{y(a,m().find(K=>K.value===b()))}),O(()=>(e(ee),E(m()),Dt),()=>{y(d,e(ee)?m().filter(K=>Dt(K.label.toLowerCase()).includes(Dt(e(ee).toLowerCase()))):m())}),wt(),ut();var ne=Ra();Ye("click",St,A),Ye("keydown",St,te);var j=i(ne);let be;var S=i(j),ae=i(S);{var xe=K=>{var ue=fa(),Re=Ge(ue);{var De=Ce=>{var Te=ma();C(()=>{we(Te,"src",(e(a),n(()=>e(a).imageUrl))),we(Te,"alt",(e(a),n(()=>e(a).label)))}),f(Ce,Te)},Be=Ce=>{var Te=nt(),Qe=Ge(Te);{var et=Ae=>{var de=ya(),Fe=i(de);Tt(Fe,()=>e(a).iconComponent,(Ve,qe)=>{qe(Ve,{size:16})}),f(Ae,de)};Y(Qe,Ae=>{e(a),n(()=>e(a)?.iconComponent)&&Ae(et)},!0)}f(Ce,Te)};Y(Re,Ce=>{e(a),n(()=>e(a)?.imageUrl)?Ce(De):Ce(Be,!1)})}var We=o(Re,2),ze=i(We);C(()=>c(ze,(e(a),n(()=>e(a).label)))),f(K,ue)},Oe=K=>{var ue=ba(),Re=i(ue);C(De=>c(Re,De),[()=>(E(g()),v(),n(()=>g()||v()("common.select_option")))]),f(K,ue)};Y(ae,K=>{e(a)?K(xe):K(Oe,!1)})}var rt=o(S,2);let tt;var at=o(j,2);{var ot=K=>{var ue=ka(),Re=i(ue),De=i(Re);Nt(De,de=>y(re,de),()=>e(re));var Be=o(Re,2),We=i(Be);let ze;var Ce=i(We),Te=i(Ce),Qe=o(We,2);{var et=de=>{var Fe=nt(),Ve=Ge(Fe);Pe(Ve,1,()=>e(d),He,(qe,oe)=>{var Ke=Da();let Ze;var it=i(Ke);{var st=N=>{var z=wa();C(()=>{we(z,"src",(e(oe),n(()=>e(oe).imageUrl))),we(z,"alt",(e(oe),n(()=>e(oe).label)))}),Ye("error",z,Z=>{Z.currentTarget.style.display="none"}),f(N,z)},h=N=>{var z=nt(),Z=Ge(z);{var pe=T=>{var G=xa(),me=i(G);Tt(me,()=>e(oe).iconComponent,(ve,ce)=>{ce(ve,{size:16})}),f(T,G)};Y(Z,T=>{e(oe),n(()=>e(oe)?.iconComponent)&&T(pe)},!0)}f(N,z)};Y(it,N=>{e(oe),n(()=>e(oe)?.imageUrl)?N(st):N(h,!1)})}var p=o(it,2),w=i(p);C(N=>{Ze=Ue(Ke,1,"dropdown-item svelte-gkl5a1",null,Ze,N),c(w,(e(oe),n(()=>e(oe).label)))},[()=>({selected:b()===e(oe).value})]),Ye("click",Ke,()=>se(e(oe))),f(qe,Ke)}),f(de,Fe)},Ae=de=>{var Fe=nt(),Ve=Ge(Fe);{var qe=oe=>{var Ke=Fa(),Ze=i(Ke);C(()=>c(Ze,`No se encontraron resultados para "${e(ee)??""}"`)),f(oe,Ke)};Y(Ve,oe=>{e(ee)&&oe(qe)},!0)}f(de,Fe)};Y(Qe,de=>{e(d),n(()=>e(d).length>0)?de(et):de(Ae,!1)})}C((de,Fe,Ve)=>{we(De,"placeholder",de),we(Be,"id",`dropdown-options-${u()??""}`),ze=Ue(We,1,"dropdown-item svelte-gkl5a1",null,ze,Fe),c(Te,Ve)},[()=>(v(),n(()=>v()("common.search")||"Search...")),()=>({selected:b()===""}),()=>(E(g()),v(),n(()=>g()||v()("common.select_option")))]),ia(De,()=>e(ee),de=>y(ee,de)),Ye("input",De,ke),Ye("keydown",De,R),Ye("click",We,()=>se({value:"",label:g(),imageUrl:""})),f(K,ue)};Y(at,K=>{e(H)&&K(ot)})}Nt(ne,K=>y(Q,K),()=>e(Q)),C((K,ue)=>{we(ne,"id",u()),be=Ue(j,1,"dropdown-button svelte-gkl5a1",null,be,K),j.disabled=_(),we(j,"aria-expanded",e(H)),we(j,"aria-controls",`dropdown-options-${u()??""}`),tt=Ue(rt,1,"dropdown-arrow svelte-gkl5a1",null,tt,ue)},[()=>({disabled:_(),open:e(H)}),()=>({rotated:e(H)})]),Ye("click",j,Ie),f(V,ne),pt(),l()}function Rt(V,t){if(t()){const r=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;Gt(r)}}var Ca=x('<img class="fighter-image svelte-axir35"/> <div class="fighter-placeholder svelte-axir35" style="display: none;">Picture Unavailable</div>',1),Ka=x('<div class="fighter-placeholder svelte-axir35">Picture Unavailable</div>'),Sa=(V,t)=>V.key==="Enter"&&t(),Na=x('<div class="stat-item role-disc-clickable svelte-axir35" role="button" tabindex="0"><span class="stat-label svelte-axir35">ROLE-DISC:</span> <span><div class="role-emojis svelte-axir35"> </div> <div class="role-name svelte-axir35"> </div></span></div>'),Ta=x('<hr class="archetype-divider svelte-axir35"/> <div class="archetype-container svelte-axir35"><div class="archetype-section svelte-axir35"><h3 class="archetype-section-title svelte-axir35"> </h3> <div class="archetype-fields svelte-axir35"><div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value description svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value favorite-zone svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value strengths svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value weaknesses svelte-axir35"> </div></div></div></div></div>',1),Ma=x('<div class="fighter-header svelte-axir35"><div class="header-actions svelte-axir35"><!> <button type="button" class="fighter-detail-cta svelte-axir35" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-axir35"><div class="fighter-image-container svelte-axir35"><!></div></button></div> <button type="button" class="fighter-name-link svelte-axir35"><div class="fighter-name svelte-axir35"> </div></button> <div class="star-rating svelte-axir35"><div class="stars-container svelte-axir35"></div></div> <div class="fighter-stats svelte-axir35"><!> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value career-record svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value record svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value height svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value reach svelte-axir35"> </span></div></div> <!>',1),$a=x('<div class="empty-card svelte-axir35"><div class="empty-message svelte-axir35"> </div></div>'),Ea=x('<div class="fighter-card svelte-axir35"><!></div> <!>',1);function Ht(V,t){gt(t,!1);const[r,l]=mt(),v=()=>lt(yt,"$_",r),a=F(),d=F(),u=F(),g=F();let _=je(t,"fighter",8,null),m=je(t,"id",8,""),b=F(!1);function k(){y(b,!0)}function H(){y(b,!1)}O(()=>v(),()=>{y(a,R=>{if(!R||!R.startsWith("@ARCHETYPE_"))return R;let A="",te="";if(R.includes("_DESCRIPTION"))A=R.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),te="description";else if(R.includes("_FAVORITE_ZONE"))A=R.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),te="favorite_zone";else if(R.includes("_STRENGTHS"))A=R.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),te="strengths";else if(R.includes("_WEAKNESSES"))A=R.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),te="weaknesses";else{const be=R.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!be)return R;A=be[1],te=be[2].toLowerCase()}const ne=`archetype_data.${A}.${te}`,j=v()(ne);return R.includes("_WEAKNESSES"),j!==ne?j:R})}),O(()=>(E(_()),Et),()=>{y(d,_()?Et(_().archetype):null)}),O(()=>E(_()),()=>{y(u,_()?.rawData.height_inches?Math.floor(_().rawData.height_inches/12)+"'"+_().rawData.height_inches%12+'"':"-")}),O(()=>E(_()),()=>{y(g,_()?.rawData.reach_inches?_().rawData.reach_inches+'"':"-")}),wt(),ut();var Q=Ea(),re=Ge(Q),ee=i(re);{var Ie=R=>{var A=Ma(),te=Ge(A),ne=i(te),j=i(ne);pa(j,{get fighterFullName(){return E(_()),n(()=>_().nameWithNickname)},size:"large"});var be=o(j,2);be.__click=[Rt,_];var S=i(be);ra(S,{size:16});var ae=o(ne,2);ae.__click=[Rt,_];var xe=i(ae),Oe=i(xe);{var rt=T=>{var G=Ca(),me=Ge(G);C(()=>{we(me,"src",(E(_()),n(()=>_().pictureUrl))),we(me,"alt",`${E(_()),n(()=>_().name)??""} fighter profile picture`)}),Ye("error",me,ve=>{ve.currentTarget.style.display="none";const ce=ve.currentTarget.nextElementSibling;ce&&(ce.style.display="block")}),f(T,G)},tt=T=>{var G=Ka();f(T,G)};Y(Oe,T=>{E(_()),n(()=>_().pictureUrl)?T(rt):T(tt,!1)})}var at=o(te,2);at.__click=[Rt,_];var ot=i(at),K=i(ot),ue=o(at,2),Re=i(ue),De=o(ue,2),Be=i(De);{var We=T=>{var G=Na();G.__click=k,G.__keydown=[Sa,k];var me=i(G),ve=o(me,2),ce=i(ve),Me=i(ce),Le=o(ce,2),$e=i(Le);C((Se,Je)=>{we(G,"aria-label",Se),we(me,"title",Je),Ue(ve,1,`stat-value role-indicator archetype-dots archetype-${e(d),n(()=>e(d).type)??""}`,"svelte-axir35"),we(ve,"title",(e(d),n(()=>e(d).tooltip))),c(Me,(e(d),n(()=>e(d).label))),c($e,(e(d),n(()=>e(d).name)))},[()=>(v(),n(()=>v()("role_disc_modal.open_modal_aria_label"))),()=>(v(),n(()=>v()("role_disc_modal.archetype_tooltip")))]),f(T,G)};Y(Be,T=>{e(d)&&T(We)})}var ze=o(Be,2),Ce=i(ze),Te=i(Ce),Qe=o(Ce,2),et=i(Qe),Ae=o(ze,2),de=i(Ae),Fe=i(de),Ve=o(de,2),qe=i(Ve),oe=o(Ae,2),Ke=i(oe),Ze=i(Ke),it=o(Ke,2),st=i(it),h=o(oe,2),p=i(h),w=i(p),N=o(p,2),z=i(N),Z=o(De,2);{var pe=T=>{var G=Ta(),me=o(Ge(G),2),ve=i(me),ce=i(ve),Me=i(ce),Le=o(ce,2),$e=i(Le),Se=i($e),Je=i(Se),dt=i(Je);sa(dt,{size:18});var _t=o(Je,2),J=i(_t),s=o(Se,2),D=i(s),$=o($e,2),X=i($),W=i(X),L=i(W);Wt(L,{size:18});var q=o(W,2),B=i(q),le=o(X,2),fe=i(le),_e=o($,2),he=i(_e),ye=i(he),I=i(ye);Vt(I,{size:18});var U=o(ye,2),P=i(U),M=o(he,2),ie=i(M),Ee=o(_e,2),Ne=i(Ee),Xe=i(Ne),vt=i(Xe);Kt(vt,{size:18});var xt=o(Xe,2),Bt=i(xt),zt=o(Ne,2),qt=i(zt);C((Yt,jt,Qt,Zt,Jt,Xt,ea,ta,aa)=>{c(Me,Yt),c(J,jt),c(D,Qt),c(B,Zt),c(fe,Jt),c(P,Xt),c(ie,ea),c(Bt,ta),c(qt,aa)},[()=>(v(),n(()=>v()("archetype.analysis_title"))),()=>(v(),n(()=>v()("archetype.tactical_description"))),()=>(e(a),E(_()),n(()=>e(a)(_().archetype.description))),()=>(v(),n(()=>v()("archetype.preferred_zone"))),()=>(e(a),E(_()),n(()=>e(a)(_().archetype.favoriteZone))),()=>(v(),n(()=>v()("archetype.strengths"))),()=>(e(a),E(_()),n(()=>e(a)(_().archetype.strengths))),()=>(v(),n(()=>v()("archetype.weaknesses"))),()=>(e(a),E(_()),n(()=>e(a)(_().archetype.weaknesses)))]),f(T,G)};Y(Z,T=>{E(_()),n(()=>_().archetype)&&T(pe)})}C((T,G,me,ve,ce,Me,Le,$e)=>{we(be,"aria-label",`View detailed fighter profile for ${E(_()),n(()=>_().nameWithNickname)??""}`),c(K,(E(_()),n(()=>_().name))),Ct(Re,`--fill-width: ${E(_()),n(()=>_().stars*20)??""}%`),we(Ce,"title",T),c(Te,`${G??""}:`),c(et,(E(_()),n(()=>_().career_record))),we(de,"title",me),c(Fe,`${ve??""}:`),c(qe,(E(_()),n(()=>_().record_36m))),we(Ke,"title",ce),c(Ze,`${Me??""}:`),c(st,e(u)),we(p,"title",Le),c(w,`${$e??""}:`),c(z,e(g))},[()=>(v(),n(()=>v()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(v(),n(()=>v()("fighter_profile.career_record"))),()=>(v(),n(()=>v()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(v(),n(()=>v()("fighter_profile.record_36m"))),()=>(v(),n(()=>v()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(v(),n(()=>v()("fighter_profile.height"))),()=>(v(),n(()=>v()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(v(),n(()=>v()("fighter_profile.reach")))]),f(R,A)},se=R=>{var A=$a(),te=i(A),ne=i(te);C(j=>c(ne,j),[()=>(v(),n(()=>v()("fight_radar.select_fighter_stats")))]),f(R,A)};Y(ee,R=>{_()?R(Ie):R(se,!1)})}var ke=o(re,2);ua(ke,{get isOpen(){return e(b)},$$events:{close:H}}),C(()=>we(re,"id",m())),f(V,Q),pt(),l()}na(["click","keydown"]);var Ia=x('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function Oa(V,t){gt(t,!1);const[r,l]=mt(),v=()=>lt(yt,"$_",r);function a(){Gt("/calendar")}ut();var d=Ia(),u=i(d),g=i(u),_=i(g),m=i(_);oa(m,{size:24,style:"display: inline; margin-right: 0.5rem;"});var b=o(m),k=o(_,2),H=i(k),Q=o(g,2),re=i(Q);C((ee,Ie,se)=>{c(b,` ${ee??""}`),c(H,Ie),c(re,se)},[()=>v()("banner.new_functionality"),()=>v()("banner.explore_calendar"),()=>v()("banner.view_calendar")]),Ye("click",Q,a),f(V,d),pt(),l()}var ge=(V=>(V.FIGHT_WINNER="fight_winner",V.METHOD_OF_VICTORY="method_of_victory",V.WINNER_AND_ROUND="winner_and_round",V.TOTAL_ROUNDS="total_rounds",V.SPECIFIC_FINISH_METHOD="specific_finish_method",V.GOES_TO_DECISION="goes_to_decision",V.DISTANCE_YES_NO="distance_yes_no",V.GONE_IN_60="gone_in_60",V.FIGHT_PROPS="fight_props",V.KEY_FACTORS="key_factors",V.TRENDS="trends",V.NO_PREDICTION="no_prediction",V))(ge||{}),bt=(V=>(V.HIGH="high",V.MEDIUM="medium",V.LOW="low",V))(bt||{});class Aa{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=60,this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,r){const l=[],v=this.calculateWinProbability(t,r),a=this.predictMethodOfVictory(t,r),d=this.predictTotalRounds(t,r),u=this.predictRoundBetting(t,r),g=this.generateFightProps(t,r),_=this.analyzeKeyFactors(t,r),m=this.analyzeTrends(t,r);return l.push(this.createMoneylineCard(v)),a.probability>=this.MIN_MEDIUM_CONFIDENCE&&l.push(this.createMethodOfVictoryCard(a)),d.probability>=this.MIN_MEDIUM_CONFIDENCE&&l.push(this.createTotalRoundsCard(d)),u.probability>=this.MIN_HIGH_CONFIDENCE&&l.push(this.createRoundBettingCard(u)),l.push(this.createFightPropsCard(g)),l.push(this.createKeyFactorsCard(_)),l.push(this.createTrendsCard(m)),this.hasHighConfidencePredictions(l)||l.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(l)}validatePredictions(t){const r=this.filterByConfidence(t);return this.resolveContradictions(r)}filterByConfidence(t){return t.filter(r=>r.type==="key_factors"||r.type==="trends"||r.type==="no_prediction"?!0:r.confidence>=this.MIN_MEDIUM_CONFIDENCE)}resolveContradictions(t){let r=[...t];return r=this.resolveOverUnderContradictions(r),r=this.resolveMethodVsDurationContradictions(r),r}resolveMethodVsDurationContradictions(t){const r=t.find(m=>m.type==="method_of_victory"&&(m.prediction.toLowerCase().includes("decision")||m.predictionKey?.toLowerCase().includes("decision")));if(!r)return t;const l=t.filter(m=>{if(m.type!=="total_rounds")return!1;const b=m.prediction.toLowerCase(),k=m.predictionKey?.toLowerCase()||"";return b.includes("under")||k.includes("under")}),v=t.filter(m=>{if(m.type!=="winner_and_round")return!1;const b=m.prediction.toLowerCase(),k=m.predictionKey?.toLowerCase()||"";return b.includes("round 1")||b.includes("round 2")||k.includes("round_1")||k.includes("round_2")}),a=[...l,...v];if(a.length===0)return t;const d=[r,...a],u=Math.max(...d.map(m=>m.confidence)),g=d.find(m=>m.confidence===u);if(!g)return t;const _=new Set(d.map(m=>m.id));return t.filter(m=>!_.has(m.id)||m.id===g.id)}resolveOverUnderContradictions(t){const r=t.filter(a=>a.type==="total_rounds");if(r.length<=1)return t;const l=new Map;for(const a of r){const d=a.prediction.toLowerCase(),u=a.predictionKey?.toLowerCase()||"",g=d.match(/(\d+\.5)/)||u.match(/(\d+)_5/);if(g){const _=g[1].replace("_5",".5");l.has(_)||l.set(_,[]),l.get(_).push(a)}}const v=new Set;for(const[a,d]of l)if(d.length>1){const u=d.some(_=>_.prediction.toLowerCase().includes("over")||_.predictionKey?.toLowerCase().includes("over")),g=d.some(_=>_.prediction.toLowerCase().includes("under")||_.predictionKey?.toLowerCase().includes("under"));if(u&&g){const m=d.sort((b,k)=>k.confidence-b.confidence)[0];for(const b of d)b.id!==m.id&&v.add(b.id)}}return t.filter(a=>!v.has(a.id))}resolveContradictionGroup(t,r){const l=[];for(const d of t)for(const u of r.conflictTypes)if(u.types.includes(d.type)){let g=u.indicates;g==="variable"&&(g=this.determineFightLength(d)),l.push({card:d,fightLength:g});break}const v=l.filter(d=>d.fightLength==="long_fight"),a=l.filter(d=>d.fightLength==="short_fight"||d.fightLength==="very_short_fight");if(v.length>0&&a.length>0){const d=[...v,...a],u=Math.max(...d.map(_=>_.card.confidence)),g=d.find(_=>_.card.confidence===u)?.card;if(g){const _=d.map(m=>m.card.id);return t.filter(m=>!_.includes(m.id)||m.id===g.id)}}return t}determineFightLength(t){const r=t.prediction.toLowerCase(),l=t.predictionKey?.toLowerCase()||"";return r.includes("under")||r.includes("round 1")||r.includes("round 2")||l.includes("under")||l.includes("round_1")||l.includes("round_2")||r.includes("ko")||r.includes("tko")||l.includes("ko")?"short_fight":r.includes("decision")||r.includes("over")||r.includes("round 3")||l.includes("decision")||l.includes("over")||l.includes("round_3")?"long_fight":"neutral"}calculateWinProbability(t,r){let l=t.overall+(t.oppTierScore-5)*3,v=r.overall+(r.oppTierScore-5)*3;l*=this.calculateAgeImpact(t),v*=this.calculateAgeImpact(r);const a=this.getInactiveMonths(t),d=this.getInactiveMonths(r);if(a>=18){const S=Math.min((a-18)*.005,.25);l*=1-S}if(d>=18){const S=Math.min((d-18)*.005,.25);v*=1-S}const u=this.getFightsInPeriod(t,18),g=this.getFightsInPeriod(r,18);u>=3&&(l*=1.05),g>=3&&(v*=1.05);const _=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,m=r.rawData.Number_of_Fights_36m>0?r.rawData.win/r.rawData.Number_of_Fights_36m*100:0,b=this.calculateMomentum(t),k=this.calculateMomentum(r);l*=1+b,v*=1+k;let H=.35,Q=.35;_>=75?H=.4:_<50&&(H=.3),m>=75?Q=.4:m<50&&(Q=.3);const re=l+_*H,ee=v+m*Q,Ie=this.calculateAge(t),se=this.calculateAge(r),ke=Ie-se;let R=re,A=ee;if(Math.abs(ke)>=5){const S=Math.min(Math.abs(ke)*.005,.03);ke>0?(R=re*(1-S),A=ee*(1+S)):(R=re*(1+S),A=ee*(1-S))}const te=Math.abs(R-A);if(te>15){const S=1+(te-15)*.015;R>A?R*=S:A*=S}const ne=R+A;let j=ne>0?Math.round(R/ne*100):50,be=ne>0?Math.round(A/ne*100):50;if(j=Math.max(15,Math.min(88,j)),be=100-j,j>be){let S=this.getWinReasoningKey(t,r,_,m);return{winner:t,probability:j,reasoning:S,adjustedScore1:R,adjustedScore2:A}}else{let S=this.getWinReasoningKey(r,t,m,_);return{winner:r,probability:be,reasoning:S,adjustedScore1:A,adjustedScore2:R}}}predictMethodOfVictory(t,r){const l=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,v=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko+r.rawData.win_sub)/r.rawData.Number_of_Fights_36m*100:0,a=Math.max((l+v)/2,0),d=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,u=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko)/r.rawData.Number_of_Fights_36m*100:0,g=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,_=r.rawData.Number_of_Fights_36m>0?r.rawData.win_sub/r.rawData.Number_of_Fights_36m*100:0,m=this.hasBodyShotThreat(t,r),b=this.hasGroundControlThreat(t,r);if(a>40)if(d+u>g+_){let k=Math.round(Math.max(Math.min(a+10,75),5));return m&&(k+=5),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(k,80),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:l,finishRate2:v}}else{let k=Math.round(Math.max(Math.min(a,65),5));return b&&(k+=5),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(k,70),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:l,finishRate2:v}}else return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.round(Math.max(Math.min(100-a,95),5)),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:l,finishRate2:v}}predictTotalRounds(t,r){const l=(t.rawData.Fight_Duration_Seconds||900)/60,v=(r.rawData.Fight_Duration_Seconds||900)/60,a=Math.max((l+v)/2,1),d=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,u=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko+r.rawData.win_sub)/r.rawData.Number_of_Fights_36m*100:0,g=d>60||u>60,_=this.hasExplosiveStyle(t,r);if(a<8&&g){let m=Math.max(Math.min(70,95),5);return _&&(m+=5),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(m,85),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:a}}else return a>12?{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.max(Math.min(75,95),5),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:a}:{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.max(Math.min(60,95),5),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:a}}generateFightProps(t,r){const l=this.calculateBettingMetrics(t,r);return l.f1SubRate+l.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:l}:(l.f1FinishRate>60||l.f2FinishRate>60)&&l.avgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:l}:l.f1KnockdownRate>.6&&l.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:l}:l.f1TakedownRate>15||l.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:l}:l.f1StrikeVolume>120&&l.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:l}:l.f1TakedownRate<5&&l.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:l}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:l}}predictRoundBetting(t,r){const l=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,v=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko+r.rawData.win_sub)/r.rawData.Number_of_Fights_36m*100:0,a=(l+v)/2,d=(t.rawData.Fight_Duration_Seconds||900)/60,u=(r.rawData.Fight_Duration_Seconds||900)/60,g=(d+u)/2;return a>60&&g<5?{prediction:"Round 1",predictionKey:"betting_markets.round_1",probability:Math.round(Math.min(a+15,85)),reasoning:"betting_markets.reasoning.early_explosive_finish",explanationKey:"betting_markets.explanations.round_1_finish",avgTime:g}:a>40&&g<8?{prediction:"Round 2",predictionKey:"betting_markets.round_2",probability:Math.round(Math.min(a+10,80)),reasoning:"betting_markets.reasoning.second_round_finish",explanationKey:"betting_markets.explanations.round_2_finish",avgTime:g}:{prediction:"Goes to Decision",predictionKey:"betting_markets.goes_to_decision",probability:Math.round(Math.max(100-a,20)),reasoning:"betting_markets.reasoning.likely_decision",explanationKey:"betting_markets.explanations.goes_to_decision",avgTime:g}}calculateEarlyFinishRate(t){const r=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60;return r>40&&l<4?r*.8:r>25&&l<6?r*.6:r*.3}analyzeKeyFactors(t,r){const l=[],v=t.rawData.reach_inches||0,a=r.rawData.reach_inches||0,d=Math.abs(v-a);if(d>2){const H=v>a?t.name||"Fighter 1":r.name||"Fighter 2";l.push({label:"combat_analysis.key_factors.reach_advantage",value:`${H} +${d}"`,type:"advantage"})}const u=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,g=r.rawData.Sig_Strikes_Thrown>0?Math.round(r.rawData.Sig_Strikes_Landed/r.rawData.Sig_Strikes_Thrown*100):0;l.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${u}% vs ${r.name||"F2"}: ${g}%`,type:"comparison"});const _=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,m=r.rawData.takedowns_attempted_against>0?Math.round(r.rawData.Takedowns_Defended/r.rawData.takedowns_attempted_against*100):85;l.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${_}% vs ${r.name||"F2"}: ${m}%`,type:"comparison"});const b=t.rawData.Number_of_Fights_36m||0,k=r.rawData.Number_of_Fights_36m||0;if(Math.abs(b-k)>2){const H=b>k?t.name||"Fighter 1":r.name||"Fighter 2",Q=Math.max(b,k),re=Math.min(b,k);l.push({label:"combat_analysis.key_factors.higher_activity",value:`${H}: ${Q} vs ${re} fights`,type:"advantage"})}return l}analyzeTrends(t,r){const l=[],v=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=r.rawData.Number_of_Fights_36m>0?Math.round(r.rawData.win/r.rawData.Number_of_Fights_36m*100):0;v>=75?l.push({type:"positive",text:`${t.name||"Fighter 1"} has ${v}% win rate`,fighter:t.name}):v<50&&l.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${v}% win rate`,fighter:t.name}),a>=75?l.push({type:"positive",text:`${r.name||"Fighter 2"} has ${a}% win rate`,fighter:r.name}):a<50&&l.push({type:"negative",text:`${r.name||"Fighter 2"} struggling at ${a}% win rate`,fighter:r.name});const d=(t.rawData.Fight_Duration_Seconds||900)/60,u=(r.rawData.Fight_Duration_Seconds||900)/60,g=(d+u)/2;return l.push({type:"neutral",text:`Combined average fight time: ${g.toFixed(1)} minutes`}),l}calculateMomentum(t){const r=t.streak;if(r===0)return 0;const l=Math.abs(r);return r>0?l>=3?.08:l>=2?.05:.02:l>=3?-.08:l>=2?-.05:-.02}calculateDamageMultiplier(t){return t===0?1:t===1?1.1:t===2?1.25:t===3?1.4:t===4?1.6:1.8}calculateAgeImpact(t){const r=this.calculateAge(t),v={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=(t.rawData.loss_ko||0)+(t.rawData.loss_tko||0),d=this.calculateDamageMultiplier(a),u=(r-v)*d;if(u<=0)return 1;let g=0;return u<=5?g=u*.01:u<=10?g=.05+(u-5)*.015:g=.125+(u-10)*.02,g=Math.min(g,.3),1-g}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,d=new Date(a);if(!isNaN(d.getTime())){const u=new Date;let g=u.getFullYear()-d.getFullYear();const _=u.getMonth()-d.getMonth();return(_<0||_===0&&u.getDate()<d.getDate())&&g--,g}}const r=25,l=2.5,v=t.rawData.Number_of_Fights_36m||0;return Math.round(r+v/l)}getInactiveMonths(t){const r=t.rawData.Number_of_Fights_36m||0;return r>=3?0:r>=2?6:r>=1?12:24}getFightsInPeriod(t,r){const l=r/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*l)}hasBodyShotThreat(t,r){const l=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,v=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko)/r.rawData.Number_of_Fights_36m*100:0;return l>40||v>40}hasGroundControlThreat(t,r){const l=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,v=r.rawData.Number_of_Fights_36m>0?r.rawData.win_sub/r.rawData.Number_of_Fights_36m*100:0;return l>25||v>25}hasExplosiveStyle(t,r){const l=(t.rawData.Fight_Duration_Seconds||900)/60,v=(r.rawData.Fight_Duration_Seconds||900)/60;return l<5||v<5}calculateBettingMetrics(t,r){return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:r.rawData.Sig_Strikes_Thrown>0?r.rawData.Takedowns_Attempted/r.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:r.rawData.Number_of_Fights_36m>0?r.rawData.Knockdowns/r.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:r.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:r.rawData.Number_of_Fights_36m>0?r.rawData.Sub_Attempts/r.rawData.Number_of_Fights_36m:0,f1FinishRate:t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,f2FinishRate:r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko+r.rawData.win_sub)/r.rawData.Number_of_Fights_36m*100:0,avgFightTime:((t.rawData.Fight_Duration_Seconds||900)+(r.rawData.Fight_Duration_Seconds||900))/2/60}}getWinReasoningKey(t,r,l,v){return t.overall>r.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>r.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>r.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":l>v+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=this.MIN_HIGH_CONFIDENCE?"high":t>=this.MIN_MEDIUM_CONFIDENCE?"medium":"low"}createMoneylineCard(t){return{id:"moneyline",type:"fight_winner",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:1}}createMethodOfVictoryCard(t){return{id:"method-of-victory",type:"method_of_victory",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{finishRate1:t.finishRate1,finishRate2:t.finishRate2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"total_rounds",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createRoundBettingCard(t){return{id:"round-betting",type:"winner_and_round",category:"secondary",title:"Round Betting",titleKey:"betting_markets.round_betting",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:4}}createMethodAndRoundCard(t){const r=t.probability||70;return{id:"method-and-round",type:"winner_and_round",category:"secondary",title:"Method & Round",titleKey:"betting_markets.method_and_round",prediction:t.prop,predictionKey:t.propKey,confidence:r,confidenceLevel:this.getConfidenceLevel(r),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:5}}createDecisionTypeCard(t){return{id:"decision-type",type:"distance_yes_no",category:"secondary",title:"Decision Type",titleKey:"betting_markets.decision_type",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:6}}createGoneIn60Card(t){return{id:"gone-in-60",type:"gone_in_60",category:"prop",title:"Gone in 60 Seconds",titleKey:"betting_markets.gone_in_60_title",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:7}}calculateImpliedOdds(t){if(t<=0)return"N/A";if(t>=100)return"Even";const r=100/t;if(r>=2){const l=(r-1)*100;return`+${Math.round(l)}`}else{const l=-100/(r-1);return`${Math.round(l)}`}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(r=>(r.type==="fight_winner"||r.type==="method_of_victory"||r.type==="total_rounds"||r.type==="winner_and_round"||r.type==="fight_props")&&r.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((r,l)=>r.priority-l.priority)}}const Ut=new Aa;var La=x('<div class="implied-odds svelte-1lytxch"> </div>'),Pa=x('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="winner-name svelte-1lytxch"> </div> <div class="confidence svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Ha=x('<div class="implied-odds svelte-1lytxch"> </div>'),Ua=x('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method svelte-1lytxch"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Wa=x('<div class="implied-odds svelte-1lytxch"> </div>'),Va=x('<div class="bet-explanation svelte-1lytxch"> </div>'),Ga=x('<div class="bet-explanation svelte-1lytxch"> </div>'),Ba=x('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="rounds"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),za=x('<div class="implied-odds svelte-1lytxch"> </div>'),qa=x('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="round"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Ya=x('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method-round-combo"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),ja=x('<div class="implied-odds svelte-1lytxch"> </div>'),Qa=x('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="decision"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Za=x('<div class="implied-odds svelte-1lytxch"> </div>'),Ja=x('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="gone-60"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Xa=x('<div class="bet-card no-predictions svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="no-pred-title svelte-1lytxch"> </div> <div class="no-pred-subtitle svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),ei=x('<div class="bet-explanation svelte-1lytxch"> </div>'),ti=x('<div class="bet-explanation svelte-1lytxch"> </div>'),ai=x('<div class="bet-card fight-props svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="prop svelte-1lytxch"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),ii=x('<div class="stat-item svelte-1lytxch"><span class="stat-label svelte-1lytxch"> </span> <span class="stat-value svelte-1lytxch"> </span></div>'),ri=x('<div class="bet-card stats svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="key-stats svelte-1lytxch"></div></div>'),si=x("<div> </div>"),ni=x('<div class="bet-card trends svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="trend-list svelte-1lytxch"></div></div>'),oi=x('<div class="fight-best-bets svelte-1lytxch"><div class="header svelte-1lytxch"><h2 class="title svelte-1lytxch"><span class="icon svelte-1lytxch"><!></span> </h2> <hr class="title-divider svelte-1lytxch"/> <div class="subtitle svelte-1lytxch"> </div></div> <div class="matchup-header svelte-1lytxch"><div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div> <div class="vs-divider svelte-1lytxch"><span>VS</span></div> <div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1lytxch"><small class="svelte-1lytxch"> </small></div></div>');function li(V,t){gt(t,!1);const[r,l]=mt(),v=()=>lt(_a,"$locale",r),a=()=>lt(yt,"$_",r),d=F(),u=F(),g=F(),_=F(),m=F(),b=F(),k=F(),H=F(),Q=F(),re=F(),ee=F(),Ie=F(),se=F(),ke=F(),R=F(),A=F(),te=F(),ne=F(),j=F(),be=F();let S=je(t,"fighter1",8,null),ae=je(t,"fighter2",8,null);function xe(K,ue){return K.filter(Re=>Re.type===ue)}function Oe(K){switch(K){case bt.HIGH:return"high-confidence";case bt.MEDIUM:return"medium-confidence";case bt.LOW:return"low-confidence";default:return""}}let rt=v();O(()=>(E(S()),E(ae())),()=>{y(d,S()&&ae())}),O(()=>(e(d),E(S()),E(ae())),()=>{y(u,e(d)?Ut.generateBetCards(S(),ae()):[])}),O(()=>e(u),()=>{y(g,Ut.validatePredictions(e(u)))}),O(()=>(e(d),E(S()),E(ae()),e(g),ct),()=>{e(d)&&S()&&ae()&&e(g).length>0&&ct.trackBettingAnalysis(S().name,ae().name)}),O(()=>(e(g),ge),()=>{y(_,xe(e(g),ge.FIGHT_WINNER))}),O(()=>(e(g),ge),()=>{y(m,xe(e(g),ge.METHOD_OF_VICTORY))}),O(()=>(e(g),ge),()=>{y(b,xe(e(g),ge.TOTAL_ROUNDS))}),O(()=>(e(g),ge),()=>{y(k,xe(e(g),ge.WINNER_AND_ROUND))}),O(()=>(e(g),ge),()=>{y(H,xe(e(g),ge.DISTANCE_YES_NO))}),O(()=>(e(g),ge),()=>{y(Q,xe(e(g),ge.GOES_TO_DECISION))}),O(()=>(e(g),ge),()=>{y(re,xe(e(g),ge.GONE_IN_60))}),O(()=>(e(g),ge),()=>{y(ee,xe(e(g),ge.FIGHT_PROPS))}),O(()=>(e(g),ge),()=>{y(Ie,xe(e(g),ge.KEY_FACTORS))}),O(()=>(e(g),ge),()=>{y(se,xe(e(g),ge.TRENDS))}),O(()=>(e(g),ge),()=>{y(ke,xe(e(g),ge.NO_PREDICTION))}),O(()=>(e(_),e(m),e(b),e(k),e(H),e(Q),e(re)),()=>{y(R,e(_).length+e(m).length+e(b).length+e(k).length+e(H).length+e(Q).length+e(re).length)}),O(()=>e(R),()=>{y(A,e(R)>0)}),O(()=>e(A),()=>{y(te,e(A)?0:1)}),O(()=>(e(ee),e(Ie),e(se)),()=>{y(ne,e(ee).length+e(Ie).length+e(se).length)}),O(()=>(e(R),e(te),e(ne)),()=>{y(j,e(R)+e(te)+e(ne))}),O(()=>v(),()=>{v()!==rt&&rt&&window.location.reload()}),O(()=>e(d),()=>{y(be,e(d))}),wt(),ut();var tt=nt(),at=Ge(tt);{var ot=K=>{var ue=oi(),Re=i(ue),De=i(Re),Be=i(De),We=i(Be);Vt(We,{size:32});var ze=o(Be),Ce=o(De,4),Te=i(Ce),Qe=o(Re,2),et=i(Qe),Ae=i(et),de=i(Ae),Fe=o(Ae,2),Ve=i(Fe),qe=o(Fe,2),oe=i(qe),Ke=o(et,4),Ze=i(Ke),it=i(Ze),st=o(Ze,2),h=i(st),p=o(st,2),w=i(p),N=o(Qe,2);let z;var Z=i(N);Pe(Z,1,()=>e(_),He,(J,s)=>{var D=Pa(),$=i(D),X=i($),W=o($,2),L=i(W),q=i(L),B=o(L,2),le=i(B),fe=o(B,2);{var _e=I=>{var U=La(),P=i(U);C(M=>c(P,`${M??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,U)};Y(fe,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=o(W,2),ye=i(he);C((I,U,P,M)=>{Ue(D,1,`bet-card moneyline ${I??""}`,"svelte-1lytxch"),c(X,U),c(q,(e(s),n(()=>e(s).prediction))),c(le,`${e(s),n(()=>e(s).confidence)??""}% ${P??""}`),c(ye,M)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var pe=o(Z,2);Pe(pe,1,()=>e(m),He,(J,s)=>{var D=Ua(),$=i(D),X=i($),W=o($,2),L=i(W),q=i(L),B=o(L,2),le=i(B),fe=o(B,2);{var _e=I=>{var U=Ha(),P=i(U);C(M=>c(P,`${M??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,U)};Y(fe,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=o(W,2),ye=i(he);C((I,U,P,M,ie)=>{Ue(D,1,`bet-card method-victory ${I??""}`,"svelte-1lytxch"),c(X,U),c(q,P),c(le,`${e(s),n(()=>e(s).confidence)??""}% ${M??""}`),c(ye,ie)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var T=o(pe,2);Pe(T,1,()=>e(b),He,(J,s)=>{var D=Ba(),$=i(D),X=i($),W=o($,2),L=i(W),q=i(L),B=o(L,2),le=i(B),fe=o(B,2);{var _e=M=>{var ie=Wa(),Ee=i(ie);C(Ne=>c(Ee,`${Ne??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(M,ie)};Y(fe,M=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&M(_e)})}var he=o(W,2),ye=i(he),I=o(he,2);{var U=M=>{var ie=Va(),Ee=i(ie);C(Ne=>c(Ee,Ne),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),f(M,ie)},P=M=>{var ie=nt(),Ee=Ge(ie);{var Ne=Xe=>{var vt=Ga(),xt=i(vt);C(()=>c(xt,(e(s),n(()=>e(s).explanation)))),f(Xe,vt)};Y(Ee,Xe=>{e(s),n(()=>e(s).explanation)&&Xe(Ne)},!0)}f(M,ie)};Y(I,M=>{e(s),n(()=>e(s).explanationKey)?M(U):M(P,!1)})}C((M,ie,Ee,Ne,Xe)=>{Ue(D,1,`bet-card total-rounds ${M??""}`,"svelte-1lytxch"),c(X,ie),c(q,Ee),c(le,`${e(s),n(()=>e(s).confidence)??""}% ${Ne??""}`),c(ye,Xe)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var G=o(T,2);Pe(G,1,()=>e(k),He,(J,s)=>{var D=qa(),$=i(D),X=i($),W=o($,2),L=i(W),q=i(L),B=o(L,2),le=i(B),fe=o(B,2);{var _e=I=>{var U=za(),P=i(U);C(M=>c(P,`${M??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,U)};Y(fe,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=o(W,2),ye=i(he);C((I,U,P,M,ie)=>{Ue(D,1,`bet-card round-betting ${I??""}`,"svelte-1lytxch"),c(X,U),c(q,P),c(le,`${e(s),n(()=>e(s).confidence)??""}% ${M??""}`),c(ye,ie)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var me=o(G,2);Pe(me,1,()=>e(H),He,(J,s)=>{var D=Ya(),$=i(D),X=i($),W=o($,2),L=i(W),q=i(L),B=o(L,2),le=i(B),fe=o(W,2),_e=i(fe);C((he,ye,I,U,P)=>{Ue(D,1,`bet-card method-round ${he??""}`,"svelte-1lytxch"),c(X,ye),c(q,I),c(le,U),c(_e,P)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var ve=o(me,2);Pe(ve,1,()=>e(Q),He,(J,s)=>{var D=Qa(),$=i(D),X=i($),W=o($,2),L=i(W),q=i(L),B=o(L,2),le=i(B),fe=o(B,2);{var _e=I=>{var U=ja(),P=i(U);C(M=>c(P,`${M??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,U)};Y(fe,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=o(W,2),ye=i(he);C((I,U,P,M,ie)=>{Ue(D,1,`bet-card decision-type ${I??""}`,"svelte-1lytxch"),c(X,U),c(q,P),c(le,`${e(s),n(()=>e(s).confidence)??""}% ${M??""}`),c(ye,ie)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var ce=o(ve,2);Pe(ce,1,()=>e(re),He,(J,s)=>{var D=Ja(),$=i(D),X=i($),W=o($,2),L=i(W),q=i(L),B=o(L,2),le=i(B),fe=o(B,2);{var _e=I=>{var U=Za(),P=i(U);C(M=>c(P,`${M??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,U)};Y(fe,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(_e)})}var he=o(W,2),ye=i(he);C((I,U,P,M,ie)=>{Ue(D,1,`bet-card gone-in-60 ${I??""}`,"svelte-1lytxch"),c(X,U),c(q,P),c(le,`${e(s),n(()=>e(s).confidence)??""}% ${M??""}`),c(ye,ie)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var Me=o(ce,2);Pe(Me,1,()=>e(ke),He,(J,s)=>{var D=Xa(),$=i(D),X=i($);Kt(X,{size:16,style:"display: inline; margin-right: 0.25rem;"});var W=o(X),L=o($,2),q=i(L),B=i(q),le=o(q,2),fe=i(le),_e=o(L,2),he=i(_e);C((ye,I,U,P)=>{c(W,` ${ye??""}`),c(B,I),c(fe,U),c(he,P)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var Le=o(Me,2);Pe(Le,1,()=>e(ee),He,(J,s)=>{var D=ai(),$=i(D),X=i($);Wt(X,{size:16,style:"display: inline; margin-right: 0.25rem;"});var W=o(X),L=o($,2),q=i(L),B=i(q),le=o(q,2),fe=i(le),_e=o(L,2),he=i(_e),ye=o(_e,2);{var I=P=>{var M=ei(),ie=i(M);C(Ee=>c(ie,Ee),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),f(P,M)},U=P=>{var M=nt(),ie=Ge(M);{var Ee=Ne=>{var Xe=ti(),vt=i(Xe);C(()=>c(vt,(e(s),n(()=>e(s).explanation)))),f(Ne,Xe)};Y(ie,Ne=>{e(s),n(()=>e(s).explanation)&&Ne(Ee)},!0)}f(P,M)};Y(ye,P=>{e(s),n(()=>e(s).explanationKey)?P(I):P(U,!1)})}C((P,M,ie,Ee,Ne)=>{c(W,` ${P??""}`),c(B,M),c(fe,`${ie??""}: ${Ee??""}`),c(he,Ne)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.value"))),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(J,D)});var $e=o(Le,2);Pe($e,1,()=>e(Ie),He,(J,s)=>{var D=ri(),$=i(D),X=i($),W=o($,2);Pe(W,5,()=>(e(s),n(()=>e(s).metadata?.factors||[])),He,(L,q)=>{var B=ii(),le=i(B),fe=i(le),_e=o(le,2),he=i(_e);C(ye=>{c(fe,ye),c(he,(e(q),n(()=>e(q).value)))},[()=>(a(),e(q),n(()=>a()(e(q).label)))]),f(L,B)}),C(L=>c(X,L),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),f(J,D)});var Se=o($e,2);Pe(Se,1,()=>e(se),He,(J,s)=>{var D=ni(),$=i(D),X=i($),W=o($,2);Pe(W,5,()=>(e(s),n(()=>e(s).metadata?.trends||[])),He,(L,q)=>{var B=si(),le=i(B);C(()=>{Ue(B,1,`trend-item ${e(q),n(()=>e(q).type)??""}`,"svelte-1lytxch"),c(le,(e(q),n(()=>e(q).text)))}),f(L,B)}),C(L=>c(X,L),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),f(J,D)});var Je=o(N,2),dt=i(Je),_t=i(dt);C((J,s,D,$)=>{c(ze,` ${J??""}`),c(Te,s),c(de,(E(S()),n(()=>S().name))),c(Ve,`${E(S()),n(()=>S().rawData.win)??""}-${E(S()),n(()=>S().rawData.loss)??""}-${E(S()),n(()=>S().rawData.draws)??""}`),c(oe,(E(S()),n(()=>S().archetype.archetypeEmojis))),c(it,(E(ae()),n(()=>ae().name))),c(h,`${E(ae()),n(()=>ae().rawData.win)??""}-${E(ae()),n(()=>ae().rawData.loss)??""}-${E(ae()),n(()=>ae().rawData.draws)??""}`),c(w,(E(ae()),n(()=>ae().archetype.archetypeEmojis))),z=Ue(N,1,"betting-grid svelte-1lytxch",null,z,D),c(_t,`* ${$??""}`)},[()=>(a(),n(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),n(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(j)<=3}),()=>(a(),n(()=>a()("combat_analysis.disclaimer")))]),f(K,ue)};Y(at,K=>{e(be)&&K(ot)})}f(V,tt),pt(),l()}var di=x('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),vi=x('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),ci=x('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),_i=x('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),hi=x('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),gi=x('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),ui=x('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),pi=x('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function Ri(V,t){gt(t,!1);const[r,l]=mt(),v=()=>lt(te,"$urlSearchParams",r),a=()=>lt(yt,"$_",r),d=F(),u=F(),g=F(),_=F(),m=F(),b=F(),k=F(),H=F(),Q=F(),re=F();let ee=je(t,"isDarkMode",8,!0),Ie=je(t,"toggleTheme",8,()=>{}),se=F(new Map),ke=F(new Map),R=F(),A=F(new Map);const te=la(ht());function ne(h,p){const w=`fighter${p}`;$t({[w]:h}),te.set(ht())}let j=F(!1),be=F(!1),S=F(!1),ae=F(!1);da(()=>{window.Highcharts=va,te.set(ht());const h=ha(()=>{te.set(ht())});return xe(),h});async function xe(){try{y(j,!0);const{allRawFightersDataMap:h,allRawFightersByDivision:p,processedFightersMap:w,processedFighters:N}=await Ft.loadFightersFromCSV();y(se,h),y(A,p),y(ke,w),y(R,N),y(be,!0)}catch(h){console.error("Error loading data:",h)}finally{y(j,!1)}}function Oe(h=[]){return h.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:rt(p)}))}function rt(h){return h.pictureUrl&&h.pictureUrl!==""?h.pictureUrl:tt(h.division)?"no_photo_female.png":"no_photo_male.png"}function tt(h){return!!(h&&h.startsWith("W_"))}function at(h){ne(h,1)}function ot(h){ne(h,2)}function K(){ct.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(d)||"none",fighter2:e(u)||"none"}),$t({fighter1:"",fighter2:""}),te.set(ht())}function ue(){if(!e(d)||!e(u))return;const h=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";ct.trackFightShare(e(d),e(u),h);const p=ga("/",{fighter1:e(d),fighter2:e(u)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(d)} vs ${e(u)} - Fight Radar`,text:`Compara las estadísticas de ${e(d)} vs ${e(u)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Re("¡Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Re(h){const p=document.createElement("div");p.className="notification",p.textContent=h,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function De(h,p,w){const N=[];return h&&N.push({name:h.name,data:[h.fightRadar.STR_OFF,h.fightRadar.STR_DEF,h.fightRadar.TD_OFF,h.fightRadar.TD_DEF,h.fightRadar.CTRL,h.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&N.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),w&&N.push({name:w.name,data:[w.fightRadar.STR_OFF,w.fightRadar.STR_DEF,w.fightRadar.TD_OFF,w.fightRadar.TD_DEF,w.fightRadar.CTRL,w.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),N}function Be(h,p,w){const N=[];return h&&N.push({name:h.name,data:[h.iqRadar.distance,h.iqRadar.adaptability,h.iqRadar.composure,h.iqRadar.decisions,h.iqRadar.rhythm,h.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&N.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),w&&N.push({name:w.name,data:[w.iqRadar.distance,w.iqRadar.adaptability,w.iqRadar.composure,w.iqRadar.decisions,w.iqRadar.rhythm,w.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),N}function We(h){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[w,N,z]=h.combinedRole.split("+")??["AT"];let Z=[[w,100]];if(N&&z?Z=[[w,33],[N,34],[z,33]]:N?Z=[[w,50],[N,50]]:z&&(Z=[[w,60],[z,40]]),Z.length===1){const[pe,T]=Z[0],G=Math.min(T,70);return`linear-gradient(135deg, ${p[pe]} 0%, ${p[pe]} ${G}%, var(--card-bg) 100%)`}else{const pe=Z.reduce((ve,[,ce])=>ve+ce,0);let T=[],G=0;return Z.forEach(([ve,ce],Me)=>{const Le=ce/pe*85,$e=p[ve];Me===0&&T.push(`${$e} ${G}%`),G+=Le,Me===Z.length-1?(T.push(`${$e} ${G}%`),T.push("var(--card-bg) 100%")):T.push(`${$e} ${G}%`)}),`linear-gradient(135deg, ${T.join(", ")})`}}O(()=>v(),()=>{y(d,v().get("fighter1")||"")}),O(()=>v(),()=>{y(u,v().get("fighter2")||"")}),O(()=>(e(R),e(u)),()=>{y(g,Oe(e(R)).filter(h=>h.value!==e(u)))}),O(()=>(e(R),e(d)),()=>{y(_,Oe(e(R)).filter(h=>h.value!==e(d)))}),O(()=>(e(d),e(u),e(se),e(A),It),()=>{y(m,(()=>{if(!e(d)||!e(u))return null;const h=e(se).get(e(d)),p=e(se).get(e(u));if(!h||!p)return null;if(h.Division===p.Division){const w=h.Division;if(e(A).has(w))return It(w,e(A).get(w))}return null})())}),O(()=>(e(d),e(ke)),()=>{y(b,e(d)?e(ke).get(e(d))??null:null)}),O(()=>(e(u),e(ke)),()=>{y(k,e(u)?e(ke).get(e(u))??null:null)}),O(()=>(e(m),e(d),e(u),e(se),e(A),Ft),()=>{y(H,(()=>{if(!e(m)||!e(d)||!e(u))return null;const h=e(se).get(e(d));return!h||!e(A).has(h.Division)?null:Ft.calculateSyntheticFighter(e(m),e(A).get(h.Division))})())}),O(()=>(e(b),e(k),e(H)),()=>{y(Q,De(e(b)??null,e(k)??null,e(H)??null))}),O(()=>(e(b),e(k),e(H)),()=>{y(re,Be(e(b),e(k),e(H)))}),O(()=>(e(j),e(se),e(d),e(u),ct),()=>{const h=!e(j)&&e(se).size>0&&e(se).has(e(d))&&e(se).has(e(u));y(S,!!(e(d)&&e(u)&&h)),y(ae,!!(e(d)&&e(u)&&h)),e(d)&&e(u)&&h&&ct.trackFighterComparison(e(d),e(u))}),wt(),ut();var ze=pi(),Ce=i(ze),Te=i(Ce);ca(Te,{showThemeToggle:!0,get isDarkMode(){return ee()},get toggleTheme(){return Ie()}});var Qe=o(Te,2);{var et=h=>{var p=di(),w=i(p),N=o(i(w),2),z=i(N);C(Z=>c(z,Z),[()=>(a(),n(()=>a()("fight_radar.loading_data")))]),f(h,p)};Y(Qe,h=>{e(j)&&h(et)})}var Ae=o(Qe,2);{var de=h=>{var p=_i(),w=i(p),N=i(w),z=i(N),Z=i(z),pe=o(z,2),T=i(pe);{let Se=ft(()=>(a(),n(()=>a()("common.select_fighter"))));Pt(T,{id:"fighter1-select",get placeholder(){return e(Se)},disabled:!1,get options(){return e(g)},get selectedValue(){return e(d)},onSelectionChange:at})}var G=o(N,4),me=i(G),ve=i(me),ce=o(me,2),Me=i(ce);{let Se=ft(()=>(a(),n(()=>a()("common.select_fighter"))));Pt(Me,{id:"fighter2-select",get placeholder(){return e(Se)},disabled:!1,get options(){return e(_)},get selectedValue(){return e(u)},onSelectionChange:ot})}var Le=o(w,2);{var $e=Se=>{var Je=ci(),dt=i(Je);{var _t=D=>{var $=vi(),X=o(i($));C(W=>c(X,` ${W??""}`),[()=>(a(),n(()=>a()("fight_radar.share_fight")))]),Ye("click",$,ue),f(D,$)};Y(dt,D=>{e(d)&&e(u)&&D(_t)})}var J=o(dt,2),s=o(i(J));C(D=>c(s,` ${D??""}`),[()=>(a(),n(()=>a()("fight_radar.clear_radars")))]),Ye("click",J,K),f(Se,Je)};Y(Le,Se=>{(e(d)||e(u))&&Se($e)})}C((Se,Je)=>{c(Z,`${Se??""}:`),c(ve,`${Je??""}:`)},[()=>(a(),n(()=>a()("common.fighter_1"))),()=>(a(),n(()=>a()("common.fighter_2")))]),f(h,p)};Y(Ae,h=>{e(be)&&h(de)})}var Fe=o(Ae,2);{var Ve=h=>{var p=nt(),w=Ge(p);{var N=z=>{var Z=hi(),pe=i(Z),T=i(pe);Kt(T,{size:20,class:"disclaimer-icon"});var G=o(T,2),me=i(G),ve=o(pe,2),ce=i(ve);C((Me,Le)=>{c(me,Me),c(ce,Le)},[()=>(a(),n(()=>a()("fight_radar.cross_division_title"))),()=>(a(),E(kt),e(b),e(k),n(()=>a()("fight_radar.cross_division_text",{values:{division1:kt(e(b).rawData.Division),division2:kt(e(k).rawData.Division)}})))]),f(z,Z)};Y(w,z=>{e(b),e(k),n(()=>e(b)?.rawData&&e(k)?.rawData&&e(b).rawData.Division!==e(k).rawData.Division)&&z(N)})}f(h,p)};Y(Fe,h=>{e(d)&&e(u)&&e(S)&&h(Ve)})}var qe=o(Fe,2);{var oe=h=>{var p=gi(),w=i(p),N=i(w);Ht(N,{get fighter(){return e(b)},id:"fighter1-info"});var z=o(w,2),Z=i(z);Ht(Z,{get fighter(){return e(k)},id:"fighter2-info"}),C((pe,T)=>{Ct(w,`background: ${pe??""}`),Ct(z,`background: ${T??""}`)},[()=>(e(b),n(()=>e(b)?We(e(b).archetype):"var(--card-bg)")),()=>(e(k),n(()=>e(k)?We(e(k).archetype):"var(--card-bg)"))]),f(h,p)};Y(qe,h=>{e(S)&&h(oe)})}var Ke=o(qe,2);{var Ze=h=>{var p=ui(),w=i(p),N=i(w);Mt(N,()=>(e(d),e(u),e(Q),n(()=>`${e(d)}-${e(u)}-${e(Q).length}`)),pe=>{{let T=ft(()=>(E(Ot),n(Ot)));Lt(pe,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(T)},get series(){return e(Q)},isIQRadar:!1})}});var z=o(w,2),Z=i(z);Mt(Z,()=>(e(d),e(u),e(re),n(()=>`${e(d)}-${e(u)}-${e(re).length}`)),pe=>{{let T=ft(()=>(E(At),n(At)));Lt(pe,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(T)},get series(){return e(re)},isIQRadar:!0})}}),f(h,p)};Y(Ke,h=>{e(ae),e(Q),n(()=>e(ae)&&e(Q).length>0)&&h(Ze)})}var it=o(Ke,2);li(it,{get fighter1(){return e(b)},get fighter2(){return e(k)}});var st=o(it,2);Oa(st,{}),f(V,ze),pt(),l()}export{Ri as default};
