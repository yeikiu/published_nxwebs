import{q as ut,p as je,l as H,C as b,z as C,r as T,A as e,h as Dt,j as pt,f as F,m as Ye,$ as Mt,i as j,c as r,u as d,S as Nt,t as R,B as we,s as Ee,b as f,o as mt,I as yt,n as Ue,x as n,y as _,J as vt,T as _a,k as ot,D as He,E as We,Q as $t,U as ha,V as Ct,W as gt,Y as ga,Z as zt,_ as Bt,a0 as Kt,a as ua,a1 as pa,w as ma,F as ya,K as bt,a2 as Ot}from"./lucide-CFoebsfS.js";import{H as fa}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ba}from"./Header-C1PVi_eV.js";import{$ as ft,n as qt,A as _t,a as wa,g as ht,b as Da,u as Et,c as xa}from"./index-CcfxuIMZ.js";import{c as kt,g as It,f as ka,a as At,p as Lt,b as Ft,d as Pt,e as Ht}from"./fighters_service-lHBQsGoH.js";import{R as Fa,a as Wt}from"./RadarChart-B9zc5JL3.js";import{F as Ra}from"./FindYoutubeHighlights-CWAHTT-Y.js";import"./highcharts-DyRVWUji.js";var Ca=F('<img class="svelte-gkl5a1"/>'),Ka=F('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Sa=F("<!> <span> </span>",1),Ta=F("<span> </span>"),Ma=F('<img class="svelte-gkl5a1"/>'),Na=F('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),$a=F('<button type="button"><!> <span> </span></button>'),Oa=F('<div class="no-results svelte-gkl5a1"> </div>'),Ea=F('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Ia=F('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Ut(Z,t){ut(t,!1);const[i,c]=yt(),o=()=>vt(ft,"$_",i),a=C(),l=C();let h=je(t,"id",8),g=je(t,"placeholder",8,""),v=je(t,"disabled",8,!0),p=je(t,"options",24,()=>[]),y=je(t,"selectedValue",12,""),D=je(t,"onSelectionChange",8,void 0),U=C(!1),L=C(),ie=C(),te=C("");function ue(){v()||(b(U,!e(U)),e(U)&&setTimeout(()=>e(ie)?.focus(),0))}function B(N){y(N.value),b(te,""),b(U,!1),D()&&D()(N.value,N)}function re(N){const fe=N.target;b(te,fe.value)}function K(N){N.key==="Enter"&&e(l).length>0?(B(e(l)[0]),N.preventDefault()):N.key==="Escape"&&(b(te,""),b(U,!1))}function M(N){e(L)&&!e(L).contains(N.target)&&(b(U,!1),b(te,""))}function x(N){N.key==="Escape"&&b(U,!1)}H(()=>(T(p()),T(y())),()=>{b(a,p().find(N=>N.value===y()))}),H(()=>(e(te),T(p()),kt),()=>{b(l,e(te)?p().filter(N=>kt(N.label.toLowerCase()).includes(kt(e(te).toLowerCase()))):p())}),Dt(),pt();var ve=Ia();Ye("click",Mt,M),Ye("keydown",Mt,x);var ee=r(ve);let _e;var A=r(ee),O=r(A);{var xe=N=>{var fe=Sa(),Ce=Ue(fe);{var ke=Ke=>{var $e=Ca();R(()=>{we($e,"src",(e(a),n(()=>e(a).imageUrl))),we($e,"alt",(e(a),n(()=>e(a).label)))}),f(Ke,$e)},ze=Ke=>{var $e=ot(),Qe=Ue($e);{var et=Ae=>{var pe=Ka(),Fe=r(pe);$t(Fe,()=>e(a).iconComponent,(Ge,qe)=>{qe(Ge,{size:16})}),f(Ae,pe)};j(Qe,Ae=>{e(a),n(()=>e(a)?.iconComponent)&&Ae(et)},!0)}f(Ke,$e)};j(Ce,Ke=>{e(a),n(()=>e(a)?.imageUrl)?Ke(ke):Ke(ze,!1)})}var Ve=d(Ce,2),Be=r(Ve);R(()=>_(Be,(e(a),n(()=>e(a).label)))),f(N,fe)},Ie=N=>{var fe=Ta(),Ce=r(fe);R(ke=>_(Ce,ke),[()=>(T(g()),o(),n(()=>g()||o()("common.select_option")))]),f(N,fe)};j(O,N=>{e(a)?N(xe):N(Ie,!1)})}var lt=d(A,2);let rt;var st=d(ee,2);{var dt=N=>{var fe=Ea(),Ce=r(fe),ke=r(Ce);Nt(ke,pe=>b(ie,pe),()=>e(ie));var ze=d(Ce,2),Ve=r(ze);let Be;var Ke=r(Ve),$e=r(Ke),Qe=d(Ve,2);{var et=pe=>{var Fe=ot(),Ge=Ue(Fe);He(Ge,1,()=>e(l),We,(qe,he)=>{var Se=$a();let Ze;var tt=r(Se);{var nt=$=>{var Q=Ma();R(()=>{we(Q,"src",(e(he),n(()=>e(he).imageUrl))),we(Q,"alt",(e(he),n(()=>e(he).label)))}),Ye("error",Q,se=>{se.currentTarget.style.display="none"}),f($,Q)},u=$=>{var Q=ot(),se=Ue(Q);{var be=le=>{var De=Na(),Oe=r(De);$t(Oe,()=>e(he).iconComponent,(Le,Pe)=>{Pe(Le,{size:16})}),f(le,De)};j(se,le=>{e(he),n(()=>e(he)?.iconComponent)&&le(be)},!0)}f($,Q)};j(tt,$=>{e(he),n(()=>e(he)?.imageUrl)?$(nt):$(u,!1)})}var m=d(tt,2),k=r(m);R($=>{Ze=Ee(Se,1,"dropdown-item svelte-gkl5a1",null,Ze,$),_(k,(e(he),n(()=>e(he).label)))},[()=>({selected:y()===e(he).value})]),Ye("click",Se,()=>B(e(he))),f(qe,Se)}),f(pe,Fe)},Ae=pe=>{var Fe=ot(),Ge=Ue(Fe);{var qe=he=>{var Se=Oa(),Ze=r(Se);R(()=>_(Ze,`No se encontraron resultados para "${e(te)??""}"`)),f(he,Se)};j(Ge,he=>{e(te)&&he(qe)},!0)}f(pe,Fe)};j(Qe,pe=>{e(l),n(()=>e(l).length>0)?pe(et):pe(Ae,!1)})}R((pe,Fe,Ge)=>{we(ke,"placeholder",pe),we(ze,"id",`dropdown-options-${h()??""}`),Be=Ee(Ve,1,"dropdown-item svelte-gkl5a1",null,Be,Fe),_($e,Ge)},[()=>(o(),n(()=>o()("common.search")||"Search...")),()=>({selected:y()===""}),()=>(T(g()),o(),n(()=>g()||o()("common.select_option")))]),_a(ke,()=>e(te),pe=>b(te,pe)),Ye("input",ke,re),Ye("keydown",ke,K),Ye("click",Ve,()=>B({value:"",label:g(),imageUrl:""})),f(N,fe)};j(st,N=>{e(U)&&N(dt)})}Nt(ve,N=>b(L,N),()=>e(L)),R((N,fe)=>{we(ve,"id",h()),_e=Ee(ee,1,"dropdown-button svelte-gkl5a1",null,_e,N),ee.disabled=v(),we(ee,"aria-expanded",e(U)),we(ee,"aria-controls",`dropdown-options-${h()??""}`),rt=Ee(lt,1,"dropdown-arrow svelte-gkl5a1",null,rt,fe)},[()=>({disabled:v(),open:e(U)}),()=>({rotated:e(U)})]),Ye("click",ee,ue),f(Z,ve),mt(),c()}function Rt(Z,t){if(t()){const i=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;qt(i)}}var Aa=F('<img class="fighter-image svelte-1gw86rr"/> <div class="fighter-placeholder svelte-1gw86rr" style="display: none;">Picture Unavailable</div>',1),La=F('<div class="fighter-placeholder svelte-1gw86rr">Picture Unavailable</div>'),Pa=(Z,t)=>Z.key==="Enter"&&t(),Ha=F('<div class="stat-item role-disc-clickable svelte-1gw86rr" role="button" tabindex="0"><span class="stat-label svelte-1gw86rr">ROLE-DISC:</span> <span><div class="role-emojis svelte-1gw86rr"> </div> <div class="role-name svelte-1gw86rr"> </div></span></div>'),Wa=F('<hr class="archetype-divider svelte-1gw86rr"/> <div class="archetype-container svelte-1gw86rr"><div class="archetype-section svelte-1gw86rr"><h3 class="archetype-section-title svelte-1gw86rr"> </h3> <div class="archetype-fields svelte-1gw86rr"><div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value description svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value favorite-zone svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value strengths svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value weaknesses svelte-1gw86rr"> </div></div></div></div></div>',1),Ua=F('<div class="fighter-header svelte-1gw86rr"><div class="header-actions svelte-1gw86rr"><!> <button type="button" class="fighter-detail-cta svelte-1gw86rr" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1gw86rr"><div class="fighter-image-container svelte-1gw86rr"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1gw86rr"><div class="fighter-name svelte-1gw86rr"> </div></button> <div class="star-rating svelte-1gw86rr"><div class="stars-container svelte-1gw86rr"></div></div> <div class="fighter-stats svelte-1gw86rr"><!> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value career-record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span><!></span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value height svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value reach svelte-1gw86rr"> </span></div></div> <!>',1),Va=F('<div class="empty-card svelte-1gw86rr"><div class="empty-message svelte-1gw86rr"> </div></div>'),Ga=F('<div class="fighter-card svelte-1gw86rr"><!></div> <!>',1);function Vt(Z,t){ut(t,!1);const[i,c]=yt(),o=()=>vt(ft,"$_",i),a=C(),l=C(),h=C(),g=C();let v=je(t,"fighter",8,null),p=je(t,"id",8,""),y=C(!1);function D(){b(y,!0)}function U(){b(y,!1)}H(()=>o(),()=>{b(a,K=>{if(!K||!K.startsWith("@ARCHETYPE_"))return K;let M="",x="";if(K.includes("_DESCRIPTION"))M=K.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),x="description";else if(K.includes("_FAVORITE_ZONE"))M=K.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),x="favorite_zone";else if(K.includes("_STRENGTHS"))M=K.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),x="strengths";else if(K.includes("_WEAKNESSES"))M=K.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),x="weaknesses";else{const _e=K.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!_e)return K;M=_e[1],x=_e[2].toLowerCase()}const ve=`archetype_data.${M}.${x}`,ee=o()(ve);return K.includes("_WEAKNESSES"),ee!==ve?ee:K})}),H(()=>(T(v()),It),()=>{b(l,v()?It(v().archetype):null)}),H(()=>T(v()),()=>{b(h,v()?.rawData.height_inches?Math.floor(v().rawData.height_inches/12)+"'"+v().rawData.height_inches%12+'"':"-")}),H(()=>T(v()),()=>{b(g,v()?.rawData.reach_inches?v().rawData.reach_inches+'"':"-")}),Dt(),pt();var L=Ga(),ie=Ue(L),te=r(ie);{var ue=K=>{var M=Ua(),x=Ue(M),ve=r(x),ee=r(ve);Ra(ee,{get fighterFullName(){return T(v()),n(()=>v().nameWithNickname)},size:"large"});var _e=d(ee,2);_e.__click=[Rt,v];var A=r(_e);ha(A,{size:16});var O=d(ve,2);O.__click=[Rt,v];var xe=r(O),Ie=r(xe);{var lt=q=>{var ne=Aa(),Re=Ue(ne);R(()=>{we(Re,"src",(T(v()),n(()=>v().pictureUrl))),we(Re,"alt",`${T(v()),n(()=>v().name)??""} fighter profile picture`)}),Ye("error",Re,Te=>{Te.currentTarget.style.display="none";const P=Te.currentTarget.nextElementSibling;P&&(P.style.display="block")}),f(q,ne)},rt=q=>{var ne=La();f(q,ne)};j(Ie,q=>{T(v()),n(()=>v().pictureUrl)?q(lt):q(rt,!1)})}var st=d(x,2);st.__click=[Rt,v];var dt=r(st),N=r(dt),fe=d(st,2),Ce=r(fe),ke=d(fe,2),ze=r(ke);{var Ve=q=>{var ne=Ha();ne.__click=D,ne.__keydown=[Pa,D];var Re=r(ne),Te=d(Re,2),P=r(Te),s=r(P),w=d(P,2),S=r(w);R((J,V)=>{we(ne,"aria-label",J),we(Re,"title",V),Ee(Te,1,`stat-value role-indicator archetype-dots archetype-${e(l),n(()=>e(l).type)??""}`,"svelte-1gw86rr"),we(Te,"title",(e(l),n(()=>e(l).tooltip))),_(s,(e(l),n(()=>e(l).label))),_(S,(e(l),n(()=>e(l).name)))},[()=>(o(),n(()=>o()("role_disc_modal.open_modal_aria_label"))),()=>(o(),n(()=>o()("role_disc_modal.archetype_tooltip")))]),f(q,ne)};j(ze,q=>{e(l)&&q(Ve)})}var Be=d(ze,2),Ke=r(Be),$e=r(Ke),Qe=d(Ke,2),et=r(Qe),Ae=d(Be,2),pe=r(Ae),Fe=r(pe),Ge=d(pe,2),qe=r(Ge),he=d(Ae,2),Se=r(he),Ze=r(Se),tt=d(Se,2);let nt;var u=r(tt);{var m=q=>{var ne=gt();R(()=>_(ne,`+${T(v()),n(()=>v().streak)??""}W`)),f(q,ne)},k=q=>{var ne=ot(),Re=Ue(ne);{var Te=s=>{var w=gt();R(()=>_(w,`${T(v()),n(()=>v().streak)??""}L`)),f(s,w)},P=s=>{var w=gt("-");f(s,w)};j(Re,s=>{T(v()),n(()=>v().streak<0)?s(Te):s(P,!1)},!0)}f(q,ne)};j(u,q=>{T(v()),n(()=>v().streak>0)?q(m):q(k,!1)})}var $=d(he,2),Q=r($),se=r(Q),be=d(Q,2),le=r(be),De=d($,2),Oe=r(De),Le=r(Oe),Pe=d(Oe,2),Je=r(Pe),at=d(ke,2);{var it=q=>{var ne=Wa(),Re=d(Ue(ne),2),Te=r(Re),P=r(Te),s=r(P),w=d(P,2),S=r(w),J=r(S),V=r(J),W=r(V);ga(W,{size:18});var G=d(V,2),X=r(G),ge=d(J,2),me=r(ge),ce=d(S,2),ae=r(ce),oe=r(ae),I=r(oe);zt(I,{size:18});var Y=d(oe,2),z=r(Y),E=d(ae,2),de=r(E),Me=d(ce,2),Ne=r(Me),Xe=r(Ne),ct=r(Xe);Bt(ct,{size:18});var xt=d(Xe,2),Yt=r(xt),jt=d(Ne,2),Qt=r(jt),Zt=d(Me,2),St=r(Zt),Tt=r(St),Jt=r(Tt);Kt(Jt,{size:18});var Xt=d(Tt,2),ea=r(Xt),ta=d(St,2),aa=r(ta);R((ia,ra,sa,na,oa,la,da,va,ca)=>{_(s,ia),_(X,ra),_(me,sa),_(z,na),_(de,oa),_(Yt,la),_(Qt,da),_(ea,va),_(aa,ca)},[()=>(o(),n(()=>o()("archetype.analysis_title"))),()=>(o(),n(()=>o()("archetype.tactical_description"))),()=>(e(a),T(v()),n(()=>e(a)(v().archetype.description))),()=>(o(),n(()=>o()("archetype.preferred_zone"))),()=>(e(a),T(v()),n(()=>e(a)(v().archetype.favoriteZone))),()=>(o(),n(()=>o()("archetype.strengths"))),()=>(e(a),T(v()),n(()=>e(a)(v().archetype.strengths))),()=>(o(),n(()=>o()("archetype.weaknesses"))),()=>(e(a),T(v()),n(()=>e(a)(v().archetype.weaknesses)))]),f(q,ne)};j(at,q=>{T(v()),n(()=>v().archetype)&&q(it)})}R((q,ne,Re,Te,P,s,w,S,J,V,W)=>{we(_e,"aria-label",`View detailed fighter profile for ${T(v()),n(()=>v().nameWithNickname)??""}`),_(N,(T(v()),n(()=>v().name))),Ct(Ce,`--fill-width: ${T(v()),n(()=>v().stars*20)??""}%`),we(Ke,"title",q),_($e,`${ne??""}:`),_(et,(T(v()),n(()=>v().career_record))),we(pe,"title",Re),_(Fe,`${Te??""}:`),_(qe,(T(v()),n(()=>v().record_36m))),we(Se,"title",P),_(Ze,`${s??""}:`),nt=Ee(tt,1,"stat-value streak svelte-1gw86rr",null,nt,w),we(Q,"title",S),_(se,`${J??""}:`),_(le,e(h)),we(Oe,"title",V),_(Le,`${W??""}:`),_(Je,e(g))},[()=>(o(),n(()=>o()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(o(),n(()=>o()("fighter_profile.career_record"))),()=>(o(),n(()=>o()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(o(),n(()=>o()("fighter_profile.record_36m"))),()=>(o(),n(()=>o()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(o(),n(()=>o()("fighter_profile.streak"))),()=>({"streak-win":v().streak>0,"streak-loss":v().streak<0}),()=>(o(),n(()=>o()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(o(),n(()=>o()("fighter_profile.height"))),()=>(o(),n(()=>o()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(o(),n(()=>o()("fighter_profile.reach")))]),f(K,M)},B=K=>{var M=Va(),x=r(M),ve=r(x);R(ee=>_(ve,ee),[()=>(o(),n(()=>o()("fight_radar.select_fighter_stats")))]),f(K,M)};j(te,K=>{v()?K(ue):K(B,!1)})}var re=d(ie,2);Fa(re,{get isOpen(){return e(y)},$$events:{close:U}}),R(()=>we(ie,"id",p())),f(Z,L),mt(),c()}ua(["click","keydown"]);var za=F('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function Ba(Z,t){ut(t,!1);const[i,c]=yt(),o=()=>vt(ft,"$_",i);function a(){qt("/calendar")}pt();var l=za(),h=r(l),g=r(h),v=r(g),p=r(v);pa(p,{size:24,style:"display: inline; margin-right: 0.5rem;"});var y=d(p),D=d(v,2),U=r(D),L=d(g,2),ie=r(L);R((te,ue,B)=>{_(y,` ${te??""}`),_(U,ue),_(ie,B)},[()=>o()("banner.new_functionality"),()=>o()("banner.explore_calendar"),()=>o()("banner.view_calendar")]),Ye("click",L,a),f(Z,l),mt(),c()}var ye=(Z=>(Z.FIGHT_WINNER="fight_winner",Z.METHOD_OF_VICTORY="method_of_victory",Z.WINNER_AND_ROUND="winner_and_round",Z.TOTAL_ROUNDS="total_rounds",Z.SPECIFIC_FINISH_METHOD="specific_finish_method",Z.GOES_TO_DECISION="goes_to_decision",Z.DISTANCE_YES_NO="distance_yes_no",Z.GONE_IN_60="gone_in_60",Z.FIGHT_PROPS="fight_props",Z.KEY_FACTORS="key_factors",Z.TRENDS="trends",Z.NO_PREDICTION="no_prediction",Z))(ye||{}),wt=(Z=>(Z.HIGH="high",Z.MEDIUM="medium",Z.LOW="low",Z))(wt||{});class qa{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=60,this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,i){const c=[],o=this.calculateWinProbability(t,i),a=this.predictMethodOfVictory(t,i,o),l=this.predictTotalRounds(t,i,o),h=this.predictRoundBetting(t,i,o),g=this.generateFightProps(t,i,o),v=this.analyzeKeyFactors(t,i),p=this.analyzeTrends(t,i);return c.push(this.createMoneylineCard(o)),a.probability>=this.MIN_MEDIUM_CONFIDENCE&&c.push(this.createMethodOfVictoryCard(a)),l.probability>=this.MIN_MEDIUM_CONFIDENCE&&c.push(this.createTotalRoundsCard(l)),h.probability>=this.MIN_HIGH_CONFIDENCE&&c.push(this.createRoundBettingCard(h)),c.push(this.createFightPropsCard(g)),c.push(this.createKeyFactorsCard(v)),c.push(this.createTrendsCard(p)),this.hasHighConfidencePredictions(c)||c.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(c)}validatePredictions(t){const i=this.filterByConfidence(t);return this.resolveContradictions(i)}filterByConfidence(t){return t.filter(i=>i.type==="key_factors"||i.type==="trends"||i.type==="no_prediction"||i.type==="fight_winner"?!0:i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}resolveContradictions(t){let i=[...t];return i=this.resolveOverUnderContradictions(i),i=this.resolveMethodVsDurationContradictions(i),i=this.resolveMethodVsPropsContradictions(i),i=this.resolveDurationVsPropsContradictions(i),i}resolveMethodVsDurationContradictions(t){const i=t.find(p=>p.type==="method_of_victory"&&(p.prediction.toLowerCase().includes("decision")||p.predictionKey?.toLowerCase().includes("decision")));if(!i)return t;const c=t.filter(p=>{if(p.type!=="total_rounds")return!1;const y=p.prediction.toLowerCase(),D=p.predictionKey?.toLowerCase()||"";return y.includes("under")||D.includes("under")}),o=t.filter(p=>{if(p.type!=="winner_and_round")return!1;const y=p.prediction.toLowerCase(),D=p.predictionKey?.toLowerCase()||"";return y.includes("round 1")||y.includes("round 2")||D.includes("round_1")||D.includes("round_2")}),a=[...c,...o];if(a.length===0)return t;const l=[i,...a],h=Math.max(...l.map(p=>p.confidence)),g=l.find(p=>p.confidence===h);if(!g)return t;const v=new Set(l.map(p=>p.id));return t.filter(p=>!v.has(p.id)||p.id===g.id)}resolveOverUnderContradictions(t){const i=t.filter(a=>a.type==="total_rounds");if(i.length<=1)return t;const c=new Map;for(const a of i){const l=a.prediction.toLowerCase(),h=a.predictionKey?.toLowerCase()||"",g=l.match(/(\d+\.5)/)||h.match(/(\d+)_5/);if(g){const v=g[1].replace("_5",".5");c.has(v)||c.set(v,[]),c.get(v).push(a)}}const o=new Set;for(const[a,l]of c)if(l.length>1){const h=l.some(v=>v.prediction.toLowerCase().includes("over")||v.predictionKey?.toLowerCase().includes("over")),g=l.some(v=>v.prediction.toLowerCase().includes("under")||v.predictionKey?.toLowerCase().includes("under"));if(h&&g){const p=l.sort((y,D)=>D.confidence-y.confidence)[0];for(const y of l)y.id!==p.id&&o.add(y.id)}}return t.filter(a=>!o.has(a.id))}resolveMethodVsPropsContradictions(t){const i=t.find(l=>l.type==="method_of_victory"),c=t.filter(l=>l.type==="fight_props");if(!i||c.length===0)return t;const o=i.prediction.toLowerCase(),a=new Set;for(const l of c){const h=(l.prediction||"").toLowerCase(),g=(l.predictionKey||"").toLowerCase();(o.includes("ko")||o.includes("tko"))&&(h.includes("submission")||h.includes("ground control")||g.includes("submission")||g.includes("ground_control"))&&a.add(l.id),o.includes("submission")&&(h.includes("standing exchange")&&!h.includes("ground")||g.includes("standing_exchange")&&!g.includes("ground"))&&a.add(l.id),o.includes("decision")&&(h.includes("first round finish")||h.includes("gone in 60")||g.includes("first_round_finish")||g.includes("gone_in_60"))&&a.add(l.id)}return t.filter(l=>!a.has(l.id))}resolveDurationVsPropsContradictions(t){const i=t.filter(a=>a.type==="total_rounds"),c=t.filter(a=>a.type==="fight_props");if(i.length===0||c.length===0)return t;const o=new Set;for(const a of i){const l=(a.prediction||"").toLowerCase(),h=(a.predictionKey||"").toLowerCase(),g=l.includes("under 2.5")||h.includes("under_2_5"),v=l.includes("over 3.5")||h.includes("over_3_5");for(const p of c){const y=(p.prediction||"").toLowerCase(),D=(p.predictionKey||"").toLowerCase();g&&((y.includes("over 100 strikes")||D.includes("over_100_strikes"))&&o.add(p.id),(y.includes("goes to distance")||D.includes("goes_to_distance"))&&o.add(p.id)),v&&(y.includes("first round")||y.includes("gone in 60")||D.includes("first_round")||D.includes("gone_in_60"))&&o.add(p.id)}}return t.filter(a=>!o.has(a.id))}calculatePhysicalAdvantage(t,i){const c=(t.rawData.reach_inches||0)-(i.rawData.reach_inches||0),o=(t.rawData.height_inches||0)-(i.rawData.height_inches||0);let a=0,l=0;return c>=3?a+=Math.min(Math.abs(c)*.004,.025):c<=-3&&(l+=Math.min(Math.abs(c)*.004,.025)),o>=3?a+=Math.min(Math.abs(o)*.0025,.015):o<=-3&&(l+=Math.min(Math.abs(o)*.0025,.015)),{f1Advantage:a,f2Advantage:l}}calculateWinProbability(t,i){let c=t.overall+(t.oppTierScore-5)*3,o=i.overall+(i.oppTierScore-5)*3;const a=this.calculatePhysicalAdvantage(t,i);c*=1+a.f1Advantage,o*=1+a.f2Advantage,c*=this.calculateAgeImpact(t),o*=this.calculateAgeImpact(i);const l=this.getInactiveMonths(t),h=this.getInactiveMonths(i);if(l>=18){const O=Math.min((l-18)*.005,.25);c*=1-O}if(h>=18){const O=Math.min((h-18)*.005,.25);o*=1-O}const g=this.getFightsInPeriod(t,18),v=this.getFightsInPeriod(i,18);g>=3&&(c*=1.05),v>=3&&(o*=1.05);const p=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,y=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,D=this.calculateMomentum(t),U=this.calculateMomentum(i);c*=1+D,o*=1+U;let L=.32,ie=.32;p>=75?L=.38:p<50&&(L=.28),y>=75?ie=.38:y<50&&(ie=.28);const te=c+p*L,ue=o+y*ie,B=this.calculateAge(t),re=this.calculateAge(i),K=B-re;let M=te,x=ue;if(Math.abs(K)>=5){const O=Math.min(Math.abs(K)*.005,.03);K>0?(M=te*(1-O),x=ue*(1+O)):(M=te*(1+O),x=ue*(1-O))}const ve=Math.abs(M-x);if(ve>12){const O=1+(ve-12)*.018;M>x?M*=O:x*=O}const ee=M+x;let _e=ee>0?Math.round(M/ee*100):50,A=ee>0?Math.round(x/ee*100):50;if(_e=Math.max(15,Math.min(88,_e)),A=100-_e,_e>A){let O=this.getWinReasoningKey(t,i,p,y);return{winner:t,probability:_e,reasoning:O,adjustedScore1:M,adjustedScore2:x}}else{let O=this.getWinReasoningKey(i,t,y,p);return{winner:i,probability:A,reasoning:O,adjustedScore1:x,adjustedScore2:M}}}predictMethodOfVictory(t,i,c){const o=c.winner,a=o===t?i:t,l=o.overall+(o.oppTierScore-5)*3,h=a.overall+(a.oppTierScore-5)*3,g=Math.abs(l-h),v=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,p=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,y=o===t?v:p,D=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,U=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,L=o===t?D:U,ie=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,te=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,ue=o===t?ie:te,B=a.rawData.Number_of_Fights_36m>0?(a.rawData.loss_ko+a.rawData.loss_tko)/a.rawData.Number_of_Fights_36m*100:0,re=a.rawData.Number_of_Fights_36m>0?a.rawData.loss_sub/a.rawData.Number_of_Fights_36m*100:0,K=B+re,M=g*.3+y*.45+K*.25;if(M<33.5||c.probability<63&&y<29)return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(Math.round(100-M),85),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:v,finishRate2:p};const x=L*.57+B*.43000000000000005,ve=ue*.61+re*.39,ee=L>ue&&B>re,_e=ue>L&&re>B;if(x>ve){let A=Math.min(Math.round(M+x*.32),80);return g>10&&(A+=5),B>30&&(A+=5),ee&&L>22&&B>18&&(A+=7),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(A,85),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:v,finishRate2:p}}else{let A=Math.min(Math.round(M+ve*.32),75);return g>10&&(A+=5),re>24&&(A+=5),_e&&ue>20&&re>15&&(A+=7),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(A,85),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:v,finishRate2:p}}}predictTotalRounds(t,i,c){const o=c.winner,a=o===t?i:t,l=o.overall+(o.oppTierScore-5)*3,h=a.overall+(a.oppTierScore-5)*3,g=Math.abs(l-h),v=(t.rawData.Fight_Duration_Seconds||900)/60,p=(i.rawData.Fight_Duration_Seconds||900)/60,y=o===t?v:p,D=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,U=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,L=o===t?D:U,ie=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,te=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,ue=o===t?ie:te,B=a.rawData.Number_of_Fights_36m>0?(a.rawData.loss_ko+a.rawData.loss_tko+a.rawData.loss_sub)/a.rawData.Number_of_Fights_36m*100:0,re=g*.25+L*.4+B*.25+(15-Math.min(y,15))*.1*10;if(re>40||L>53&&y<9.5||ue>53&&y<8.5){let x=Math.min(Math.round(re+18),75);return g>10&&(x+=5),B>45&&(x+=5),L>65&&(x+=5),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(x,82),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:y}}const K=(v+p)/2,M=(D+U)/2;if(M<12&&K>15.5){let x=Math.min(Math.round(100-M),70);return{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.min(x,72),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:K}}else{let x=67;return re>38&&(x=58),re>32&&re<=38&&(x=63),re<25&&(x=72),re<18&&(x=75),L>60&&(x-=5),L<20&&(x+=5),{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.min(Math.max(Math.round(x),52),78),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:K}}}generateFightProps(t,i,c){const o=this.calculateBettingMetrics(t,i,c);return this.hasDominantGrappler(t,i),this.isStrikerWar(t,i),o.f1SubRate+o.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:o}:o.weightedFinishRate&&o.weightedFinishRate>60&&o.weightedAvgFightTime&&o.weightedAvgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:o}:o.f1KnockdownRate>.6&&o.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:o}:o.f1TakedownRate>15||o.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:o}:o.f1StrikeVolume>120&&o.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:o}:o.f1TakedownRate<5&&o.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:o}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:o}}predictRoundBetting(t,i,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60,g=this.getWeightedMetric(o,a,c,t,.5),v=this.getWeightedMetric(l,h,c,t,1);return g>60&&v<5?{prediction:"Round 1",predictionKey:"betting_markets.round_1",probability:Math.round(Math.min(g+15,85)),reasoning:"betting_markets.reasoning.early_explosive_finish",explanationKey:"betting_markets.explanations.round_1_finish",avgTime:v}:g>40&&v<8?{prediction:"Round 2",predictionKey:"betting_markets.round_2",probability:Math.round(Math.min(g+10,80)),reasoning:"betting_markets.reasoning.second_round_finish",explanationKey:"betting_markets.explanations.round_2_finish",avgTime:v}:{prediction:"Goes to Decision",predictionKey:"betting_markets.goes_to_decision",probability:Math.round(Math.max(100-g,20)),reasoning:"betting_markets.reasoning.likely_decision",explanationKey:"betting_markets.explanations.goes_to_decision",avgTime:v}}analyzeKeyFactors(t,i){const c=[],o=t.rawData.reach_inches||0,a=i.rawData.reach_inches||0,l=Math.abs(o-a);if(l>2){const U=o>a?t.name||"Fighter 1":i.name||"Fighter 2";c.push({label:"combat_analysis.key_factors.reach_advantage",value:`${U} +${l}"`,type:"advantage"})}const h=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,g=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0;c.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${h}% vs ${i.name||"F2"}: ${g}%`,type:"comparison"});const v=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,p=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85;c.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${v}% vs ${i.name||"F2"}: ${p}%`,type:"comparison"});const y=t.rawData.Number_of_Fights_36m||0,D=i.rawData.Number_of_Fights_36m||0;if(Math.abs(y-D)>2){const U=y>D?t.name||"Fighter 1":i.name||"Fighter 2",L=Math.max(y,D),ie=Math.min(y,D);c.push({label:"combat_analysis.key_factors.higher_activity",value:`${U}: ${L} vs ${ie} fights`,type:"advantage"})}return c}analyzeTrends(t,i){const c=[],o=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0;o>=75?c.push({type:"positive",text:`${t.name||"Fighter 1"} has ${o}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:t.name||"Fighter 1",winRate:o},fighter:t.name}):o<50&&c.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${o}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:t.name||"Fighter 1",winRate:o},fighter:t.name}),a>=75?c.push({type:"positive",text:`${i.name||"Fighter 2"} has ${a}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 2",winRate:a},fighter:i.name}):a<50&&c.push({type:"negative",text:`${i.name||"Fighter 2"} struggling at ${a}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 2",winRate:a},fighter:i.name});const l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60,g=(l+h)/2;return c.push({type:"neutral",text:`Combined average fight time: ${g.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:g.toFixed(1)}}),c}calculateMomentum(t){const i=t.streak;if(i===0)return 0;const c=Math.abs(i);return i>0?c>=3?.08:c>=2?.05:.02:c>=3?-.08:c>=2?-.05:-.02}calculateDamageMultiplier(t){return t===0?1:t===1?1.1:t===2?1.25:t===3?1.4:t===4?1.6:1.8}calculateAgeImpact(t){const i=this.calculateAge(t),o={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=(t.rawData.loss_ko||0)+(t.rawData.loss_tko||0),l=this.calculateDamageMultiplier(a),h=(i-o)*l;if(h<=0)return 1;let g=0;return h<=5?g=h*.01:h<=10?g=.05+(h-5)*.015:g=.125+(h-10)*.02,g=Math.min(g,.3),1-g}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,l=new Date(a);if(!isNaN(l.getTime())){const h=new Date;let g=h.getFullYear()-l.getFullYear();const v=h.getMonth()-l.getMonth();return(v<0||v===0&&h.getDate()<l.getDate())&&g--,g}}const i=25,c=2.5,o=t.rawData.Number_of_Fights_36m||0;return Math.round(i+o/c)}getInactiveMonths(t){const i=t.rawData.Number_of_Fights_36m||0;return i>=3?0:i>=2?6:i>=1?12:24}getFightsInPeriod(t,i){const c=i/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*c)}hasBodyShotThreat(t,i){const c=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,o=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0;return c>40||o>40}getWeightedMetric(t,i,c,o,a=.5){const l=c.probability/100,h=1-l;return c.winner===o?t*l+i*h*a:i*l+t*h*a}getFighterStyle(t){const i=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0;return i>15||c>25?"grappler":o>30&&i<10?"striker":"balanced"}hasDominantGrappler(t,i){const c=this.getFighterStyle(t),o=this.getFighterStyle(i),a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,l=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0;return c==="grappler"&&a>20||o==="grappler"&&l>20}isStrikerWar(t,i){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(i)==="striker"}calculateBettingMetrics(t,i,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f1FinishRate:o,f2FinishRate:a,avgFightTime:(l+h)/2,weightedFinishRate:c?this.getWeightedMetric(o,a,c,t,.5):void 0,weightedAvgFightTime:c?this.getWeightedMetric(l,h,c,t,1):void 0}}getWinReasoningKey(t,i,c,o){return t.overall>i.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>i.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>i.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":c>o+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=this.MIN_HIGH_CONFIDENCE?"high":t>=this.MIN_MEDIUM_CONFIDENCE?"medium":(t>=this.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"fight_winner",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:1}}createMethodOfVictoryCard(t){return{id:"method-of-victory",type:"method_of_victory",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{finishRate1:t.finishRate1,finishRate2:t.finishRate2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"total_rounds",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createRoundBettingCard(t){return{id:"round-betting",type:"winner_and_round",category:"secondary",title:"Round Betting",titleKey:"betting_markets.round_betting",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:4}}createMethodAndRoundCard(t){const i=t.probability||70;return{id:"method-and-round",type:"winner_and_round",category:"secondary",title:"Method & Round",titleKey:"betting_markets.method_and_round",prediction:t.prop,predictionKey:t.propKey,confidence:i,confidenceLevel:this.getConfidenceLevel(i),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:5}}calculateImpliedOdds(t){if(t<=0)return"N/A";if(t>=100)return"Even";const i=100/t;if(i>=2){const c=(i-1)*100;return`+${Math.round(c)}`}else{const c=-100/(i-1);return`${Math.round(c)}`}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(i=>(i.type==="fight_winner"||i.type==="method_of_victory"||i.type==="total_rounds"||i.type==="winner_and_round"||i.type==="fight_props")&&i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((i,c)=>i.priority-c.priority)}}const Gt=new qa;var Ya=F('<div class="implied-odds svelte-1lytxch"> </div>'),ja=F('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="winner-name svelte-1lytxch"> </div> <div class="confidence svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Qa=F('<div class="implied-odds svelte-1lytxch"> </div>'),Za=F('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method svelte-1lytxch"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Ja=F('<div class="implied-odds svelte-1lytxch"> </div>'),Xa=F('<div class="bet-explanation svelte-1lytxch"> </div>'),ei=F('<div class="bet-explanation svelte-1lytxch"> </div>'),ti=F('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="rounds"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),ai=F('<div class="implied-odds svelte-1lytxch"> </div>'),ii=F('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="round"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),ri=F('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method-round-combo"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),si=F('<div class="implied-odds svelte-1lytxch"> </div>'),ni=F('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="decision"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),oi=F('<div class="implied-odds svelte-1lytxch"> </div>'),li=F('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="gone-60"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),di=F('<div class="bet-card no-predictions svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="no-pred-title svelte-1lytxch"> </div> <div class="no-pred-subtitle svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),vi=F('<div class="bet-explanation svelte-1lytxch"> </div>'),ci=F('<div class="bet-explanation svelte-1lytxch"> </div>'),_i=F('<div class="bet-card fight-props svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="prop svelte-1lytxch"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),hi=F('<div class="stat-item svelte-1lytxch"><span class="stat-label svelte-1lytxch"> </span> <span class="stat-value svelte-1lytxch"> </span></div>'),gi=F('<div class="bet-card stats svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="key-stats svelte-1lytxch"></div></div>'),ui=F("<div><!></div>"),pi=F('<div class="bet-card trends svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="trend-list svelte-1lytxch"></div></div>'),mi=F('<div class="fight-best-bets svelte-1lytxch"><div class="header svelte-1lytxch"><h2 class="title svelte-1lytxch"><span class="icon svelte-1lytxch"><!></span> </h2> <hr class="title-divider svelte-1lytxch"/> <div class="subtitle svelte-1lytxch"> </div></div> <div class="matchup-header svelte-1lytxch"><div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div> <div class="vs-divider svelte-1lytxch"><span>VS</span></div> <div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1lytxch"><small class="svelte-1lytxch"> </small></div></div>');function yi(Z,t){ut(t,!1);const[i,c]=yt(),o=()=>vt(wa,"$locale",i),a=()=>vt(ft,"$_",i),l=C(),h=C(),g=C(),v=C(),p=C(),y=C(),D=C(),U=C(),L=C(),ie=C(),te=C(),ue=C(),B=C(),re=C(),K=C(),M=C(),x=C(),ve=C(),ee=C(),_e=C();let A=je(t,"fighter1",8,null),O=je(t,"fighter2",8,null);function xe(N,fe){return N.filter(Ce=>Ce.type===fe)}function Ie(N){switch(N){case wt.HIGH:return"high-confidence";case wt.MEDIUM:return"medium-confidence";case wt.LOW:return"low-confidence";default:return""}}let lt=o();H(()=>(T(A()),T(O())),()=>{b(l,A()&&O())}),H(()=>(e(l),T(A()),T(O())),()=>{b(h,e(l)?Gt.generateBetCards(A(),O()):[])}),H(()=>e(h),()=>{b(g,Gt.validatePredictions(e(h)))}),H(()=>(e(l),T(A()),T(O()),e(g),_t),()=>{e(l)&&A()&&O()&&e(g).length>0&&_t.trackBettingAnalysis(A().name,O().name)}),H(()=>(e(g),ye),()=>{b(v,xe(e(g),ye.FIGHT_WINNER))}),H(()=>(e(g),ye),()=>{b(p,xe(e(g),ye.METHOD_OF_VICTORY))}),H(()=>(e(g),ye),()=>{b(y,xe(e(g),ye.TOTAL_ROUNDS))}),H(()=>(e(g),ye),()=>{b(D,xe(e(g),ye.WINNER_AND_ROUND))}),H(()=>(e(g),ye),()=>{b(U,xe(e(g),ye.DISTANCE_YES_NO))}),H(()=>(e(g),ye),()=>{b(L,xe(e(g),ye.GOES_TO_DECISION))}),H(()=>(e(g),ye),()=>{b(ie,xe(e(g),ye.GONE_IN_60))}),H(()=>(e(g),ye),()=>{b(te,xe(e(g),ye.FIGHT_PROPS))}),H(()=>(e(g),ye),()=>{b(ue,xe(e(g),ye.KEY_FACTORS))}),H(()=>(e(g),ye),()=>{b(B,xe(e(g),ye.TRENDS))}),H(()=>(e(g),ye),()=>{b(re,xe(e(g),ye.NO_PREDICTION))}),H(()=>(e(v),e(p),e(y),e(D),e(U),e(L),e(ie)),()=>{b(K,e(v).length+e(p).length+e(y).length+e(D).length+e(U).length+e(L).length+e(ie).length)}),H(()=>e(K),()=>{b(M,e(K)>0)}),H(()=>e(M),()=>{b(x,e(M)?0:1)}),H(()=>(e(te),e(ue),e(B)),()=>{b(ve,e(te).length+e(ue).length+e(B).length)}),H(()=>(e(K),e(x),e(ve)),()=>{b(ee,e(K)+e(x)+e(ve))}),H(()=>o(),()=>{o()!==lt&&lt&&window.location.reload()}),H(()=>e(l),()=>{b(_e,e(l))}),Dt(),pt();var rt=ot(),st=Ue(rt);{var dt=N=>{var fe=mi(),Ce=r(fe),ke=r(Ce),ze=r(ke),Ve=r(ze);Bt(Ve,{size:32});var Be=d(ze),Ke=d(ke,4),$e=r(Ke),Qe=d(Ce,2),et=r(Qe),Ae=r(et),pe=r(Ae),Fe=d(Ae,2),Ge=r(Fe),qe=d(Fe,2),he=r(qe),Se=d(et,4),Ze=r(Se),tt=r(Ze),nt=d(Ze,2),u=r(nt),m=d(nt,2),k=r(m),$=d(Qe,2);let Q;var se=r($);He(se,1,()=>e(v),We,(P,s)=>{var w=ja(),S=r(w),J=r(S),V=d(S,2),W=r(V),G=r(W),X=d(W,2),ge=r(X),me=d(X,2);{var ce=I=>{var Y=Ya(),z=r(Y);R(E=>_(z,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,Y)};j(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var ae=d(V,2),oe=r(ae);R((I,Y,z,E)=>{Ee(w,1,`bet-card moneyline ${I??""}`,"svelte-1lytxch"),_(J,Y),_(G,(e(s),n(()=>e(s).prediction))),_(ge,`${e(s),n(()=>e(s).confidence)??""}% ${z??""}`),_(oe,E)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var be=d(se,2);He(be,1,()=>e(p),We,(P,s)=>{var w=Za(),S=r(w),J=r(S),V=d(S,2),W=r(V),G=r(W),X=d(W,2),ge=r(X),me=d(X,2);{var ce=I=>{var Y=Qa(),z=r(Y);R(E=>_(z,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,Y)};j(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var ae=d(V,2),oe=r(ae);R((I,Y,z,E,de)=>{Ee(w,1,`bet-card method-victory ${I??""}`,"svelte-1lytxch"),_(J,Y),_(G,z),_(ge,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(oe,de)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var le=d(be,2);He(le,1,()=>e(y),We,(P,s)=>{var w=ti(),S=r(w),J=r(S),V=d(S,2),W=r(V),G=r(W),X=d(W,2),ge=r(X),me=d(X,2);{var ce=E=>{var de=Ja(),Me=r(de);R(Ne=>_(Me,`${Ne??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(E,de)};j(me,E=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&E(ce)})}var ae=d(V,2),oe=r(ae),I=d(ae,2);{var Y=E=>{var de=Xa(),Me=r(de);R(Ne=>_(Me,Ne),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),f(E,de)},z=E=>{var de=ot(),Me=Ue(de);{var Ne=Xe=>{var ct=ei(),xt=r(ct);R(()=>_(xt,(e(s),n(()=>e(s).explanation)))),f(Xe,ct)};j(Me,Xe=>{e(s),n(()=>e(s).explanation)&&Xe(Ne)},!0)}f(E,de)};j(I,E=>{e(s),n(()=>e(s).explanationKey)?E(Y):E(z,!1)})}R((E,de,Me,Ne,Xe)=>{Ee(w,1,`bet-card total-rounds ${E??""}`,"svelte-1lytxch"),_(J,de),_(G,Me),_(ge,`${e(s),n(()=>e(s).confidence)??""}% ${Ne??""}`),_(oe,Xe)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var De=d(le,2);He(De,1,()=>e(D),We,(P,s)=>{var w=ii(),S=r(w),J=r(S),V=d(S,2),W=r(V),G=r(W),X=d(W,2),ge=r(X),me=d(X,2);{var ce=I=>{var Y=ai(),z=r(Y);R(E=>_(z,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,Y)};j(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var ae=d(V,2),oe=r(ae);R((I,Y,z,E,de)=>{Ee(w,1,`bet-card round-betting ${I??""}`,"svelte-1lytxch"),_(J,Y),_(G,z),_(ge,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(oe,de)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var Oe=d(De,2);He(Oe,1,()=>e(U),We,(P,s)=>{var w=ri(),S=r(w),J=r(S),V=d(S,2),W=r(V),G=r(W),X=d(W,2),ge=r(X),me=d(V,2),ce=r(me);R((ae,oe,I,Y,z)=>{Ee(w,1,`bet-card method-round ${ae??""}`,"svelte-1lytxch"),_(J,oe),_(G,I),_(ge,Y),_(ce,z)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var Le=d(Oe,2);He(Le,1,()=>e(L),We,(P,s)=>{var w=ni(),S=r(w),J=r(S),V=d(S,2),W=r(V),G=r(W),X=d(W,2),ge=r(X),me=d(X,2);{var ce=I=>{var Y=si(),z=r(Y);R(E=>_(z,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,Y)};j(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var ae=d(V,2),oe=r(ae);R((I,Y,z,E,de)=>{Ee(w,1,`bet-card decision-type ${I??""}`,"svelte-1lytxch"),_(J,Y),_(G,z),_(ge,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(oe,de)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var Pe=d(Le,2);He(Pe,1,()=>e(ie),We,(P,s)=>{var w=li(),S=r(w),J=r(S),V=d(S,2),W=r(V),G=r(W),X=d(W,2),ge=r(X),me=d(X,2);{var ce=I=>{var Y=oi(),z=r(Y);R(E=>_(z,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,Y)};j(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var ae=d(V,2),oe=r(ae);R((I,Y,z,E,de)=>{Ee(w,1,`bet-card gone-in-60 ${I??""}`,"svelte-1lytxch"),_(J,Y),_(G,z),_(ge,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(oe,de)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var Je=d(Pe,2);He(Je,1,()=>e(re),We,(P,s)=>{var w=di(),S=r(w),J=r(S);Kt(J,{size:16,style:"display: inline; margin-right: 0.25rem;"});var V=d(J),W=d(S,2),G=r(W),X=r(G),ge=d(G,2),me=r(ge),ce=d(W,2),ae=r(ce);R((oe,I,Y,z)=>{_(V,` ${oe??""}`),_(X,I),_(me,Y),_(ae,z)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var at=d(Je,2);He(at,1,()=>e(te),We,(P,s)=>{var w=_i(),S=r(w),J=r(S);zt(J,{size:16,style:"display: inline; margin-right: 0.25rem;"});var V=d(J),W=d(S,2),G=r(W),X=r(G),ge=d(G,2),me=r(ge),ce=d(W,2),ae=r(ce),oe=d(ce,2);{var I=z=>{var E=vi(),de=r(E);R(Me=>_(de,Me),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),f(z,E)},Y=z=>{var E=ot(),de=Ue(E);{var Me=Ne=>{var Xe=ci(),ct=r(Xe);R(()=>_(ct,(e(s),n(()=>e(s).explanation)))),f(Ne,Xe)};j(de,Ne=>{e(s),n(()=>e(s).explanation)&&Ne(Me)},!0)}f(z,E)};j(oe,z=>{e(s),n(()=>e(s).explanationKey)?z(I):z(Y,!1)})}R((z,E,de,Me,Ne)=>{_(V,` ${z??""}`),_(X,E),_(me,`${de??""}: ${Me??""}`),_(ae,Ne)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.value"))),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(P,w)});var it=d(at,2);He(it,1,()=>e(ue),We,(P,s)=>{var w=gi(),S=r(w),J=r(S),V=d(S,2);He(V,5,()=>(e(s),n(()=>e(s).metadata?.factors||[])),We,(W,G)=>{var X=hi(),ge=r(X),me=r(ge),ce=d(ge,2),ae=r(ce);R(oe=>{_(me,oe),_(ae,(e(G),n(()=>e(G).value)))},[()=>(a(),e(G),n(()=>a()(e(G).label)))]),f(W,X)}),R(W=>_(J,W),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),f(P,w)});var q=d(it,2);He(q,1,()=>e(B),We,(P,s)=>{var w=pi(),S=r(w),J=r(S),V=d(S,2);He(V,5,()=>(e(s),n(()=>e(s).metadata?.trends||[])),We,(W,G)=>{var X=ui(),ge=r(X);{var me=ae=>{var oe=gt();R(I=>_(oe,I),[()=>(a(),e(G),n(()=>a()(e(G).textKey,{values:e(G).params||{}})))]),f(ae,oe)},ce=ae=>{var oe=gt();R(()=>_(oe,(e(G),n(()=>e(G).text)))),f(ae,oe)};j(ge,ae=>{e(G),n(()=>e(G).textKey)?ae(me):ae(ce,!1)})}R(()=>Ee(X,1,`trend-item ${e(G),n(()=>e(G).type)??""}`,"svelte-1lytxch")),f(W,X)}),R(W=>_(J,W),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),f(P,w)});var ne=d($,2),Re=r(ne),Te=r(Re);R((P,s,w,S)=>{_(Be,` ${P??""}`),_($e,s),_(pe,(T(A()),n(()=>A().name))),_(Ge,`${T(A()),n(()=>A().rawData.win)??""}-${T(A()),n(()=>A().rawData.loss)??""}-${T(A()),n(()=>A().rawData.draws)??""}`),_(he,(T(A()),n(()=>A().archetype.archetypeEmojis))),_(tt,(T(O()),n(()=>O().name))),_(u,`${T(O()),n(()=>O().rawData.win)??""}-${T(O()),n(()=>O().rawData.loss)??""}-${T(O()),n(()=>O().rawData.draws)??""}`),_(k,(T(O()),n(()=>O().archetype.archetypeEmojis))),Q=Ee($,1,"betting-grid svelte-1lytxch",null,Q,w),_(Te,`* ${S??""}`)},[()=>(a(),n(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),n(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(ee)<=3}),()=>(a(),n(()=>a()("combat_analysis.disclaimer")))]),f(N,fe)};j(st,N=>{e(_e)&&N(dt)})}f(Z,rt),mt(),c()}var fi=F('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),bi=F('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),wi=F('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),Di=F('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),xi=F('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),ki=F('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),Fi=F('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),Ri=F('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function Ii(Z,t){ut(t,!1);const[i,c]=yt(),o=()=>vt(x,"$urlSearchParams",i),a=()=>vt(ft,"$_",i),l=C(),h=C(),g=C(),v=C(),p=C(),y=C(),D=C(),U=C(),L=C(),ie=C();let te=je(t,"isDarkMode",8,!0),ue=je(t,"toggleTheme",8,()=>{}),B=C(new Map),re=C(new Map),K=C(),M=C(new Map);const x=ma(ht());function ve(u,m){const k=`fighter${m}`;Et({[k]:u}),x.set(ht())}let ee=C(!1),_e=C(!1),A=C(!1),O=C(!1);ya(()=>{window.Highcharts=fa,x.set(ht());const u=Da(()=>{x.set(ht())});return xe(),u});async function xe(){try{b(ee,!0);const{allRawFightersDataMap:u,allRawFightersByDivision:m,processedFightersMap:k,processedFighters:$}=await ka.loadFightersFromCSV();b(B,u),b(M,m),b(re,k),b(K,$),b(_e,!0)}catch(u){console.error("Error loading data:",u)}finally{b(ee,!1)}}function Ie(u=[]){return u.map(m=>({value:m.nameWithNickname,label:m.name,imageUrl:lt(m)}))}function lt(u){return u.pictureUrl&&u.pictureUrl!==""?u.pictureUrl:rt(u.division)?"no_photo_female.png":"no_photo_male.png"}function rt(u){return!!(u&&u.startsWith("W_"))}function st(u){ve(u,1)}function dt(u){ve(u,2)}function N(){_t.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(l)||"none",fighter2:e(h)||"none"}),Et({fighter1:"",fighter2:""}),x.set(ht())}function fe(){if(!e(l)||!e(h))return;const u=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";_t.trackFightShare(e(l),e(h),u);const m=xa("/",{fighter1:e(l),fighter2:e(h)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(h)} - Fight Radar`,text:`Compara las estadísticas de ${e(l)} vs ${e(h)}`,url:m}).catch(console.error):navigator.clipboard.writeText(m).then(()=>{Ce("¡Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",m)})}function Ce(u){const m=document.createElement("div");m.className="notification",m.textContent=u,m.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(m),setTimeout(()=>{m.style.opacity="1",m.style.transform="translateY(0)"},10),setTimeout(()=>{m.style.opacity="0",m.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(m)},300)},3e3)}function ke(u,m,k){const $=[];return u&&$.push({name:u.name,data:[u.fightRadar.STR_OFF,u.fightRadar.STR_DEF,u.fightRadar.TD_OFF,u.fightRadar.TD_DEF,u.fightRadar.CTRL,u.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),m&&$.push({name:m.name,data:[m.fightRadar.STR_OFF,m.fightRadar.STR_DEF,m.fightRadar.TD_OFF,m.fightRadar.TD_DEF,m.fightRadar.CTRL,m.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&$.push({name:k.name,data:[k.fightRadar.STR_OFF,k.fightRadar.STR_DEF,k.fightRadar.TD_OFF,k.fightRadar.TD_DEF,k.fightRadar.CTRL,k.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),$}function ze(u,m,k){const $=[];return u&&$.push({name:u.name,data:[u.iqRadar.distance,u.iqRadar.adaptability,u.iqRadar.composure,u.iqRadar.decisions,u.iqRadar.rhythm,u.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),m&&$.push({name:m.name,data:[m.iqRadar.distance,m.iqRadar.adaptability,m.iqRadar.composure,m.iqRadar.decisions,m.iqRadar.rhythm,m.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&$.push({name:k.name,data:[k.iqRadar.distance,k.iqRadar.adaptability,k.iqRadar.composure,k.iqRadar.decisions,k.iqRadar.rhythm,k.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),$}function Ve(u){const m={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[k,$,Q]=u.combinedRole.split("+")??["AT"];let se=[[k,100]];if($&&Q?se=[[k,33],[$,34],[Q,33]]:$?se=[[k,50],[$,50]]:Q&&(se=[[k,60],[Q,40]]),se.length===1){const[be,le]=se[0],De=Math.min(le,70);return`linear-gradient(135deg, ${m[be]} 0%, ${m[be]} ${De}%, var(--card-bg) 100%)`}else{const be=se.reduce((Le,[,Pe])=>Le+Pe,0);let le=[],De=0;return se.forEach(([Le,Pe],Je)=>{const at=Pe/be*85,it=m[Le];Je===0&&le.push(`${it} ${De}%`),De+=at,Je===se.length-1?(le.push(`${it} ${De}%`),le.push("var(--card-bg) 100%")):le.push(`${it} ${De}%`)}),`linear-gradient(135deg, ${le.join(", ")})`}}H(()=>o(),()=>{b(l,o().get("fighter1")||"")}),H(()=>o(),()=>{b(h,o().get("fighter2")||"")}),H(()=>(e(K),e(h)),()=>{b(g,Ie(e(K)).filter(u=>u.value!==e(h)))}),H(()=>(e(K),e(l)),()=>{b(v,Ie(e(K)).filter(u=>u.value!==e(l)))}),H(()=>(e(l),e(h),e(B),e(M),At),()=>{b(p,(()=>{if(!e(l)||!e(h))return null;const u=e(B).get(e(l)),m=e(B).get(e(h));if(!u||!m)return null;if(u.Division===m.Division){const k=u.Division;if(e(M).has(k))return At(k,e(M).get(k))}return null})())}),H(()=>(e(l),e(re)),()=>{b(y,e(l)?e(re).get(e(l))??null:null)}),H(()=>(e(h),e(re)),()=>{b(D,e(h)?e(re).get(e(h))??null:null)}),H(()=>(e(p),e(l),e(h),e(B),e(M),Lt),()=>{b(U,(()=>{if(!e(p)||!e(l)||!e(h))return null;const u=e(B).get(e(l));return!u||!e(M).has(u.Division)?null:Lt(e(p),e(M).get(u.Division))})())}),H(()=>(e(y),e(D),e(U)),()=>{b(L,ke(e(y)??null,e(D)??null,e(U)??null))}),H(()=>(e(y),e(D),e(U)),()=>{b(ie,ze(e(y),e(D),e(U)))}),H(()=>(e(ee),e(B),e(l),e(h),_t),()=>{const u=!e(ee)&&e(B).size>0&&e(B).has(e(l))&&e(B).has(e(h));b(A,!!(e(l)&&e(h)&&u)),b(O,!!(e(l)&&e(h)&&u)),e(l)&&e(h)&&u&&_t.trackFighterComparison(e(l),e(h))}),Dt(),pt();var Be=Ri(),Ke=r(Be),$e=r(Ke);ba($e,{showThemeToggle:!0,get isDarkMode(){return te()},get toggleTheme(){return ue()}});var Qe=d($e,2);{var et=u=>{var m=fi(),k=r(m),$=d(r(k),2),Q=r($);R(se=>_(Q,se),[()=>(a(),n(()=>a()("fight_radar.loading_data")))]),f(u,m)};j(Qe,u=>{e(ee)&&u(et)})}var Ae=d(Qe,2);{var pe=u=>{var m=Di(),k=r(m),$=r(k),Q=r($),se=r(Q),be=d(Q,2),le=r(be);{let q=bt(()=>(a(),n(()=>a()("common.select_fighter"))));Ut(le,{id:"fighter1-select",get placeholder(){return e(q)},disabled:!1,get options(){return e(g)},get selectedValue(){return e(l)},onSelectionChange:st})}var De=d($,4),Oe=r(De),Le=r(Oe),Pe=d(Oe,2),Je=r(Pe);{let q=bt(()=>(a(),n(()=>a()("common.select_fighter"))));Ut(Je,{id:"fighter2-select",get placeholder(){return e(q)},disabled:!1,get options(){return e(v)},get selectedValue(){return e(h)},onSelectionChange:dt})}var at=d(k,2);{var it=q=>{var ne=wi(),Re=r(ne);{var Te=w=>{var S=bi(),J=d(r(S));R(V=>_(J,` ${V??""}`),[()=>(a(),n(()=>a()("fight_radar.share_fight")))]),Ye("click",S,fe),f(w,S)};j(Re,w=>{e(l)&&e(h)&&w(Te)})}var P=d(Re,2),s=d(r(P));R(w=>_(s,` ${w??""}`),[()=>(a(),n(()=>a()("fight_radar.clear_radars")))]),Ye("click",P,N),f(q,ne)};j(at,q=>{(e(l)||e(h))&&q(it)})}R((q,ne)=>{_(se,`${q??""}:`),_(Le,`${ne??""}:`)},[()=>(a(),n(()=>a()("common.fighter_1"))),()=>(a(),n(()=>a()("common.fighter_2")))]),f(u,m)};j(Ae,u=>{e(_e)&&u(pe)})}var Fe=d(Ae,2);{var Ge=u=>{var m=ot(),k=Ue(m);{var $=Q=>{var se=xi(),be=r(se),le=r(be);Kt(le,{size:20,class:"disclaimer-icon"});var De=d(le,2),Oe=r(De),Le=d(be,2),Pe=r(Le);R((Je,at)=>{_(Oe,Je),_(Pe,at)},[()=>(a(),n(()=>a()("fight_radar.cross_division_title"))),()=>(a(),T(Ft),e(y),e(D),n(()=>a()("fight_radar.cross_division_text",{values:{division1:Ft(e(y).rawData.Division),division2:Ft(e(D).rawData.Division)}})))]),f(Q,se)};j(k,Q=>{e(y),e(D),n(()=>e(y)?.rawData&&e(D)?.rawData&&e(y).rawData.Division!==e(D).rawData.Division)&&Q($)})}f(u,m)};j(Fe,u=>{e(l)&&e(h)&&e(A)&&u(Ge)})}var qe=d(Fe,2);{var he=u=>{var m=ki(),k=r(m),$=r(k);Vt($,{get fighter(){return e(y)},id:"fighter1-info"});var Q=d(k,2),se=r(Q);Vt(se,{get fighter(){return e(D)},id:"fighter2-info"}),R((be,le)=>{Ct(k,`background: ${be??""}`),Ct(Q,`background: ${le??""}`)},[()=>(e(y),n(()=>e(y)?Ve(e(y).archetype):"var(--card-bg)")),()=>(e(D),n(()=>e(D)?Ve(e(D).archetype):"var(--card-bg)"))]),f(u,m)};j(qe,u=>{e(A)&&u(he)})}var Se=d(qe,2);{var Ze=u=>{var m=Fi(),k=r(m),$=r(k);Ot($,()=>(e(l),e(h),e(L),n(()=>`${e(l)}-${e(h)}-${e(L).length}`)),be=>{{let le=bt(()=>(T(Pt),n(Pt)));Wt(be,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(le)},get series(){return e(L)},isIQRadar:!1})}});var Q=d(k,2),se=r(Q);Ot(se,()=>(e(l),e(h),e(ie),n(()=>`${e(l)}-${e(h)}-${e(ie).length}`)),be=>{{let le=bt(()=>(T(Ht),n(Ht)));Wt(be,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(le)},get series(){return e(ie)},isIQRadar:!0})}}),f(u,m)};j(Se,u=>{e(O),e(L),n(()=>e(O)&&e(L).length>0)&&u(Ze)})}var tt=d(Se,2);yi(tt,{get fighter1(){return e(y)},get fighter2(){return e(D)}});var nt=d(tt,2);Ba(nt,{}),f(Z,Be),mt(),c()}export{Ii as default};
