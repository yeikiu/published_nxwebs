import{g as yi,p as Ye,l as X,h as u,m as b,j as N,o as e,k as Ti,n as wi,f as P,H as Be,$ as Wi,i as te,c as s,q as c,Z as $i,t as q,E as be,s as He,b as m,r as Di,u as xi,x as $e,z as n,B as f,A as fi,_ as Mt,v as oi,K as ii,L as si,V as Ai,a0 as St,a1 as bi,y as pi,a2 as Ct,a as Kt,a3 as Pt,a4 as Lt,a5 as et,a6 as it,T as Ki,G as Ot,C as tt,U as Ii,w as Bt,N as ki,a7 as Vi}from"./lucide-BZTUuGOE.js";import{H as Nt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Et,U as Wt}from"./UpcomingFights-hq9MzW_w.js";import{$ as Mi,A as gi,n as at,a as $t,v as At,g as vi,b as It,u as _i,c as Vt}from"./index-CI214M3p.js";import{c as Si,g as Hi,f as mi,a as Ht,b as qi,p as Gi,d as Ui,e as ji}from"./fighters_service-D4N7sTcR.js";import{R as qt,a as zi}from"./RadarChart-DPJSzcFy.js";import{f as Yi,a as Qi,F as Gt}from"./unit_conversion-rMfNRqYE.js";import"./highcharts-DyRVWUji.js";var Ut=P('<img class="svelte-gkl5a1"/>'),jt=P('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),zt=P("<!> <span> </span>",1),Yt=P("<span> </span>"),Qt=P('<img class="svelte-gkl5a1"/>'),Xt=P('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Zt=P('<button type="button"><!> <span> </span></button>'),Jt=P('<div class="no-results svelte-gkl5a1"> </div>'),ea=P('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ia=P('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Xi(j,i){yi(i,!1);const[a,g]=xi(),h=()=>fi(Mi,"$_",a),t=b(),o=b();let l=Ye(i,"id",8),y=Ye(i,"placeholder",8,""),d=Ye(i,"disabled",8,!0),k=Ye(i,"options",24,()=>[]),A=Ye(i,"selectedValue",12,""),U=Ye(i,"onSelectionChange",8,void 0),T=Ye(i,"onOpenStateChange",8,void 0),Y=Ye(i,"shouldOpen",8,!1),H=b(!1),F=b(),Z=b(),G=b(""),re=b(!1);function L(){d()||(u(H,!e(H)),e(H)&&setTimeout(()=>e(Z)?.focus(),0))}function _(I){A(I.value),u(G,""),u(H,!1),U()&&U()(I.value,I)}function V(I){const ne=I.target;u(G,ne.value)}function O(I){I.key==="Enter"&&e(o).length>0?(_(e(o)[0]),I.preventDefault()):I.key==="Escape"&&(u(G,""),u(H,!1))}function ae(I){e(F)&&!e(F).contains(I.target)&&(u(H,!1),u(G,""))}function J(I){I.key==="Escape"&&u(H,!1)}X(()=>(N(k()),N(A())),()=>{u(t,k().find(I=>I.value===A()))}),X(()=>(N(Y()),e(re),N(d()),e(Z)),()=>{Y()&&!e(re)&&!d()?(u(re,!0),u(H,!0),setTimeout(()=>e(Z)?.focus(),0)):Y()||u(re,!1)}),X(()=>(N(T()),e(H)),()=>{T()&&T()(e(H))}),X(()=>(e(G),N(k()),Si),()=>{u(o,e(G)?k().filter(I=>Si(I.label.toLowerCase()).includes(Si(e(G).toLowerCase()))):k())}),Ti(),wi();var E=ia();Be("click",Wi,ae),Be("keydown",Wi,J);var C=s(E);let $;var se=s(C),Q=s(se);{var Ke=I=>{var ne=zt(),Fe=$e(ne);{var Pe=oe=>{var ue=Ut();q(()=>{be(ue,"src",(e(t),n(()=>e(t).imageUrl))),be(ue,"alt",(e(t),n(()=>e(t).label)))}),m(oe,ue)},qe=oe=>{var ue=oi(),Ge=$e(ue);{var Ie=We=>{var ye=jt(),Se=s(ye);Ai(Se,()=>e(t).iconComponent,(he,ee)=>{ee(he,{size:16})}),m(We,ye)};te(Ge,We=>{e(t),n(()=>e(t)?.iconComponent)&&We(Ie)},!0)}m(oe,ue)};te(Fe,oe=>{e(t),n(()=>e(t)?.imageUrl)?oe(Pe):oe(qe,!1)})}var Ae=c(Fe,2),Ee=s(Ae);q(()=>f(Ee,(e(t),n(()=>e(t).label)))),m(I,ne)},Ue=I=>{var ne=Yt(),Fe=s(ne);q(Pe=>f(Fe,Pe),[()=>(N(y()),h(),n(()=>y()||h()("common.select_option")))]),m(I,ne)};te(Q,I=>{e(t)?I(Ke):I(Ue,!1)})}var x=c(se,2);let ve;var Me=c(C,2);{var Ne=I=>{var ne=ea(),Fe=s(ne),Pe=s(Fe);$i(Pe,ye=>u(Z,ye),()=>e(Z));var qe=c(Fe,2),Ae=s(qe);let Ee;var oe=s(Ae),ue=s(oe),Ge=c(Ae,2);{var Ie=ye=>{var Se=oi(),he=$e(Se);ii(he,1,()=>e(o),si,(ee,ge)=>{var Ve=Zt();let je;var Xe=s(Ve);{var ze=S=>{var de=Qt();q(()=>{be(de,"src",(e(ge),n(()=>e(ge).imageUrl))),be(de,"alt",(e(ge),n(()=>e(ge).label)))}),Be("error",de,Le=>{Le.currentTarget.style.display="none"}),m(S,de)},ni=S=>{var de=oi(),Le=$e(de);{var Je=ei=>{var li=Xt(),hi=s(li);Ai(hi,()=>e(ge).iconComponent,(v,p)=>{p(v,{size:16})}),m(ei,li)};te(Le,ei=>{e(ge),n(()=>e(ge)?.iconComponent)&&ei(Je)},!0)}m(S,de)};te(Xe,S=>{e(ge),n(()=>e(ge)?.imageUrl)?S(ze):S(ni,!1)})}var Ze=c(Xe,2),ri=s(Ze);q(S=>{je=He(Ve,1,"dropdown-item svelte-gkl5a1",null,je,S),f(ri,(e(ge),n(()=>e(ge).label)))},[()=>({selected:A()===e(ge).value})]),Be("click",Ve,()=>_(e(ge))),m(ee,Ve)}),m(ye,Se)},We=ye=>{var Se=oi(),he=$e(Se);{var ee=ge=>{var Ve=Jt(),je=s(Ve);q(()=>f(je,`No se encontraron resultados para "${e(G)??""}"`)),m(ge,Ve)};te(he,ge=>{e(G)&&ge(ee)},!0)}m(ye,Se)};te(Ge,ye=>{e(o),n(()=>e(o).length>0)?ye(Ie):ye(We,!1)})}q((ye,Se,he)=>{be(Pe,"placeholder",ye),be(qe,"id",`dropdown-options-${l()??""}`),Ee=He(Ae,1,"dropdown-item svelte-gkl5a1",null,Ee,Se),f(ue,he)},[()=>(h(),n(()=>h()("common.search")||"Search...")),()=>({selected:A()===""}),()=>(N(y()),h(),n(()=>y()||h()("common.select_option")))]),Mt(Pe,()=>e(G),ye=>u(G,ye)),Be("input",Pe,V),Be("keydown",Pe,O),Be("click",Ae,()=>_({value:"",label:y(),imageUrl:""})),m(I,ne)};te(Me,I=>{e(H)&&I(Ne)})}$i(E,I=>u(F,I),()=>e(F)),q((I,ne)=>{be(E,"id",l()),$=He(C,1,"dropdown-button svelte-gkl5a1",null,$,I),C.disabled=d(),be(C,"aria-expanded",e(H)),be(C,"aria-controls",`dropdown-options-${l()??""}`),ve=He(x,1,"dropdown-arrow svelte-gkl5a1",null,ve,ne)},[()=>({disabled:d(),open:e(H)}),()=>({rotated:e(H)})]),Be("click",C,L),m(j,E),Di(),g()}function Ci(j,i){if(i()){gi.trackFighterCardCTA(i().nameWithNickname,"view_profile");const a=`/data-center/fighter-details?fighter=${encodeURIComponent(i().nameWithNickname)}`;at(a)}}function ta(j,i){u(i,!e(i))}var aa=P('<img class="fighter-image svelte-1cmiluv"/> <div class="fighter-placeholder svelte-1cmiluv" style="display: none;">Picture Unavailable</div>',1),sa=P('<div class="fighter-placeholder svelte-1cmiluv">Picture Unavailable</div>'),na=P('<span class="division-ranking champion svelte-1cmiluv" title="Champion"><!></span>'),oa=P('<span class="division-ranking ranked svelte-1cmiluv"> </span>'),ra=(j,i)=>j.key==="Enter"&&i(),la=P('<div class="stat-item role-disc-clickable svelte-1cmiluv" role="button" tabindex="0"><span class="stat-label svelte-1cmiluv">ROLE-DISC:</span> <span><div class="role-emojis svelte-1cmiluv"> </div> <div class="role-name svelte-1cmiluv"> </div></span></div>'),ha=P('<div class="archetype-fields svelte-1cmiluv"><div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value description svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value favorite-zone svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value strengths svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value weaknesses svelte-1cmiluv"> </div></div></div>'),da=P('<hr class="archetype-divider svelte-1cmiluv"/> <div class="archetype-container svelte-1cmiluv"><div class="archetype-section svelte-1cmiluv"><button type="button" class="archetype-section-title svelte-1cmiluv"><span><!></span> </button> <!></div></div>',1),ca=P('<div class="fighter-header svelte-1cmiluv"><div class="header-actions svelte-1cmiluv"><!> <button type="button" class="fighter-detail-cta svelte-1cmiluv" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1cmiluv"><div class="fighter-image-container svelte-1cmiluv"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1cmiluv"><div class="fighter-name svelte-1cmiluv"> </div></button> <div class="fighter-division-container svelte-1cmiluv"><span class="fighter-division svelte-1cmiluv"> </span> <!></div> <div class="star-rating svelte-1cmiluv"><div class="stars-container svelte-1cmiluv"></div></div> <div class="fighter-stats svelte-1cmiluv"><!> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value career-record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span><!></span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value height svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value reach svelte-1cmiluv"> </span></div></div> <!>',1),va=P('<div class="empty-card svelte-1cmiluv"><div class="empty-message svelte-1cmiluv"> </div></div>'),ua=P('<div class="fighter-card svelte-1cmiluv"><!></div> <!>',1);function Zi(j,i){yi(i,!1);const[a,g]=xi(),h=()=>fi(Mi,"$_",a),t=b(),o=b(),l=b(),y=b();let d=Ye(i,"fighter",8,null),k=Ye(i,"id",8,""),A=b(!1),U=b(!1);function T(){u(A,!0)}function Y(){u(A,!1)}X(()=>h(),()=>{u(t,_=>{if(!_||!_.startsWith("@ARCHETYPE_"))return _;let V="",O="";if(_.includes("_DESCRIPTION"))V=_.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),O="description";else if(_.includes("_FAVORITE_ZONE"))V=_.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),O="favorite_zone";else if(_.includes("_STRENGTHS"))V=_.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),O="strengths";else if(_.includes("_WEAKNESSES"))V=_.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),O="weaknesses";else{const E=_.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!E)return _;V=E[1],O=E[2].toLowerCase()}const ae=`archetype_data.${V}.${O}`,J=h()(ae);return _.includes("_WEAKNESSES"),J!==ae?J:_})}),X(()=>(N(d()),Hi),()=>{u(o,d()?Hi(d().archetype):null)}),X(()=>(N(d()),Yi),()=>{u(l,d()?.rawData.height_inches?Yi(d().rawData.height_inches):"-")}),X(()=>(N(d()),Qi),()=>{u(y,d()?.rawData.reach_inches?Qi(d().rawData.reach_inches):"-")}),Ti(),wi();var H=ua(),F=$e(H),Z=s(F);{var G=_=>{var V=ca(),O=$e(V),ae=s(O),J=s(ae);Gt(J,{get fighterFullName(){return N(d()),n(()=>d().name)},size:"large"});var E=c(J,2);E.__click=[Ci,d];var C=s(E);St(C,{size:16});var $=c(ae,2);$.__click=[Ci,d];var se=s($),Q=s(se);{var Ke=w=>{var r=aa(),D=$e(r);q(()=>{be(D,"src",(N(d()),n(()=>d().pictureUrl))),be(D,"alt",`${N(d()),n(()=>d().name)??""} fighter profile picture`)}),Be("error",D,B=>{B.currentTarget.style.display="none";const z=B.currentTarget.nextElementSibling;z&&(z.style.display="block")}),m(w,r)},Ue=w=>{var r=sa();m(w,r)};te(Q,w=>{N(d()),n(()=>d().pictureUrl)?w(Ke):w(Ue,!1)})}var x=c(O,2);x.__click=[Ci,d];var ve=s(x),Me=s(ve),Ne=c(x,2),I=s(Ne),ne=s(I),Fe=c(I,2);{var Pe=w=>{var r=oi(),D=$e(r);{var B=K=>{var M=na(),W=s(M);Pt(W,{size:16}),m(K,M)},z=K=>{var M=oa(),W=s(M);q(()=>{be(M,"title",`Division Ranking #${N(d()),n(()=>d().rawData.division_ranking)??""}`),f(W,`#${N(d()),n(()=>d().rawData.division_ranking)??""}`)}),m(K,M)};te(D,K=>{N(d()),n(()=>d().rawData.division_ranking==="0")?K(B):K(z,!1)})}m(w,r)};te(Fe,w=>{N(d()),n(()=>d().rawData.division_ranking!==void 0&&d().rawData.division_ranking!=="")&&w(Pe)})}var qe=c(Ne,2),Ae=s(qe),Ee=c(qe,2),oe=s(Ee);{var ue=w=>{var r=la();r.__click=T,r.__keydown=[ra,T];var D=s(r),B=c(D,2),z=s(B),K=s(z),M=c(z,2),W=s(M);q((le,me)=>{be(r,"aria-label",le),be(D,"title",me),He(B,1,`stat-value role-indicator archetype-dots archetype-${e(o),n(()=>e(o).type)??""}`,"svelte-1cmiluv"),be(B,"title",(e(o),n(()=>e(o).tooltip))),f(K,(e(o),n(()=>e(o).label))),f(W,(e(o),n(()=>e(o).name)))},[()=>(h(),n(()=>h()("role_disc_modal.open_modal_aria_label"))),()=>(h(),n(()=>h()("role_disc_modal.archetype_tooltip")))]),m(w,r)};te(oe,w=>{e(o)&&w(ue)})}var Ge=c(oe,2),Ie=s(Ge),We=s(Ie),ye=c(Ie,2),Se=s(ye),he=c(Ge,2),ee=s(he),ge=s(ee),Ve=c(ee,2),je=s(Ve),Xe=c(he,2),ze=s(Xe),ni=s(ze),Ze=c(ze,2);let ri;var S=s(Ze);{var de=w=>{var r=pi();q(()=>f(r,`+${N(d()),n(()=>d().streak)??""}W`)),m(w,r)},Le=w=>{var r=oi(),D=$e(r);{var B=K=>{var M=pi();q(()=>f(M,`${N(d()),n(()=>d().streak)??""}L`)),m(K,M)},z=K=>{var M=pi("-");m(K,M)};te(D,K=>{N(d()),n(()=>d().streak<0)?K(B):K(z,!1)},!0)}m(w,r)};te(S,w=>{N(d()),n(()=>d().streak>0)?w(de):w(Le,!1)})}var Je=c(Xe,2),ei=s(Je),li=s(ei),hi=c(ei,2),v=s(hi),p=c(Je,2),R=s(p),ie=s(R),Te=c(R,2),ke=s(Te),Oe=c(Ee,2);{var Ce=w=>{var r=da(),D=c($e(r),2),B=s(D),z=s(B);z.__click=[ta,U];var K=s(z);let M;var W=s(K);Ct(W,{size:20});var le=c(K),me=c(z,2);{var Re=fe=>{var _e=ha(),ce=s(_e),xe=s(ce),we=s(xe),pe=s(we);Lt(pe,{size:18});var Qe=c(we,2),ti=s(Qe),ai=c(xe,2),di=s(ai),ui=c(ce,2),Ri=s(ui),Pi=s(Ri),st=s(Pi);et(st,{size:18});var nt=c(Pi,2),ot=s(nt),rt=c(Ri,2),lt=s(rt),Li=c(ui,2),Oi=s(Li),Bi=s(Oi),ht=s(Bi);it(ht,{size:18});var dt=c(Bi,2),ct=s(dt),vt=c(Oi,2),ut=s(vt),gt=c(Li,2),Ni=s(gt),Ei=s(Ni),ft=s(Ei);Ki(ft,{size:18});var _t=c(Ei,2),pt=s(_t),mt=c(Ni,2),bt=s(mt);q((yt,Tt,wt,Dt,Rt,kt,Ft,xt)=>{f(ti,yt),f(di,Tt),f(ot,wt),f(lt,Dt),f(ct,Rt),f(ut,kt),f(pt,Ft),f(bt,xt)},[()=>(h(),n(()=>h()("archetype.tactical_description"))),()=>(e(t),N(d()),n(()=>e(t)(d().archetype.description))),()=>(h(),n(()=>h()("archetype.preferred_zone"))),()=>(e(t),N(d()),n(()=>e(t)(d().archetype.favoriteZone))),()=>(h(),n(()=>h()("archetype.strengths"))),()=>(e(t),N(d()),n(()=>e(t)(d().archetype.strengths))),()=>(h(),n(()=>h()("archetype.weaknesses"))),()=>(e(t),N(d()),n(()=>e(t)(d().archetype.weaknesses)))]),m(fe,_e)};te(me,fe=>{e(U)&&fe(Re)})}q((fe,_e)=>{be(z,"aria-expanded",e(U)),M=He(K,1,"archetype-caret svelte-1cmiluv",null,M,fe),f(le,` ${_e??""}`)},[()=>({expanded:e(U)}),()=>(h(),n(()=>h()("archetype.analysis_title")))]),m(w,r)};te(Oe,w=>{N(d()),n(()=>d().archetype)&&w(Ce)})}q((w,r,D,B,z,K,M,W,le,me,Re,fe)=>{be(E,"aria-label",`View detailed fighter profile for ${N(d()),n(()=>d().nameWithNickname)??""}`),f(Me,(N(d()),n(()=>d().name))),f(ne,w),bi(Ae,`--fill-width: ${N(d()),n(()=>d().stars*20)??""}%`),be(Ie,"title",r),f(We,`${D??""}:`),f(Se,(N(d()),n(()=>d().career_record))),be(ee,"title",B),f(ge,`${z??""}:`),f(je,(N(d()),n(()=>d().record_36m))),be(ze,"title",K),f(ni,`${M??""}:`),ri=He(Ze,1,"stat-value streak svelte-1cmiluv",null,ri,W),be(ei,"title",le),f(li,`${me??""}:`),f(v,e(l)),be(R,"title",Re),f(ie,`${fe??""}:`),f(ke,e(y))},[()=>(N(mi),N(d()),n(()=>mi(d().division||""))),()=>(h(),n(()=>h()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(h(),n(()=>h()("fighter_profile.career_record"))),()=>(h(),n(()=>h()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(h(),n(()=>h()("fighter_profile.record_36m"))),()=>(h(),n(()=>h()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(h(),n(()=>h()("fighter_profile.streak"))),()=>({"streak-win":d().streak>0,"streak-loss":d().streak<0}),()=>(h(),n(()=>h()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(h(),n(()=>h()("fighter_profile.height"))),()=>(h(),n(()=>h()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(h(),n(()=>h()("fighter_profile.reach")))]),m(_,V)},re=_=>{var V=va(),O=s(V),ae=s(O);q(J=>f(ae,J),[()=>(h(),n(()=>h()("fight_radar.select_fighter_stats")))]),m(_,V)};te(Z,_=>{d()?_(G):_(re,!1)})}var L=c(F,2);qt(L,{get isOpen(){return e(A)},$$events:{close:Y}}),q(()=>be(F,"id",k())),m(j,H),Di(),g()}Kt(["click","keydown"]);function ga(j){const i=j.filter(t=>t.type===De.VICTORY_METHOD&&(t.prediction.toLowerCase().includes("decision")||t.predictionKey?.toLowerCase().includes("decision")));if(i.length===0)return j;const a=i.reduce((t,o)=>o.confidence>t.confidence?o:t),g=j.filter(t=>{if(t.type!==De.DURATION)return!1;const o=t.prediction.toLowerCase(),l=t.predictionKey?.toLowerCase()||"";return o.includes("over")||l.includes("over")});return j.map(t=>g.some(o=>o.id===t.id)&&t.confidence<a.confidence?{...t,confidence:a.confidence}:t)}function fa(j){const i=j.filter(o=>o.type===De.VICTORY_METHOD),a=j.filter(o=>o.type===De.FIGHT_PROPS);if(i.length===0||a.length===0)return j;const h=i.reduce((o,l)=>l.confidence>o.confidence?l:o).prediction.toLowerCase(),t=new Set;for(const o of a){const l=(o.prediction||"").toLowerCase(),y=(o.predictionKey||"").toLowerCase();(h.includes("ko")||h.includes("tko"))&&(l.includes("submission")||l.includes("ground control")||y.includes("submission")||y.includes("ground_control"))&&t.add(o.id),h.includes("submission")&&(l.includes("standing exchange")&&!l.includes("ground")||y.includes("standing_exchange")&&!y.includes("ground"))&&t.add(o.id),h.includes("decision")&&(l.includes("first round finish")||l.includes("gone in 60")||y.includes("first_round_finish")||y.includes("gone_in_60"))&&t.add(o.id)}return j.filter(o=>!t.has(o.id))}function _a(j){const i=j.filter(h=>h.type===De.DURATION),a=j.filter(h=>h.type===De.FIGHT_PROPS);if(i.length===0||a.length===0)return j;const g=new Set;for(const h of i){const t=(h.prediction||"").toLowerCase(),o=(h.predictionKey||"").toLowerCase(),l=t.includes("under 2.5")||o.includes("under_2_5"),y=t.includes("over 3.5")||o.includes("over_3_5");for(const d of a){const k=(d.prediction||"").toLowerCase(),A=(d.predictionKey||"").toLowerCase();l&&((k.includes("over 100 strikes")||A.includes("over_100_strikes"))&&g.add(d.id),(k.includes("goes to distance")||A.includes("goes_to_distance"))&&g.add(d.id)),y&&(k.includes("first round")||k.includes("gone in 60")||A.includes("first_round")||A.includes("gone_in_60"))&&g.add(d.id)}}return j.filter(h=>!g.has(h.id))}function Ji(j){let i=[...j];return i=ga(i),i=fa(i),i=_a(i),i}const pa={W_Strawweight:{finishBias:-.07195121951219513,koVsSubBias:-.1865853658536585,sampleSize:82,stats:{decisionRate:.6219512195121951,finishRate:.3780487804878049,koRate:.17073170731707318,submissionRate:.2073170731707317}},Bantamweight:{finishBias:-.06870503597122302,koVsSubBias:-.11402877697841726,sampleSize:139,stats:{decisionRate:.6187050359712231,finishRate:.381294964028777,koRate:.20863309352517986,submissionRate:.17266187050359713}},Lightweight:{finishBias:.06798561151079136,koVsSubBias:.08021582733812951,sampleSize:139,stats:{decisionRate:.48201438848920863,finishRate:.5179856115107914,koRate:.37410071942446044,submissionRate:.14388489208633093}},W_Bantamweight:{finishBias:-.09705882352941175,koVsSubBias:-.11078431372549019,sampleSize:51,stats:{decisionRate:.6470588235294118,finishRate:.35294117647058826,koRate:.19607843137254902,submissionRate:.1568627450980392}},W_Flyweight:{finishBias:-.20438596491228073,koVsSubBias:-.15,sampleSize:57,stats:{decisionRate:.7543859649122807,finishRate:.24561403508771928,koRate:.12280701754385964,submissionRate:.12280701754385964}},Middleweight:{finishBias:.16739130434782606,koVsSubBias:.15434782608695652,sampleSize:115,stats:{decisionRate:.3826086956521739,finishRate:.6173913043478261,koRate:.4608695652173913,submissionRate:.1565217391304348}},Featherweight:{finishBias:.07100840336134456,koVsSubBias:-.03235294117647061,sampleSize:119,stats:{decisionRate:.4789915966386555,finishRate:.5210084033613446,koRate:.31932773109243695,submissionRate:.20168067226890757}},Flyweight:{finishBias:.05649350649350643,koVsSubBias:-.16298701298701296,sampleSize:77,stats:{decisionRate:.4935064935064935,finishRate:.5064935064935064,koRate:.24675324675324675,submissionRate:.2597402597402597}},Welterweight:{finishBias:.1467741935483871,koVsSubBias:.17258064516129032,sampleSize:124,stats:{decisionRate:.4032258064516129,finishRate:.5967741935483871,koRate:.4596774193548387,submissionRate:.13709677419354838}},Heavyweight:{finishBias:.0071428571428571175,koVsSubBias:.05000000000000002,sampleSize:70,stats:{decisionRate:.5428571428571428,finishRate:.45714285714285713,koRate:.32857142857142857,submissionRate:.12857142857142856}},Light_Heavyweight:{finishBias:.18076923076923074,koVsSubBias:.1730769230769231,sampleSize:65,stats:{decisionRate:.36923076923076925,finishRate:.6307692307692307,koRate:.47692307692307695,submissionRate:.15384615384615385}}};var De=(j=>(j.MONEYLINE="moneyline",j.VICTORY_METHOD="victory_method",j.WINNER_AND_METHOD="winner_and_method",j.DURATION="duration",j.GOES_TO_DECISION="goes_to_decision",j.GONE_IN_60="gone_in_60",j.FIGHT_PROPS="fight_props",j.KEY_FACTORS="key_factors",j.TRENDS="trends",j.NO_PREDICTION="no_prediction",j))(De||{}),Fi=(j=>(j.HIGH="high",j.MEDIUM="medium",j.LOW="low",j))(Fi||{});class ci{constructor(){this.config={finishLikelihoodThreshold:36,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:-1,predatorVsDefensiveBonus:2.5,bothFinishersMultiplier:1.2,bothFinishersThreshold:45,loserDecisionRateWeight:.05,decisionRateBonus:-2,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:34,strOffGapMedThreshold:24,strOffGapLowThreshold:16,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:34,ctrlGapMedThreshold:24,ctrlGapLowThreshold:14,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:34,tdOffGapMedThreshold:24,tdOffGapLowThreshold:14,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,unexpectedKOStrLandedThreshold:4.5,unexpectedKOStrAbsorbedThreshold:4.5,unexpectedKOKnockdownThreshold:1,unexpectedKOThreatThreshold:25,unexpectedKOBoost:5,earlyFinishScoreThreshold:36,durationSkillGapWeight:.01,durationFinishRateWeight:.1,durationVulnerabilityWeight:.15,durationAvgTimeWeight:.5,underBonusBase:15,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:44,durationBothLowFinishThreshold:24,durationPaceAsymmetryThreshold:3.5,durationPaceAsymmetryPenalty:-1.5,durationUnderSkillGapBonus:9,durationUnderLoserVulnBonus:7,durationUnderWinnerFinishBonus:3,durationUnderComboBonus:0,durationUnderExtreme:10,durationUnderSkillGapExtreme:10,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:8,oppTierWeight:11,oppTierNeutral:.55,winRateWeightNormal:.35,winRateWeightHigh:.4,winRateWeightLow:.3,winRateHighThreshold:73,winRateLowThreshold:30,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:1,agePenaltyPhase3Rate:2.8,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1,damageMultiplier2KO:1.1,damageMultiplier3KO:1.7,damageMultiplier4KO:1.6,damageMultiplier5PlusKO:2.5,relativeAgeThreshold:6,relativeAgeAdjustRate:.6,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:.08,heightAdvantageWeight:.05,reachDiffThreshold:2,heightDiffThreshold:4,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:24,inactivityPenaltyRate:1.1,inactivityMaxPenalty:.23,activityBonusThreshold:6,activityBonus:4,amplificationEnabled:!0,amplificationThreshold:15,amplificationRate:.15,minProbability:15,maxProbability:88,decisionProbabilityBase:71,decisionLowFinishAdjust:2,goesToDecisionMaxProb:88,decisionBaseMax:85,koMaxProb:89,subMaxProb:76,decisionMinFloor:81,methodOppTierWeight:6,methodDecisionRateFinisherThreshold:5,methodDecisionRateFinisherBonus:7,methodHighPaceMinFights:3,methodHighPaceMinFinish:36,methodHighPaceMaxFinish:68,methodStyleStrengthThreshold:51,methodLoserVulnThreshold:33,methodStrongFinisherWinnerThreshold:49,methodStrongFinisherLoserThreshold:40,decisionCapHighFinishThreshold:52,decisionCapPenaltyBase:3,decisionCapPenaltyScale:3,decisionCapPenaltyDivisor:8,decisionCapMedFinishThreshold:57,decisionCapMedPenalty:3,decisionCapLowFinishThreshold:49,decisionCapLowPenalty:0,divisionMinSampleSize:37,divisionThreatDiffThreshold:2,divisionPreferenceThreshold:11,divisionTiebreakerBoost:2,koThreatComponent:.3,subThreatComponent:.25,koLoserVulnThreshold:34,koWinnerRateThreshold:40,koWinnerComboThreshold:59,koLoserComboThreshold:15,subLoserVulnThreshold:24,subWinnerRateThreshold:34,subWinnerComboThreshold:46,subLoserComboThreshold:28,durationOppTierWeight:4.5,defaultFightDuration:900,extremeFinishWinnerThreshold1:70,extremeFinishLoserThreshold1:50,extremeFinishSkillGap1:12,extremeFinishWinnerThreshold2:80,extremeFinishLoserThreshold2:40,extremeFinishSkillGap3:15,extremeFinishWinnerThreshold3:60,under15ScoreThreshold:55,under15WinProbThreshold:60,under15WinnerTimeThreshold:6,under15LoserTimeThreshold:8,under15SkillGapThreshold:10,under15InitialCap:75,under15SkillGapExtreme:15,under15FinishRateExtreme:75,under15VulnExtreme:45,under15FinalCap:82,under25FinishThreshold1:60,under25LoserFinishThreshold1:40,under25KOThreshold:60,under25AvgTimeThreshold:8,under25WinnerTimeThreshold:8,under25LoserTimeThreshold:8.5,under25WinProbMin:48,under25InitialCap:76,under25SkillGapThreshold:10,under25VulnThreshold:45,under25WinnerFinishThreshold:65,under25ComboWinnerThreshold:50,under25ComboLoserThreshold:35,under25FinalCap:87,over15BaseProbability:43,over15HighThreatThreshold:45,over15HighThreatValue:55,over15MedThreatLowThreshold:32,over15MedThreatHighThreshold:38,over15MedThreatValue:66,over15LowThreatThreshold:25,over15LowThreatValue:75,over15VeryLowThreatThreshold:18,over15VeryLowThreatValue:79,over15FinisherThreshold:42,over15FinisherPenalty:5,over15DecisionThreshold:50,over15DecisionBoost:5,over15DualDecisionThreshold1:15,over15DualDecisionThreshold2:25,over15DualDecisionBoost:5,over15LongTimeThreshold:8.5,over15LongTimeBoost:4,over15MinProbability:53,over15MaxProbability:85,over15FinishLikelihoodPenaltyThreshold:40,over15FinishLikelihoodPenaltyAmount:1,over35DecisionThreshold1:30,over35DecisionThreshold2:30,over35AvgTimeThreshold:8,over35LowFinishThreshold:20,over35LongTimeThreshold:8.5,over35BaseProbability:55,over35PureDecisionThreshold:15,over35PureDecisionValue:68,over35ExtremeDecisionThreshold:10,over35ExtremeDecisionValue:72,over35LongMinProbability:70,over35LongDecisionThreshold:20,over35LongDecisionBoost:8,over35LongDecisionCap:80,over35FinishPenaltyThreshold1:20,over35FinishPenalty1:-5,over35FinishPenaltyThreshold2:30,over35FinishPenalty2:-8,over35MinProbability:50,over35MaxProbability:82,physicalAdvantageReachThreshold:2,physicalAdvantageHeightThreshold:2,activityPeriodMonths:24,activityThresholdFights:3,defaultWinProbability:49,reachAnalysisThreshold:2,activityDifferenceThreshold:2,highWinRateThreshold:71,strugglingWinRateThreshold:42,estimatedCareerStartAge:16,estimatedFightsPerYear:3.5,grapplerTakedownThreshold:40,grapplerSubmissionThreshold:20,strikerKOThreshold:26,strikerTakedownMax:10,dominantGrapplerThreshold:54,weightedMetricLoserImpact:.4,firstRoundFinishThreshold:5,subAttemptsOverThreshold:.5,finishRateFirstRoundThreshold:60,doubleKnockdownThreshold:.9,groundControlTakedownThreshold:15,strikeVolumeThreshold:120,standingExchangeTakedownMax:3,divisionBlendFinishLikelihood:.01,divisionBlendKOThreat:0,divisionBlendSubThreat:.19,decisionToKOBiasReduction:0,decisionToKOStrLandedThreshold:3,decisionToKOKnockdownThreshold:.4,koToDecisionBiasReduction:2,koToDecisionLoserDecisionRateThreshold:35,koToDecisionLowKOThreatThreshold:27,decisionToSubBiasReduction:0,decisionToSubCtrlGapThreshold:8,decisionToSubTDGapThreshold:13,subToDecisionBiasReduction:1,subToDecisionLoserDecisionRateThreshold:40,subToDecisionLowSubThreatThreshold:21,predatorFinishRateThreshold:40,predatorVulnerabilityThreshold:30,methodThreatDiffThreshold:3,methodStyleDiffThreshold:5,koThreatMultiplier:.25,koComboWinnerRateThreshold:67,koComboLoserVulnThreshold:21,durationFinishRateThreshold:65,durationTakedownRateThreshold:19,durationStrikeVolumeThreshold:127,durationLowTakedownThreshold:3,subThreatMultiplier:.4,subComboWinnerRateThreshold:40,subComboLoserVulnThreshold:10,winnerReachDiffThreshold:4,winnerExperienceGapThreshold:1,winnerAgePrimeStart:27,winnerAgePrimeEnd:30,winnerYearsAfterPrimeModerate:3,winnerYearsAfterPrimeSevere:8,h2hRecentVictoryMonths:38,h2hRecentVictoryPenalty:15,h2hRecencyWeight:.5}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}static{this.divisionCoefficients=null}static loadDivisionCoefficients(){return this.divisionCoefficients?this.divisionCoefficients:(this.divisionCoefficients=new Map(Object.entries(pa)),this.divisionCoefficients)}generateBetCards(i,a,g=!1,h=3){const t=[],l=i.rawData.Number_of_Fights_36m||0,y=a.rawData.Number_of_Fights_36m||0;if(l<3||y<3)return[this.createNoPredictionCard("insufficient_fights",i,a,l,y)];if(i.division!==a.division)return[this.createNoPredictionCard("different_divisions",i,a)];const d=this.calculateWinProbability(i,a);if(g&&d.probability<ci.MIN_MEDIUM_CONFIDENCE){const F=d.winner===i?d.probability:100-d.probability,Z=100-F;t.push(this.createNoPredictionCard("low_moneyline_confidence",i,a,void 0,void 0,F,Z))}else t.push(this.createMoneylineCard(d));const k=this.predictMethodGivenWinner(i,a,d,h),A=this.predictTotalRounds(i,a,d,h),U=this.generateFightProps(i,a,d,h),T=this.analyzeKeyFactors(i,a),Y=this.analyzeTrends(i,a);t.push(this.createVictoryMethodCard(k));const H=this.predictWinnerAndMethod(d,k);return t.push(H),t.push(this.createTotalRoundsCard(A)),t.push(this.createFightPropsCard(U)),t.push(this.createKeyFactorsCard(T)),t.push(this.createTrendsCard(Y)),this.hasHighConfidencePredictions(t)||t.push(this.createNoPredictionCard("low_confidence")),g?this.sortBetCardsByPriority(this.filterByConfidence(Ji(t))):this.sortBetCardsByPriority(Ji(t))}filterByConfidence(i){return i.filter(a=>a.type==="key_factors"||a.type==="trends"||a.type==="no_prediction"?!0:a.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(i,a){const g=(i.rawData.reach_inches||0)-(a.rawData.reach_inches||0),h=(i.rawData.height_inches||0)-(a.rawData.height_inches||0);let t=0,o=0;return g>=this.config.physicalAdvantageReachThreshold?t+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025):g<=-this.config.physicalAdvantageReachThreshold&&(o+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025)),h>=this.config.physicalAdvantageHeightThreshold?t+=Math.min(Math.abs(h)*this.config.heightAdvantageWeight,.015):h<=-this.config.physicalAdvantageHeightThreshold&&(o+=Math.min(Math.abs(h)*this.config.heightAdvantageWeight,.015)),{f1Advantage:t,f2Advantage:o}}checkRecentH2H(i,a){if(!i.rawData.Dates_36m||!a.rawData.Dates_36m)return{loserRecentlyBeatWinner:!1,winnerRecentlyBeatLoser:!1};const g=i.id,h=a.id,t=i.name.toLowerCase(),o=a.name.toLowerCase(),l=t.split(" ")[0],y=o.split(" ")[0],d=i.rawData.Dates_36m?i.rawData.Dates_36m.split(","):[],k=a.rawData.Dates_36m?a.rawData.Dates_36m.split(","):[],A=new Date().getTime(),U=this.config.h2hRecentVictoryMonths*30*24*60*60*1e3,T=(F,Z,G,re)=>{const L=F.toLowerCase();return L===Z||L===G||L===re||L.includes(re)};let Y=!1;for(const F of d){if(!F||F.trim().length===0)continue;const Z=F.trim().split(":");if(Z.length<3)continue;const G=Z[0],re=Z[1],L=Z[2];if(T(re,h,o,y)&&L.toUpperCase()==="W"){const _=this.parseUFCDate(G);if(_&&A-_.getTime()<U){Y=!0;break}}}let H=!1;for(const F of k){if(!F||F.trim().length===0)continue;const Z=F.trim().split(":");if(Z.length<3)continue;const G=Z[0],re=Z[1],L=Z[2];if(T(re,g,t,l)&&L.toUpperCase()==="W"){const _=this.parseUFCDate(G);if(_&&A-_.getTime()<U){H=!0;break}}}return{loserRecentlyBeatWinner:H,winnerRecentlyBeatLoser:Y}}parseUFCDate(i){const a=i.split("-");if(a.length!==3)return null;const g=parseInt(a[0],10),h=parseInt(a[1],10),t=parseInt(a[2],10);return isNaN(g)||isNaN(h)||isNaN(t)?null:new Date(t,h-1,g)}calculateWinProbability(i,a){const g=this.config.oppTierNeutral,h=this.config.oppTierWeight;let t=i.overall+(i.oppTierScore-g)*h,o=a.overall+(a.oppTierScore-g)*h;const l=this.calculatePhysicalAdvantage(i,a);t*=1+l.f1Advantage,o*=1+l.f2Advantage,t*=this.calculateAgeImpact(i),o*=this.calculateAgeImpact(a);const y=this.getInactiveMonths(i),d=this.getInactiveMonths(a);if(y>=this.config.inactivityThreshold){const Q=Math.min((y-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);t*=1-Q}if(d>=this.config.inactivityThreshold){const Q=Math.min((d-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);o*=1-Q}const k=this.getFightsInPeriod(i,18),A=this.getFightsInPeriod(a,18);k>=this.config.activityBonusThreshold&&(t*=1+this.config.activityBonus),A>=this.config.activityBonusThreshold&&(o*=1+this.config.activityBonus);const U=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,T=a.rawData.Number_of_Fights_36m>0?a.rawData.win/a.rawData.Number_of_Fights_36m*100:0,Y=this.calculateMomentum(i),H=this.calculateMomentum(a);t*=1+Y,o*=1+H;let F=this.config.winRateWeightNormal,Z=this.config.winRateWeightNormal;U>=this.config.winRateHighThreshold?F=this.config.winRateWeightHigh:U<this.config.winRateLowThreshold&&(F=this.config.winRateWeightLow),T>=this.config.winRateHighThreshold?Z=this.config.winRateWeightHigh:T<this.config.winRateLowThreshold&&(Z=this.config.winRateWeightLow);const G=t+U*F,re=o+T*Z,L=this.calculateAge(i),_=this.calculateAge(a),V=L-_;let O=G,ae=re;if(Math.abs(V)>=this.config.relativeAgeThreshold){const Q=Math.min(Math.abs(V)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);V>0?(O=G*(1-Q),ae=re*(1+Q)):(O=G*(1+Q),ae=re*(1-Q))}const J=Math.abs(O-ae);if(J>this.config.amplificationThreshold){const Q=1+(J-this.config.amplificationThreshold)*this.config.amplificationRate;O>ae?O*=Q:ae*=Q}const E=O+ae;let C=E>0?Math.round(O/E*100):50,$=E>0?Math.round(ae/E*100):50;const se=this.checkRecentH2H(i,a);if(se.loserRecentlyBeatWinner){const Q=C*this.config.h2hRecentVictoryPenalty/100,Ke=C*(1-this.config.h2hRecencyWeight)+(C-Q)*this.config.h2hRecencyWeight;C=Math.round(Ke),$=100-C}if(se.winnerRecentlyBeatLoser){const Q=C*this.config.h2hRecentVictoryPenalty/100,Ke=C*(1-this.config.h2hRecencyWeight)+(C+Q)*this.config.h2hRecencyWeight;C=Math.round(Ke),$=100-C}if(C=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,C)),$=100-C,C>$){let Q=this.getWinReasoningKey(i,a,U,T);return{winner:i,probability:C,reasoningKey:Q,adjustedScore1:O,adjustedScore2:ae}}else{let Q=this.getWinReasoningKey(a,i,T,U);return{winner:a,probability:$,reasoningKey:Q,adjustedScore1:ae,adjustedScore2:O}}}predictWinnerAndMethod(i,a){let g=i.probability/100*(a.probability/100)*100;const h=i.winner,t=a.method,o=a.methodKey,l=h.name,y=`combat_analysis.winner_and_method.${o.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:l,predictionKey:y,confidence:Math.round(g),confidenceLevel:this.getConfidenceLevel(g),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:h.name,method:t,methodKey:y,winnerProb:i.probability,methodProb:a.probability,compositeProb:g},priority:2.5}}predictMethodGivenWinner(i,a,g,h=3){const t=g.winner,o=t===i?a:i,l=ci.loadDivisionCoefficients(),y=t.division,d=l.get(y),k=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,A=o.overall+(o.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,U=Math.abs(k-A),T=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,Y=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,H=t===i?T:Y,F=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,Z=a.rawData.Number_of_Fights_36m>0?a.rawData.win_kotko/a.rawData.Number_of_Fights_36m*100:0,G=t===i?F:Z,re=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,L=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0,_=t===i?re:L,V=o.rawData.Number_of_Fights_36m>0?o.rawData.loss_kotko/o.rawData.Number_of_Fights_36m*100:0,O=o.rawData.Number_of_Fights_36m>0?o.rawData.loss_sub/o.rawData.Number_of_Fights_36m*100:0,ae=V+O,J=ae,E=o.rawData.Number_of_Fights_36m>0?o.rawData.loss_decision/o.rawData.Number_of_Fights_36m*100:0;let C=U*this.config.skillGapWeight+H*this.config.finishRateWeight+ae*this.config.vulnerabilityWeight;const $=E*this.config.loserDecisionRateWeight/10;C-=$,E<this.config.methodDecisionRateFinisherThreshold&&(C+=this.config.methodDecisionRateFinisherBonus);const se=G>_&&V>O,Q=_>G&&O>V;(se||Q)&&(C+=this.config.methodMatchBonus),t.rawData.Number_of_Fights_36m>=this.config.methodHighPaceMinFights&&H>=this.config.methodHighPaceMinFinish&&H<=this.config.methodHighPaceMaxFinish&&(C+=this.config.highPaceFinishBonus),Math.max(G,_)>this.config.methodStyleStrengthThreshold&&ae>this.config.methodLoserVulnThreshold&&(C+=this.config.styleStrengthBonus),H>this.config.methodStrongFinisherWinnerThreshold&&J>this.config.methodStrongFinisherLoserThreshold&&(C+=this.config.finisherVsVulnerableBonus);const x=t.archetype?.combinedRole||"",ve=o.archetype?.combinedRole||"",Me=x.includes("AT")||x.includes("ANT"),Ne=ve.includes("PT")||ve.includes("PNT");Me&&Ne&&H>this.config.predatorFinishRateThreshold&&ae>this.config.predatorVulnerabilityThreshold&&(C+=this.config.predatorVsDefensiveBonus);const I=o===i?T:Y,ne=Math.min(H,I),Fe=Math.max(H,I);if(ne>this.config.bothFinishersThreshold&&Fe>this.config.bothFinishersThreshold&&(C*=this.config.bothFinishersMultiplier),d&&d.sampleSize>=this.config.divisionMinSampleSize&&this.config.divisionBlendFinishLikelihood>0){const S=d.stats.finishRate*100;C=C*(1-this.config.divisionBlendFinishLikelihood)+S*this.config.divisionBlendFinishLikelihood}const Pe=t.rawData.Sig_Strikes_Landed/((t.rawData.Fight_Duration_Seconds||600)/60)||0,qe=t.rawData.Knockdowns/((t.rawData.Fight_Duration_Seconds||600)/900)||0;Pe>this.config.decisionToKOStrLandedThreshold&&qe>this.config.decisionToKOKnockdownThreshold&&(C+=this.config.decisionToKOBiasReduction);const Ae=t.fightRadar.CTRL-o.fightRadar.CTRL,Ee=t.fightRadar.TD_OFF-o.fightRadar.TD_OFF;if(Ae>this.config.decisionToSubCtrlGapThreshold&&Ee>this.config.decisionToSubTDGapThreshold&&(C+=this.config.decisionToSubBiasReduction),C<this.config.finishLikelihoodThreshold){let S=Math.min(Math.round(100-C),this.config.decisionBaseMax),de=this.config.decisionBaseMax;if(ne>this.config.decisionCapHighFinishThreshold){const hi=this.config.decisionCapPenaltyBase+(ne-this.config.decisionCapHighFinishThreshold)/this.config.decisionCapPenaltyDivisor*this.config.decisionCapPenaltyScale;de=Math.max(de-hi,this.config.decisionMinFloor)}else ne>this.config.decisionCapMedFinishThreshold?de=Math.max(de-this.config.decisionCapMedPenalty,this.config.decisionMinFloor+4):ne>this.config.decisionCapLowFinishThreshold&&(de=Math.max(de-this.config.decisionCapLowPenalty,this.config.decisionMinFloor+2));const Le=t.rawData.Sig_Strikes_Landed/((t.rawData.Fight_Duration_Seconds||600)/60)||0,Je=t.rawData.Knockdowns/((t.rawData.Fight_Duration_Seconds||600)/900)||0;Le>this.config.decisionToKOStrLandedThreshold&&Je>this.config.decisionToKOKnockdownThreshold&&(S-=this.config.decisionToKOBiasReduction);const ei=t.fightRadar.CTRL-o.fightRadar.CTRL,li=t.fightRadar.TD_OFF-o.fightRadar.TD_OFF;return ei>this.config.decisionToSubCtrlGapThreshold&&li>this.config.decisionToSubTDGapThreshold&&(S-=this.config.decisionToSubBiasReduction),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(S,de),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:T,finishRate2:Y}}let oe=G*this.config.koThreatWinnerWeight+V*this.config.koThreatLoserWeight,ue=_*this.config.subThreatWinnerWeight+O*this.config.subThreatLoserWeight;if(d&&d.sampleSize>=this.config.divisionMinSampleSize){if(this.config.divisionBlendKOThreat>0){const S=d.stats.koRate*100;oe=oe*(1-this.config.divisionBlendKOThreat)+S*this.config.divisionBlendKOThreat}if(this.config.divisionBlendSubThreat>0){const S=d.stats.submissionRate*100;ue=ue*(1-this.config.divisionBlendSubThreat)+S*this.config.divisionBlendSubThreat}}if(d&&d.sampleSize>=this.config.divisionMinSampleSize){const S=Math.abs(oe-ue),de=d.stats.koRate*100,Le=d.stats.submissionRate*100,Je=de-Le;S<this.config.divisionThreatDiffThreshold&&Math.abs(Je)>this.config.divisionPreferenceThreshold&&(Je>0?oe+=this.config.divisionTiebreakerBoost:ue+=this.config.divisionTiebreakerBoost)}const Ge=O-V;Ge>this.config.subVulnDiffHighThreshold?ue+=this.config.subVulnDiffHighBonus:Ge>this.config.subVulnDiffMedThreshold&&(ue+=this.config.subVulnDiffMedBonus);const Ie=V-O;Ie>this.config.koVulnDiffHighThreshold?oe+=this.config.koVulnDiffHighBonus:Ie>this.config.koVulnDiffMedThreshold&&(oe+=this.config.koVulnDiffMedBonus);const We=t.fightRadar.STR_OFF-o.fightRadar.STR_OFF;if(We>this.config.strOffGapLowThreshold){const S=We>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:We>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;oe+=S}const ye=t.fightRadar.CTRL-o.fightRadar.CTRL;if(ye>this.config.ctrlGapLowThreshold){const S=ye>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:ye>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;ue+=S}const Se=t.fightRadar.TD_OFF-o.fightRadar.TD_OFF;if(Se>this.config.tdOffGapLowThreshold){const S=Se>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:Se>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;ue+=S}const he=t.rawData.Fight_Duration_Seconds||600,ee=o.rawData.Fight_Duration_Seconds||600,ge=t.rawData.Sig_Strikes_Landed/(he/60)||0,Ve=o.rawData.Sig_Strikes_Absorbed/(ee/60)||0,je=t.rawData.Knockdowns/(he/900)||0;ge>this.config.unexpectedKOStrLandedThreshold&&Ve>this.config.unexpectedKOStrAbsorbedThreshold&&je>this.config.unexpectedKOKnockdownThreshold&&oe<this.config.unexpectedKOThreatThreshold&&(oe+=this.config.unexpectedKOBoost);const Xe=G>_&&V>O,ze=_>G&&O>V,ni=Math.abs(oe-ue),Ze=Math.abs(G-_);if(ni<this.config.methodThreatDiffThreshold?Ze<this.config.methodStyleDiffThreshold?V>O:Xe&&!ze||oe>ue&&!ze:oe>ue){let S=Math.round(C+oe*this.config.koThreatMultiplier);return U>10&&(S+=this.config.koSkillGapBonus),V>30&&(S+=this.config.koLoserVulnBonus),G>50&&(S+=this.config.koWinnerRateBonus),G>this.config.koComboWinnerRateThreshold&&V>this.config.koComboLoserVulnThreshold&&(S+=this.config.koComboBonus),Xe&&G>this.config.koMethodMatchWinnerThreshold&&V>this.config.koMethodMatchLoserThreshold&&(S+=this.config.koMethodMatchBonus),E>this.config.koToDecisionLoserDecisionRateThreshold&&oe<this.config.koToDecisionLowKOThreatThreshold&&(S-=this.config.koToDecisionBiasReduction),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(S,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:T,finishRate2:Y}}else{let S=Math.min(Math.round(C+ue*this.config.subThreatMultiplier),this.config.subMaxProb);return U>10&&(S+=this.config.subSkillGapBonus),O>24&&(S+=this.config.subLoserVulnBonus),_>40&&(S+=this.config.subWinnerRateBonus),_>this.config.subComboWinnerRateThreshold&&O>this.config.subComboLoserVulnThreshold&&(S+=this.config.subComboBonus),ze&&_>this.config.subMethodMatchWinnerThreshold&&O>this.config.subMethodMatchLoserThreshold&&(S+=this.config.subMethodMatchBonus),E>this.config.subToDecisionLoserDecisionRateThreshold&&ue<this.config.subToDecisionLowSubThreatThreshold&&(S-=this.config.subToDecisionBiasReduction),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(S,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:T,finishRate2:Y}}}predictTotalRounds(i,a,g,h=3){const t=g.winner,o=t===i?a:i,l=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.durationOppTierWeight,y=o.overall+(o.oppTierScore-this.config.oppTierNeutral)*this.config.durationOppTierWeight,d=Math.abs(l-y),k=(i.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,A=(a.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,U=t===i?k:A,T=t===i?A:k,Y=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,H=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,F=t===i?Y:H,Z=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,G=a.rawData.Number_of_Fights_36m>0?a.rawData.win_kotko/a.rawData.Number_of_Fights_36m*100:0,re=t===i?Z:G,L=o.rawData.Number_of_Fights_36m>0?(o.rawData.loss_kotko+o.rawData.loss_sub)/o.rawData.Number_of_Fights_36m*100:0;let _=d*this.config.durationSkillGapWeight+F*this.config.durationFinishRateWeight+L*this.config.durationVulnerabilityWeight+(15-Math.min(U,15))*this.config.durationAvgTimeWeight*10;L>this.config.durationLoserVulnThreshold&&(_+=this.config.loserVulnBonus),Y<this.config.durationBothLowFinishThreshold&&H<this.config.durationBothLowFinishThreshold&&(_-=this.config.decisionFighterPenalty);const V=i.rawData.Number_of_Fights_36m,O=a.rawData.Number_of_Fights_36m;Math.abs(V-O)>=this.config.durationPaceAsymmetryThreshold&&Math.min(V,O)<=2&&(_-=this.config.durationPaceAsymmetryPenalty);const J=(k+A)/2,E=[],C=F>this.config.extremeFinishWinnerThreshold1&&L>this.config.extremeFinishLoserThreshold1&&d>this.config.extremeFinishSkillGap1||F>this.config.extremeFinishWinnerThreshold2&&L>this.config.extremeFinishLoserThreshold2||d>this.config.extremeFinishSkillGap3&&F>this.config.extremeFinishWinnerThreshold3;if(_>this.config.under15ScoreThreshold&&g.probability>this.config.under15WinProbThreshold&&C||U<this.config.under15WinnerTimeThreshold&&T<this.config.under15LoserTimeThreshold&&d>this.config.under15SkillGapThreshold){let $=Math.min(Math.round(_+this.config.durationUnderExtreme),this.config.under15InitialCap);d>this.config.under15SkillGapExtreme&&($+=this.config.durationUnderSkillGapExtreme),F>this.config.under15FinishRateExtreme&&($+=this.config.durationUnderFinishRateExtreme),L>this.config.under15VulnExtreme&&($+=this.config.durationUnderLoserVulnExtreme);const se=Math.min($,this.config.under15FinalCap);E.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:se,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:U})}if(h===5){const $=F>this.config.under25FinishThreshold1&&L>this.config.under25LoserFinishThreshold1||re>this.config.under25KOThreshold&&U<this.config.under25AvgTimeThreshold,se=U<this.config.under25WinnerTimeThreshold&&T<this.config.under25LoserTimeThreshold;if(_>this.config.earlyFinishScoreThreshold&&g.probability>this.config.under25WinProbMin||$){let Q=Math.min(Math.round(_+this.config.underBonusBase),this.config.under25InitialCap);d>this.config.under25SkillGapThreshold&&(Q+=this.config.durationUnderSkillGapBonus),L>this.config.under25VulnThreshold&&(Q+=this.config.durationUnderLoserVulnBonus),F>this.config.under25WinnerFinishThreshold&&(Q+=this.config.durationUnderWinnerFinishBonus),F>this.config.under25ComboWinnerThreshold&&L>this.config.under25ComboLoserThreshold&&(Q+=this.config.durationUnderComboBonus);const Ke=Math.min(Q,this.config.under25FinalCap);se&&E.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Ke,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:U})}}if(h===3){let $=this.config.over15BaseProbability;_>this.config.over15HighThreatThreshold&&($=this.config.over15HighThreatValue),_>this.config.over15MedThreatLowThreshold&&_<=this.config.over15MedThreatHighThreshold&&($=this.config.over15MedThreatValue),_<this.config.over15LowThreatThreshold&&($=this.config.over15LowThreatValue),_<this.config.over15VeryLowThreatThreshold&&($=this.config.over15VeryLowThreatValue),F>this.config.over15FinisherThreshold&&($+=this.config.over15FinisherPenalty),F<this.config.over15DecisionThreshold&&($+=this.config.over15DecisionBoost),F<this.config.over15DualDecisionThreshold1&&L<this.config.over15DualDecisionThreshold2&&($+=this.config.over15DualDecisionBoost),J>this.config.over15LongTimeThreshold&&($=Math.min($+this.config.over15LongTimeBoost,this.config.over15MaxProbability)),_>this.config.over15FinishLikelihoodPenaltyThreshold&&($-=this.config.over15FinishLikelihoodPenaltyAmount);const se=Math.min(Math.max(Math.round($),this.config.over15MinProbability),this.config.over15MaxProbability);E.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:se,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:J})}if(h===5){let $=this.config.over15BaseProbability;_>this.config.over15HighThreatThreshold&&($=this.config.over15HighThreatValue),_>this.config.over15MedThreatLowThreshold&&_<=this.config.over15MedThreatHighThreshold&&($=this.config.over15MedThreatValue),_<this.config.over15LowThreatThreshold&&($=this.config.over15LowThreatValue),_<this.config.over15VeryLowThreatThreshold&&($=this.config.over15VeryLowThreatValue),F>this.config.over15FinisherThreshold&&($+=this.config.over15FinisherPenalty),F<this.config.over15DecisionThreshold&&($+=this.config.over15DecisionBoost),F<this.config.over15DualDecisionThreshold1&&L<this.config.over15DualDecisionThreshold2&&($+=this.config.over15DualDecisionBoost);const se=Math.min(Math.max(Math.round($),this.config.over15MinProbability),this.config.over15MaxProbability);E.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:se,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:J});const Q=F<this.config.over35DecisionThreshold1&&L<this.config.over35DecisionThreshold2&&J>this.config.over35AvgTimeThreshold,Ke=_<this.config.over35LowFinishThreshold,Ue=J>this.config.over35LongTimeThreshold;if(Q||Ke||Ue){let x=this.config.over35BaseProbability;F<this.config.over35PureDecisionThreshold&&L<this.config.over35PureDecisionThreshold&&(x=this.config.over35PureDecisionValue),F<this.config.over35ExtremeDecisionThreshold&&L<this.config.over35ExtremeDecisionThreshold&&(x=this.config.over35ExtremeDecisionValue),Ue&&(x=Math.max(x,this.config.over35LongMinProbability),F<this.config.over35LongDecisionThreshold&&L<this.config.over35LongDecisionThreshold&&(x=Math.min(x+this.config.over35LongDecisionBoost,this.config.over35LongDecisionCap))),_>this.config.over35FinishPenaltyThreshold1&&(x+=this.config.over35FinishPenalty1),_>this.config.over35FinishPenaltyThreshold2&&(x+=this.config.over35FinishPenalty2);const ve=Math.min(Math.max(Math.round(x),this.config.over35MinProbability),this.config.over35MaxProbability);E.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:ve,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:J})}}return E.sort(($,se)=>se.probability-$.probability),E[0]}generateFightProps(i,a,g,h=3){const t=this.calculateBettingMetrics(i,a,g);this.hasDominantGrappler(i,a),this.isStrikerWar(i,a);const o=6;return t.f1SubRate+t.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:t}:t.weightedFinishRate&&t.weightedFinishRate>this.config.durationFinishRateThreshold&&t.weightedAvgFightTime&&t.weightedAvgFightTime<o?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:t}:t.f1KnockdownRate>.6&&t.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:t}:t.f1TakedownRate>this.config.durationTakedownRateThreshold||t.f2TakedownRate>this.config.durationTakedownRateThreshold?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:t}:t.f1StrikeVolume>this.config.durationStrikeVolumeThreshold&&t.f2StrikeVolume>this.config.durationStrikeVolumeThreshold?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:t}:t.f1TakedownRate<this.config.durationLowTakedownThreshold&&t.f2TakedownRate<this.config.durationLowTakedownThreshold?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:t}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:t}}analyzeKeyFactors(i,a){const g=[],h=i.rawData.reach_inches||0,t=a.rawData.reach_inches||0,o=Math.abs(h-t);if(o>this.config.winnerReachDiffThreshold){const T=h>t?i.name||"Fighter 1":a.name||"Fighter 2";g.push({label:"combat_analysis.key_factors.reach_advantage",value:`${T} +${o}"`,type:"advantage"})}const l=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0,y=a.rawData.Sig_Strikes_Thrown>0?Math.round(a.rawData.Sig_Strikes_Landed/a.rawData.Sig_Strikes_Thrown*100):0;g.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${i.name||"F1"}: ${l}% vs ${a.name||"F2"}: ${y}%`,type:"comparison"});const d=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85,k=a.rawData.takedowns_attempted_against>0?Math.round(a.rawData.Takedowns_Defended/a.rawData.takedowns_attempted_against*100):85;g.push({label:"combat_analysis.key_factors.takedown_defense",value:`${i.name||"F1"}: ${d}% vs ${a.name||"F2"}: ${k}%`,type:"comparison"});const A=i.rawData.Number_of_Fights_36m||0,U=a.rawData.Number_of_Fights_36m||0;if(Math.abs(A-U)>this.config.winnerExperienceGapThreshold){const T=A>U?i.name||"Fighter 1":a.name||"Fighter 2",Y=Math.max(A,U),H=Math.min(A,U);g.push({label:"combat_analysis.key_factors.higher_activity",value:`${T}: ${Y} vs ${H} fights`,type:"advantage"})}return g}analyzeTrends(i,a){const g=[],h=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0,t=a.rawData.Number_of_Fights_36m>0?Math.round(a.rawData.win/a.rawData.Number_of_Fights_36m*100):0;h>=75?g.push({type:"positive",text:`${i.name||"Fighter 1"} has ${h}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 1",winRate:h},fighter:i.name}):h<50&&g.push({type:"negative",text:`${i.name||"Fighter 1"} struggling at ${h}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 1",winRate:h},fighter:i.name}),t>=75?g.push({type:"positive",text:`${a.name||"Fighter 2"} has ${t}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:a.name||"Fighter 2",winRate:t},fighter:a.name}):t<50&&g.push({type:"negative",text:`${a.name||"Fighter 2"} struggling at ${t}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:a.name||"Fighter 2",winRate:t},fighter:a.name});const o=(i.rawData.Fight_Duration_Seconds||900)/60,l=(a.rawData.Fight_Duration_Seconds||900)/60,y=(o+l)/2;return g.push({type:"neutral",text:`Combined average fight time: ${y.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:y.toFixed(1)}}),g}calculateMomentum(i){const a=i.streak;if(a===0)return 0;const g=Math.abs(a);return a>0?g>=3?this.config.winStreak3PlusBonus:g>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:g>=3?-this.config.loseStreak3PlusPenalty:g>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(i){return i===0?1:i===1?this.config.damageMultiplier1KO:i===2?this.config.damageMultiplier2KO:i===3?this.config.damageMultiplier3KO:i===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(i){const a=this.calculateAge(i),h={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[i.division]||32,t=i.rawData.loss_kotko||0,o=this.calculateDamageMultiplier(t),l=(a-h)*o;if(l<=0)return 1;let y=0;return l<=5?y=l*this.config.agePenaltyPhase1Rate:l<=10?y=5*this.config.agePenaltyPhase1Rate+(l-5)*this.config.agePenaltyPhase2Rate:y=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(l-10)*this.config.agePenaltyPhase3Rate,y=Math.min(y,this.config.agePenaltyMaxCap),1-y}calculateAge(i){if(i.age&&i.age>0)return i.age;if(i.birthDate||i.rawData.Birth_Date){const t=i.birthDate||i.rawData.Birth_Date,o=new Date(t);if(!isNaN(o.getTime())){const l=new Date;let y=l.getFullYear()-o.getFullYear();const d=l.getMonth()-o.getMonth();return(d<0||d===0&&l.getDate()<o.getDate())&&y--,y}}const a=25,g=2.5,h=i.rawData.Number_of_Fights_36m||0;return Math.round(a+h/g)}getInactiveMonths(i){const a=i.rawData.Number_of_Fights_36m||0;return a>=3?0:a>=2?6:a>=1?12:24}getFightsInPeriod(i,a){const g=a/36;return Math.round((i.rawData.Number_of_Fights_36m||0)*g)}getWeightedMetric(i,a,g,h,t=.5){const o=g.probability/100,l=1-o;return g.winner===h?i*o+a*l*t:a*o+i*l*t}getFighterStyle(i){const a=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,g=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,h=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0;return a>15||g>25?"grappler":h>30&&a<10?"striker":"balanced"}hasDominantGrappler(i,a){const g=this.getFighterStyle(i),h=this.getFighterStyle(a),t=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,o=a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0;return g==="grappler"&&t>20||h==="grappler"&&o>20}isStrikerWar(i,a){return this.getFighterStyle(i)==="striker"&&this.getFighterStyle(a)==="striker"}calculateBettingMetrics(i,a,g){const h=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,t=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,o=(i.rawData.Fight_Duration_Seconds||900)/60,l=(a.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f2KnockdownRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Knockdowns/a.rawData.Number_of_Fights_36m:0,f1StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:a.rawData.Sig_Strikes_Thrown||0,f1SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f2SubRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Sub_Attempts/a.rawData.Number_of_Fights_36m:0,f1FinishRate:h,f2FinishRate:t,avgFightTime:(o+l)/2,weightedFinishRate:g?this.getWeightedMetric(h,t,g,i,.5):void 0,weightedAvgFightTime:g?this.getWeightedMetric(o,l,g,i,1):void 0}}getWinReasoningKey(i,a,g,h){return i.overall>a.overall+20?"combat_analysis.reasoning.significant_rating_advantage":i.performance>a.performance+10?"combat_analysis.reasoning.significant_performance_advantage":i.fightIQ>a.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":g>h+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(i){return i>=ci.MIN_HIGH_CONFIDENCE?"high":i>=ci.MIN_MEDIUM_CONFIDENCE?"medium":(i>=ci.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(i){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:i.winner.name||"Unknown Fighter",confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{adjustedScore1:i.adjustedScore1,adjustedScore2:i.adjustedScore2},priority:1}}createVictoryMethodCard(i){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:i.method,predictionKey:i.methodKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{method:i.method,finishRate1:i.finishRate1,finishRate2:i.finishRate2},priority:2}}createTotalRoundsCard(i){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:i.prediction,predictionKey:i.predictionKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{avgTime:i.avgTime},priority:3}}createFightPropsCard(i){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:i.prop,predictionKey:i.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{value:i.value,valueKey:i.valueKey,metrics:i.metrics},priority:7}}createKeyFactorsCard(i){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:i},priority:8}}createTrendsCard(i){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:i},priority:9}}createNoPredictionCard(i,a,g,h,t,o,l){if(i==="insufficient_fights"&&a&&g){const y=(h||0)<=2,d=(t||0)<=2;let k="";return y&&d?k=`Both fighters have insufficient fight data: ${a.name} (${h} fights) and ${g.name} (${t} fights). Minimum 3 fights required for accurate predictions.`:y?k=`${a.name} has insufficient fight data (${h} fights). Minimum 3 fights required for accurate predictions.`:d&&(k=`${g.name} has insufficient fight data (${t} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:k,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:h,fighter2Fights:t}}}if(i==="different_divisions"&&a&&g)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${a.name} competes in ${a.division} while ${g.name} competes in ${g.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:a.division,fighter2Division:g.division}};if(i==="low_moneyline_confidence"&&a&&g){const y=o||0,d=l||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${a.name} ${y.toFixed(1)}% vs ${g.name} ${d.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:a.name,fighter2Name:g.name,fighter1Probability:y,fighter2Probability:d}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(i){return i.some(a=>(a.type==="moneyline"||a.type==="victory_method"||a.type==="duration"||a.type==="winner_and_method"||a.type==="fight_props")&&a.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(i){return i.sort((a,g)=>a.priority-g.priority)}}const ma=new ci;var ba=P('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),ya=P('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ta=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),wa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Da=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ra=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),ka=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Fa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),xa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ma=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Sa=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ca=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ka=P('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Pa=P('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),La=P('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Oa=P("<div><!></div>"),Ba=P('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),Na=P('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function Ea(j,i){yi(i,!1);const[a,g]=xi(),h=()=>fi($t,"$locale",a),t=()=>fi(Mi,"$_",a),o=b(),l=b(),y=b(),d=b(),k=b(),A=b(),U=b(),T=b(),Y=b(),H=b(),F=b(),Z=b(),G=b(),re=b(),L=b(),_=b(),V=b(),O=b(),ae=Ot();let J=Ye(i,"fighter1",8,null),E=Ye(i,"fighter2",8,null),C=Ye(i,"scheduledRounds",8,3);function $(Me){ae("roundsChanged",Me)}function se(Me,Ne){return Me.filter(I=>I.type===Ne)}function Q(Me){switch(Me){case Fi.HIGH:return"high-confidence";case Fi.MEDIUM:return"medium-confidence";case Fi.LOW:return"low-confidence";default:return""}}let Ke=h();X(()=>(N(J()),N(E())),()=>{u(o,J()&&E())}),X(()=>(e(o),N(J()),N(E()),N(C())),()=>{u(l,e(o)?ma.generateBetCards(J(),E(),!0,C()):[])}),X(()=>(e(o),N(J()),N(E()),e(l),gi),()=>{e(o)&&J()&&E()&&e(l).length>0&&gi.trackBettingAnalysis(J().name,E().name)}),X(()=>(e(l),De),()=>{u(y,se(e(l),De.MONEYLINE))}),X(()=>(e(l),De),()=>{u(d,se(e(l),De.VICTORY_METHOD))}),X(()=>(e(l),De),()=>{u(k,se(e(l),De.WINNER_AND_METHOD))}),X(()=>(e(l),De),()=>{u(A,se(e(l),De.DURATION))}),X(()=>(e(l),De),()=>{u(U,se(e(l),De.GOES_TO_DECISION))}),X(()=>(e(l),De),()=>{u(T,se(e(l),De.GONE_IN_60))}),X(()=>(e(l),De),()=>{u(Y,se(e(l),De.FIGHT_PROPS))}),X(()=>(e(l),De),()=>{u(H,se(e(l),De.KEY_FACTORS))}),X(()=>(e(l),De),()=>{u(F,se(e(l),De.TRENDS))}),X(()=>(e(l),De),()=>{u(Z,se(e(l),De.NO_PREDICTION))}),X(()=>(e(y),e(d),e(k),e(A),e(U),e(T)),()=>{u(G,e(y).length+e(d).length+e(k).length+e(A).length+e(U).length+e(T).length)}),X(()=>e(G),()=>{u(re,e(G)>0)}),X(()=>e(re),()=>{u(L,e(re)?0:1)}),X(()=>(e(Y),e(H),e(F)),()=>{u(_,e(Y).length+e(H).length+e(F).length)}),X(()=>(e(G),e(L),e(_)),()=>{u(V,e(G)+e(L)+e(_))}),X(()=>h(),()=>{h()!==Ke&&Ke&&window.location.reload()}),X(()=>e(o),()=>{u(O,e(o))}),Ti(),wi();var Ue=oi(),x=$e(Ue);{var ve=Me=>{var Ne=Na(),I=s(Ne),ne=s(I),Fe=s(ne),Pe=s(Fe);it(Pe,{size:32});var qe=c(Fe),Ae=c(ne,4),Ee=s(Ae),oe=c(I,2),ue=s(oe),Ge=s(ue),Ie=s(Ge),We=c(Ge,2),ye=s(We),Se=c(We,2),he=s(Se),ee=c(ue,4),ge=s(ee),Ve=s(ge),je=c(ge,2),Xe=s(je),ze=c(je,2),ni=s(ze),Ze=c(oe,2);{var ri=w=>{var r=ba(),D=s(r),B=s(D),z=c(D,2),K=s(z),M=c(K,2);q(W=>{f(B,`${W??""}:`),He(K,1,`rounds-btn ${C()===3?"active":""}`,"svelte-1v78qb8"),He(M,1,`rounds-btn ${C()===5?"active":""}`,"svelte-1v78qb8")},[()=>(t(),n(()=>t()("fight_radar.scheduled_rounds")))]),Be("click",K,()=>$(3)),Be("click",M,()=>$(5)),m(w,r)};te(Ze,w=>{e(G)>0&&w(ri)})}var S=c(Ze,2);let de;var Le=s(S);ii(Le,1,()=>e(Z),si,(w,r)=>{var D=ya(),B=s(D),z=s(B);Ki(z,{size:16,style:"display: inline; margin-right: 0.25rem;"});var K=c(z),M=c(B,2),W=s(M),le=s(W),me=c(W,2),Re=s(me),fe=c(M,2),_e=s(fe);q((ce,xe,we,pe)=>{f(K,` ${ce??""}`),f(le,xe),f(Re,we),f(_e,pe)},[()=>(t(),e(r),n(()=>t()(e(r).titleKey))),()=>(e(r),t(),n(()=>e(r).predictionKey?t()(e(r).predictionKey):e(r).prediction)),()=>(t(),n(()=>t()("combat_analysis.confidence_threshold"))),()=>(t(),e(r),n(()=>t()(e(r).reasoningKey,{values:e(r).metadata||{}})))]),m(w,D)});var Je=c(Le,2);ii(Je,1,()=>e(y),si,(w,r)=>{var D=Ta(),B=s(D),z=s(B),K=c(B,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,we)=>{He(D,1,`bet-card moneyline ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,(e(r),n(()=>e(r).prediction))),f(me,`${e(r),n(()=>e(r).confidence)??""}% ${xe??""}`),f(fe,we)},[()=>(e(r),n(()=>Q(e(r).confidenceLevel))),()=>(t(),e(r),n(()=>t()(e(r).titleKey))),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(r),n(()=>t()(e(r).reasoningKey)))]),m(w,D)});var ei=c(Je,2);ii(ei,1,()=>e(d),si,(w,r)=>{var D=wa(),B=s(D),z=s(B),K=c(B,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,we,pe)=>{He(D,1,`bet-card method-victory ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,xe),f(me,`${e(r),n(()=>e(r).confidence)??""}% ${we??""}`),f(fe,pe)},[()=>(e(r),n(()=>Q(e(r).confidenceLevel))),()=>(t(),e(r),n(()=>t()(e(r).titleKey))),()=>(e(r),t(),n(()=>e(r).predictionKey?t()(e(r).predictionKey):e(r).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(r),n(()=>t()(e(r).reasoningKey)))]),m(w,D)});var li=c(ei,2);ii(li,1,()=>e(k),si,(w,r)=>{var D=Da(),B=s(D),z=s(B),K=c(B,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,we,pe)=>{He(D,1,`bet-card winner-and-method ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,`${e(r),n(()=>e(r).prediction)??""}
              ${xe??""}`),f(me,`${e(r),n(()=>e(r).confidence)??""}% ${we??""}`),f(fe,pe)},[()=>(e(r),n(()=>Q(e(r).confidenceLevel))),()=>(t(),e(r),n(()=>t()(e(r).titleKey))),()=>(e(r),t(),n(()=>e(r).predictionKey?t()(e(r).predictionKey):"")),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(r),n(()=>t()(e(r).reasoningKey)))]),m(w,D)});var hi=c(li,2);ii(hi,1,()=>e(A),si,(w,r)=>{var D=Fa(),B=s(D),z=s(B),K=c(B,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re),_e=c(Re,2);{var ce=we=>{var pe=Ra(),Qe=s(pe);q(ti=>f(Qe,ti),[()=>(t(),e(r),n(()=>t()(e(r).explanationKey)))]),m(we,pe)},xe=we=>{var pe=oi(),Qe=$e(pe);{var ti=ai=>{var di=ka(),ui=s(di);q(()=>f(ui,(e(r),n(()=>e(r).explanation)))),m(ai,di)};te(Qe,ai=>{e(r),n(()=>e(r).explanation)&&ai(ti)},!0)}m(we,pe)};te(_e,we=>{e(r),n(()=>e(r).explanationKey)?we(ce):we(xe,!1)})}q((we,pe,Qe,ti,ai)=>{He(D,1,`bet-card total-rounds ${we??""}`,"svelte-1v78qb8"),f(z,pe),f(W,Qe),f(me,`${e(r),n(()=>e(r).confidence)??""}% ${ti??""}`),f(fe,ai)},[()=>(e(r),n(()=>Q(e(r).confidenceLevel))),()=>(t(),e(r),n(()=>t()(e(r).titleKey))),()=>(e(r),t(),n(()=>e(r).predictionKey?t()(e(r).predictionKey):e(r).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(r),n(()=>t()(e(r).reasoningKey)))]),m(w,D)});var v=c(hi,2);ii(v,1,()=>e(U),si,(w,r)=>{var D=xa(),B=s(D),z=s(B),K=c(B,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,we,pe)=>{He(D,1,`bet-card decision-type ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,xe),f(me,`${e(r),n(()=>e(r).confidence)??""}% ${we??""}`),f(fe,pe)},[()=>(e(r),n(()=>Q(e(r).confidenceLevel))),()=>(t(),e(r),n(()=>t()(e(r).titleKey))),()=>(e(r),t(),n(()=>e(r).predictionKey?t()(e(r).predictionKey):e(r).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(r),n(()=>t()(e(r).reasoningKey)))]),m(w,D)});var p=c(v,2);ii(p,1,()=>e(T),si,(w,r)=>{var D=Ma(),B=s(D),z=s(B),K=c(B,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,we,pe)=>{He(D,1,`bet-card gone-in-60 ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,xe),f(me,`${e(r),n(()=>e(r).confidence)??""}% ${we??""}`),f(fe,pe)},[()=>(e(r),n(()=>Q(e(r).confidenceLevel))),()=>(t(),e(r),n(()=>t()(e(r).titleKey))),()=>(e(r),t(),n(()=>e(r).predictionKey?t()(e(r).predictionKey):e(r).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(r),n(()=>t()(e(r).reasoningKey)))]),m(w,D)});var R=c(p,2);ii(R,1,()=>e(Y),si,(w,r)=>{var D=Ka(),B=s(D),z=s(B);et(z,{size:16,style:"display: inline; margin-right: 0.25rem;"});var K=c(z),M=c(B,2),W=s(M),le=s(W),me=c(W,2),Re=s(me),fe=c(M,2),_e=s(fe),ce=c(fe,2);{var xe=pe=>{var Qe=Sa(),ti=s(Qe);q(ai=>f(ti,ai),[()=>(t(),e(r),n(()=>t()(e(r).explanationKey)))]),m(pe,Qe)},we=pe=>{var Qe=oi(),ti=$e(Qe);{var ai=di=>{var ui=Ca(),Ri=s(ui);q(()=>f(Ri,(e(r),n(()=>e(r).explanation)))),m(di,ui)};te(ti,di=>{e(r),n(()=>e(r).explanation)&&di(ai)},!0)}m(pe,Qe)};te(ce,pe=>{e(r),n(()=>e(r).explanationKey)?pe(xe):pe(we,!1)})}q((pe,Qe,ti,ai,di)=>{f(K,` ${pe??""}`),f(le,Qe),f(Re,`${ti??""}: ${ai??""}`),f(_e,di)},[()=>(t(),e(r),n(()=>t()(e(r).titleKey))),()=>(e(r),t(),n(()=>e(r).predictionKey?t()(e(r).predictionKey):e(r).prediction)),()=>(t(),n(()=>t()("combat_analysis.value"))),()=>(e(r),t(),n(()=>e(r).metadata?.valueKey?t()(e(r).metadata.valueKey):e(r).metadata?.value||"N/A")),()=>(t(),e(r),n(()=>t()(e(r).reasoningKey)))]),m(w,D)});var ie=c(R,2);ii(ie,1,()=>e(H),si,(w,r)=>{var D=La(),B=s(D),z=s(B),K=c(B,2);ii(K,5,()=>(e(r),n(()=>e(r).metadata?.factors||[])),si,(M,W)=>{var le=Pa(),me=s(le),Re=s(me),fe=c(me,2),_e=s(fe);q(ce=>{f(Re,ce),f(_e,(e(W),n(()=>e(W).value)))},[()=>(t(),e(W),n(()=>t()(e(W).label)))]),m(M,le)}),q(M=>f(z,M),[()=>(t(),e(r),n(()=>t()(e(r).titleKey)))]),m(w,D)});var Te=c(ie,2);ii(Te,1,()=>e(F),si,(w,r)=>{var D=Ba(),B=s(D),z=s(B),K=c(B,2);ii(K,5,()=>(e(r),n(()=>e(r).metadata?.trends||[])),si,(M,W)=>{var le=Oa(),me=s(le);{var Re=_e=>{var ce=pi();q(xe=>f(ce,xe),[()=>(t(),e(W),n(()=>t()(e(W).textKey,{values:e(W).params||{}})))]),m(_e,ce)},fe=_e=>{var ce=pi();q(()=>f(ce,(e(W),n(()=>e(W).text)))),m(_e,ce)};te(me,_e=>{e(W),n(()=>e(W).textKey)?_e(Re):_e(fe,!1)})}q(()=>He(le,1,`trend-item ${e(W),n(()=>e(W).type)??""}`,"svelte-1v78qb8")),m(M,le)}),q(M=>f(z,M),[()=>(t(),e(r),n(()=>t()(e(r).titleKey)))]),m(w,D)});var ke=c(S,2),Oe=s(ke),Ce=s(Oe);q((w,r,D,B)=>{f(qe,` ${w??""}`),f(Ee,r),f(Ie,(N(J()),n(()=>J().name))),f(ye,`${N(J()),n(()=>J().rawData.win)??""}-${N(J()),n(()=>J().rawData.loss)??""}-${N(J()),n(()=>J().rawData.draws)??""}`),f(he,(N(J()),n(()=>J().archetype.archetypeEmojis))),f(Ve,(N(E()),n(()=>E().name))),f(Xe,`${N(E()),n(()=>E().rawData.win)??""}-${N(E()),n(()=>E().rawData.loss)??""}-${N(E()),n(()=>E().rawData.draws)??""}`),f(ni,(N(E()),n(()=>E().archetype.archetypeEmojis))),de=He(S,1,"betting-grid svelte-1v78qb8",null,de,D),f(Ce,`* ${B??""}`)},[()=>(t(),n(()=>t()("combat_analysis.fight_analysis"))),()=>(t(),n(()=>t()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(V)<=3}),()=>(t(),n(()=>t()("combat_analysis.disclaimer")))]),m(Me,Ne)};te(x,Me=>{e(O)&&Me(ve)})}m(j,Ue),Di(),g()}var Wa=P('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),$a=P('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Aa=P('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Ia=P('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),Va=P('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Ha=P('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),qa=P('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Ga=P('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Ua=P('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function ja(j,i){yi(i,!1);const a=b(),g=b(),h=b(),t=b();let o=Ye(i,"channelId",8),l=b([]),y=b(!0),d=b(null),k=b(0),A=b(!1),U=b(null),T=b(!0);function Y(){e(l).length!==0&&(u(T,!0),Ii(k),e(k)>=e(l).length*2&&setTimeout(()=>{u(T,!1),u(k,e(l).length),setTimeout(()=>{u(T,!0)},50)},400))}function H(){e(l).length!==0&&(u(T,!0),Ii(k,-1),e(k)<e(l).length&&setTimeout(()=>{u(T,!1),u(k,e(l).length*2-1),setTimeout(()=>{u(T,!0)},50)},400))}function F(x){u(U,x)}let Z=0,G=0,re=0,L=!1,_=!1,V=b(0),O=0;const ae=40;function J(x){e(A)&&(Z=x.touches[0].clientX,G=x.touches[0].clientY,re=Z,L=!0,_=!1,u(T,!1),O=e(k),u(V,0))}function E(x){if(!e(A)||!L)return;const ve=x.touches[0].clientX,Me=x.touches[0].clientY,Ne=Math.abs(ve-Z),I=Math.abs(Me-G);if(!_)if(Ne>ae&&Ne>I)_=!0;else if(I>Ne&&I>10){L=!1,_=!1,u(T,!0),u(V,0);return}else return;if(_){re=ve;const ne=re-Z,Fe=x.currentTarget instanceof HTMLElement?x.currentTarget.clientWidth:window.innerWidth;u(V,-(ne/Fe)*100),x.preventDefault()}}function C(){if(!e(A)||!L)return;L=!1,_=!1,u(T,!0);const x=Z-re;Math.abs(x)>50?x>0?u(k,O+1):u(k,O-1):Math.abs(e(V))>40?u(k,O+(e(V)>0?1:-1)):u(k,O),e(k)>=e(l).length*2?setTimeout(()=>{u(T,!1),u(k,e(l).length),setTimeout(()=>{u(T,!0)},50)},400):e(k)<e(l).length&&setTimeout(()=>{u(T,!1),u(k,e(l).length*2-1),setTimeout(()=>{u(T,!0)},50)},400),u(V,0),Z=0,G=0,re=0}function $(){const x=window.innerWidth;u(A,x<768)}tt(()=>($(),window.addEventListener("resize",$),(async()=>{try{const x=await At.fetchVideosByChannelId(o(),!0);x.length===0?u(d,"No se encontraron videos para este canal"):(u(l,x),console.log(`Loaded ${e(l).length} videos from channel ${o()}`))}catch(x){console.error("Error fetching videos:",x),u(d,"Error al cargar los videos")}finally{u(y,!1)}})(),()=>{window.removeEventListener("resize",$)})),X(()=>e(A),()=>{u(a,e(A)?1:window.innerWidth>=1024?4:3)}),X(()=>(e(A),e(a)),()=>{u(g,e(A)?80:100/e(a))}),X(()=>e(A),()=>{u(h,e(A)?10:0)}),X(()=>e(l),()=>{u(t,e(l).length>0?[...e(l).map((x,ve)=>({...x,_key:`prev-${ve}`})),...e(l).map((x,ve)=>({...x,_key:`curr-${ve}`})),...e(l).map((x,ve)=>({...x,_key:`next-${ve}`}))]:[])}),X(()=>(e(l),e(k)),()=>{e(l).length>0&&e(k)===0&&u(k,e(l).length)}),Ti(),wi();var se=Ua(),Q=s(se);{var Ke=x=>{var ve=Wa();m(x,ve)},Ue=x=>{var ve=oi(),Me=$e(ve);{var Ne=ne=>{var Fe=$a(),Pe=s(Fe),qe=s(Pe);q(()=>f(qe,e(d))),m(ne,Fe)},I=ne=>{var Fe=oi(),Pe=$e(Fe);{var qe=Ae=>{var Ee=Ga(),oe=s(Ee);{var ue=he=>{var ee=Aa();Be("click",ee,H),m(he,ee)};te(oe,he=>{e(l),n(()=>e(l).length>1)&&he(ue)})}var Ge=c(oe,2),Ie=s(Ge);let We;ii(Ie,5,()=>e(t),he=>he._key,(he,ee)=>{var ge=Ha(),Ve=s(ge);{var je=S=>{var de=Ia(),Le=s(de);q(()=>{be(Le,"src",`${e(ee),n(()=>e(ee).embedUrl)??""}?autoplay=1`),be(Le,"title",(e(ee),n(()=>e(ee).title)))}),m(S,de)},Xe=S=>{var de=Va(),Le=s(de);q(()=>{be(de,"aria-label",`Reproducir ${e(ee),n(()=>e(ee).title)??""}`),be(Le,"src",(e(ee),n(()=>e(ee).thumbnailUrl))),be(Le,"alt",(e(ee),n(()=>e(ee).title)))}),Be("click",de,()=>F(e(ee)._key)),m(S,de)};te(Ve,S=>{e(U),e(ee),n(()=>e(U)===e(ee)._key)?S(je):S(Xe,!1)})}var ze=c(Ve,2),ni=s(ze),Ze=s(ni),ri=s(Ze);q(()=>{bi(ge,`flex: 0 0 ${e(A)?"80%":100/e(a)+"%"}`),be(ni,"href",(e(ee),n(()=>e(ee).watchUrl))),f(ri,(e(ee),n(()=>e(ee).title)))}),m(he,ge)});var ye=c(Ge,2);{var Se=he=>{var ee=qa();Be("click",ee,Y),m(he,ee)};te(ye,he=>{e(l),n(()=>e(l).length>1)&&he(Se)})}q(he=>{We=He(Ie,1,"videos-track svelte-18xx8u1",null,We,he),bi(Ie,`transform: translateX(-${e(k)*e(g)-e(h)+e(V)}%)`)},[()=>({"no-transition":!e(T)})]),Be("touchstart",Ee,J),Be("touchmove",Ee,E),Be("touchend",Ee,C),m(Ae,Ee)};te(Pe,Ae=>{e(l),n(()=>e(l).length>0)&&Ae(qe)},!0)}m(ne,Fe)};te(Me,ne=>{e(d)?ne(Ne):ne(I,!1)},!0)}m(x,ve)};te(Q,x=>{e(y)?x(Ke):x(Ue,!1)})}m(j,se),Di()}var za=P('<div class="loading svelte-1ibyju2" id="loading"><div class="loading-content svelte-1ibyju2"><div class="spinner svelte-1ibyju2"></div> <p class="svelte-1ibyju2"> </p></div></div>'),Ya=P('<button class="share-fight-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1ibyju2"></path></svg> </button>'),Qa=P('<div class="action-buttons-section svelte-1ibyju2"><!> <button class="clear-radars-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1ibyju2"></path></svg> </button></div>'),Xa=P('<div class="controls svelte-1ibyju2"><div class="fighter-selectors svelte-1ibyju2"><div class="control-group svelte-1ibyju2"><label for="fighter1-select" class="svelte-1ibyju2"> </label> <div id="fighter1-container-select" class="svelte-1ibyju2"><!></div></div> <div class="vs-divider svelte-1ibyju2">VS</div> <div class="control-group svelte-1ibyju2"><label for="fighter2-select" class="svelte-1ibyju2"> </label> <div id="fighter2-container-select" class="svelte-1ibyju2"><!></div></div></div> <!></div>'),Za=P('<div class="division-disclaimer svelte-1ibyju2"><div class="disclaimer-title svelte-1ibyju2"><!> <strong class="svelte-1ibyju2"> </strong></div> <div class="disclaimer-text svelte-1ibyju2"> </div></div>'),Ja=P('<div class="fighter-info svelte-1ibyju2"><div id="fighter1-container" class="svelte-1ibyju2"><!></div> <div id="fighter2-container" class="svelte-1ibyju2"><!></div></div>'),es=P('<div class="radar-container svelte-1ibyju2"><div id="fight-radar-container" class="svelte-1ibyju2"><!></div> <div id="iq-radar-container" class="svelte-1ibyju2"><!></div></div>'),is=P('<hr class="section-divider svelte-1ibyju2"/> <!> <div class="view-calendar-link svelte-1ibyju2"><button class="calendar-link-btn svelte-1ibyju2"> </button></div>',1),ts=P('<hr class="section-divider svelte-1ibyju2"/> <!>',1),as=P('<div class="fight-radar-app svelte-1ibyju2"><div class="container svelte-1ibyju2"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function us(j,i){yi(i,!1);const[a,g]=xi(),h=()=>fi(ae,"$urlSearchParams",a),t=()=>fi(Mi,"$_",a),o=b(),l=b(),y=b(),d=b(),k=b(),A=b(),U=b(),T=b(),Y=b(),H=b(),F=b(),Z=b();let G=Ye(i,"isDarkMode",8,!0),re=Ye(i,"toggleTheme",8,()=>{}),L=b(new Map),_=b(new Map),V=b([]),O=b(new Map);const ae=Bt(vi());function J(v,p){const R=`fighter${p}`;_i({[R]:v}),ae.set(vi())}function E(v){_i({rounds:v.toString()}),ae.set(vi())}let C=b(!1),$=b(!1),se=b(!1),Q=b(!1),Ke=b(!1),Ue=b(!1),x=b(!1),ve=b(!1),Me=!1;tt(()=>{window.Highcharts=Nt,ae.set(vi());const v=It(()=>{ae.set(vi())});return Ne(),v});async function Ne(){try{u(C,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:p,processedFightersMap:R,processedFighters:ie}=await Ht.loadFightersFromCSV();u(L,v),u(O,p),u(_,R),u(V,ie),u($,!0)}catch(v){console.error("Error loading data:",v)}finally{u(C,!1)}}function I(v=[]){return v.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:ne(p)}))}function ne(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:Fe(v.division)?"no_photo_female.png":"no_photo_male.png"}function Fe(v){return!!(v&&v.startsWith("W_"))}function Pe(v){if(J(v,1),!(!Me&&h().has("rounds"))){const R=e(L).get(v),ie=e(l)?e(L).get(e(l)):null;R&&R.division_ranking==="0"||ie&&ie.division_ranking==="0"?E(5):(_i({rounds:""}),ae.set(vi()))}Me=!0,v&&!e(l)&&(u(ve,!1),setTimeout(()=>{u(ve,!0),setTimeout(()=>{u(ve,!1)},50)},100))}function qe(v){if(J(v,2),!h().has("rounds")){const R=e(o)?e(L).get(e(o)):null,ie=e(L).get(v);R&&R.division_ranking==="0"||ie&&ie.division_ranking==="0"?E(5):(_i({rounds:""}),ae.set(vi()))}v&&!e(o)&&(u(x,!1),setTimeout(()=>{u(x,!0),setTimeout(()=>{u(x,!1)},50)},100))}function Ae(v){u(Ke,v)}function Ee(v){u(Ue,v)}function oe(){gi.trackCleanRadars(),_i({fighter1:"",fighter2:"",rounds:""}),ae.set(vi())}function ue(){if(!e(o)||!e(l))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";gi.trackFightShare(e(o),e(l),v);const p=Vt("/",{fighter1:e(o),fighter2:e(l)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(o)} vs ${e(l)} - Fight-Radar`,text:`Compara las estadsticas de ${e(o)} vs ${e(l)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Ge("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Ge(v){const p=document.createElement("div");p.className="notification",p.textContent=v,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function Ie(v,p,R){const ie=[];return v&&ie.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&ie.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),R&&ie.push({name:R.name,data:[R.fightRadar.STR_OFF,R.fightRadar.STR_DEF,R.fightRadar.TD_OFF,R.fightRadar.TD_DEF,R.fightRadar.CTRL,R.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ie}function We(v,p,R){const ie=[];return v&&ie.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&ie.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),R&&ie.push({name:R.name,data:[R.iqRadar.distance,R.iqRadar.adaptability,R.iqRadar.composure,R.iqRadar.decisions,R.iqRadar.rhythm,R.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ie}function ye(v){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[R,ie,Te]=v.combinedRole.split("+")??["AT"];let ke=[[R,100]];if(ie&&Te?ke=[[R,33],[ie,34],[Te,33]]:ie?ke=[[R,50],[ie,50]]:Te&&(ke=[[R,60],[Te,40]]),ke.length===1){const[Oe,Ce]=ke[0],w=Math.min(Ce,70);return`linear-gradient(135deg, ${p[Oe]} 0%, ${p[Oe]} ${w}%, var(--card-bg) 100%)`}else{const Oe=ke.reduce((D,[,B])=>D+B,0);let Ce=[],w=0;return ke.forEach(([D,B],z)=>{const K=B/Oe*85,M=p[D];z===0&&Ce.push(`${M} ${w}%`),w+=K,z===ke.length-1?(Ce.push(`${M} ${w}%`),Ce.push("var(--card-bg) 100%")):Ce.push(`${M} ${w}%`)}),`linear-gradient(135deg, ${Ce.join(", ")})`}}X(()=>h(),()=>{u(o,h().get("fighter1")||"")}),X(()=>h(),()=>{u(l,h().get("fighter2")||"")}),X(()=>h(),()=>{u(y,h().get("rounds")==="5"?5:3)}),X(()=>(e(Ke),e(Ue)),()=>{u(d,e(Ke)||e(Ue))}),X(()=>(e(V),e(l)),()=>{u(k,I(e(V)).filter(v=>v.value!==e(l)))}),X(()=>(e(V),e(o)),()=>{u(A,I(e(V)).filter(v=>v.value!==e(o)))}),X(()=>(e(o),e(l),e(L),e(O),qi),()=>{u(U,(()=>{if(!e(o)||!e(l))return null;const v=e(L).get(e(o)),p=e(L).get(e(l));if(!v||!p)return null;if(v.Division===p.Division){const R=v.Division;if(e(O).has(R))return qi(R,e(O).get(R))}return null})())}),X(()=>(e(o),e(_)),()=>{u(T,e(o)?e(_).get(e(o))??null:null)}),X(()=>(e(l),e(_)),()=>{u(Y,e(l)?e(_).get(e(l))??null:null)}),X(()=>(e(U),e(o),e(l),e(L),e(O),Gi),()=>{u(H,(()=>{if(!e(U)||!e(o)||!e(l))return null;const v=e(L).get(e(o));return!v||!e(O).has(v.Division)?null:Gi(e(U),e(O).get(v.Division))})())}),X(()=>(e(T),e(Y),e(H)),()=>{u(F,Ie(e(T)??null,e(Y)??null,e(H)??null))}),X(()=>(e(T),e(Y),e(H)),()=>{u(Z,We(e(T),e(Y),e(H)))}),X(()=>(e(C),e(L),e(o),e(l),gi),()=>{const v=!e(C)&&e(L).size>0&&e(L).has(e(o))&&e(L).has(e(l));u(se,!!(e(o)&&e(l)&&v)),u(Q,!!(e(o)&&e(l)&&v)),e(o)&&e(l)&&v&&gi.trackFighterComparison(e(o),e(l))}),Ti(),wi();var Se=as(),he=s(Se),ee=s(he);Et(ee,{showThemeToggle:!0,get isDarkMode(){return G()},get toggleTheme(){return re()}});var ge=c(ee,2);{var Ve=v=>{var p=za(),R=s(p),ie=c(s(R),2),Te=s(ie);q(ke=>f(Te,ke),[()=>(t(),n(()=>t()("fight_radar.loading_data")))]),m(v,p)};te(ge,v=>{e(C)&&v(Ve)})}var je=c(ge,2);{var Xe=v=>{var p=Xa(),R=s(p),ie=s(R),Te=s(ie),ke=s(Te),Oe=c(Te,2),Ce=s(Oe);{let W=ki(()=>(t(),n(()=>t()("common.select_fighter"))));Xi(Ce,{id:"fighter1-select",get placeholder(){return e(W)},disabled:!1,get options(){return e(k)},get selectedValue(){return e(o)},onSelectionChange:Pe,onOpenStateChange:Ae,get shouldOpen(){return e(x)}})}var w=c(ie,4),r=s(w),D=s(r),B=c(r,2),z=s(B);{let W=ki(()=>(t(),n(()=>t()("common.select_fighter"))));Xi(z,{id:"fighter2-select",get placeholder(){return e(W)},disabled:!1,get options(){return e(A)},get selectedValue(){return e(l)},onSelectionChange:qe,onOpenStateChange:Ee,get shouldOpen(){return e(ve)}})}var K=c(R,2);{var M=W=>{var le=Qa(),me=s(le);{var Re=ce=>{var xe=Ya(),we=c(s(xe));q(pe=>f(we,` ${pe??""}`),[()=>(t(),n(()=>t()("fight_radar.share_fight")))]),Be("click",xe,ue),m(ce,xe)};te(me,ce=>{e(o)&&e(l)&&ce(Re)})}var fe=c(me,2),_e=c(s(fe));q(ce=>f(_e,` ${ce??""}`),[()=>(t(),n(()=>t()("fight_radar.clear_radars")))]),Be("click",fe,oe),m(W,le)};te(K,W=>{(e(o)||e(l))&&W(M)})}q((W,le)=>{f(ke,`${W??""}:`),f(D,`${le??""}:`)},[()=>(t(),n(()=>t()("common.fighter_1"))),()=>(t(),n(()=>t()("common.fighter_2")))]),m(v,p)};te(je,v=>{e($)&&v(Xe)})}var ze=c(je,2);{var ni=v=>{var p=oi(),R=$e(p);{var ie=Te=>{var ke=Za(),Oe=s(ke),Ce=s(Oe);Ki(Ce,{size:20,class:"disclaimer-icon"});var w=c(Ce,2),r=s(w),D=c(Oe,2),B=s(D);q((z,K)=>{f(r,z),f(B,K)},[()=>(t(),n(()=>t()("fight_radar.cross_division_title"))),()=>(t(),N(mi),e(T),e(Y),n(()=>t()("fight_radar.cross_division_text",{values:{division1:mi(e(T).rawData.Division),division2:mi(e(Y).rawData.Division)}})))]),m(Te,ke)};te(R,Te=>{e(T),e(Y),n(()=>e(T)?.rawData&&e(Y)?.rawData&&e(T).rawData.Division!==e(Y).rawData.Division)&&Te(ie)})}m(v,p)};te(ze,v=>{e(o)&&e(l)&&e(se)&&v(ni)})}var Ze=c(ze,2);{var ri=v=>{var p=Ja(),R=s(p),ie=s(R);Zi(ie,{get fighter(){return e(T)},id:"fighter1-info"});var Te=c(R,2),ke=s(Te);Zi(ke,{get fighter(){return e(Y)},id:"fighter2-info"}),q((Oe,Ce)=>{bi(R,`background: ${Oe??""}`),bi(Te,`background: ${Ce??""}`)},[()=>(e(T),n(()=>e(T)?ye(e(T).archetype):"var(--card-bg)")),()=>(e(Y),n(()=>e(Y)?ye(e(Y).archetype):"var(--card-bg)"))]),m(v,p)};te(Ze,v=>{e(se)&&v(ri)})}var S=c(Ze,2);{var de=v=>{var p=es(),R=s(p),ie=s(R);Vi(ie,()=>(e(o),e(l),e(F),n(()=>`${e(o)}-${e(l)}-${e(F).length}`)),Oe=>{{let Ce=ki(()=>(N(Ui),n(Ui)));zi(Oe,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(Ce)},get series(){return e(F)},isIQRadar:!1})}});var Te=c(R,2),ke=s(Te);Vi(ke,()=>(e(o),e(l),e(Z),n(()=>`${e(o)}-${e(l)}-${e(Z).length}`)),Oe=>{{let Ce=ki(()=>(N(ji),n(ji)));zi(Oe,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(Ce)},get series(){return e(Z)},isIQRadar:!0})}}),m(v,p)};te(S,v=>{e(Q),e(F),n(()=>e(Q)&&e(F).length>0)&&v(de)})}var Le=c(S,2);Ea(Le,{get fighter1(){return e(T)},get fighter2(){return e(Y)},get scheduledRounds(){return e(y)},$$events:{roundsChanged:v=>E(v.detail)}});var Je=c(Le,2);{var ei=v=>{var p=is(),R=c($e(p),2);Wt(R,{limit:2});var ie=c(R,2),Te=s(ie),ke=s(Te);q(Oe=>f(ke,`${Oe??""} `),[()=>(t(),n(()=>t()("banner.view_calendar")))]),Be("click",Te,()=>at("/calendar")),m(v,p)};te(Je,v=>{!e(o)&&!e(l)&&!e(d)&&v(ei)})}var li=c(he,2);{var hi=v=>{var p=ts(),R=c($e(p),2);ja(R,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),m(v,p)};te(li,v=>{!e(o)&&!e(l)&&!e(d)&&v(hi)})}m(j,Se),Di(),g()}export{us as default};
