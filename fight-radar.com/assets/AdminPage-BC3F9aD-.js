import{q as Te,j as _s,f as S,aC as Ss,c as s,u as i,i as L,A as e,z as je,t as F,T as vs,m as ss,b as f,o as ze,C as _,a0 as Qe,y as u,W as Ds,p as ls,s as as,k as ne,n as O,Q as He,aD as E,aE as xs,F as is,aF as se,O as $s,D as qe,E as Ne,aG as Oe,aH as ts,V as re,aI as ks,a as ms,aJ as Ls,aK as As,aL as Fs,aM as os,X as ds,aN as Cs,aO as Ps,ad as cs,l as Ms,J as us,h as Es,r as Is,x as Rs,I as qs}from"./lucide-CFoebsfS.js";import{q as Ns,r as Ge,R as Ce,s as Ts,t as zs,v as Us,w as Bs,P as Ks,N as Os,V as Qs,p as Hs,l as Ws,x as Vs}from"./index-CvXu4A5K.js";import{f as js,j as fs}from"./fighters_service-BwiyFoxI.js";import"./highcharts-DyRVWUji.js";var Gs=S('<div class="error-message svelte-vsw3ky"><span class="error-icon svelte-vsw3ky"><!></span> </div>'),Js=S('<div class="spinner svelte-vsw3ky"></div> Logging in...',1),Xs=S('<div class="login-container svelte-vsw3ky"><div class="login-card svelte-vsw3ky"><div class="login-header svelte-vsw3ky"><div class="lock-icon svelte-vsw3ky"><!></div> <h1 class="svelte-vsw3ky">Admin Login</h1> <p class="svelte-vsw3ky">Access the fighter management dashboard</p></div> <form class="login-form svelte-vsw3ky"><div class="form-group svelte-vsw3ky"><label for="username" class="svelte-vsw3ky">Username</label> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-vsw3ky"/></div> <div class="form-group svelte-vsw3ky"><label for="password" class="svelte-vsw3ky">Password</label> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-vsw3ky"/></div> <!> <button type="submit" class="login-btn svelte-vsw3ky"><!></button></form></div></div>');function gs(Q,r){Te(r,!1);let t=je(""),l=je(""),a=je(!1),n=je("");async function o(h){if(h.preventDefault(),!e(t)||!e(l)){_(n,"Please enter both username and password");return}_(a,!0),_(n,"");try{await Ns.login(e(t),e(l))?Ge.navigate(Ce.ADMIN_DASHBOARD):_(n,"Invalid credentials")}catch(P){console.error("Login error:",P),_(n,"Login failed. Please try again.")}finally{_(a,!1)}}function m(){_(n,"")}_s();var x=Xs(),M=s(x),A=s(M),c=s(A),g=s(c);Ss(g,{size:48});var d=i(A,2),y=s(d),v=i(s(y),2),D=i(y,2),k=i(s(D),2),p=i(D,2);{var G=h=>{var P=Gs(),T=s(P),ue=s(T);Qe(ue,{size:18});var Se=i(T);F(()=>u(Se,` ${e(n)??""}`)),f(h,P)};L(p,h=>{e(n)&&h(G)})}var q=i(p,2),C=s(q);{var N=h=>{var P=Js();f(h,P)},V=h=>{var P=Ds("Login");f(h,P)};L(C,h=>{e(a)?h(N):h(V,!1)})}F(()=>{v.disabled=e(a),k.disabled=e(a),q.disabled=e(a)}),vs(v,()=>e(t),h=>_(t,h)),ss("input",v,m),vs(k,()=>e(l),h=>_(l,h)),ss("input",k,m),ss("submit",d,o),f(Q,x),ze()}var Ys=S('<div class="loading-spinner svelte-k477v0"><div class="spinner svelte-k477v0"></div> <span>Loading...</span></div>'),Zs=S('<div class="error-state svelte-k477v0"><span class="error-icon svelte-k477v0">⚠️</span> <p class="error-message svelte-k477v0"> </p></div>'),et=S('<div><div class="widget-header svelte-k477v0"><div class="widget-title svelte-k477v0"><!> <h3 class="svelte-k477v0"> </h3></div></div> <div class="widget-content svelte-k477v0"><!></div></div>');function rs(Q,r){let t=ls(r,"loading",3,!1),l=ls(r,"className",3,"");var a=et();let n;var o=s(a),m=s(o),x=s(m);{var M=D=>{const k=E(()=>r.icon);var p=ne(),G=O(p);He(G,()=>e(k),(q,C)=>{C(q,{size:18})}),f(D,p)};L(x,D=>{r.icon&&D(M)})}var A=i(x,2),c=s(A),g=i(o,2),d=s(g);{var y=D=>{var k=Ys();f(D,k)},v=D=>{var k=ne(),p=O(k);{var G=C=>{var N=Zs(),V=i(s(N),2),h=s(V);F(()=>u(h,r.error)),f(C,N)},q=C=>{var N=ne(),V=O(N);{var h=P=>{var T=ne(),ue=O(T);xs(ue,()=>r.children),f(P,T)};L(V,P=>{r.children&&P(h)},!0)}f(C,N)};L(p,C=>{r.error?C(G):C(q,!1)},!0)}f(D,k)};L(d,D=>{t()?D(y):D(v,!1)})}F(D=>{n=as(a,1,`widget-card ${l()??""}`,"svelte-k477v0",n,D),u(c,r.title)},[()=>({loading:t()})]),f(Q,a)}class st{constructor(){this.localeCache={}}async loadFightersData(){try{const{allRawFightersArr:r}=await js.loadFightersFromCSV();return r}catch(r){return console.error("Failed to load fighters data:",r),[]}}async getDatasetOverview(){const r=await this.loadFightersData(),t=await fs("data/ALL_DIVISIONS_DATA_WITH_URLS.csv"),l={};r.forEach(d=>{const y=d.Division||"Unknown";l[y]=(l[y]||0)+1});const a=r.filter(d=>d.Number_of_Fights_36m&&d.Number_of_Fights_36m>0).length,n=r.length-a;let o=0;r.forEach(d=>{let y=0;d.Fighter&&d.Fighter.trim()!==""&&(y+=1),d.Division&&d.Division.trim()!==""&&(y+=1),d.Career_Record&&d.Career_Record.trim()!==""&&(y+=1),d.picture_url&&d.picture_url.trim()!==""&&(y+=1),o+=y/4});const m=r.length>0?o/r.length*100:0,x=r.filter(d=>!d.picture_url||d.picture_url.trim()===""),M=x.length,A=r.length>0?Math.round((r.length-M)/r.length*100):100;let c=0,g="current";if(t.lastModified){const y=new Date().getTime()-t.lastModified.getTime();c=Math.floor(y/(1e3*60*60*24)),c<=7?g="current":c<=30?g="warning":g="outdated"}else g="outdated",c=-1;return{totalFighters:r.length,activeFighters:a,inactiveFighters:n,fightersByDivision:l,lastUpdate:t.lastModified,dataQualityScore:Math.round(m),missingPictures:{count:M,completionRate:A,fighters:x.map(d=>d.Fighter||"Unknown").slice(0,10)},maintenanceStatus:{status:g,daysSinceLastUpdate:c}}}async getMissingPicturesData(){const r=await this.loadFightersData(),t=r.filter(a=>!a.picture_url||a.picture_url.trim()===""),l=r.length>0?(r.length-t.length)/r.length*100:0;return{count:t.length,fighters:t.map(a=>a.Fighter).slice(0,20),completionRate:Math.round(l)}}async getMaintenanceStatus(){const t=(await fs("data/ALL_DIVISIONS_DATA_WITH_URLS.csv")).lastModified;let l=0,a="current";if(t){const o=new Date().getTime()-t.getTime();l=Math.floor(o/(1e3*60*60*24)),l<=7?a="current":l<=30?a="warning":a="outdated"}else a="outdated",l=-1;return{lastDatasetUpdate:t,status:a,daysSinceLastUpdate:l}}async getTranslationHealth(){const r={en:Bs,es:Us,fr:zs,pt:Ts},t=Object.keys(r),l={},a={};try{for(const o of t)try{this.localeCache[o]=r[o]}catch(m){console.warn(`Failed to load locale ${o}:`,m),l[o]=["Failed to load locale file"],a[o]=0}const n=this.getAllKeys(this.localeCache.en||{});return t.forEach(o=>{if(o==="en"){l[o]=[],a[o]=100;return}const m=this.getAllKeys(this.localeCache[o]||{}),x=n.filter(M=>!m.includes(M));l[o]=x,a[o]=n.length>0?Math.round((n.length-x.length)/n.length*100):0}),{languages:t,totalKeys:n.length,missingKeysByLanguage:l,completionByLanguage:a}}catch(n){return console.error("Failed to check translation health:",n),t.forEach(o=>{l[o]=["Error loading translations"],a[o]=0}),{languages:t,totalKeys:0,missingKeysByLanguage:l,completionByLanguage:a}}}getAllKeys(r,t=""){let l=[];for(const a in r){const n=t?`${t}.${a}`:a;typeof r[a]=="object"&&r[a]!==null&&!Array.isArray(r[a])?l=l.concat(this.getAllKeys(r[a],n)):l.push(n)}return l.sort()}async testProxiesStatus(){const r=[],t=Ks.proxyConfigs.map(async a=>{const n=Date.now();try{const o=await fetch(a.url+encodeURIComponent("https://www.githubstatus.com/history.rss"),{headers:a.headers||{}});return{name:a.name,active:o.ok,responseTime:Date.now()-n}}catch{return{name:a.name,active:!1,responseTime:Date.now()-n}}});return(await Promise.allSettled(t)).forEach(a=>{a.status==="fulfilled"&&r.push(a.value)}),r}async testRSSFeedsStatus(){const r=[],l=[...Os.rssSources,...Qs.videoSources].map(async n=>{const o=Date.now();try{const m=await Hs.fetchRSS(n.url);return{name:n.name,active:m.length>0,responseTime:Date.now()-o}}catch{return{name:n.name,active:!1,responseTime:Date.now()-o}}});return(await Promise.allSettled(l)).forEach(n=>{n.status==="fulfilled"&&r.push(n.value)}),r}async getDataQualityAlerts(){const r=await this.loadFightersData(),t=[];r.forEach(a=>{(!a.height_inches||a.height_inches===0)&&t.push({type:"missing_data",fighter:a.Fighter,field:"height_inches",description:"Missing height information",severity:"medium"}),(!a.Birth_Date||a.Birth_Date==="")&&t.push({type:"missing_data",fighter:a.Fighter,field:"Birth_Date",description:"Missing birth date",severity:"low"}),a.Birth_Date&&new Date(a.Birth_Date)>new Date&&t.push({type:"invalid_data",fighter:a.Fighter,field:"Birth_Date",description:"Future birth date",severity:"high"}),a.height_inches&&(a.height_inches<50||a.height_inches>90)&&t.push({type:"invalid_data",fighter:a.Fighter,field:"height_inches",description:"Unusual height value",severity:"medium"})});const l=new Map;return r.forEach(a=>{const n=a.Fighter.toLowerCase().trim();l.has(n)||l.set(n,[]),l.get(n).push(a.Fighter)}),l.forEach((a,n)=>{a.length>1&&t.push({type:"duplicate",fighter:a.join(", "),description:"Potential duplicate fighters",severity:"high"})}),t.slice(0,50)}}const Je=new st;var tt=S('<div class="division-item svelte-1p3994o"><span class="division-name svelte-1p3994o"> </span> <span class="division-count svelte-1p3994o"> </span></div>'),at=S('<!> <span class="status-label svelte-1p3994o"> </span>',1),it=S('<div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Fecha Exacta:</span> <span class="info-value svelte-1p3994o"> </span></div>'),rt=S('<div class="missing-fighter-item svelte-1p3994o"><span class="fighter-name svelte-1p3994o"> </span></div>'),nt=S('<div class="more-missing-indicator svelte-1p3994o"> </div>'),vt=S('<div class="missing-pictures-section svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores Sin Fotos <span class="missing-count svelte-1p3994o"> </span></h4> <div class="missing-pictures-grid svelte-1p3994o"><!> <!></div></div>'),lt=S('<div class="overview-stats svelte-1p3994o"><div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Total Luchadores</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #10b981"> </div> <div class="stat-label svelte-1p3994o">Activos</div> <div class="stat-description svelte-1p3994o">Con peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #f59e0b"> </div> <div class="stat-label svelte-1p3994o">Inactivos</div> <div class="stat-description svelte-1p3994o">Sin peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Calidad de Datos</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Fotos Completas</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div></div> <div class="divisions-breakdown svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores por División</h4> <div class="divisions-grid svelte-1p3994o"></div></div> <div class="dataset-info svelte-1p3994o"><div class="info-header svelte-1p3994o"><h4 class="svelte-1p3994o">Información del Dataset</h4> <div class="status-indicator svelte-1p3994o"><!></div></div> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Última Actualización:</span> <span class="info-value svelte-1p3994o"> </span></div> <!> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Tiempo Transcurrido:</span> <span class="info-value svelte-1p3994o"> </span></div></div> <!> <div class="quality-progress svelte-1p3994o"><div class="progress-header svelte-1p3994o"><span class="svelte-1p3994o">Integridad de Datos</span> <span class="svelte-1p3994o"> </span></div> <div class="progress-bar svelte-1p3994o"><div class="progress-fill svelte-1p3994o"></div></div></div> <div class="maintenance-legend svelte-1p3994o"><div class="legend-title svelte-1p3994o">Leyenda de Estados del Dataset:</div> <div class="legend-items svelte-1p3994o"><div class="legend-item svelte-1p3994o"><!> <span>Actualizado (&lt; 7 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Necesita Atención (7-30 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Desactualizado (> 30 días)</span></div></div></div>',1);function ot(Q,r){Te(r,!0);let t=se(null),l=se(!0),a=se(void 0);async function n(){_(l,!0),_(a,void 0);try{_(t,await Je.getDatasetOverview(),!0)}catch(v){_(a,v instanceof Error?v.message:"Failed to load dataset overview",!0),console.error("Dataset overview error:",v)}finally{_(l,!1)}}is(n);function o(v){return v>=90?"#10b981":v>=70?"#f59e0b":"#ef4444"}function m(v){return v>=90?"Excelente":v>=80?"Bueno":v>=70?"Regular":"Necesita Mejoras"}function x(v){if(!v)return"Desconocido";const k=new Date().getTime()-v.getTime(),p=Math.floor(k/(1e3*60*60*24));return p===0?"Hoy":p===1?"Ayer":p<7?`hace ${p} días`:p<30?`hace ${Math.floor(p/7)} semanas`:p<365?`hace ${Math.floor(p/30)} meses`:`hace ${Math.floor(p/365)} años`}function M(v){return v>=95?"#10b981":v>=85?"#f59e0b":v>=70?"#fb923c":"#ef4444"}function A(v){return v>=95?"Excelente":v>=85?"Bueno":v>=70?"Regular":"Necesita Trabajo"}function c(v){switch(v){case"current":return"#10b981";case"warning":return"#f59e0b";case"outdated":return"#ef4444";default:return"#6b7280"}}function g(v){switch(v){case"current":return"Actualizado";case"warning":return"Necesita Atención";case"outdated":return"Desactualizado";default:return"Desconocido"}}function d(v){switch(v){case"current":return Oe;case"warning":return Qe;case"outdated":return ts;default:return Oe}}function y(v){return v===-1?"Desconocido":v===0?"Hoy":v===1?"Ayer":v<7?`hace ${v} días`:v<30?`hace ${Math.floor(v/7)} semanas`:v<365?`hace ${Math.floor(v/30)} meses`:`hace ${Math.floor(v/365)} años`}rs(Q,{title:"Resumen del Dataset",get icon(){return $s},get loading(){return e(l)},get error(){return e(a)},className:"dataset-overview-widget",children:(v,D)=>{var k=ne(),p=O(k);{var G=q=>{var C=lt(),N=O(C),V=s(N),h=s(V),P=s(h),T=i(V,2),ue=s(T),Se=s(ue),Pe=i(T,2),ve=s(Pe),z=s(ve),H=i(Pe,2),le=s(H),oe=s(le),De=i(le,4),fe=s(De),xe=s(fe),$e=i(H,2),ge=s($e),b=s(ge),w=i(ge,4),$=s(w),I=s($),j=i(N,2),U=i(s(j),2);qe(U,21,()=>Object.entries(e(t).fightersByDivision).sort((K,ee)=>ee[1]-K[1]),Ne,(K,ee)=>{var ie=E(()=>ks(e(ee),2));let _e=()=>e(ie)[0],me=()=>e(ie)[1];var Le=tt(),ce=s(Le),ye=s(ce),Fe=i(ce,2),we=s(Fe);F(()=>{u(ye,_e()),u(we,me())}),f(K,Le)});var B=i(j,2),R=s(B),te=i(s(R),2),ae=s(te);{var pe=K=>{const ee=E(()=>d(e(t).maintenanceStatus.status));var ie=at(),_e=O(ie);{let ce=E(()=>c(e(t).maintenanceStatus.status));He(_e,()=>e(ee),(ye,Fe)=>{Fe(ye,{size:18,get color(){return e(ce)}})})}var me=i(_e,2),Le=s(me);F((ce,ye)=>{re(me,`color: ${ce??""}`),u(Le,ye)},[()=>c(e(t).maintenanceStatus.status),()=>g(e(t).maintenanceStatus.status)]),f(K,ie)};L(ae,K=>{e(t).maintenanceStatus&&K(pe)})}var de=i(R,2),X=i(s(de),2),he=s(X),Y=i(de,2);{var W=K=>{var ee=it(),ie=i(s(ee),2),_e=s(ie);F(me=>u(_e,me),[()=>e(t).lastUpdate.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]),f(K,ee)};L(Y,K=>{e(t).lastUpdate&&K(W)})}var J=i(Y,2),Z=i(s(J),2),be=s(Z),ke=i(B,2);{var Ue=K=>{var ee=vt(),ie=s(ee),_e=i(s(ie)),me=s(_e),Le=i(ie,2),ce=s(Le);qe(ce,17,()=>e(t).missingPictures.fighters,Ne,(we,Ie)=>{var Re=rt(),Ze=s(Re),es=s(Ze);F(()=>u(es,e(Ie))),f(we,Re)});var ye=i(ce,2);{var Fe=we=>{var Ie=nt(),Re=s(Ie);F(()=>u(Re,`+ ${e(t).missingPictures.count-10} más...`)),f(we,Ie)};L(ye,we=>{e(t).missingPictures.count>10&&we(Fe)})}F(()=>u(me,`(${e(t).missingPictures.count??""})`)),f(K,ee)};L(ke,K=>{e(t).missingPictures.count>0&&K(Ue)})}var Me=i(ke,2),We=s(Me),Ae=i(s(We),2),Be=s(Ae),Ee=i(We,2),Ke=s(Ee),Xe=i(Me,2),Ye=i(s(Xe),2),Ve=s(Ye),ps=s(Ve);Oe(ps,{size:14,color:"#10b981"});var ns=i(Ve,2),hs=s(ns);Qe(hs,{size:14,color:"#f59e0b"});var bs=i(ns,2),ys=s(bs);ts(ys,{size:14,color:"#ef4444"}),F((K,ee,ie,_e,me,Le,ce,ye,Fe,we,Ie,Re,Ze,es,ws)=>{u(P,K),u(Se,ee),u(z,ie),re(le,`color: ${_e??""}`),u(oe,`${e(t).dataQualityScore??""}%`),re(fe,`background-color: ${me??""}20; color: ${Le??""}`),u(xe,ce),re(ge,`color: ${ye??""}`),u(b,`${e(t).missingPictures.completionRate??""}%`),re($,`background-color: ${Fe??""}20; color: ${we??""}`),u(I,Ie),u(he,Re),re(Z,`color: ${Ze??""}`),u(be,es),u(Be,`${e(t).dataQualityScore??""}%`),re(Ke,`width: ${e(t).dataQualityScore??""}%; background-color: ${ws??""}`)},[()=>e(t).totalFighters.toLocaleString(),()=>e(t).activeFighters.toLocaleString(),()=>e(t).inactiveFighters.toLocaleString(),()=>o(e(t).dataQualityScore),()=>o(e(t).dataQualityScore),()=>o(e(t).dataQualityScore),()=>m(e(t).dataQualityScore),()=>M(e(t).missingPictures.completionRate),()=>M(e(t).missingPictures.completionRate),()=>M(e(t).missingPictures.completionRate),()=>A(e(t).missingPictures.completionRate),()=>x(e(t).lastUpdate),()=>c(e(t).maintenanceStatus.status),()=>y(e(t).maintenanceStatus.daysSinceLastUpdate),()=>o(e(t).dataQualityScore)]),f(q,C)};L(p,q=>{e(t)&&q(G)})}f(v,k)},$$slots:{default:!0}}),ze()}var dt=(Q,r,t)=>_(r,e(t),!0),ct=S('<div class="missing-indicator svelte-1iuchf4"> </div>'),ut=S('<div><button class="language-button svelte-1iuchf4"><div class="language-header svelte-1iuchf4"><div class="language-info svelte-1iuchf4"><span class="language-name svelte-1iuchf4"> </span> <span class="language-code svelte-1iuchf4"> </span></div> <div class="completion-indicator"><!></div></div> <div class="completion-details svelte-1iuchf4"><div class="completion-percentage svelte-1iuchf4"> </div> <div class="completion-status svelte-1iuchf4"> </div></div> <div class="progress-bar svelte-1iuchf4"><div class="progress-fill svelte-1iuchf4"></div></div> <!></button></div>'),ft=S('<span class="missing-count svelte-1iuchf4"> </span>'),gt=S('<div class="no-missing-keys svelte-1iuchf4"><!> <span>¡Todas las traducciones están completas!</span></div>'),_t=S('<div class="missing-key-item svelte-1iuchf4"><code class="svelte-1iuchf4"> </code></div>'),mt=S('<div class="more-missing-indicator svelte-1iuchf4"> </div>'),pt=S('<div class="missing-keys-list svelte-1iuchf4"><!> <!></div>'),ht=S('<div class="missing-keys-section svelte-1iuchf4"><h4 class="svelte-1iuchf4"> <!></h4> <!></div>'),bt=S('<div class="translation-overview svelte-1iuchf4"><div class="overview-stats svelte-1iuchf4"><div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Claves Totales</div></div> <div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Idiomas</div></div></div></div> <div class="languages-status svelte-1iuchf4"><h4 class="svelte-1iuchf4">Estado por Idioma</h4> <div class="languages-grid svelte-1iuchf4"></div></div> <!>',1);function yt(Q,r){Te(r,!0);let t=se(null),l=se(!0),a=se(void 0),n=se("");async function o(){_(l,!0),_(a,void 0);try{_(t,await Je.getTranslationHealth(),!0),e(t)&&!e(n)&&e(t).languages.length>0&&_(n,e(t).languages.find(c=>c!=="en")||e(t).languages[0],!0)}catch(c){_(a,c instanceof Error?c.message:"Error al cargar estado de traducciones",!0),console.error("Translation health error:",c)}finally{_(l,!1)}}is(o);function m(c){return c>=95?"#10b981":c>=80?"#f59e0b":c>=60?"#fb923c":"#ef4444"}function x(c){return c>=95?Oe:c>=80?Qe:ts}function M(c){return c>=95?"Completo":c>=80?"Casi Completo":c>=60?"En Progreso":"Incompleto"}function A(c){return{en:"Inglés",es:"Español",fr:"Francés",pt:"Portugués"}[c]||c.toUpperCase()}rs(Q,{title:"Estado de Traducciones",get icon(){return Ls},get loading(){return e(l)},get error(){return e(a)},className:"translation-health-widget",children:(c,g)=>{var d=ne(),y=O(d);{var v=D=>{var k=bt(),p=O(k),G=s(p),q=s(G),C=s(q),N=s(C),V=i(q,2),h=s(V),P=s(h),T=i(p,2),ue=i(s(T),2);qe(ue,21,()=>e(t).languages,Ne,(ve,z)=>{const H=E(()=>e(t).completionByLanguage[e(z)]),le=E(()=>e(t).missingKeysByLanguage[e(z)]?.length||0);var oe=ut();let De;var fe=s(oe);fe.__click=[dt,n,z];var xe=s(fe),$e=s(xe),ge=s($e),b=s(ge),w=i(ge,2),$=s(w),I=i($e,2),j=s(I);{var U=W=>{const J=E(()=>x(e(H)));var Z=ne(),be=O(Z);{let ke=E(()=>m(e(H)));He(be,()=>e(J),(Ue,Me)=>{Me(Ue,{size:16,get color(){return e(ke)}})})}f(W,Z)};L(j,W=>{e(H)!==void 0&&W(U)})}var B=i(xe,2),R=s(B),te=s(R),ae=i(R,2),pe=s(ae),de=i(B,2),X=s(de),he=i(de,2);{var Y=W=>{var J=ct(),Z=s(J);F(()=>u(Z,`${e(le)??""} claves faltantes`)),f(W,J)};L(he,W=>{e(le)>0&&W(Y)})}F((W,J,Z,be,ke)=>{De=as(oe,1,"language-item svelte-1iuchf4",null,De,W),u(b,J),u($,`(${e(z)??""})`),re(R,`color: ${Z??""}`),u(te,`${e(H)??""}%`),u(pe,be),re(X,`width: ${e(H)??""}%; background-color: ${ke??""}`)},[()=>({selected:e(n)===e(z)}),()=>A(e(z)),()=>m(e(H)),()=>M(e(H)),()=>m(e(H))]),f(ve,oe)});var Se=i(T,2);{var Pe=ve=>{const z=E(()=>e(t).missingKeysByLanguage[e(n)]);var H=ht(),le=s(H),oe=s(le),De=i(oe);{var fe=b=>{var w=ft(),$=s(w);F(()=>u($,`(${e(z).length??""})`)),f(b,w)};L(De,b=>{e(z).length>0&&b(fe)})}var xe=i(le,2);{var $e=b=>{var w=gt(),$=s(w);Oe($,{size:20,color:"#10b981"}),f(b,w)},ge=b=>{var w=pt(),$=s(w);qe($,17,()=>e(z).slice(0,10),Ne,(U,B)=>{var R=_t(),te=s(R),ae=s(te);F(()=>u(ae,e(B))),f(U,R)});var I=i($,2);{var j=U=>{var B=mt(),R=s(B);F(()=>u(R,`+ ${e(z).length-10} claves más...`)),f(U,B)};L(I,U=>{e(z).length>10&&U(j)})}f(b,w)};L(xe,b=>{e(z).length===0?b($e):b(ge,!1)})}F(b=>u(oe,`Claves Faltantes en ${b??""} `),[()=>A(e(n))]),f(ve,H)};L(Se,ve=>{e(n)&&e(t).missingKeysByLanguage[e(n)]&&ve(Pe)})}F(ve=>{u(N,ve),u(P,e(t).languages.length)},[()=>e(t).totalKeys.toLocaleString()]),f(D,k)};L(y,D=>{e(t)&&D(v)})}f(c,d)},$$slots:{default:!0}}),ze()}ms(["click"]);async function wt(Q,r,t,l){_(r,!0);try{await t()}catch(a){_(l,a instanceof Error?a.message:"Error al ejecutar prueba de proxies",!0),console.error("Proxy test error:",a)}finally{_(r,!1)}}var St=S('<div class="service-item svelte-1rmb815"><div class="service-header svelte-1rmb815"><div class="service-info svelte-1rmb815"><div class="service-name svelte-1rmb815"> </div> <div class="service-description svelte-1rmb815"> </div></div> <div class="service-status"><!></div></div> <div class="service-details svelte-1rmb815"><div class="status-info svelte-1rmb815"><span class="status-label svelte-1rmb815"> </span> <span class="response-time svelte-1rmb815"> </span></div> <div class="status-indicator svelte-1rmb815"><div class="indicator-bar svelte-1rmb815"><div class="indicator-fill svelte-1rmb815"></div></div></div></div></div>'),Dt=S('<div class="summary-stat svelte-1rmb815"><div class="summary-value svelte-1rmb815"> </div> <div class="summary-label svelte-1rmb815">Fuentes Activas</div></div> <div class="summary-progress svelte-1rmb815"><div class="progress-header svelte-1rmb815"><span class="svelte-1rmb815">Disponibilidad RSS</span> <span class="svelte-1rmb815"> </span></div> <div class="progress-bar svelte-1rmb815"><div class="progress-fill svelte-1rmb815"></div></div></div>',1),xt=S('<div class="feed-item svelte-1rmb815"><div class="feed-status"><!></div> <div class="feed-info svelte-1rmb815"><span class="feed-name svelte-1rmb815"> </span> <span class="feed-time svelte-1rmb815"> </span></div></div>'),$t=S('<div class="status-overview svelte-1rmb815"><div class="test-action svelte-1rmb815"><button><!> </button></div></div> <div class="services-section svelte-1rmb815"><h4 class="svelte-1rmb815">Proxies habilitados</h4> <div class="services-grid svelte-1rmb815"></div></div> <div class="news-feeds-section svelte-1rmb815"><h4 class="svelte-1rmb815">Fuentes de Noticias RSS</h4> <div class="feeds-summary svelte-1rmb815"><!></div> <div class="feeds-grid svelte-1rmb815"></div></div> <div class="connection-legend svelte-1rmb815"><div class="legend-title svelte-1rmb815">Leyenda de Estados:</div> <div class="legend-items svelte-1rmb815"><div class="legend-item svelte-1rmb815"><!> <span>Conectado (&lt; 1s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Lento (1-3s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Sin Conexión</span></div></div></div>',1);function kt(Q,r){Te(r,!0);let t=se(null),l=se(null),a=se(!0),n=se(void 0),o=se(!1);async function m(){_(a,!0),_(n,void 0);try{_(t,await Je.testProxiesStatus(),!0),_(l,await Je.testRSSFeedsStatus(),!0)}catch(g){_(n,g instanceof Error?g.message:"Error al probar estado de proxies",!0),console.error("Proxy status error:",g)}finally{_(a,!1)}}is(m);function x(g,d=0){return g?d>0&&d<1e3?"#10b981":d>=1e3&&d<3e3?"#f59e0b":"#fb923c":"#ef4444"}function M(g){return g?os:ds}function A(g,d=0){return g?d===-1?"Error":d===0?"Conectado":d<500?"Rápido":d<1e3?"Normal":d<3e3?"Lento":"Muy Lento":"Sin Conexión"}function c(g){return g===-1?"Error":g===0?"-":`${g}ms`}rs(Q,{title:"Estado de Conexiones",get icon(){return As},get loading(){return e(a)},get error(){return e(n)},onRefresh:m,className:"proxy-status-widget",children:(g,d)=>{var y=ne(),v=O(y);{var D=k=>{var p=$t(),G=O(p),q=s(G),C=s(q);let N;C.__click=[wt,o,m,n];var V=s(C);{let b=E(()=>e(o)?"spinning":"");Fs(V,{size:16,get class(){return e(b)}})}var h=i(V),P=i(G,2),T=i(s(P),2);qe(T,21,()=>e(t),Ne,(b,w)=>{const $=E(()=>e(w).active),I=E(()=>e(w).responseTime||0);var j=St(),U=s(j),B=s(U),R=s(B),te=s(R),ae=i(R,2),pe=s(ae),de=i(B,2),X=s(de);{var he=Ae=>{const Be=E(()=>M(e($)));var Ee=ne(),Ke=O(Ee);{let Xe=E(()=>x(e($),e(I)));He(Ke,()=>e(Be),(Ye,Ve)=>{Ve(Ye,{size:18,get color(){return e(Xe)}})})}f(Ae,Ee)};L(X,Ae=>{e($)!==void 0&&Ae(he)})}var Y=i(U,2),W=s(Y),J=s(W),Z=s(J),be=i(J,2),ke=s(be),Ue=i(W,2),Me=s(Ue),We=s(Me);F((Ae,Be,Ee,Ke)=>{u(te,e(w).name),u(pe,e(w).name),re(J,`color: ${Ae??""}`),u(Z,Be),u(ke,Ee),re(We,`width: ${e($)?"100%":"0%"}; background-color: ${Ke??""}`)},[()=>x(e($),e(I)),()=>A(e($),e(I)),()=>c(e(I)),()=>x(e($),e(I))]),f(b,j)});var ue=i(P,2),Se=i(s(ue),2),Pe=s(Se);{var ve=b=>{const w=E(()=>e(l).length),$=E(()=>e(l).filter(({active:Y})=>Y).length),I=E(()=>e(w)>0?Math.round(e($)/e(w)*100):0);var j=Dt(),U=O(j),B=s(U),R=s(B),te=i(U,2),ae=s(te),pe=i(s(ae),2),de=s(pe),X=i(ae,2),he=s(X);F(Y=>{u(R,`${e($)??""}/${e(w)??""}`),u(de,`${e(I)??""}%`),re(he,`width: ${e(I)??""}%; background-color: ${Y??""}`)},[()=>x(e(I)>=80,0)]),f(b,j)};L(Pe,b=>{e(l)&&b(ve)})}var z=i(Se,2);qe(z,21,()=>e(l)??[],Ne,(b,w)=>{const $=E(()=>e(w).responseTime);var I=xt(),j=s(I),U=s(j);{var B=X=>{const he=E(()=>M(e(w).active));var Y=ne(),W=O(Y);{let J=E(()=>x(e(w).active,e($)));He(W,()=>e(he),(Z,be)=>{be(Z,{size:14,get color(){return e(J)}})})}f(X,Y)};L(U,X=>{e(w).name&&X(B)})}var R=i(j,2),te=s(R),ae=s(te),pe=i(te,2),de=s(pe);F(X=>{u(ae,e(w).name),u(de,X)},[()=>c(e($))]),f(b,I)});var H=i(ue,2),le=i(s(H),2),oe=s(le),De=s(oe);os(De,{size:14,color:"#10b981"});var fe=i(oe,2),xe=s(fe);Qe(xe,{size:14,color:"#f59e0b"});var $e=i(fe,2),ge=s($e);ds(ge,{size:14,color:"#ef4444"}),F(b=>{N=as(C,1,"test-all-btn svelte-1rmb815",null,N,b),C.disabled=e(o),u(h,` ${e(o)?"Probando...":"Probar Todas las Conexiones"}`)},[()=>({testing:e(o)})]),f(k,p)};L(v,k=>{e(t)&&k(D)})}f(g,y)},$$slots:{default:!0}}),ze()}ms(["click"]);var Lt=S('<div class="admin-dashboard svelte-10d68cq"><div class="dashboard-header svelte-10d68cq"><div class="header-content svelte-10d68cq"><div class="header-title svelte-10d68cq"><!> <div class="title-text svelte-10d68cq"><h1 class="svelte-10d68cq">Panel de Administración</h1> <p class="svelte-10d68cq">Monitoreo y mantenimiento del dataset UFC Radar</p></div></div> <div class="header-info svelte-10d68cq"><div class="current-time svelte-10d68cq"> </div> <div class="status-badge svelte-10d68cq"><!> <span class="svelte-10d68cq">Acceso Autorizado</span></div></div></div></div> <div class="dashboard-content svelte-10d68cq"><div class="widgets-grid svelte-10d68cq"><div class="widget-section overview-section svelte-10d68cq"><!></div> <div class="widget-section translations-section svelte-10d68cq"><!></div> <div class="widget-section proxy-section svelte-10d68cq"><!></div></div></div> <div class="dashboard-footer svelte-10d68cq"><div class="footer-content svelte-10d68cq"><div class="footer-info svelte-10d68cq"><span class="svelte-10d68cq">UFC Radar Admin Dashboard</span> <span class="svelte-10d68cq">•</span> <span class="svelte-10d68cq">Versión 1.0</span></div> <div class="footer-warning svelte-10d68cq"><!> <span class="svelte-10d68cq">Panel interno - Solo para uso del equipo</span></div></div></div></div>');function At(Q,r){Te(r,!0);let t=se(Cs(new Date));setInterval(()=>{_(t,new Date,!0)},6e4);function l(T){return T.toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}var a=Lt(),n=s(a),o=s(n),m=s(o),x=s(m);Ps(x,{size:32});var M=i(m,2),A=s(M),c=s(A),g=i(A,2),d=s(g);cs(d,{size:16});var y=i(n,2),v=s(y),D=s(v),k=s(D);ot(k,{});var p=i(D,2),G=s(p);yt(G,{});var q=i(p,2),C=s(q);kt(C,{});var N=i(y,2),V=s(N),h=i(s(V),2),P=s(h);cs(P,{size:14}),F(T=>u(c,T),[()=>l(e(t))]),f(Q,a),ze()}function Et(Q,r){Te(r,!1);const[t,l]=qs(),a=()=>us(Ws,"$currentPath",t),n=()=>us(Vs,"$isAuthenticated",t);Ms(()=>(a(),n(),Ge),()=>{a()===Ce.ADMIN_DASHBOARD&&!n()?Ge.navigate(Ce.ADMIN_LOGIN):a()===Ce.ADMIN_LOGIN&&n()&&Ge.navigate(Ce.ADMIN_DASHBOARD)}),Es(),_s();var o=ne(),m=O(o);{var x=A=>{gs(A,{})},M=A=>{var c=ne(),g=O(c);{var d=v=>{At(v,{})},y=v=>{gs(v,{})};L(g,v=>{n()?v(d):v(y,!1)},!0)}f(A,c)};L(m,A=>{a(),Is(Ce),Rs(()=>a()===Ce.ADMIN_LOGIN)?A(x):A(M,!1)})}f(Q,o),ze(),l()}export{Et as default};
