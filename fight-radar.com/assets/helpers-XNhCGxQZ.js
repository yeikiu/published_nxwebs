import{aa as Be,al as Pe,am as Ee,an as De}from"./lucide-D52IJH6s.js";const ei=["Ofensiva Golpes","Defensiva Golpes","Ofensiva Derribos","Defensiva Derribos","Control","Amenaza Final"],ii=["Distancia","Adaptabilidad","Temple","Decisiones","Ritmo","Fintas"];function Ae(e){const i=Number(e.Sig_Strikes_Landed)||0,n=Number(e.Sig_Strikes_Thrown)||0,s=Number(e.Sig_Strikes_Absorbed)||0,t=Number(e.significant_strikes_attempted_against)||0,o=Number(e.Takedowns_Successful)||0,r=Number(e.Takedowns_Attempted)||0,a=Number(e.Takedowns_Defended)||0,c=Number(e.takedowns_attempted_against)||0,d=Number(e.Control_Time_Seconds)||0,l=Number(e.Time_Controlled_Seconds)||0,u=Number(e.Number_of_Fights_36m)||1,g=Number(e.win_ko)||0,m=Number(e.win_tko)||0,p=Number(e.win_sub)||0;let f=n>0?i/n*100:0,h=t>0?(t-s)/t*100:85,T=r>0?o/r*100:45,y=c>0?a/c*100:85,v=d+l>0?d/(d+l)*100:50,F=u>0?(g+m+p)/u*100:0;const _={STR_OFF:f,STR_DEF:h,TD_OFF:T,TD_DEF:y,CTRL:v,FIN_THREAT:F};return{STR_OFF:_.STR_OFF>100?100:Math.round(_.STR_OFF),STR_DEF:_.STR_DEF>100?100:Math.round(_.STR_DEF),TD_OFF:_.TD_OFF>100?100:Math.round(_.TD_OFF),TD_DEF:_.TD_DEF>100?100:Math.round(_.TD_DEF),CTRL:_.CTRL>100?100:Math.round(_.CTRL),FIN_THREAT:_.FIN_THREAT>100?100:Math.round(_.FIN_THREAT)}}function je(e,i){const n=e.Sig_Strikes_Landed||0,s=e.Sig_Strikes_Thrown||0,t=e.Sig_Strikes_Absorbed||0,o=e.significant_strikes_attempted_against||0,r=e.Takedowns_Defended||0,a=e.takedowns_attempted_against||0,c=e.Fight_Duration_Seconds||1,d=e.win||0,l=e.loss||0,u=e.draws||0,g=e.win_ko||0,m=e.win_tko||0,p=e.win_sub||0,f=e.Knockdowns||0,h=e.Knockdowns_Received||0,T=c/60,y=d+l+u||1,v=T>0?n/(T*y):0,F=s>0?n/s*100:0,_=o>0?t/o*100:0,k=a>0?r/a*100:0,A=d/y,E=(g+m+p)/y*100,R=e.reach_inches||70,N=e.height_inches||70,D=R-N,j=Math.min(Math.max(D-2,0),10)*4,K=n-t,Q=K>0?Math.min(K*.3,40):Math.max(K*.2,-20),C=40+j+Q,J=Math.round(Math.min(Math.max(C,15),85)),b=(_+k)/2-t/Math.max(y,1),O=Math.max(b*.8,0),B=T*y,Y=B>10?Math.min((B-10)*2,25):0,V=y-h,X=Math.min(V*3,20),ee=40+O+Y+X,Z=Math.round(Math.min(Math.max(ee,20),85)),ie=Math.min(A*.4,.4),x=((g>0?1:0)+(m>0?1:0)+(p>0?1:0))/3*.15;let S=0;i.isTriple?S=.25:i.isDual?S=.15:S=-.1;const se=ie+x+S,ne=Math.round(Math.min(Math.max(se*100,5),95)),z=A>E/100?Math.min((A-E/100)*50,25):0,I=e.Takedowns_Attempted>0?e.Takedowns_Successful/e.Takedowns_Attempted*30:15,te=e.Control_Time_Seconds||0,oe=e.Time_Controlled_Seconds||0,P=te-oe,ae=P>0?Math.min(P*.15,20):Math.max(P*.1,-15),$=35+z+I+ae,re=Math.round(Math.min(Math.max($,15),85)),U=s-t,pe=U>0?Math.min(U*.25,30):0,q=T*y,ce=q<8?Math.min((8-q)*5,25):q>12?Math.max((12-q)*2,-15):10,le=v>3?Math.min((v-3)*8,20):v*6,fe=35+pe+ce+le,de=Math.round(Math.min(Math.max(fe,15),85)),H=s>0?F/100:0,we=H>.5?Math.min((H-.5)*80,30):0,ue=f-h,Se=ue>0?Math.min(ue*15,25):Math.max(ue*5,-15),Me=P>60?Math.min((P-60)*.1,15):0,Re=35+we+Se+Me,Ne=Math.round(Math.min(Math.max(Re,15),85));return{distance:J,adaptability:ne,composure:Z,decisions:re,rhythm:de,feints:Ne}}class be{constructor(i){this.metrics=this.calculateMetrics(i)}calculateMetrics(i){const n=i.win||0,s=i.loss||0,t=i.draws||0,o=n+s+t,r=i.win_ko||0,a=i.win_tko||0,c=i.win_sub||0,d=i.Knockdowns||0,l=i.Knockdowns_Received||0,u=s===0&&n>0,g=o>0?n/o:0,m=r+a+c,p=o>0?m/o*100:0,f=l>0?d/l:d+1,h=i.Fight_Duration_Seconds>0?i.Fight_Duration_Seconds/60:15;return{isUndefeated:u,wins:n,losses:s,winRate:g,finishRate:p,totalFights:i.Number_of_Fights_36m||o,knockdowns:d,knockdownsReceived:l,knockdownRatio:f,subWins:c,koTkoWins:r+a,avgFightTime:h,isEliteFinisher:p>70&&o>=4,isSubmissionSpecialist:c>=3&&u,isKnockoutArtist:r+a>=3&&d>l+2}}getStrikingOffenseBonuses(){const i=this.metrics;return i.isUndefeated&&i.isEliteFinisher?{primary:i.isKnockoutArtist?1.44:1.25,secondary:1.15,additive:8}:i.isUndefeated&&i.finishRate>50?{primary:1.18,secondary:1.1,additive:5}:i.isUndefeated&&i.totalFights>=3?{primary:1.12,secondary:1.05,additive:3}:i.winRate>.85&&i.totalFights>=5?{primary:1.08,secondary:1.03,additive:2}:{primary:1,secondary:1,additive:0}}getDefensiveBonuses(){const i=this.metrics;return i.winRate===1&&i.totalFights>=4?{primary:1.15,secondary:1.1,additive:4}:i.winRate>.9&&i.totalFights>=4?{primary:1.08,secondary:1.05,additive:2}:{primary:1,secondary:1,additive:0}}getFinishingBonuses(){const i=this.metrics;return i.isUndefeated&&i.isEliteFinisher?{primary:i.isSubmissionSpecialist?1.68:1.4,secondary:1.2,additive:15}:i.isUndefeated&&i.finishRate>50?{primary:1.3,secondary:1.15,additive:10}:i.isUndefeated&&i.totalFights>=3?{primary:1.2,secondary:1.1,additive:6}:{primary:1,secondary:1,additive:0}}getControlBonuses(){const i=this.metrics;return i.isSubmissionSpecialist?{primary:1.25,secondary:1.15,additive:8}:i.isUndefeated&&i.totalFights>=4?{primary:1.1,secondary:1.05,additive:3}:{primary:1,secondary:1,additive:0}}getVolumeBonuses(){const i=this.metrics;if(i.isUndefeated&&i.isEliteFinisher){let n=1.4,s=30;return i.isKnockoutArtist&&(n*=1.15,s+=12),i.isSubmissionSpecialist&&(n*=1.18,s+=15),{primary:Math.min(n,1.8),secondary:1.18,additive:Math.min(s,50)}}else{if(i.isUndefeated&&i.finishRate>50)return{primary:1.25,secondary:1.12,additive:20};if(i.isUndefeated&&i.totalFights>=3)return{primary:1.15,secondary:1.08,additive:15}}return{primary:1,secondary:1,additive:0}}getEliteClassification(){const i=this.metrics;return i.isUndefeated&&i.isEliteFinisher?i.isKnockoutArtist&&i.isSubmissionSpecialist?"Complete Dominator":i.isKnockoutArtist?"Knockout Artist":i.isSubmissionSpecialist?"Submission Specialist":"Elite Finisher":i.isUndefeated&&i.finishRate>50?"Undefeated Finisher":i.isUndefeated?"Undefeated Prospect":i.winRate>.85&&i.totalFights>=6?"Elite Veteran":"Standard Fighter"}getMetrics(){return{...this.metrics}}}const Ce={ANT:{description:"Avanza con presión caótica y volumen alto, forzando intercambios hasta quebrar al rival.",favoriteZone:"Centro → Zona de Decisión",strengths:"Explosividad y poder de KO y presión",weaknesses:"Defensa irregular y castigable en zona intermedia"},AT:{description:"Combina presión técnica con setups precisos, domina el ritmo y corta la jaula para imponer orden.",favoriteZone:"Centro del octágono (Búsqueda)",strengths:"Dictar ritmo y cortar la jaula",weaknesses:"Vulnerable a contraataques en zona intermedia"},PNT:{description:"Prioriza la supervivencia, absorbe castigo y busca desgastar al rival hasta el fallo.",favoriteZone:"Zona de Decisión (pegado a la jaula)",strengths:"Durabilidad extrema y absorción de castigo",weaknesses:"Baja iniciativa ofensiva"},PT:{description:"Se mantiene paciente, contragolpea con precisión quirúrgica y aprovecha cada error.",favoriteZone:"Zona Intermedia (Acción)",strengths:"Timing perfecto y lectura del oponente",weaknesses:"Bajo volumen y riesgo en decisiones cerradas"},"ANT+AT":{description:"Inicia con caos agresivo y remata con ajustes técnicos para cerrar intercambios.",favoriteZone:"Centro → Zona de Decisión → Centro del octágono (Búsqueda)",strengths:"Explosividad y presión con poder + Dictar ritmo y cortar la jaula",weaknesses:"Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia"},"AT+ANT":{description:"Alterna entre setups técnicos y ráfagas caóticas, manteniendo presión constante.",favoriteZone:"Centro del octágono",strengths:"Setups precisos con explosiones de volumen",weaknesses:"Desgaste por mantener doble intensidad"},"AT+PNT":{description:"Usa fundamentos técnicos para protegerse y contraatacar con control defensivo.",favoriteZone:"Centro → Decisión",strengths:"Desgaste sistemático del oponente",weaknesses:"Menor fluidez ofensiva"},"AT+PT":{description:"Combina paciencia con precisión, elige momentos exactos para ejecutar con limpieza.",favoriteZone:"Centro ↔ Intermedia",strengths:"Control técnico y contraataque letal",weaknesses:"Puede quedar atrapado entre estilos"},"PNT+AT":{description:"Bloquea el avance rival y responde con técnica disciplinada en ráfagas controladas.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda)",strengths:"Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula",weaknesses:"Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia"},"PT+AT":{description:"Oscila entre pasividad calculada y explosiones técnicas para romper ritmos.",favoriteZone:"Zona Intermedia (Acción) → Centro del octágono (Búsqueda)",strengths:"Timing y lectura del oponente + Dictar ritmo y cortar la jaula",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia"},"ANT+PNT":{description:"Explosivo y resistente, apuesta por intercambios desordenados hasta vencer.",favoriteZone:"Centro → Decisión",strengths:"Volumen caótico sostenido",weaknesses:"Alto castigo recibido"},"ANT+PT":{description:"Genera caos ofensivo y encuentra momentos técnicos para castigar en el retroceso.",favoriteZone:"Centro ↔ Intermedia",strengths:"Presión cuando detecta debilidad, paciencia cuando no",weaknesses:"Irregularidad en transiciones"},"PNT+ANT":{description:"Se refugia en la resistencia y contraataca con brotes de agresividad salvaje.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión",strengths:"Durabilidad y absorción de castigo + Explosividad y presión con poder",weaknesses:"Baja iniciativa ofensiva y Defensa irregular en intercambios"},"PT+ANT":{description:"Defiende con precisión hasta hallar huecos para embestidas agresivas.",favoriteZone:"Zona Intermedia (Acción) → Centro → Zona de Decisión",strengths:"Timing y lectura del oponente + Explosividad y presión con poder",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios"},"PNT+PT":{description:"Resiste inmóvil y frena el avance rival, atrayéndolo a un combate de desgaste.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción)",strengths:"Durabilidad y absorción de castigo + Timing y lectura del oponente",weaknesses:"Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas"},"PT+PNT":{description:"Un muro defensivo que absorbe presión y neutraliza ataques con paciencia férrea.",favoriteZone:"Intermedia → Decisión",strengths:"Negación total del juego ofensivo rival",weaknesses:"Menor iniciativa ofensiva"},"ANT+AT+PNT":{description:"Domina el octágono con agresividad y bloqueos defensivos impenetrables.",favoriteZone:"Centro → Zona de Decisión → Centro del octágono (Búsqueda) → Zona de Decisión (pegado a la jaula)",strengths:"Explosividad y presión con poder + Dictar ritmo y cortar la jaula + Durabilidad y absorción de castigo",weaknesses:"Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia y Baja iniciativa ofensiva"},"ANT+AT+PT":{description:"Desata agresión caótica y la adapta con recursos técnicos y control puntual.",favoriteZone:"Centro → Zona de Decisión → Centro del octágono (Búsqueda) → Zona Intermedia (Acción)",strengths:"Explosividad y presión con poder + Dictar ritmo y cortar la jaula + Timing y lectura del oponente",weaknesses:"Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia y Bajo volumen; riesgo en decisiones cerradas"},"ANT+PT+AT":{description:"Ataca sin aviso, alternando caos, paciencia y técnica quirúrgica.",favoriteZone:"Centro → Zona de Decisión → Zona Intermedia (Acción) → Centro del octágono (Búsqueda)",strengths:"Explosividad y presión con poder + Timing y lectura del oponente + Dictar ritmo y cortar la jaula",weaknesses:"Defensa irregular en intercambios y Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia"},"AT+ANT+PNT":{description:"Presiona con técnica y caos, mientras se mantiene sólido en defensa.",favoriteZone:"Centro → Decisión",strengths:"Presión sostenida desde múltiples ángulos",weaknesses:"Riesgo de desgaste prolongado"},"AT+ANT+PT":{description:"Planifica con setups técnicos, escala al caos y remata con precisión fría.",favoriteZone:"Centro → Intermedia",strengths:"Control técnico + explosividad + contraataque letal",weaknesses:"Exigencia táctica altísima"},"AT+PNT+ANT":{description:"Aúna ferocidad con disciplina, busca imponerse con técnica bajo presión.",favoriteZone:"Centro del octágono (Búsqueda) → Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión",strengths:"Dictar ritmo y cortar la jaula + Durabilidad y absorción de castigo + Explosividad y presión con poder",weaknesses:"Vulnerable a contraataques en zona intermedia y Baja iniciativa ofensiva y Defensa irregular en intercambios"},"AT+PNT+PT":{description:"Defiende con firmeza y responde con ráfagas calculadas de técnica.",favoriteZone:"Centro del octágono (Búsqueda) → Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción)",strengths:"Dictar ritmo y cortar la jaula + Durabilidad y absorción de castigo + Timing y lectura del oponente",weaknesses:"Vulnerable a contraataques en zona intermedia y Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas"},"AT+PT+ANT":{description:"Convierte pausas en ofensivas fluidas, dominando el tempo.",favoriteZone:"Centro del octágono (Búsqueda) → Zona Intermedia (Acción) → Centro → Zona de Decisión",strengths:"Dictar ritmo y cortar la jaula + Timing y lectura del oponente + Explosividad y presión con poder",weaknesses:"Vulnerable a contraataques en zona intermedia y Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios"},"AT+PT+PNT":{description:"Combina técnica y resistencia con paciencia, minimizando riesgos.",favoriteZone:"Centro → Intermedia → Decisión",strengths:"Versatilidad total",weaknesses:"Puede diluir identidad ofensiva"},"ANT+PNT+AT":{description:"Combina técnica y resistencia con paciencia, minimizando riesgos.",favoriteZone:"Centro → Zona de Decisión → Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda)",strengths:"Explosividad y presión con poder + Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula",weaknesses:"Defensa irregular en intercambios y Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia"},"PNT+ANT+AT":{description:"Renace en cada intercambio, alternando furia, defensa y ajustes técnicos.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión → Centro del octágono (Búsqueda)",strengths:"Durabilidad y absorción de castigo + Explosividad y presión con poder + Dictar ritmo y cortar la jaula",weaknesses:"Baja iniciativa ofensiva y Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia"},"PNT+AT+ANT":{description:"Resiste bajo presión y responde con disciplina y agresión organizada.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda) → Centro → Zona de Decisión",strengths:"Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula + Explosividad y presión con poder",weaknesses:"Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia y Defensa irregular en intercambios"},"PNT+AT+PT":{description:"Controla con bloqueos y aprovecha cada resquicio para marcar ritmo.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda) → Zona Intermedia (Acción)",strengths:"Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula + Timing y lectura del oponente",weaknesses:"Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia y Bajo volumen; riesgo en decisiones cerradas"},"PNT+PT+AT":{description:"Combina resistencia y control para marcar el compás de la pelea.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción) → Centro del octágono (Búsqueda)",strengths:"Durabilidad y absorción de castigo + Timing y lectura del oponente + Dictar ritmo y cortar la jaula",weaknesses:"Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia"},"PT+ANT+AT":{description:"Teje un plan dinámico alternando defensa, caos y precisión técnica.",favoriteZone:"Zona Intermedia (Acción) → Centro → Zona de Decisión → Centro del octágono (Búsqueda)",strengths:"Timing y lectura del oponente + Explosividad y presión con poder + Dictar ritmo y cortar la jaula",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia"},"PT+AT+ANT":{description:"Atrapa al rival en un ritmo sofocante, cerrando espacios con precisión.",favoriteZone:"Zona Intermedia (Acción) → Centro del octágono (Búsqueda) → Centro → Zona de Decisión",strengths:"Timing y lectura del oponente + Dictar ritmo y cortar la jaula + Explosividad y presión con poder",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia y Defensa irregular en intercambios"},"PT+AT+PNT":{description:"Defiende con férrea disciplina y responde con estallidos precisos.",favoriteZone:"Zona Intermedia (Acción) → Centro del octágono (Búsqueda) → Zona de Decisión (pegado a la jaula)",strengths:"Timing y lectura del oponente + Dictar ritmo y cortar la jaula + Durabilidad y absorción de castigo",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia y Baja iniciativa ofensiva"},"PT+PNT+AT":{description:"Se protege en defensa, espera con calma y ejecuta ataques técnicos puntuales.",favoriteZone:"Zona Intermedia (Acción) → Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda)",strengths:"Timing y lectura del oponente + Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia"},"ANT+PNT+PT":{description:"Un torbellino de agresión que combina resistencia con caos continuo.",favoriteZone:"Centro → Zona de Decisión → Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción)",strengths:"Explosividad y presión con poder + Durabilidad y absorción de castigo + Timing y lectura del oponente",weaknesses:"Defensa irregular en intercambios y Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas"},"ANT+PT+PNT":{description:"Combina caos ofensivo con dureza y paciencia para desgastar al rival.",favoriteZone:"Centro → Intermedia → Decisión",strengths:"Robar rounds con trucos de oficio",weaknesses:"Menor consistencia en intercambios limpios"},"PNT+ANT+PT":{description:"Aguanta golpes y responde con ataques pesados y directos.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión → Zona Intermedia (Acción)",strengths:"Durabilidad y absorción de castigo + Explosividad y presión con poder + Timing y lectura del oponente",weaknesses:"Baja iniciativa ofensiva y Defensa irregular en intercambios y Bajo volumen; riesgo en decisiones cerradas"},"PNT+PT+ANT":{description:"Alterna defensa, caos y paciencia, creando presión constante e impredecible.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción) → Centro → Zona de Decisión",strengths:"Durabilidad y absorción de castigo + Timing y lectura del oponente + Explosividad y presión con poder",weaknesses:"Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios"},"PT+ANT+PNT":{description:"Se nutre del castigo, avanza ferozmente y nunca retrocede.",favoriteZone:"Zona Intermedia (Acción) → Centro → Zona de Decisión → Zona de Decisión (pegado a la jaula)",strengths:"Timing y lectura del oponente + Explosividad y presión con poder + Durabilidad y absorción de castigo",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios y Baja iniciativa ofensiva"},"PT+PNT+ANT":{description:"Imperturbable bajo ataque, se protege y responde con agresión inesperada.",favoriteZone:"Zona Intermedia (Acción) → Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión",strengths:"Timing y lectura del oponente + Durabilidad y absorción de castigo + Explosividad y presión con poder",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Baja iniciativa ofensiva y Defensa irregular en intercambios"}};function Ze(e){return Ce[e]||{description:"Arquetipo en desarrollo",favoriteZone:"Variable",strengths:"En análisis",weaknesses:"En análisis"}}function xe(e,i){let n=null,s=null;if(Ie(e))n="AT",s=M[n];else{const re=i.map(H=>_e(H)),U=Math.round(L(re)),q=_e(e)>=U?"A":"P",ce=i.map(he),le=Math.round(L(ce)),de=he(e)>=le?"T":"NT";n=`${q}${de}`,s=M[n]}const t=i.map(Te),o=Math.round(L(t)),r=Math.min(...t),a=Math.max(...t),c=(r+o)/2,d=(o+a)/2,l=Te(e),u=l>=o?"A":"P";let g="Muy Bajo";l>=d?g="Muy Alto":l>=o?g="Medio-Alto":l>=c&&(g="Medio-Bajo");const m=i.map(W),p=Math.round(L(m)),f=Math.min(...m),h=Math.max(...m),T=(f+p)/2,y=(p+h)/2,v=W(e),F=v>=p?"T":"NT";let _="Muy Bajo";v>=y?_="Muy Alto":v>=p?_="Medio-Alto":v>=T&&(_="Muy Bajo");let k=g==="Muy Alto"&&_==="Medio-Bajo"||g==="Medio-Alto"&&_==="Muy Alto"||g==="Medio-Bajo"&&_==="Medio-Alto"||g==="Muy Bajo"&&_==="Muy Bajo";const A=`${u}${F}`,E=M[A];k=k&&n!==A;const R=i.map(ve),N=Math.round(L(R)),D=Math.min(...R),j=Math.max(...R),K=(D+N)/2,Q=(N+j)/2,C=ve(e),J=C>=N?"A":"P";let b="Muy Bajo";C>=Q?b="Muy Alto":C>=N?b="Medio-Alto":C>=K&&(b="Medio-Bajo");const O=i.map(ye),B=Math.round(L(O)),Y=Math.min(...O),V=Math.max(...O),X=(Y+B)/2,ee=(B+V)/2,Z=ye(e),ie=Z>=B?"T":"NT";let w="Muy Bajo";Z>=ee?w="Muy Alto":Z>=B?w="Medio-Alto":Z>=X&&(w="Muy Bajo");let x=b==="Muy Bajo"&&w==="Medio-Bajo"||b==="Medio-Bajo"&&w==="Muy Alto"||b==="Medio-Alto"&&w==="Medio-Alto"||b==="Muy Alto"&&w==="Muy Bajo";const S=`${J}${ie}`,se=M[S];x=x&&![n,A].includes(S);const ne=`${s}${k?E:""}${x?se:""}`,z=`${n}${k?`+${A}`:""}${x?`+${S}`:""}`,I=Ze(z),te=I.description,oe=I.favoriteZone,P=I.strengths,ae=I.weaknesses,$=z.split("+").length;return{combinedRole:z,inTransition:$>1,isDual:$===2,isTriple:$===3,archetypeEmojis:ne,description:te,favoriteZone:oe,strengths:P,weaknesses:ae}}function _e(e){const i=e.Sig_Strikes_Thrown||0,n=e.Takedowns_Attempted||0,s=e.Sub_Attempts||0,t=e.Control_Time_Seconds||0,r=(e.Fight_Duration_Seconds||1)/60,a=r>0?t/r:0,c=30,d=.25,l=a>c?6:7,u=a/l,g=i+n+s+u,m=r>0?g/r:0,p=he(e),f=W(e);let h=m*.35+p*.35+f*.3;const T=t/(i+t+1);if(T>d*1.5&&a>c*1.2){const F=Math.max(0,a/c-1),_=Math.max(0,T/d-1),k=(F+_)*2.5;h+=k}if(p>60){const F=1+(p-60)/200;h*=F}if(r<6&&f>60){const F=(6-r)/6*(f/100)*10;h+=F}const v=new be(e).getVolumeBonuses();return h=(h+v.additive)*v.primary,Math.round(h*100)/100}function he(e){const i=e.Sig_Strikes_Landed||0,n=e.Sig_Strikes_Thrown||0,s=e.Takedowns_Successful||0,t=e.Takedowns_Attempted||0,r=W(e)>50,a=r?.9:.85,c=r?.1:.15,d=n>0?i/n*100:0,l=t>0?s/t*100:0;let u=0;if(n>0&&t>0)u=d*a+l*c;else if(n>0)u=d;else if(t>0)u=l;else return 50;const g=e.loss_ko||0,m=e.loss_tko||0,p=e.loss_sub||0,f=e.Knockdowns_Received||0,h=e.Number_of_Fights_36m,T=h>0?(g+m+p)/h:0,y=h>0?f/h:0,v=(e.Fight_Duration_Seconds||300)/60,F=e.significant_strikes_attempted_against>0?(e.significant_strikes_attempted_against-e.Sig_Strikes_Absorbed)/e.significant_strikes_attempted_against:.6,k=v>8&&F>.6?.6:1,A=Math.min(T*1*k,.45),E=Math.min(y*.4*k,.15),R=Math.min(A+E,.55),D=new be(e).getStrikingOffenseBonuses();if(u=(u+D.additive)*D.primary,u=u*(1-R),u>55){const j=(u-55)/45*10;u+=j}return Math.min(Math.round(u),100)}function W(e){const i=e.win||0,n=e.loss||0,s=e.draws||0,t=e.win_ko||0,o=e.win_tko||0,r=e.win_sub||0,a=i+n+s;if(a===0)return 0;let c=(t+o+r)/a*100;const d=t+o+r,l=a>0?i/a:0,u=e.Fight_Duration_Seconds>0?e.Fight_Duration_Seconds/60:15;if(u<8&&c>30){const h=Math.min((8-u)*2,8);c+=h}const g=(t>0?1:0)+(o>0?1:0)+(r>0?1:0);if(g>=2&&d>=3){const h=g*2;c+=h}const m=a>0?(t+o)/a*100:0;if(m>40){const h=Math.min((m-40)*.15,6);c+=h}const p=a>0?r/a*100:0,f=a>0?e.Sub_Attempts/a:0;if(p>20||f>1.5){const h=Math.min(p*.1+f,4);c+=h}if(l>.85&&a>=5){const h=Math.min((l-.85)*20,3);c+=h}if(e.reach_inches>72&&e.height_inches>70){const h=Math.min((e.reach_inches-72)*.1,2);c+=h}return Math.min(c,100)}function Te(e){const i=e.Knockdowns||0,n=e.Knockdowns_Received||0,s=e.Number_of_Fights_36m||1,o=(i+n)/s;let r=(1-Math.exp(-o*1.5))*100;const a=e.win||0;e.loss;const c=e.win_ko||0,d=e.win_tko||0,l=n>0?i/n:i+1;if(i>n&&i>0){const h=Math.min(l*4,12);r+=h}const u=c+d;if(u>0&&s>0){const h=u/s,T=Math.min(h*15,10);r+=T}const g=s>0?e.Sig_Strikes_Thrown/s:0;if(g>100&&i>s*.3){const h=Math.min((g-100)*.03,5);r+=h}const m=s>0?e.Sig_Strikes_Absorbed/s:0,p=s>0?a/s:0;if(m>80&&p>.7&&n<s){const h=Math.min((m-80)*.02,3);r+=h}const f=s>0?(c+d+e.win_sub)/s:0;if(f>.4&&i>=s*.2){const h=Math.min(f*8,6);r+=h}return Math.min(Math.ceil(r*100)/100,100)}function ve(e){const n=(e.Fight_Duration_Seconds||0)/60;return Math.round(n*100)/100}function ye(e){const i=e.Control_Time_Seconds||0,n=e.Time_Controlled_Seconds||0,s=e.Number_of_Fights_36m||1,t=(i+n)/s,o=e.Fight_Duration_Seconds||300,r=t/o*100;return Math.min(Math.round(r*100)/100,100)}const L=e=>{const i=[...e].sort((s,t)=>s-t),n=Math.floor(i.length/2);return i.length%2!==0?i[n]:(i[n-1]+i[n])/2};function Ie(e){const{win:i,loss:n,Number_of_Fights_36m:s}=e;if(s<3)return!1;const t=s>0?i/s:0,o=W(e)/100,r=(e.Fight_Duration_Seconds||300)/60,a=(n||0)===0&&i>0,c=Ae(e),d=(c.STR_DEF+c.TD_DEF)/2,l=[],u=t>=.75&&o>=.6&&r<=8;l.push(u);const g=a&&i>=5&&(o>=.4||d>=75)&&r<=10;l.push(g);const m=i>0?(e.win_ko+e.win_tko)/i:0,p=(e.Knockdowns_Received||0)>0?(e.Knockdowns||0)/(e.Knockdowns_Received||1):(e.Knockdowns||0)+1,f=t>=.7&&m>=.5&&p>=2&&c.STR_DEF>=70;l.push(f);const h=e.Sig_Strikes_Thrown>0?e.Sig_Strikes_Landed/e.Sig_Strikes_Thrown:0,T=e.Takedowns_Attempted>0?e.Takedowns_Successful/e.Takedowns_Attempted:0,y=t>=.8&&h>=.45&&(T>=.4||e.Takedowns_Attempted<3)&&d>=70&&o>=.35;l.push(y);const v=s>=6,F=e.Sig_Strikes_Absorbed/Math.max(e.Number_of_Fights_36m,1)<60,_=v&&t>=.85&&F&&(o>=.3||d>=80);return l.push(_),l.some(A=>A)}function qe(e){return Math.round(Object.values(e).reduce((i,n)=>i+n,0)/6)}function Le(e){const i=e.win||0,n=e.loss||0,s=e.Number_of_Fights_36m||0,t=(e.win_ko||0)+(e.win_tko||0)+(e.win_sub||0),r=(e.Career_Record||"0-0-0").split("-"),a=parseInt(r[0])||0,c=parseInt(r[1])||0,d=a+c;let l=0;return s>=4&&i>=4&&n===0&&d>=15?l=12:s>=4&&i>=3&&n<=1&&d>=12?l=10:s>=3&&i>=3&&d>=20&&a>=15?l=8:s>=3&&i>=2&&n<=1&&t>=2?l=6:s>=3&&i>=2&&d>=10&&(l=4),l}function Ke(e,i,n){const s=Object.values(e).reduce((r,a)=>r+a,0)/6,t=Object.values(i).reduce((r,a)=>r+a,0)/6;let o=Math.round(s*.6+t*.4);if(n){const r=n.win||0,a=(n.win_ko||0)+(n.win_tko||0)+(n.win_sub||0),d=(r>0?a/r:0)*8;o+=d;const l=Le(n);if(o+=l,n.Number_of_Fights_36m<3)o=Math.min(o,65);else if(n.Number_of_Fights_36m===3){o=Math.min(o,70);const u=n.win||0,g=n.loss||0,m=n.draws||0,p=u+g+m,f=(n.Career_Record||"0-0-0").split("-").reduce((h,T)=>h+parseInt(T)||0,0);if(p>=3&&f>=8){const h=u/p;h>=.9?o+=6:h>=.8?o+=4:h>=.7&&(o+=2)}}else if(n.Number_of_Fights_36m>=4){const u=n.win||0,g=n.loss||0,m=n.draws||0,p=u+g+m;if(p>=4){const f=u/p;f>=.9?o+=12:f>=.8?o+=8:f>=.7?o+=5:f>=.6&&(o+=2)}}}return Math.max(0,Math.min(100,Math.round(o)))}function Oe(e){return Math.round(Object.values(e).reduce((i,n)=>i+n,0)/6)}function ge(e){return e<10?1:e<20?1.5:e<30?2:e<40?2.5:e<50?3:e<60?3.5:e<70?4:e<80?4.5:5}function ze(e,i,n){if(i<=0)return ge(e);const s=Math.max(0,Math.min(100,50+(i-n)/n*50)),t=e*.75+s*.25;return ge(t)}function $e(e){const i=e.trim().split(`
`),n=i[0].split(",").map(t=>t.replace(/"/g,"").trim()),s=[];for(let t=1;t<i.length;t++){const o=Ge(i[t]);if(o.length!==n.length){console.warn(`Línea ${t+1} tiene ${o.length} campos, esperados ${n.length}`);continue}const r={};n.forEach((c,d)=>{r[c]=o[d]});const a=We(r);a&&s.push(a)}return s}function Ge(e){const i=[];let n="",s=!1;for(let t=0;t<e.length;t++){const o=e[t];o==='"'?s=!s:o===","&&!s?(i.push(n.trim()),n=""):n+=o}return i.push(n.trim()),i}function We(e){try{const i=e.Division,n=e.Fighter;if(!i||!n)return null;const s=n.replace(/"/g,"");return{id:e.ufcstats_url&&e.ufcstats_url.split("/").pop()||"",Fighter:s,cleanName:Ve(s),Division:i,Career_Record:e.Career_Record||"",Sig_Strikes_Thrown:parseFloat(e.Sig_Strikes_Thrown)||0,Sig_Strikes_Landed:parseFloat(e.Sig_Strikes_Landed)||0,Sig_Strikes_Absorbed:parseFloat(e.Sig_Strikes_Absorbed)||0,Takedowns_Attempted:parseFloat(e.Takedowns_Attempted)||0,Takedowns_Successful:parseFloat(e.Takedowns_Successful)||0,Takedowns_Defended:parseFloat(e.Takedowns_Defended)||0,Sub_Attempts:parseFloat(e.Sub_Attempts)||0,Sub_Attempts_Defended:parseFloat(e.Sub_Attempts_Defended)||0,Knockdowns:parseFloat(e.Knockdowns)||0,Knockdowns_Received:parseFloat(e.Knockdowns_Received)||0,Control_Time_Seconds:parseFloat(e.Control_Time_Seconds)||0,Time_Controlled_Seconds:parseFloat(e.Time_Controlled_Seconds)||0,height_inches:parseFloat(e.height_inches)||0,reach_inches:parseFloat(e.reach_inches)||0,win:parseFloat(e.win)||0,loss:parseFloat(e.loss)||0,draws:parseFloat(e.draws)||0,win_ko:parseFloat(e.win_ko)||0,win_tko:parseFloat(e.win_tko)||0,win_sub:parseFloat(e.win_sub)||0,win_decision:parseFloat(e.win_decision)||0,loss_ko:parseFloat(e.loss_ko)||0,loss_tko:parseFloat(e.loss_tko)||0,loss_sub:parseFloat(e.loss_sub)||0,loss_decision:parseFloat(e.loss_decision)||0,Fight_Duration_Seconds:parseFloat(e.Fight_Duration_Seconds)||1,significant_strikes_attempted_against:parseFloat(e.significant_strikes_attempted_against)||0,takedowns_attempted_against:parseFloat(e.takedowns_attempted_against)||0,takedowns_allowed:parseFloat(e.takedowns_allowed)||0,submission_attempts_against:parseFloat(e.submission_attempts_against)||0,Number_of_Fights_36m:parseFloat(e.Number_of_Fights_36m)||0,Dates_36m:e.Dates_36m||"",picture_url:e.picture_url||"",ufcstats_url:e.ufcstats_url||""}}catch(i){return console.error("Error procesando luchador:",e.Fighter||e.Name,i),null}}async function Ue(e){const i=await fetch(e);if(!i.ok)throw new Error(`No se pudo cargar ${e}: ${i.status}`);return await i.text()}class He{constructor(){this.allRawFightersArr=[],this.allRawFightersDataMap=new Map,this.allRawFightersByDivision=new Map,this.processedFightersMap=new Map,this.processedFighters=[],this.knownDivisions=new Set,this.cacheKey="ufc_radar_fighters_cache",this.cacheExpiryHours=24}saveToLocalStorage(i){try{localStorage.setItem(this.cacheKey,JSON.stringify(i))}catch(n){console.warn("Failed to save data to localStorage:",n)}}loadFromLocalStorage(){try{const i=localStorage.getItem(this.cacheKey);if(!i)return null;const n=JSON.parse(i),t=Date.now()-n.timestamp,o=this.cacheExpiryHours*60*60*1e3;return t>o?(localStorage.removeItem(this.cacheKey),null):n}catch(i){return console.warn("Failed to load data from localStorage:",i),localStorage.removeItem(this.cacheKey),null}}populateFromCache(i){this.allRawFightersArr=i.allRawFightersArr,this.allRawFightersDataMap.clear(),this.allRawFightersArr.forEach(n=>{this.allRawFightersDataMap.set(n.Fighter,n)}),this.allRawFightersByDivision.clear(),Object.entries(i.allRawFightersByDivision).forEach(([n,s])=>{this.allRawFightersByDivision.set(n,s)}),this.knownDivisions.clear(),i.knownDivisions.forEach(n=>{this.knownDivisions.add(n)}),this.processedFighters=[],this.processedFightersMap.clear(),this.allRawFightersByDivision.forEach((n,s)=>{n.forEach(t=>{const o=this.getFighterAppData(t,n);o&&(this.processedFighters.push(o),this.processedFightersMap.set(o.nameWithNickname,o))})}),this.processedFighters.sort((n,s)=>s.stars!==n.stars?s.stars-n.stars:s.overall-n.overall)}async loadFightersFromCSV(){if(this.allRawFightersDataMap.size>0)return{allRawFightersArr:this.allRawFightersArr,allRawFightersDataMap:this.allRawFightersDataMap,allRawFightersByDivision:this.allRawFightersByDivision,processedFightersMap:this.processedFightersMap,processedFighters:this.processedFighters};const i=this.loadFromLocalStorage();if(i)return console.log("Loading fighters from localStorage cache"),this.populateFromCache(i),{allRawFightersArr:this.allRawFightersArr,allRawFightersDataMap:this.allRawFightersDataMap,allRawFightersByDivision:this.allRawFightersByDivision,processedFightersMap:this.processedFightersMap,processedFighters:this.processedFighters};try{const n=await Ue("data/ALL_DIVISIONS_DATA_WITH_URLS.csv");this.allRawFightersArr=$e(n),this.allRawFightersArr.forEach(a=>{this.allRawFightersDataMap.has(a.Fighter)||this.allRawFightersDataMap.set(a.Fighter,a),this.allRawFightersByDivision.has(a.Division)?this.allRawFightersByDivision.get(a?.Division)?.push(a):this.allRawFightersByDivision.set(a.Division,[a])}),this.allRawFightersByDivision.forEach((a,c)=>{a.forEach(d=>{const l=this.getFighterAppData(d,a);l&&(this.processedFighters.push(l),this.processedFightersMap.set(l.nameWithNickname,l))})}),this.processedFighters.forEach(a=>{const c=Ye(a.rawData.Dates_36m);if(c.length>0){const d=[];c.forEach(l=>{l&&d.push(l.overall)}),a.oppTierScore=d.length>0?d.reduce((l,u)=>l+u,0)/d.length:0}else a.oppTierScore=0});const s=new Map;this.allRawFightersByDivision.forEach((a,c)=>{const d=this.processedFighters.filter(u=>u.division===c),l=d.reduce((u,g)=>u+g.overall,0)/d.length;s.set(c,l)}),this.processedFighters.forEach(a=>{const c=s.get(a.division)||50;a.stars=ze(a.overall,a.oppTierScore,c)}),this.processedFighters.sort((a,c)=>c.stars!==a.stars?c.stars-a.stars:c.overall-a.overall);const t=new Map,o=new Map;this.processedFighters.forEach(a=>{t.set(a.nameWithNickname,a.stars),o.set(a.nameWithNickname,a.overall)}),this.allRawFightersArr.sort((a,c)=>{const d=t.get(a.Fighter)??0,l=t.get(c.Fighter)??0,u=o.get(a.Fighter)??0,g=o.get(c.Fighter)??0;return l!==d?l-d:g-u}),this.allRawFightersByDivision.forEach((a,c)=>{a.sort((d,l)=>{const u=t.get(d.Fighter)??0,g=t.get(l.Fighter)??0,m=o.get(d.Fighter)??0,p=o.get(l.Fighter)??0;return g!==u?g-u:p-m})}),this.knownDivisions.clear(),this.allRawFightersArr.forEach(a=>{const c=a.Division.toLowerCase();this.knownDivisions.add(c),this.knownDivisions.add(c.replace(/ /g,"_")),this.knownDivisions.add(c.replace(/women's\s+/g,"w_")),this.knownDivisions.add(c.replace(/w_/g,"women's "))});const r={timestamp:Date.now(),allRawFightersArr:this.allRawFightersArr,allRawFightersByDivision:Object.fromEntries(this.allRawFightersByDivision),knownDivisions:Array.from(this.knownDivisions)};return this.saveToLocalStorage(r),console.log("Saved fighters data to localStorage cache"),{allRawFightersArr:this.allRawFightersArr,allRawFightersDataMap:this.allRawFightersDataMap,allRawFightersByDivision:this.allRawFightersByDivision,processedFightersMap:this.processedFightersMap,processedFighters:this.processedFighters}}catch(n){return console.error("Error loading fighters:",n),{allRawFightersArr:this.allRawFightersArr,allRawFightersDataMap:this.allRawFightersDataMap,allRawFightersByDivision:this.allRawFightersByDivision,processedFightersMap:this.processedFightersMap,processedFighters:this.processedFighters}}}calculateSyntheticFighter(i,n){return this.getFighterAppData(i,n)}getFighterAppData(i,n){try{const s=Ae(i),t=xe(i,n),o=je(i,t),r=Ke(s,o,i),a=ge(r);return{id:i.id,name:i.cleanName,nameWithNickname:i.Fighter,division:i.Division,career_record:i.Career_Record||"TBD",pictureUrl:i.picture_url||"",ufcstats_url:i.ufcstats_url||"",fightRadar:s,iqRadar:o,archetype:t,stars:a,performance:qe(s),overall:r,fightIQ:Oe(o),oppTierScore:0,rawData:i}}catch(s){return console.error("Error procesando luchador:",i.Fighter,s),null}}async getDashboardStats(){const i=this.allRawFightersArr,n=i.filter(m=>m.Number_of_Fights_36m>0),s=i.filter(m=>m.Number_of_Fights_36m===0),t={};i.forEach(m=>{const p=m.Division||"Catchweight";t[p]=(t[p]||0)+1});const o=n.length>0?n.reduce((m,p)=>m+p.Number_of_Fights_36m,0)/n.length:0,r=i.filter(m=>m.Number_of_Fights_36m>0).sort((m,p)=>p.Number_of_Fights_36m-m.Number_of_Fights_36m).slice(0,10),c=i.filter(m=>!m.picture_url||m.picture_url.trim()==="").length,d=i.length>0?Math.round(c/i.length*100*10)/10:0,l=await this.getArchetypeBreakdown(this.processedFighters),u=await this.getTopRatedFighters(this.processedFighters),g=await this.getTop100Fighters(this.processedFighters);return{totalFighters:i.length,activeFighters:n.length,inactiveFighters:s.length,divisionBreakdown:t,avgFightsLast36m:Math.round(o*10)/10,recentActivity:r,missingPictureCount:c,missingPictureRatio:d,archetypeBreakdown:l,topRatedFighters:u,top100Fighters:g}}async searchFighters(i,n=20){const s=this.allRawFightersArr,t=i.toLowerCase(),o=t.replace(/ /g,"_"),r=t.replace(/women's\s+/g,"w_"),a=t.replace(/w_/g,"women's "),c=this.knownDivisions.has(t)||this.knownDivisions.has(o)||this.knownDivisions.has(r)||this.knownDivisions.has(a),d=s.filter(l=>{const u=l.Fighter.toLowerCase(),g=l.Division.toLowerCase();return c?g===t||g===o||g===r||g===a:ke(u).includes(ke(t))||g.includes(t)||g.includes(o)||g.includes(r)||g.includes(a)});return c?d:d.slice(0,n)}async getArchetypeBreakdown(i){const n={single:0,dual:0,triple:0,total:0};return i.forEach(({archetype:s})=>{s.isTriple?n.triple++:s.isDual?n.dual++:n.single++,n.total++}),{single:n.single,dual:n.dual,triple:n.triple,total:n.total}}async getTopRatedFighters(i){const n=[],s=i.reduce((t,o)=>{const r=o.division;return t[r]||(t[r]=[]),t[r].push(o),t},{});for(const[t,o]of Object.entries(s)){let r=null;for(const a of o)try{const c={name:a.name,nameWithNickname:a.nameWithNickname,division:t,stars:a.stars,overall:a.overall,record:a.career_record,archetypeDisplay:G(a.archetype),activity:a.rawData.Number_of_Fights_36m||0};(!r||c.stars>r.stars||c.stars===r.stars&&c.overall>r.overall||c.stars===r.stars&&c.overall===r.overall&&c.activity>r.activity)&&(r=c)}catch(c){console.warn(`Error processing fighter ranking for ${a.name}:`,c)}r&&n.push(r)}return n.sort((t,o)=>o.stars!==t.stars?o.stars-t.stars:o.overall!==t.overall?o.overall-t.overall:o.activity-t.activity)}async getTop100Fighters(i){const n=[];for(const s of i)try{n.push({name:s.name,nameWithNickname:s.nameWithNickname,division:s.division,stars:s.stars,overall:s.overall,record:s.career_record,archetypeDisplay:G(s.archetype),activity:s.rawData.Number_of_Fights_36m||0})}catch(t){console.warn(`Error processing fighter ranking for ${s.name}:`,t)}return n.sort((s,t)=>t.stars!==s.stars?t.stars-s.stars:t.overall!==s.overall?t.overall-s.overall:t.activity-s.activity).slice(0,100)}async getFightersByArchetypeType(i="all"){const n=[];for(const s of this.processedFighters)try{const t=G(s.archetype);(i==="all"||i==="single"&&!s.archetype.inTransition||i==="dual"&&s.archetype.isDual||i==="triple"&&s.archetype.isTriple)&&n.push({name:s.name,nameWithNickname:s.nameWithNickname,division:s.division,stars:s.stars,overall:s.overall,record:s.career_record,archetypeDisplay:t,activity:s.rawData.Number_of_Fights_36m||0})}catch(t){console.warn(`Error processing fighter for archetype filter ${s.name}:`,t)}return n.sort((s,t)=>t.stars!==s.stars?t.stars-s.stars:t.overall!==s.overall?t.overall-s.overall:t.activity-s.activity)}async getFightersByExactArchetype(i="all"){const n=[];for(const s of this.processedFighters)try{const t=G(s.archetype);(i==="all"||s.archetype.combinedRole===i)&&n.push({name:s.name,nameWithNickname:s.nameWithNickname,division:s.division,stars:s.stars,overall:s.overall,record:s.career_record,archetypeDisplay:t,activity:s.rawData.Number_of_Fights_36m||0})}catch(t){console.warn(`Error processing fighter for exact archetype filter ${s.name}:`,t)}return n.sort((s,t)=>t.stars!==s.stars?t.stars-s.stars:t.overall!==s.overall?t.overall-s.overall:t.activity-s.activity)}async getAvailableArchetypes(){const i=new Set,n=[];n.push({value:"all",label:"All Fighters",iconComponent:Be},{value:"single",label:"Single Role",iconComponent:Pe},{value:"dual",label:"Dual Role",iconComponent:Ee},{value:"triple",label:"Triple Role",iconComponent:De});for(const t of this.processedFighters)i.add(t.archetype.combinedRole);const s=Array.from(i).sort();for(const t of s){const o=this.processedFighters.find(r=>r.archetype.combinedRole===t);if(o){const r=G(o.archetype);n.push({value:t,label:`${r.label} ${t} (${r.name})`})}}return n}async getFightersByFilter(i){return["all","single","dual","triple"].includes(i)?this.getFightersByArchetypeType(i):this.getFightersByExactArchetype(i)}getRawFighterDataById(i){return this.allRawFightersArr.find(s=>s.id===i)||null}getFighterById(i){return this.processedFighters.find(s=>s.id===i)||null}}const me=new He,M={AT:"🔴",ANT:"🟡",PT:"🔵",PNT:"🟢"},Fe={AT:"El Estratega",ANT:"El Depredador",PT:"El Francotirador",PNT:"El Escudo"},Qe={"ANT+AT":"El Vendaval","AT+ANT":"El Huracán","AT+PNT":"El Guardián","AT+PT":"El Cirujano","PNT+AT":"El Bastión Técnico","PT+AT":"El Maestro del Pulso","ANT+PNT":"La Bestia","ANT+PT":"El Castigador","PNT+ANT":"El Feral","PT+ANT":"El Demoledor Silencioso","PNT+PT":"El Ancla","PT+PNT":"La Muralla","ANT+AT+PNT":"El Coloso del Centro","ANT+AT+PT":"El Estratega Salvaje","ANT+PNT+AT":"","ANT+PT+AT":"El Incursor","AT+ANT+PNT":"El Inquebrantable","AT+ANT+PT":"El Arquitecto del Caos","AT+PNT+ANT":"El León Técnico","AT+PNT+PT":"El Guerrero del Muro","AT+PT+ANT":"El Alquimista del Ritmo","AT+PT+PNT":"El Sabio de Hierro","PNT+ANT+AT":"El Fénix del Caos","PNT+AT+ANT":"El Legionario","PNT+AT+PT":"El Centinela de Acero","PNT+PT+AT":"El Bastión del Ritmo","PT+ANT+AT":"El Constructor del Combate","PT+AT+ANT":"El Estrangulador Táctico","PT+AT+PNT":"El Táctico Blindado","PT+PNT+AT":"El Monje de la Jaula","ANT+PNT+PT":"El Ciclón Imparable","ANT+PT+PNT":"El Gladiador Salvaje","PNT+ANT+PT":"El Martillo de Hierro","PNT+PT+ANT":"El Coloso Salvaje","PT+ANT+PNT":"El Bárbaro del Octágono","PT+PNT+ANT":"El Titán Silencioso"};function G(e){if(!e)return{type:"loading",label:"⭕",name:"Analizando...",tooltip:"Calculando arquetipo..."};const i=[],n=e.combinedRole.split("+"),[s,t,o]=n;[s,t,o].filter(a=>!!a).forEach(a=>{const c=Fe[a],d=M[a];i.push(`${d} ${c}`)}),e.inTransition&&i.push("En transición");const r=i.join(`
`);return{type:e.isTriple?"triple":e.isDual?"dual":"single",label:`${M[s]}${t?M[t]:""}${o?M[o]:""}`,name:e.inTransition?Qe[e.combinedRole]:Fe[s],tooltip:r}}function si(e,i){if(i.length===0)throw new Error(`No fighters data provided for division: ${e}`);const n=i.length,s=i.reduce((t,o)=>(t.Sig_Strikes_Thrown+=o.Sig_Strikes_Thrown,t.Sig_Strikes_Landed+=o.Sig_Strikes_Landed,t.Sig_Strikes_Absorbed+=o.Sig_Strikes_Absorbed,t.Takedowns_Attempted+=o.Takedowns_Attempted,t.Takedowns_Successful+=o.Takedowns_Successful,t.Takedowns_Defended+=o.Takedowns_Defended,t.Sub_Attempts+=o.Sub_Attempts,t.Sub_Attempts_Defended+=o.Sub_Attempts_Defended,t.Knockdowns+=o.Knockdowns,t.Knockdowns_Received+=o.Knockdowns_Received,t.Control_Time_Seconds+=o.Control_Time_Seconds,t.Time_Controlled_Seconds+=o.Time_Controlled_Seconds,t.height_inches+=o.height_inches,t.reach_inches+=o.reach_inches,t.win+=o.win,t.loss+=o.loss,t.draws+=o.draws,t.win_ko+=o.win_ko,t.win_tko+=o.win_tko,t.win_sub+=o.win_sub,t.win_decision+=o.win_decision,t.loss_ko+=o.loss_ko,t.loss_tko+=o.loss_tko,t.loss_sub+=o.loss_sub,t.loss_decision+=o.loss_decision,t.Fight_Duration_Seconds+=o.Fight_Duration_Seconds,t.significant_strikes_attempted_against+=o.significant_strikes_attempted_against,t.takedowns_attempted_against+=o.takedowns_attempted_against,t.takedowns_allowed+=o.takedowns_allowed,t.submission_attempts_against+=o.submission_attempts_against,t.Number_of_Fights_36m+=o.Number_of_Fights_36m,t),{Sig_Strikes_Thrown:0,Sig_Strikes_Landed:0,Sig_Strikes_Absorbed:0,Takedowns_Attempted:0,Takedowns_Successful:0,Takedowns_Defended:0,Sub_Attempts:0,Sub_Attempts_Defended:0,Knockdowns:0,Knockdowns_Received:0,Control_Time_Seconds:0,Time_Controlled_Seconds:0,height_inches:0,reach_inches:0,win:0,loss:0,draws:0,win_ko:0,win_tko:0,win_sub:0,win_decision:0,loss_ko:0,loss_tko:0,loss_sub:0,loss_decision:0,Fight_Duration_Seconds:0,significant_strikes_attempted_against:0,takedowns_attempted_against:0,takedowns_allowed:0,submission_attempts_against:0,Number_of_Fights_36m:0});return{id:"",Fighter:`${e} Average`,cleanName:`${e} Average`,Division:e,Career_Record:"",Sig_Strikes_Thrown:s.Sig_Strikes_Thrown/n,Sig_Strikes_Landed:s.Sig_Strikes_Landed/n,Sig_Strikes_Absorbed:s.Sig_Strikes_Absorbed/n,Takedowns_Attempted:s.Takedowns_Attempted/n,Takedowns_Successful:s.Takedowns_Successful/n,Takedowns_Defended:s.Takedowns_Defended/n,Sub_Attempts:s.Sub_Attempts/n,Sub_Attempts_Defended:s.Sub_Attempts_Defended/n,Knockdowns:s.Knockdowns/n,Knockdowns_Received:s.Knockdowns_Received/n,Control_Time_Seconds:s.Control_Time_Seconds/n,Time_Controlled_Seconds:s.Time_Controlled_Seconds/n,height_inches:s.height_inches/n,reach_inches:s.reach_inches/n,win:s.win/n,loss:s.loss/n,draws:s.draws/n,win_ko:s.win_ko/n,win_tko:s.win_tko/n,win_sub:s.win_sub/n,win_decision:s.win_decision/n,loss_ko:s.loss_ko/n,loss_tko:s.loss_tko/n,loss_sub:s.loss_sub/n,loss_decision:s.loss_decision/n,Fight_Duration_Seconds:s.Fight_Duration_Seconds/n,significant_strikes_attempted_against:s.significant_strikes_attempted_against/n,takedowns_attempted_against:s.takedowns_attempted_against/n,takedowns_allowed:s.takedowns_allowed/n,submission_attempts_against:s.submission_attempts_against/n,Number_of_Fights_36m:s.Number_of_Fights_36m/n,Dates_36m:"",picture_url:"",ufcstats_url:""}}function ke(e){return!e||typeof e!="string"?"":e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,"").trim()}function ni(e){return!e||typeof e!="string"?"":e.replace(/W_/g,"Women's ").replace(/_/g," ")}function Je(e){if(!e||e==="N/A")return[];const i=e.split(",").map(s=>s.trim()).filter(s=>s),n=new Date;return i.map(s=>{let t,o,r,a="";if(s.includes(":")){const[g,m]=s.split(":");if(a=m,g.includes("-")){const[p,f,h]=g.split("-");t=f,o=h,r=new Date(parseInt(h),parseInt(f)-1,parseInt(p))}else[t,o]=g.split("/"),r=new Date(2e3+parseInt(o),parseInt(t)-1)}else[t,o]=s.split("/"),r=new Date(2e3+parseInt(o),parseInt(t)-1);if(!t||!o)return{original:s,monthsAgo:0,fighterId:a,fighter:me.getFighterById(a),dateString:s};const c=n.getTime()-r.getTime(),d=Math.floor(c/(1e3*60*60*24*30.44)),l=String(t).padStart(2,"0"),u=o.length===4?o.slice(2):o;return{original:`${l}/${u}`,monthsAgo:Math.max(0,d),fighterId:a,fighter:me.getFighterById(a),dateString:`${l}/${u}`}}).sort((s,t)=>s.monthsAgo-t.monthsAgo)}function Ye(e){return Je(e).filter(n=>n.fighterId).map(({fighterId:n})=>me.getFighterById(n)).filter(n=>n!==null)}function Ve(e){return!e||typeof e!="string"?"":e.replace(/\s*\([^)]*\)\s*/g,"").trim()}export{me as a,si as b,ni as c,ei as d,ke as e,Ue as f,G as g,Je as h,ii as i,Ge as p};
