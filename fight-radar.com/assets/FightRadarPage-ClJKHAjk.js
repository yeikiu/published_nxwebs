import{q as gt,p as je,l as E,C as y,z as k,r as M,A as e,h as wt,j as ut,f as D,m as Ye,$ as Nt,i as q,c as i,u as l,S as St,t as R,B as we,s as Ue,b as f,o as pt,I as mt,n as Be,x as n,y as c,J as lt,T as ia,k as nt,D as Pe,E as He,Q as Tt,U as ra,V as Ct,W as sa,Y as Wt,Z as Vt,_ as Kt,a as na,a0 as oa,w as la,F as da,K as ft,a1 as $t}from"./lucide-qo0zz29p.js";import{H as va}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ca}from"./Header-Cc-Sjimc.js";import{$ as yt,n as Bt,A as ct,a as _a,g as ht,b as ha,u as Mt,c as ga}from"./index-DY97HaQg.js";import{c as Dt,g as It,f as Ft,a as Et,b as kt,d as Ot,e as At}from"./helpers-oKht3Kq0.js";import{R as ua,a as Lt}from"./RadarChart-FHH8fxAk.js";import{F as pa}from"./FindYoutubeHighlights-BjVKCwb_.js";import"./highcharts-DyRVWUji.js";var ma=D('<img class="svelte-gkl5a1"/>'),ya=D('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),fa=D("<!> <span> </span>",1),ba=D("<span> </span>"),wa=D('<img class="svelte-gkl5a1"/>'),xa=D('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Da=D('<button type="button"><!> <span> </span></button>'),Fa=D('<div class="no-results svelte-gkl5a1"> </div>'),ka=D('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Ra=D('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Pt(W,t){gt(t,!1);const[r,d]=mt(),v=()=>lt(yt,"$_",r),a=k(),o=k();let g=je(t,"id",8),u=je(t,"placeholder",8,""),_=je(t,"disabled",8,!0),m=je(t,"options",24,()=>[]),b=je(t,"selectedValue",12,""),w=je(t,"onSelectionChange",8,void 0),O=k(!1),Y=k(),te=k(),ae=k("");function Ee(){_()||(y(O,!e(O)),e(O)&&setTimeout(()=>e(te)?.focus(),0))}function ne(C){b(C.value),y(ae,""),y(O,!1),w()&&w()(C.value,C)}function ke(C){const pe=C.target;y(ae,pe.value)}function K(C){C.key==="Enter"&&e(o).length>0?(ne(e(o)[0]),C.preventDefault()):C.key==="Escape"&&(y(ae,""),y(O,!1))}function H(C){e(Y)&&!e(Y).contains(C.target)&&(y(O,!1),y(ae,""))}function Q(C){C.key==="Escape"&&y(O,!1)}E(()=>(M(m()),M(b())),()=>{y(a,m().find(C=>C.value===b()))}),E(()=>(e(ae),M(m()),Dt),()=>{y(o,e(ae)?m().filter(C=>Dt(C.label.toLowerCase()).includes(Dt(e(ae).toLowerCase()))):m())}),wt(),ut();var oe=Ra();Ye("click",Nt,H),Ye("keydown",Nt,Q);var Z=i(oe);let j;var ie=i(Z),re=i(ie);{var xe=C=>{var pe=fa(),Re=Be(pe);{var De=Ce=>{var Te=ma();R(()=>{we(Te,"src",(e(a),n(()=>e(a).imageUrl))),we(Te,"alt",(e(a),n(()=>e(a).label)))}),f(Ce,Te)},Ge=Ce=>{var Te=nt(),Qe=Be(Te);{var et=Ae=>{var ve=ya(),Fe=i(ve);Tt(Fe,()=>e(a).iconComponent,(Ve,qe)=>{qe(Ve,{size:16})}),f(Ae,ve)};q(Qe,Ae=>{e(a),n(()=>e(a)?.iconComponent)&&Ae(et)},!0)}f(Ce,Te)};q(Re,Ce=>{e(a),n(()=>e(a)?.imageUrl)?Ce(De):Ce(Ge,!1)})}var We=l(Re,2),ze=i(We);R(()=>c(ze,(e(a),n(()=>e(a).label)))),f(C,pe)},Oe=C=>{var pe=ba(),Re=i(pe);R(De=>c(Re,De),[()=>(M(u()),v(),n(()=>u()||v()("common.select_option")))]),f(C,pe)};q(re,C=>{e(a)?C(xe):C(Oe,!1)})}var rt=l(ie,2);let tt;var at=l(Z,2);{var ot=C=>{var pe=ka(),Re=i(pe),De=i(Re);St(De,ve=>y(te,ve),()=>e(te));var Ge=l(Re,2),We=i(Ge);let ze;var Ce=i(We),Te=i(Ce),Qe=l(We,2);{var et=ve=>{var Fe=nt(),Ve=Be(Fe);Pe(Ve,1,()=>e(o),He,(qe,le)=>{var Ke=Da();let Ze;var it=i(Ke);{var st=N=>{var G=wa();R(()=>{we(G,"src",(e(le),n(()=>e(le).imageUrl))),we(G,"alt",(e(le),n(()=>e(le).label)))}),Ye("error",G,J=>{J.currentTarget.style.display="none"}),f(N,G)},h=N=>{var G=nt(),J=Be(G);{var me=S=>{var V=xa(),ye=i(V);Tt(ye,()=>e(le).iconComponent,(ce,_e)=>{_e(ce,{size:16})}),f(S,V)};q(J,S=>{e(le),n(()=>e(le)?.iconComponent)&&S(me)},!0)}f(N,G)};q(it,N=>{e(le),n(()=>e(le)?.imageUrl)?N(st):N(h,!1)})}var p=l(it,2),x=i(p);R(N=>{Ze=Ue(Ke,1,"dropdown-item svelte-gkl5a1",null,Ze,N),c(x,(e(le),n(()=>e(le).label)))},[()=>({selected:b()===e(le).value})]),Ye("click",Ke,()=>ne(e(le))),f(qe,Ke)}),f(ve,Fe)},Ae=ve=>{var Fe=nt(),Ve=Be(Fe);{var qe=le=>{var Ke=Fa(),Ze=i(Ke);R(()=>c(Ze,`No se encontraron resultados para "${e(ae)??""}"`)),f(le,Ke)};q(Ve,le=>{e(ae)&&le(qe)},!0)}f(ve,Fe)};q(Qe,ve=>{e(o),n(()=>e(o).length>0)?ve(et):ve(Ae,!1)})}R((ve,Fe,Ve)=>{we(De,"placeholder",ve),we(Ge,"id",`dropdown-options-${g()??""}`),ze=Ue(We,1,"dropdown-item svelte-gkl5a1",null,ze,Fe),c(Te,Ve)},[()=>(v(),n(()=>v()("common.search")||"Search...")),()=>({selected:b()===""}),()=>(M(u()),v(),n(()=>u()||v()("common.select_option")))]),ia(De,()=>e(ae),ve=>y(ae,ve)),Ye("input",De,ke),Ye("keydown",De,K),Ye("click",We,()=>ne({value:"",label:u(),imageUrl:""})),f(C,pe)};q(at,C=>{e(O)&&C(ot)})}St(oe,C=>y(Y,C),()=>e(Y)),R((C,pe)=>{we(oe,"id",g()),j=Ue(Z,1,"dropdown-button svelte-gkl5a1",null,j,C),Z.disabled=_(),we(Z,"aria-expanded",e(O)),we(Z,"aria-controls",`dropdown-options-${g()??""}`),tt=Ue(rt,1,"dropdown-arrow svelte-gkl5a1",null,tt,pe)},[()=>({disabled:_(),open:e(O)}),()=>({rotated:e(O)})]),Ye("click",Z,Ee),f(W,oe),pt(),d()}function Rt(W,t){if(t()){const r=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;Bt(r)}}var Ca=D('<img class="fighter-image svelte-axir35"/> <div class="fighter-placeholder svelte-axir35" style="display: none;">Picture Unavailable</div>',1),Ka=D('<div class="fighter-placeholder svelte-axir35">Picture Unavailable</div>'),Na=(W,t)=>W.key==="Enter"&&t(),Sa=D('<div class="stat-item role-disc-clickable svelte-axir35" role="button" tabindex="0"><span class="stat-label svelte-axir35">ROLE-DISC:</span> <span><div class="role-emojis svelte-axir35"> </div> <div class="role-name svelte-axir35"> </div></span></div>'),Ta=D('<hr class="archetype-divider svelte-axir35"/> <div class="archetype-container svelte-axir35"><div class="archetype-section svelte-axir35"><h3 class="archetype-section-title svelte-axir35"> </h3> <div class="archetype-fields svelte-axir35"><div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value description svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value favorite-zone svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value strengths svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value weaknesses svelte-axir35"> </div></div></div></div></div>',1),$a=D('<div class="fighter-header svelte-axir35"><div class="header-actions svelte-axir35"><!> <button type="button" class="fighter-detail-cta svelte-axir35" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-axir35"><div class="fighter-image-container svelte-axir35"><!></div></button></div> <button type="button" class="fighter-name-link svelte-axir35"><div class="fighter-name svelte-axir35"> </div></button> <div class="star-rating svelte-axir35"><div class="stars-container svelte-axir35"></div></div> <div class="fighter-stats svelte-axir35"><!> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value career-record svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value record svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value height svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value reach svelte-axir35"> </span></div></div> <!>',1),Ma=D('<div class="empty-card svelte-axir35"><div class="empty-message svelte-axir35"> </div></div>'),Ia=D('<div class="fighter-card svelte-axir35"><!></div> <!>',1);function Ht(W,t){gt(t,!1);const[r,d]=mt(),v=()=>lt(yt,"$_",r),a=k(),o=k(),g=k(),u=k();let _=je(t,"fighter",8,null),m=je(t,"id",8,""),b=k(!1);function w(){y(b,!0)}function O(){y(b,!1)}E(()=>v(),()=>{y(a,K=>{if(!K||!K.startsWith("@ARCHETYPE_"))return K;let H="",Q="";if(K.includes("_DESCRIPTION"))H=K.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),Q="description";else if(K.includes("_FAVORITE_ZONE"))H=K.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),Q="favorite_zone";else if(K.includes("_STRENGTHS"))H=K.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),Q="strengths";else if(K.includes("_WEAKNESSES"))H=K.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),Q="weaknesses";else{const j=K.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!j)return K;H=j[1],Q=j[2].toLowerCase()}const oe=`archetype_data.${H}.${Q}`,Z=v()(oe);return K.includes("_WEAKNESSES"),Z!==oe?Z:K})}),E(()=>(M(_()),It),()=>{y(o,_()?It(_().archetype):null)}),E(()=>M(_()),()=>{y(g,_()?.rawData.height_inches?Math.floor(_().rawData.height_inches/12)+"'"+_().rawData.height_inches%12+'"':"-")}),E(()=>M(_()),()=>{y(u,_()?.rawData.reach_inches?_().rawData.reach_inches+'"':"-")}),wt(),ut();var Y=Ia(),te=Be(Y),ae=i(te);{var Ee=K=>{var H=$a(),Q=Be(H),oe=i(Q),Z=i(oe);pa(Z,{get fighterFullName(){return M(_()),n(()=>_().nameWithNickname)},size:"large"});var j=l(Z,2);j.__click=[Rt,_];var ie=i(j);ra(ie,{size:16});var re=l(oe,2);re.__click=[Rt,_];var xe=i(re),Oe=i(xe);{var rt=S=>{var V=Ca(),ye=Be(V);R(()=>{we(ye,"src",(M(_()),n(()=>_().pictureUrl))),we(ye,"alt",`${M(_()),n(()=>_().name)??""} fighter profile picture`)}),Ye("error",ye,ce=>{ce.currentTarget.style.display="none";const _e=ce.currentTarget.nextElementSibling;_e&&(_e.style.display="block")}),f(S,V)},tt=S=>{var V=Ka();f(S,V)};q(Oe,S=>{M(_()),n(()=>_().pictureUrl)?S(rt):S(tt,!1)})}var at=l(Q,2);at.__click=[Rt,_];var ot=i(at),C=i(ot),pe=l(at,2),Re=i(pe),De=l(pe,2),Ge=i(De);{var We=S=>{var V=Sa();V.__click=w,V.__keydown=[Na,w];var ye=i(V),ce=l(ye,2),_e=i(ce),$e=i(_e),Le=l(_e,2),Me=i(Le);R((Ne,Je)=>{we(V,"aria-label",Ne),we(ye,"title",Je),Ue(ce,1,`stat-value role-indicator archetype-dots archetype-${e(o),n(()=>e(o).type)??""}`,"svelte-axir35"),we(ce,"title",(e(o),n(()=>e(o).tooltip))),c($e,(e(o),n(()=>e(o).label))),c(Me,(e(o),n(()=>e(o).name)))},[()=>(v(),n(()=>v()("role_disc_modal.open_modal_aria_label"))),()=>(v(),n(()=>v()("role_disc_modal.archetype_tooltip")))]),f(S,V)};q(Ge,S=>{e(o)&&S(We)})}var ze=l(Ge,2),Ce=i(ze),Te=i(Ce),Qe=l(Ce,2),et=i(Qe),Ae=l(ze,2),ve=i(Ae),Fe=i(ve),Ve=l(ve,2),qe=i(Ve),le=l(Ae,2),Ke=i(le),Ze=i(Ke),it=l(Ke,2),st=i(it),h=l(le,2),p=i(h),x=i(p),N=l(p,2),G=i(N),J=l(De,2);{var me=S=>{var V=Ta(),ye=l(Be(V),2),ce=i(ye),_e=i(ce),$e=i(_e),Le=l(_e,2),Me=i(Le),Ne=i(Me),Je=i(Ne),dt=i(Je);sa(dt,{size:18});var _t=l(Je,2),X=i(_t),s=l(Ne,2),F=i(s),$=l(Me,2),ee=i($),U=i(ee),A=i(U);Wt(A,{size:18});var z=l(U,2),B=i(z),de=l(ee,2),be=i(de),he=l($,2),ge=i(he),fe=i(ge),I=i(fe);Vt(I,{size:18});var P=l(fe,2),L=i(P),T=l(ge,2),se=i(T),Ie=l(he,2),Se=i(Ie),Xe=i(Se),vt=i(Xe);Kt(vt,{size:18});var xt=l(Xe,2),Gt=i(xt),zt=l(Se,2),qt=i(zt);R((Yt,jt,Qt,Zt,Jt,Xt,ea,ta,aa)=>{c($e,Yt),c(X,jt),c(F,Qt),c(B,Zt),c(be,Jt),c(L,Xt),c(se,ea),c(Gt,ta),c(qt,aa)},[()=>(v(),n(()=>v()("archetype.analysis_title"))),()=>(v(),n(()=>v()("archetype.tactical_description"))),()=>(e(a),M(_()),n(()=>e(a)(_().archetype.description))),()=>(v(),n(()=>v()("archetype.preferred_zone"))),()=>(e(a),M(_()),n(()=>e(a)(_().archetype.favoriteZone))),()=>(v(),n(()=>v()("archetype.strengths"))),()=>(e(a),M(_()),n(()=>e(a)(_().archetype.strengths))),()=>(v(),n(()=>v()("archetype.weaknesses"))),()=>(e(a),M(_()),n(()=>e(a)(_().archetype.weaknesses)))]),f(S,V)};q(J,S=>{M(_()),n(()=>_().archetype)&&S(me)})}R((S,V,ye,ce,_e,$e,Le,Me)=>{we(j,"aria-label",`View detailed fighter profile for ${M(_()),n(()=>_().nameWithNickname)??""}`),c(C,(M(_()),n(()=>_().name))),Ct(Re,`--fill-width: ${M(_()),n(()=>_().stars*20)??""}%`),we(Ce,"title",S),c(Te,`${V??""}:`),c(et,(M(_()),n(()=>_().career_record))),we(ve,"title",ye),c(Fe,`${ce??""}:`),c(qe,(M(_()),n(()=>_().record_36m))),we(Ke,"title",_e),c(Ze,`${$e??""}:`),c(st,e(g)),we(p,"title",Le),c(x,`${Me??""}:`),c(G,e(u))},[()=>(v(),n(()=>v()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(v(),n(()=>v()("fighter_profile.career_record"))),()=>(v(),n(()=>v()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(v(),n(()=>v()("fighter_profile.record_36m"))),()=>(v(),n(()=>v()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(v(),n(()=>v()("fighter_profile.height"))),()=>(v(),n(()=>v()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(v(),n(()=>v()("fighter_profile.reach")))]),f(K,H)},ne=K=>{var H=Ma(),Q=i(H),oe=i(Q);R(Z=>c(oe,Z),[()=>(v(),n(()=>v()("fight_radar.select_fighter_stats")))]),f(K,H)};q(ae,K=>{_()?K(Ee):K(ne,!1)})}var ke=l(te,2);ua(ke,{get isOpen(){return e(b)},$$events:{close:O}}),R(()=>we(te,"id",m())),f(W,Y),pt(),d()}na(["click","keydown"]);var Ea=D('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function Oa(W,t){gt(t,!1);const[r,d]=mt(),v=()=>lt(yt,"$_",r);function a(){Bt("/calendar")}ut();var o=Ea(),g=i(o),u=i(g),_=i(u),m=i(_);oa(m,{size:24,style:"display: inline; margin-right: 0.5rem;"});var b=l(m),w=l(_,2),O=i(w),Y=l(u,2),te=i(Y);R((ae,Ee,ne)=>{c(b,` ${ae??""}`),c(O,Ee),c(te,ne)},[()=>v()("banner.new_functionality"),()=>v()("banner.explore_calendar"),()=>v()("banner.view_calendar")]),Ye("click",Y,a),f(W,o),pt(),d()}var ue=(W=>(W.FIGHT_WINNER="fight_winner",W.METHOD_OF_VICTORY="method_of_victory",W.WINNER_AND_ROUND="winner_and_round",W.TOTAL_ROUNDS="total_rounds",W.SPECIFIC_FINISH_METHOD="specific_finish_method",W.GOES_TO_DECISION="goes_to_decision",W.DISTANCE_YES_NO="distance_yes_no",W.GONE_IN_60="gone_in_60",W.FIGHT_PROPS="fight_props",W.KEY_FACTORS="key_factors",W.TRENDS="trends",W.NO_PREDICTION="no_prediction",W))(ue||{}),bt=(W=>(W.HIGH="high",W.MEDIUM="medium",W.LOW="low",W))(bt||{});class Aa{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=60,this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,r){const d=[],v=this.calculateWinProbability(t,r),a=this.predictMethodOfVictory(t,r),o=this.predictTotalRounds(t,r),g=this.predictRoundBetting(t,r),u=this.generateFightProps(t,r),_=this.analyzeKeyFactors(t,r),m=this.analyzeTrends(t,r);return d.push(this.createMoneylineCard(v)),a.probability>=this.MIN_MEDIUM_CONFIDENCE&&d.push(this.createMethodOfVictoryCard(a)),o.probability>=this.MIN_MEDIUM_CONFIDENCE&&d.push(this.createTotalRoundsCard(o)),g.probability>=this.MIN_HIGH_CONFIDENCE&&d.push(this.createRoundBettingCard(g)),d.push(this.createFightPropsCard(u)),d.push(this.createKeyFactorsCard(_)),d.push(this.createTrendsCard(m)),this.hasHighConfidencePredictions(d)||d.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(d)}validatePredictions(t){const r=this.filterByConfidence(t);return this.resolveContradictions(r)}filterByConfidence(t){return t.filter(r=>r.type==="key_factors"||r.type==="trends"||r.type==="no_prediction"?!0:r.confidence>=this.MIN_MEDIUM_CONFIDENCE)}resolveContradictions(t){let r=[...t];return r=this.resolveOverUnderContradictions(r),r=this.resolveMethodVsDurationContradictions(r),r}resolveMethodVsDurationContradictions(t){const r=t.find(m=>m.type==="method_of_victory"&&(m.prediction.toLowerCase().includes("decision")||m.predictionKey?.toLowerCase().includes("decision")));if(!r)return t;const d=t.filter(m=>{if(m.type!=="total_rounds")return!1;const b=m.prediction.toLowerCase(),w=m.predictionKey?.toLowerCase()||"";return b.includes("under")||w.includes("under")}),v=t.filter(m=>{if(m.type!=="winner_and_round")return!1;const b=m.prediction.toLowerCase(),w=m.predictionKey?.toLowerCase()||"";return b.includes("round 1")||b.includes("round 2")||w.includes("round_1")||w.includes("round_2")}),a=[...d,...v];if(a.length===0)return t;const o=[r,...a],g=Math.max(...o.map(m=>m.confidence)),u=o.find(m=>m.confidence===g);if(!u)return t;const _=new Set(o.map(m=>m.id));return t.filter(m=>!_.has(m.id)||m.id===u.id)}resolveOverUnderContradictions(t){const r=t.filter(a=>a.type==="total_rounds");if(r.length<=1)return t;const d=new Map;for(const a of r){const o=a.prediction.toLowerCase(),g=a.predictionKey?.toLowerCase()||"",u=o.match(/(\d+\.5)/)||g.match(/(\d+)_5/);if(u){const _=u[1].replace("_5",".5");d.has(_)||d.set(_,[]),d.get(_).push(a)}}const v=new Set;for(const[a,o]of d)if(o.length>1){const g=o.some(_=>_.prediction.toLowerCase().includes("over")||_.predictionKey?.toLowerCase().includes("over")),u=o.some(_=>_.prediction.toLowerCase().includes("under")||_.predictionKey?.toLowerCase().includes("under"));if(g&&u){const m=o.sort((b,w)=>w.confidence-b.confidence)[0];for(const b of o)b.id!==m.id&&v.add(b.id)}}return t.filter(a=>!v.has(a.id))}resolveContradictionGroup(t,r){const d=[];for(const o of t)for(const g of r.conflictTypes)if(g.types.includes(o.type)){let u=g.indicates;u==="variable"&&(u=this.determineFightLength(o)),d.push({card:o,fightLength:u});break}const v=d.filter(o=>o.fightLength==="long_fight"),a=d.filter(o=>o.fightLength==="short_fight"||o.fightLength==="very_short_fight");if(v.length>0&&a.length>0){const o=[...v,...a],g=Math.max(...o.map(_=>_.card.confidence)),u=o.find(_=>_.card.confidence===g)?.card;if(u){const _=o.map(m=>m.card.id);return t.filter(m=>!_.includes(m.id)||m.id===u.id)}}return t}determineFightLength(t){const r=t.prediction.toLowerCase(),d=t.predictionKey?.toLowerCase()||"";return r.includes("under")||r.includes("round 1")||r.includes("round 2")||d.includes("under")||d.includes("round_1")||d.includes("round_2")||r.includes("ko")||r.includes("tko")||d.includes("ko")?"short_fight":r.includes("decision")||r.includes("over")||r.includes("round 3")||d.includes("decision")||d.includes("over")||d.includes("round_3")?"long_fight":"neutral"}calculateWinProbability(t,r){let d=t.performance*.25+t.fightIQ*.25+t.stars*20*.5,v=r.performance*.25+r.fightIQ*.25+r.stars*20*.5;d*=this.calculateAgeImpact(t),v*=this.calculateAgeImpact(r);const a=this.getInactiveMonths(t),o=this.getInactiveMonths(r);if(a>=18){const j=Math.min((a-18)*.005,.25);d*=1-j}if(o>=18){const j=Math.min((o-18)*.005,.25);v*=1-j}const g=this.getFightsInPeriod(t,18),u=this.getFightsInPeriod(r,18);g>=3&&(d*=1.05),u>=3&&(v*=1.05);const _=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,m=r.rawData.Number_of_Fights_36m>0?r.rawData.win/r.rawData.Number_of_Fights_36m*100:0,b=this.calculateMomentum(t),w=this.calculateMomentum(r);d*=1+b,v*=1+w;let O=.35,Y=.35;_>=75?O=.4:_<50&&(O=.3),m>=75?Y=.4:m<50&&(Y=.3);const te=d+_*O,ae=v+m*Y,Ee=this.calculateAge(t),ne=this.calculateAge(r),ke=Ee-ne;let K=te,H=ae;if(Math.abs(ke)>=5){const j=Math.min(Math.abs(ke)*.005,.03);ke>0?(K=te*(1-j),H=ae*(1+j)):(K=te*(1+j),H=ae*(1-j))}const Q=K+H;let oe=Q>0?Math.round(K/Q*100):50,Z=Q>0?Math.round(H/Q*100):50;if(oe=Math.max(15,Math.min(85,oe)),Z=100-oe,oe>Z){let j=this.getWinReasoningKey(t,r,_,m);return{winner:t,probability:oe,reasoning:j,adjustedScore1:K,adjustedScore2:H}}else{let j=this.getWinReasoningKey(r,t,m,_);return{winner:r,probability:Z,reasoning:j,adjustedScore1:H,adjustedScore2:K}}}predictMethodOfVictory(t,r){const d=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,v=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko+r.rawData.win_sub)/r.rawData.Number_of_Fights_36m*100:0,a=Math.max((d+v)/2,0),o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,g=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko)/r.rawData.Number_of_Fights_36m*100:0,u=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,_=r.rawData.Number_of_Fights_36m>0?r.rawData.win_sub/r.rawData.Number_of_Fights_36m*100:0,m=this.hasBodyShotThreat(t,r),b=this.hasGroundControlThreat(t,r);if(a>40)if(o+g>u+_){let w=Math.round(Math.max(Math.min(a+10,75),5));return m&&(w+=5),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(w,80),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:d,finishRate2:v}}else{let w=Math.round(Math.max(Math.min(a,65),5));return b&&(w+=5),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(w,70),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:d,finishRate2:v}}else return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.round(Math.max(Math.min(100-a,95),5)),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:d,finishRate2:v}}predictTotalRounds(t,r){const d=(t.rawData.Fight_Duration_Seconds||900)/60,v=(r.rawData.Fight_Duration_Seconds||900)/60,a=Math.max((d+v)/2,1),o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,g=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko+r.rawData.win_sub)/r.rawData.Number_of_Fights_36m*100:0,u=o>60||g>60,_=this.hasExplosiveStyle(t,r);if(a<8&&u){let m=Math.max(Math.min(70,95),5);return _&&(m+=5),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(m,85),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:a}}else return a>12?{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.max(Math.min(75,95),5),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:a}:{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.max(Math.min(60,95),5),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:a}}generateFightProps(t,r){const d=this.calculateBettingMetrics(t,r);return d.f1SubRate+d.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:d}:(d.f1FinishRate>60||d.f2FinishRate>60)&&d.avgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:d}:d.f1KnockdownRate>.6&&d.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:d}:d.f1TakedownRate>15||d.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:d}:d.f1StrikeVolume>120&&d.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:d}:d.f1TakedownRate<5&&d.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:d}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:d}}predictRoundBetting(t,r){const d=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,v=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko+r.rawData.win_sub)/r.rawData.Number_of_Fights_36m*100:0,a=(d+v)/2,o=(t.rawData.Fight_Duration_Seconds||900)/60,g=(r.rawData.Fight_Duration_Seconds||900)/60,u=(o+g)/2;return a>60&&u<5?{prediction:"Round 1",predictionKey:"betting_markets.round_1",probability:Math.round(Math.min(a+15,85)),reasoning:"betting_markets.reasoning.early_explosive_finish",explanationKey:"betting_markets.explanations.round_1_finish",avgTime:u}:a>40&&u<8?{prediction:"Round 2",predictionKey:"betting_markets.round_2",probability:Math.round(Math.min(a+10,80)),reasoning:"betting_markets.reasoning.second_round_finish",explanationKey:"betting_markets.explanations.round_2_finish",avgTime:u}:{prediction:"Goes to Decision",predictionKey:"betting_markets.goes_to_decision",probability:Math.round(Math.max(100-a,20)),reasoning:"betting_markets.reasoning.likely_decision",explanationKey:"betting_markets.explanations.goes_to_decision",avgTime:u}}calculateEarlyFinishRate(t){const r=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,d=(t.rawData.Fight_Duration_Seconds||900)/60;return r>40&&d<4?r*.8:r>25&&d<6?r*.6:r*.3}analyzeKeyFactors(t,r){const d=[],v=t.rawData.reach_inches||0,a=r.rawData.reach_inches||0,o=Math.abs(v-a);if(o>2){const O=v>a?t.name||"Fighter 1":r.name||"Fighter 2";d.push({label:"combat_analysis.key_factors.reach_advantage",value:`${O} +${o}"`,type:"advantage"})}const g=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,u=r.rawData.Sig_Strikes_Thrown>0?Math.round(r.rawData.Sig_Strikes_Landed/r.rawData.Sig_Strikes_Thrown*100):0;d.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${g}% vs ${r.name||"F2"}: ${u}%`,type:"comparison"});const _=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,m=r.rawData.takedowns_attempted_against>0?Math.round(r.rawData.Takedowns_Defended/r.rawData.takedowns_attempted_against*100):85;d.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${_}% vs ${r.name||"F2"}: ${m}%`,type:"comparison"});const b=t.rawData.Number_of_Fights_36m||0,w=r.rawData.Number_of_Fights_36m||0;if(Math.abs(b-w)>2){const O=b>w?t.name||"Fighter 1":r.name||"Fighter 2",Y=Math.max(b,w),te=Math.min(b,w);d.push({label:"combat_analysis.key_factors.higher_activity",value:`${O}: ${Y} vs ${te} fights`,type:"advantage"})}return d}analyzeTrends(t,r){const d=[],v=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=r.rawData.Number_of_Fights_36m>0?Math.round(r.rawData.win/r.rawData.Number_of_Fights_36m*100):0;v>=75?d.push({type:"positive",text:`${t.name||"Fighter 1"} has ${v}% win rate`,fighter:t.name}):v<50&&d.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${v}% win rate`,fighter:t.name}),a>=75?d.push({type:"positive",text:`${r.name||"Fighter 2"} has ${a}% win rate`,fighter:r.name}):a<50&&d.push({type:"negative",text:`${r.name||"Fighter 2"} struggling at ${a}% win rate`,fighter:r.name});const o=(t.rawData.Fight_Duration_Seconds||900)/60,g=(r.rawData.Fight_Duration_Seconds||900)/60,u=(o+g)/2;return d.push({type:"neutral",text:`Combined average fight time: ${u.toFixed(1)} minutes`}),d}calculateMomentum(t){const r=t.rawData.Dates_36m||"";if(!r)return 0;const d=r.split(",").map(o=>{const g=o.trim().split(":");return{date:g[0],result:g[2]}});d.sort((o,g)=>{const[u,_,m]=o.date.split("-").map(Number),[b,w,O]=g.date.split("-").map(Number),Y=new Date(m,_-1,u);return new Date(O,w-1,b).getTime()-Y.getTime()});let v=0,a="";for(const o of d)if(!(o.result==="NC"||o.result==="D"))if(!a)a=o.result,v=1;else if(o.result===a)v++;else break;if(a==="W"){if(v>=3)return .08;if(v>=2)return .05;if(v===1)return .02}else if(a==="L"){if(v>=3)return-.08;if(v>=2)return-.05;if(v===1)return-.02}return 0}calculateDamageMultiplier(t){return t===0?1:t===1?1.1:t===2?1.25:t===3?1.4:t===4?1.6:1.8}calculateAgeImpact(t){const r=this.calculateAge(t),v={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=(t.rawData.loss_ko||0)+(t.rawData.loss_tko||0),o=this.calculateDamageMultiplier(a),g=(r-v)*o;if(g<=0)return 1;let u=0;return g<=5?u=g*.01:g<=10?u=.05+(g-5)*.015:u=.125+(g-10)*.02,u=Math.min(u,.3),1-u}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,o=new Date(a);if(!isNaN(o.getTime())){const g=new Date;let u=g.getFullYear()-o.getFullYear();const _=g.getMonth()-o.getMonth();return(_<0||_===0&&g.getDate()<o.getDate())&&u--,u}}const r=25,d=2.5,v=t.rawData.Number_of_Fights_36m||0;return Math.round(r+v/d)}getInactiveMonths(t){const r=t.rawData.Number_of_Fights_36m||0;return r>=3?0:r>=2?6:r>=1?12:24}getFightsInPeriod(t,r){const d=r/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*d)}hasBodyShotThreat(t,r){const d=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,v=r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko)/r.rawData.Number_of_Fights_36m*100:0;return d>40||v>40}hasGroundControlThreat(t,r){const d=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,v=r.rawData.Number_of_Fights_36m>0?r.rawData.win_sub/r.rawData.Number_of_Fights_36m*100:0;return d>25||v>25}hasExplosiveStyle(t,r){const d=(t.rawData.Fight_Duration_Seconds||900)/60,v=(r.rawData.Fight_Duration_Seconds||900)/60;return d<5||v<5}calculateBettingMetrics(t,r){return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:r.rawData.Sig_Strikes_Thrown>0?r.rawData.Takedowns_Attempted/r.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:r.rawData.Number_of_Fights_36m>0?r.rawData.Knockdowns/r.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:r.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:r.rawData.Number_of_Fights_36m>0?r.rawData.Sub_Attempts/r.rawData.Number_of_Fights_36m:0,f1FinishRate:t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,f2FinishRate:r.rawData.Number_of_Fights_36m>0?(r.rawData.win_ko+r.rawData.win_tko+r.rawData.win_sub)/r.rawData.Number_of_Fights_36m*100:0,avgFightTime:((t.rawData.Fight_Duration_Seconds||900)+(r.rawData.Fight_Duration_Seconds||900))/2/60}}getWinReasoningKey(t,r,d,v){return t.stars>r.stars+1?"combat_analysis.reasoning.significant_rating_advantage":t.performance>r.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>r.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":d>v+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=this.MIN_HIGH_CONFIDENCE?"high":t>=this.MIN_MEDIUM_CONFIDENCE?"medium":"low"}createMoneylineCard(t){return{id:"moneyline",type:"fight_winner",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:1}}createMethodOfVictoryCard(t){return{id:"method-of-victory",type:"method_of_victory",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{finishRate1:t.finishRate1,finishRate2:t.finishRate2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"total_rounds",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createRoundBettingCard(t){return{id:"round-betting",type:"winner_and_round",category:"secondary",title:"Round Betting",titleKey:"betting_markets.round_betting",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:4}}createMethodAndRoundCard(t){const r=t.probability||70;return{id:"method-and-round",type:"winner_and_round",category:"secondary",title:"Method & Round",titleKey:"betting_markets.method_and_round",prediction:t.prop,predictionKey:t.propKey,confidence:r,confidenceLevel:this.getConfidenceLevel(r),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:5}}createDecisionTypeCard(t){return{id:"decision-type",type:"distance_yes_no",category:"secondary",title:"Decision Type",titleKey:"betting_markets.decision_type",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:6}}createGoneIn60Card(t){return{id:"gone-in-60",type:"gone_in_60",category:"prop",title:"Gone in 60 Seconds",titleKey:"betting_markets.gone_in_60_title",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:7}}calculateImpliedOdds(t){if(t<=0)return"N/A";if(t>=100)return"Even";const r=100/t;if(r>=2){const d=(r-1)*100;return`+${Math.round(d)}`}else{const d=-100/(r-1);return`${Math.round(d)}`}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(r=>(r.type==="fight_winner"||r.type==="method_of_victory"||r.type==="total_rounds"||r.type==="winner_and_round"||r.type==="fight_props")&&r.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((r,d)=>r.priority-d.priority)}}const Ut=new Aa;var La=D('<div class="implied-odds svelte-1lytxch"> </div>'),Pa=D('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="winner-name svelte-1lytxch"> </div> <div class="confidence svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Ha=D('<div class="implied-odds svelte-1lytxch"> </div>'),Ua=D('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method svelte-1lytxch"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Wa=D('<div class="implied-odds svelte-1lytxch"> </div>'),Va=D('<div class="bet-explanation svelte-1lytxch"> </div>'),Ba=D('<div class="bet-explanation svelte-1lytxch"> </div>'),Ga=D('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="rounds"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),za=D('<div class="implied-odds svelte-1lytxch"> </div>'),qa=D('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="round"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Ya=D('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method-round-combo"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),ja=D('<div class="implied-odds svelte-1lytxch"> </div>'),Qa=D('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="decision"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Za=D('<div class="implied-odds svelte-1lytxch"> </div>'),Ja=D('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="gone-60"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Xa=D('<div class="bet-card no-predictions svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="no-pred-title svelte-1lytxch"> </div> <div class="no-pred-subtitle svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),ei=D('<div class="bet-explanation svelte-1lytxch"> </div>'),ti=D('<div class="bet-explanation svelte-1lytxch"> </div>'),ai=D('<div class="bet-card fight-props svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="prop svelte-1lytxch"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),ii=D('<div class="stat-item svelte-1lytxch"><span class="stat-label svelte-1lytxch"> </span> <span class="stat-value svelte-1lytxch"> </span></div>'),ri=D('<div class="bet-card stats svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="key-stats svelte-1lytxch"></div></div>'),si=D("<div> </div>"),ni=D('<div class="bet-card trends svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="trend-list svelte-1lytxch"></div></div>'),oi=D('<div class="fight-best-bets svelte-1lytxch"><div class="header svelte-1lytxch"><h2 class="title svelte-1lytxch"><span class="icon svelte-1lytxch"><!></span> </h2> <hr class="title-divider svelte-1lytxch"/> <div class="subtitle svelte-1lytxch"> </div></div> <div class="matchup-header svelte-1lytxch"><div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div> <div class="vs-divider svelte-1lytxch"><span>VS</span></div> <div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1lytxch"><small class="svelte-1lytxch"> </small></div></div>');function li(W,t){gt(t,!1);const[r,d]=mt(),v=()=>lt(_a,"$locale",r),a=()=>lt(yt,"$_",r),o=k(),g=k(),u=k(),_=k(),m=k(),b=k(),w=k(),O=k(),Y=k(),te=k(),ae=k(),Ee=k(),ne=k(),ke=k(),K=k(),H=k(),Q=k(),oe=k(),Z=k(),j=k();let ie=je(t,"fighter1",8,null),re=je(t,"fighter2",8,null);function xe(C,pe){return C.filter(Re=>Re.type===pe)}function Oe(C){switch(C){case bt.HIGH:return"high-confidence";case bt.MEDIUM:return"medium-confidence";case bt.LOW:return"low-confidence";default:return""}}let rt=v();E(()=>(M(ie()),M(re())),()=>{y(o,ie()&&re())}),E(()=>(e(o),M(ie()),M(re())),()=>{y(g,e(o)?Ut.generateBetCards(ie(),re()):[])}),E(()=>e(g),()=>{y(u,Ut.validatePredictions(e(g)))}),E(()=>(e(o),M(ie()),M(re()),e(u),ct),()=>{e(o)&&ie()&&re()&&e(u).length>0&&ct.trackBettingAnalysis(ie().name,re().name)}),E(()=>(e(u),ue),()=>{y(_,xe(e(u),ue.FIGHT_WINNER))}),E(()=>(e(u),ue),()=>{y(m,xe(e(u),ue.METHOD_OF_VICTORY))}),E(()=>(e(u),ue),()=>{y(b,xe(e(u),ue.TOTAL_ROUNDS))}),E(()=>(e(u),ue),()=>{y(w,xe(e(u),ue.WINNER_AND_ROUND))}),E(()=>(e(u),ue),()=>{y(O,xe(e(u),ue.DISTANCE_YES_NO))}),E(()=>(e(u),ue),()=>{y(Y,xe(e(u),ue.GOES_TO_DECISION))}),E(()=>(e(u),ue),()=>{y(te,xe(e(u),ue.GONE_IN_60))}),E(()=>(e(u),ue),()=>{y(ae,xe(e(u),ue.FIGHT_PROPS))}),E(()=>(e(u),ue),()=>{y(Ee,xe(e(u),ue.KEY_FACTORS))}),E(()=>(e(u),ue),()=>{y(ne,xe(e(u),ue.TRENDS))}),E(()=>(e(u),ue),()=>{y(ke,xe(e(u),ue.NO_PREDICTION))}),E(()=>(e(_),e(m),e(b),e(w),e(O),e(Y),e(te)),()=>{y(K,e(_).length+e(m).length+e(b).length+e(w).length+e(O).length+e(Y).length+e(te).length)}),E(()=>e(K),()=>{y(H,e(K)>0)}),E(()=>e(H),()=>{y(Q,e(H)?0:1)}),E(()=>(e(ae),e(Ee),e(ne)),()=>{y(oe,e(ae).length+e(Ee).length+e(ne).length)}),E(()=>(e(K),e(Q),e(oe)),()=>{y(Z,e(K)+e(Q)+e(oe))}),E(()=>v(),()=>{v()!==rt&&rt&&window.location.reload()}),E(()=>e(o),()=>{y(j,e(o))}),wt(),ut();var tt=nt(),at=Be(tt);{var ot=C=>{var pe=oi(),Re=i(pe),De=i(Re),Ge=i(De),We=i(Ge);Vt(We,{size:32});var ze=l(Ge),Ce=l(De,4),Te=i(Ce),Qe=l(Re,2),et=i(Qe),Ae=i(et),ve=i(Ae),Fe=l(Ae,2),Ve=i(Fe),qe=l(Fe,2),le=i(qe),Ke=l(et,4),Ze=i(Ke),it=i(Ze),st=l(Ze,2),h=i(st),p=l(st,2),x=i(p),N=l(Qe,2);let G;var J=i(N);Pe(J,1,()=>e(_),He,(X,s)=>{var F=Pa(),$=i(F),ee=i($),U=l($,2),A=i(U),z=i(A),B=l(A,2),de=i(B),be=l(B,2);{var he=I=>{var P=La(),L=i(P);R(T=>c(L,`${T??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,P)};q(be,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(he)})}var ge=l(U,2),fe=i(ge);R((I,P,L,T)=>{Ue(F,1,`bet-card moneyline ${I??""}`,"svelte-1lytxch"),c(ee,P),c(z,(e(s),n(()=>e(s).prediction))),c(de,`${e(s),n(()=>e(s).confidence)??""}% ${L??""}`),c(fe,T)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var me=l(J,2);Pe(me,1,()=>e(m),He,(X,s)=>{var F=Ua(),$=i(F),ee=i($),U=l($,2),A=i(U),z=i(A),B=l(A,2),de=i(B),be=l(B,2);{var he=I=>{var P=Ha(),L=i(P);R(T=>c(L,`${T??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,P)};q(be,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(he)})}var ge=l(U,2),fe=i(ge);R((I,P,L,T,se)=>{Ue(F,1,`bet-card method-victory ${I??""}`,"svelte-1lytxch"),c(ee,P),c(z,L),c(de,`${e(s),n(()=>e(s).confidence)??""}% ${T??""}`),c(fe,se)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var S=l(me,2);Pe(S,1,()=>e(b),He,(X,s)=>{var F=Ga(),$=i(F),ee=i($),U=l($,2),A=i(U),z=i(A),B=l(A,2),de=i(B),be=l(B,2);{var he=T=>{var se=Wa(),Ie=i(se);R(Se=>c(Ie,`${Se??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(T,se)};q(be,T=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&T(he)})}var ge=l(U,2),fe=i(ge),I=l(ge,2);{var P=T=>{var se=Va(),Ie=i(se);R(Se=>c(Ie,Se),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),f(T,se)},L=T=>{var se=nt(),Ie=Be(se);{var Se=Xe=>{var vt=Ba(),xt=i(vt);R(()=>c(xt,(e(s),n(()=>e(s).explanation)))),f(Xe,vt)};q(Ie,Xe=>{e(s),n(()=>e(s).explanation)&&Xe(Se)},!0)}f(T,se)};q(I,T=>{e(s),n(()=>e(s).explanationKey)?T(P):T(L,!1)})}R((T,se,Ie,Se,Xe)=>{Ue(F,1,`bet-card total-rounds ${T??""}`,"svelte-1lytxch"),c(ee,se),c(z,Ie),c(de,`${e(s),n(()=>e(s).confidence)??""}% ${Se??""}`),c(fe,Xe)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var V=l(S,2);Pe(V,1,()=>e(w),He,(X,s)=>{var F=qa(),$=i(F),ee=i($),U=l($,2),A=i(U),z=i(A),B=l(A,2),de=i(B),be=l(B,2);{var he=I=>{var P=za(),L=i(P);R(T=>c(L,`${T??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,P)};q(be,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(he)})}var ge=l(U,2),fe=i(ge);R((I,P,L,T,se)=>{Ue(F,1,`bet-card round-betting ${I??""}`,"svelte-1lytxch"),c(ee,P),c(z,L),c(de,`${e(s),n(()=>e(s).confidence)??""}% ${T??""}`),c(fe,se)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var ye=l(V,2);Pe(ye,1,()=>e(O),He,(X,s)=>{var F=Ya(),$=i(F),ee=i($),U=l($,2),A=i(U),z=i(A),B=l(A,2),de=i(B),be=l(U,2),he=i(be);R((ge,fe,I,P,L)=>{Ue(F,1,`bet-card method-round ${ge??""}`,"svelte-1lytxch"),c(ee,fe),c(z,I),c(de,P),c(he,L)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var ce=l(ye,2);Pe(ce,1,()=>e(Y),He,(X,s)=>{var F=Qa(),$=i(F),ee=i($),U=l($,2),A=i(U),z=i(A),B=l(A,2),de=i(B),be=l(B,2);{var he=I=>{var P=ja(),L=i(P);R(T=>c(L,`${T??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,P)};q(be,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(he)})}var ge=l(U,2),fe=i(ge);R((I,P,L,T,se)=>{Ue(F,1,`bet-card decision-type ${I??""}`,"svelte-1lytxch"),c(ee,P),c(z,L),c(de,`${e(s),n(()=>e(s).confidence)??""}% ${T??""}`),c(fe,se)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var _e=l(ce,2);Pe(_e,1,()=>e(te),He,(X,s)=>{var F=Ja(),$=i(F),ee=i($),U=l($,2),A=i(U),z=i(A),B=l(A,2),de=i(B),be=l(B,2);{var he=I=>{var P=Za(),L=i(P);R(T=>c(L,`${T??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(I,P)};q(be,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(he)})}var ge=l(U,2),fe=i(ge);R((I,P,L,T,se)=>{Ue(F,1,`bet-card gone-in-60 ${I??""}`,"svelte-1lytxch"),c(ee,P),c(z,L),c(de,`${e(s),n(()=>e(s).confidence)??""}% ${T??""}`),c(fe,se)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var $e=l(_e,2);Pe($e,1,()=>e(ke),He,(X,s)=>{var F=Xa(),$=i(F),ee=i($);Kt(ee,{size:16,style:"display: inline; margin-right: 0.25rem;"});var U=l(ee),A=l($,2),z=i(A),B=i(z),de=l(z,2),be=i(de),he=l(A,2),ge=i(he);R((fe,I,P,L)=>{c(U,` ${fe??""}`),c(B,I),c(be,P),c(ge,L)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var Le=l($e,2);Pe(Le,1,()=>e(ae),He,(X,s)=>{var F=ai(),$=i(F),ee=i($);Wt(ee,{size:16,style:"display: inline; margin-right: 0.25rem;"});var U=l(ee),A=l($,2),z=i(A),B=i(z),de=l(z,2),be=i(de),he=l(A,2),ge=i(he),fe=l(he,2);{var I=L=>{var T=ei(),se=i(T);R(Ie=>c(se,Ie),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),f(L,T)},P=L=>{var T=nt(),se=Be(T);{var Ie=Se=>{var Xe=ti(),vt=i(Xe);R(()=>c(vt,(e(s),n(()=>e(s).explanation)))),f(Se,Xe)};q(se,Se=>{e(s),n(()=>e(s).explanation)&&Se(Ie)},!0)}f(L,T)};q(fe,L=>{e(s),n(()=>e(s).explanationKey)?L(I):L(P,!1)})}R((L,T,se,Ie,Se)=>{c(U,` ${L??""}`),c(B,T),c(be,`${se??""}: ${Ie??""}`),c(ge,Se)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.value"))),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(X,F)});var Me=l(Le,2);Pe(Me,1,()=>e(Ee),He,(X,s)=>{var F=ri(),$=i(F),ee=i($),U=l($,2);Pe(U,5,()=>(e(s),n(()=>e(s).metadata?.factors||[])),He,(A,z)=>{var B=ii(),de=i(B),be=i(de),he=l(de,2),ge=i(he);R(fe=>{c(be,fe),c(ge,(e(z),n(()=>e(z).value)))},[()=>(a(),e(z),n(()=>a()(e(z).label)))]),f(A,B)}),R(A=>c(ee,A),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),f(X,F)});var Ne=l(Me,2);Pe(Ne,1,()=>e(ne),He,(X,s)=>{var F=ni(),$=i(F),ee=i($),U=l($,2);Pe(U,5,()=>(e(s),n(()=>e(s).metadata?.trends||[])),He,(A,z)=>{var B=si(),de=i(B);R(()=>{Ue(B,1,`trend-item ${e(z),n(()=>e(z).type)??""}`,"svelte-1lytxch"),c(de,(e(z),n(()=>e(z).text)))}),f(A,B)}),R(A=>c(ee,A),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),f(X,F)});var Je=l(N,2),dt=i(Je),_t=i(dt);R((X,s,F,$)=>{c(ze,` ${X??""}`),c(Te,s),c(ve,(M(ie()),n(()=>ie().name))),c(Ve,`${M(ie()),n(()=>ie().rawData.win)??""}-${M(ie()),n(()=>ie().rawData.loss)??""}-${M(ie()),n(()=>ie().rawData.draws)??""}`),c(le,(M(ie()),n(()=>ie().archetype.archetypeEmojis))),c(it,(M(re()),n(()=>re().name))),c(h,`${M(re()),n(()=>re().rawData.win)??""}-${M(re()),n(()=>re().rawData.loss)??""}-${M(re()),n(()=>re().rawData.draws)??""}`),c(x,(M(re()),n(()=>re().archetype.archetypeEmojis))),G=Ue(N,1,"betting-grid svelte-1lytxch",null,G,F),c(_t,`* ${$??""}`)},[()=>(a(),n(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),n(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(Z)<=3}),()=>(a(),n(()=>a()("combat_analysis.disclaimer")))]),f(C,pe)};q(at,C=>{e(j)&&C(ot)})}f(W,tt),pt(),d()}var di=D('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),vi=D('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),ci=D('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),_i=D('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),hi=D('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),gi=D('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),ui=D('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),pi=D('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function Ri(W,t){gt(t,!1);const[r,d]=mt(),v=()=>lt(Q,"$urlSearchParams",r),a=()=>lt(yt,"$_",r),o=k(),g=k(),u=k(),_=k(),m=k(),b=k(),w=k(),O=k(),Y=k(),te=k();let ae=je(t,"isDarkMode",8,!0),Ee=je(t,"toggleTheme",8,()=>{}),ne=k(new Map),ke=k(new Map),K=k(),H=k(new Map);const Q=la(ht());function oe(h,p){const x=`fighter${p}`;Mt({[x]:h}),Q.set(ht())}let Z=k(!1),j=k(!1),ie=k(!1),re=k(!1);da(()=>{window.Highcharts=va,Q.set(ht());const h=ha(()=>{Q.set(ht())});return xe(),h});async function xe(){try{y(Z,!0);const{allRawFightersDataMap:h,allRawFightersByDivision:p,processedFightersMap:x,processedFighters:N}=await Ft.loadFightersFromCSV();y(ne,h),y(H,p),y(ke,x),y(K,N),y(j,!0)}catch(h){console.error("Error loading data:",h)}finally{y(Z,!1)}}function Oe(h=[]){return h.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:rt(p)}))}function rt(h){return h.pictureUrl&&h.pictureUrl!==""?h.pictureUrl:tt(h.division)?"no_photo_female.png":"no_photo_male.png"}function tt(h){return!!(h&&h.startsWith("W_"))}function at(h){oe(h,1)}function ot(h){oe(h,2)}function C(){ct.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(o)||"none",fighter2:e(g)||"none"}),Mt({fighter1:"",fighter2:""}),Q.set(ht())}function pe(){if(!e(o)||!e(g))return;const h=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";ct.trackFightShare(e(o),e(g),h);const p=ga("/",{fighter1:e(o),fighter2:e(g)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(o)} vs ${e(g)} - Fight Radar`,text:`Compara las estadsticas de ${e(o)} vs ${e(g)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Re("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Re(h){const p=document.createElement("div");p.className="notification",p.textContent=h,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function De(h,p,x){const N=[];return h&&N.push({name:h.name,data:[h.fightRadar.STR_OFF,h.fightRadar.STR_DEF,h.fightRadar.TD_OFF,h.fightRadar.TD_DEF,h.fightRadar.CTRL,h.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&N.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&N.push({name:x.name,data:[x.fightRadar.STR_OFF,x.fightRadar.STR_DEF,x.fightRadar.TD_OFF,x.fightRadar.TD_DEF,x.fightRadar.CTRL,x.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),N}function Ge(h,p,x){const N=[];return h&&N.push({name:h.name,data:[h.iqRadar.distance,h.iqRadar.adaptability,h.iqRadar.composure,h.iqRadar.decisions,h.iqRadar.rhythm,h.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&N.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&N.push({name:x.name,data:[x.iqRadar.distance,x.iqRadar.adaptability,x.iqRadar.composure,x.iqRadar.decisions,x.iqRadar.rhythm,x.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),N}function We(h){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[x,N,G]=h.combinedRole.split("+")??["AT"];let J=[[x,100]];if(N&&G?J=[[x,33],[N,34],[G,33]]:N?J=[[x,50],[N,50]]:G&&(J=[[x,60],[G,40]]),J.length===1){const[me,S]=J[0],V=Math.min(S,70);return`linear-gradient(135deg, ${p[me]} 0%, ${p[me]} ${V}%, var(--card-bg) 100%)`}else{const me=J.reduce((ce,[,_e])=>ce+_e,0);let S=[],V=0;return J.forEach(([ce,_e],$e)=>{const Le=_e/me*85,Me=p[ce];$e===0&&S.push(`${Me} ${V}%`),V+=Le,$e===J.length-1?(S.push(`${Me} ${V}%`),S.push("var(--card-bg) 100%")):S.push(`${Me} ${V}%`)}),`linear-gradient(135deg, ${S.join(", ")})`}}E(()=>v(),()=>{y(o,v().get("fighter1")||"")}),E(()=>v(),()=>{y(g,v().get("fighter2")||"")}),E(()=>(e(K),e(g)),()=>{y(u,Oe(e(K)).filter(h=>h.value!==e(g)))}),E(()=>(e(K),e(o)),()=>{y(_,Oe(e(K)).filter(h=>h.value!==e(o)))}),E(()=>(e(o),e(g),e(ne),e(H),Et),()=>{y(m,(()=>{if(!e(o)||!e(g))return null;const h=e(ne).get(e(o)),p=e(ne).get(e(g));if(!h||!p)return null;if(h.Division===p.Division){const x=h.Division;if(e(H).has(x))return Et(x,e(H).get(x))}return null})())}),E(()=>(e(o),e(ke)),()=>{y(b,e(o)?e(ke).get(e(o))??null:null)}),E(()=>(e(g),e(ke)),()=>{y(w,e(g)?e(ke).get(e(g))??null:null)}),E(()=>(e(m),e(o),e(g),e(ne),e(H),Ft),()=>{y(O,(()=>{if(!e(m)||!e(o)||!e(g))return null;const h=e(ne).get(e(o));return!h||!e(H).has(h.Division)?null:Ft.calculateSyntheticFighter(e(m),e(H).get(h.Division))})())}),E(()=>(e(b),e(w),e(O)),()=>{y(Y,De(e(b)??null,e(w)??null,e(O)??null))}),E(()=>(e(b),e(w),e(O)),()=>{y(te,Ge(e(b),e(w),e(O)))}),E(()=>(e(Z),e(ne),e(o),e(g),ct),()=>{const h=!e(Z)&&e(ne).size>0&&e(ne).has(e(o))&&e(ne).has(e(g));y(ie,!!(e(o)&&e(g)&&h)),y(re,!!(e(o)&&e(g)&&h)),e(o)&&e(g)&&h&&ct.trackFighterComparison(e(o),e(g))}),wt(),ut();var ze=pi(),Ce=i(ze),Te=i(Ce);ca(Te,{showThemeToggle:!0,get isDarkMode(){return ae()},get toggleTheme(){return Ee()}});var Qe=l(Te,2);{var et=h=>{var p=di(),x=i(p),N=l(i(x),2),G=i(N);R(J=>c(G,J),[()=>(a(),n(()=>a()("fight_radar.loading_data")))]),f(h,p)};q(Qe,h=>{e(Z)&&h(et)})}var Ae=l(Qe,2);{var ve=h=>{var p=_i(),x=i(p),N=i(x),G=i(N),J=i(G),me=l(G,2),S=i(me);{let Ne=ft(()=>(a(),n(()=>a()("common.select_fighter"))));Pt(S,{id:"fighter1-select",get placeholder(){return e(Ne)},disabled:!1,get options(){return e(u)},get selectedValue(){return e(o)},onSelectionChange:at})}var V=l(N,4),ye=i(V),ce=i(ye),_e=l(ye,2),$e=i(_e);{let Ne=ft(()=>(a(),n(()=>a()("common.select_fighter"))));Pt($e,{id:"fighter2-select",get placeholder(){return e(Ne)},disabled:!1,get options(){return e(_)},get selectedValue(){return e(g)},onSelectionChange:ot})}var Le=l(x,2);{var Me=Ne=>{var Je=ci(),dt=i(Je);{var _t=F=>{var $=vi(),ee=l(i($));R(U=>c(ee,` ${U??""}`),[()=>(a(),n(()=>a()("fight_radar.share_fight")))]),Ye("click",$,pe),f(F,$)};q(dt,F=>{e(o)&&e(g)&&F(_t)})}var X=l(dt,2),s=l(i(X));R(F=>c(s,` ${F??""}`),[()=>(a(),n(()=>a()("fight_radar.clear_radars")))]),Ye("click",X,C),f(Ne,Je)};q(Le,Ne=>{(e(o)||e(g))&&Ne(Me)})}R((Ne,Je)=>{c(J,`${Ne??""}:`),c(ce,`${Je??""}:`)},[()=>(a(),n(()=>a()("common.fighter_1"))),()=>(a(),n(()=>a()("common.fighter_2")))]),f(h,p)};q(Ae,h=>{e(j)&&h(ve)})}var Fe=l(Ae,2);{var Ve=h=>{var p=nt(),x=Be(p);{var N=G=>{var J=hi(),me=i(J),S=i(me);Kt(S,{size:20,class:"disclaimer-icon"});var V=l(S,2),ye=i(V),ce=l(me,2),_e=i(ce);R(($e,Le)=>{c(ye,$e),c(_e,Le)},[()=>(a(),n(()=>a()("fight_radar.cross_division_title"))),()=>(a(),M(kt),e(b),e(w),n(()=>a()("fight_radar.cross_division_text",{values:{division1:kt(e(b).rawData.Division),division2:kt(e(w).rawData.Division)}})))]),f(G,J)};q(x,G=>{e(b),e(w),n(()=>e(b)?.rawData&&e(w)?.rawData&&e(b).rawData.Division!==e(w).rawData.Division)&&G(N)})}f(h,p)};q(Fe,h=>{e(o)&&e(g)&&e(ie)&&h(Ve)})}var qe=l(Fe,2);{var le=h=>{var p=gi(),x=i(p),N=i(x);Ht(N,{get fighter(){return e(b)},id:"fighter1-info"});var G=l(x,2),J=i(G);Ht(J,{get fighter(){return e(w)},id:"fighter2-info"}),R((me,S)=>{Ct(x,`background: ${me??""}`),Ct(G,`background: ${S??""}`)},[()=>(e(b),n(()=>e(b)?We(e(b).archetype):"var(--card-bg)")),()=>(e(w),n(()=>e(w)?We(e(w).archetype):"var(--card-bg)"))]),f(h,p)};q(qe,h=>{e(ie)&&h(le)})}var Ke=l(qe,2);{var Ze=h=>{var p=ui(),x=i(p),N=i(x);$t(N,()=>(e(o),e(g),e(Y),n(()=>`${e(o)}-${e(g)}-${e(Y).length}`)),me=>{{let S=ft(()=>(M(Ot),n(Ot)));Lt(me,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(S)},get series(){return e(Y)},isIQRadar:!1})}});var G=l(x,2),J=i(G);$t(J,()=>(e(o),e(g),e(te),n(()=>`${e(o)}-${e(g)}-${e(te).length}`)),me=>{{let S=ft(()=>(M(At),n(At)));Lt(me,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(S)},get series(){return e(te)},isIQRadar:!0})}}),f(h,p)};q(Ke,h=>{e(re),e(Y),n(()=>e(re)&&e(Y).length>0)&&h(Ze)})}var it=l(Ke,2);li(it,{get fighter1(){return e(b)},get fighter2(){return e(w)}});var st=l(it,2);Oa(st,{}),f(W,ze),pt(),d()}export{Ri as default};
