import{q as gt,p as je,l as O,C as f,z as F,r as S,A as e,h as wt,j as ut,f as k,m as Ye,$ as Nt,i as B,c as r,u as d,S as Mt,t as R,B as ye,s as Ee,b as y,o as pt,I as mt,n as Ue,x as n,y as _,J as vt,T as _a,k as ot,D as We,E as He,Q as $t,U as ha,V as Ct,W as xt,Y as ga,Z as Bt,_ as zt,a0 as Kt,a as ua,a1 as pa,w as ma,F as ya,K as ft,a2 as Et}from"./lucide-CFoebsfS.js";import{H as fa}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ba}from"./Header-BVQ5Z8_0.js";import{$ as yt,n as qt,A as _t,a as wa,g as ht,b as Da,u as It,c as xa}from"./index-DZYOwoTM.js";import{c as kt,g as Ot,f as ka,a as At,p as Lt,b as Ft,d as Pt,e as Wt}from"./fighters_service-B6IxIs4J.js";import{R as Fa,a as Ht}from"./RadarChart-DJHEZ7Bj.js";import{F as Ra}from"./FindYoutubeHighlights-CWAHTT-Y.js";import"./highcharts-DyRVWUji.js";var Ca=k('<img class="svelte-gkl5a1"/>'),Ka=k('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Sa=k("<!> <span> </span>",1),Ta=k("<span> </span>"),Na=k('<img class="svelte-gkl5a1"/>'),Ma=k('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),$a=k('<button type="button"><!> <span> </span></button>'),Ea=k('<div class="no-results svelte-gkl5a1"> </div>'),Ia=k('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Oa=k('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Ut(z,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(yt,"$_",i),a=F(),l=F();let h=je(t,"id",8),g=je(t,"placeholder",8,""),v=je(t,"disabled",8,!0),m=je(t,"options",24,()=>[]),b=je(t,"selectedValue",12,""),D=je(t,"onSelectionChange",8,void 0),P=F(!1),Z=F(),j=F(),ae=F("");function Ie(){v()||(f(P,!e(P)),e(P)&&setTimeout(()=>e(j)?.focus(),0))}function ne(T){b(T.value),f(ae,""),f(P,!1),D()&&D()(T.value,T)}function Fe(T){const ge=T.target;f(ae,ge.value)}function C(T){T.key==="Enter"&&e(l).length>0?(ne(e(l)[0]),T.preventDefault()):T.key==="Escape"&&(f(ae,""),f(P,!1))}function W(T){e(Z)&&!e(Z).contains(T.target)&&(f(P,!1),f(ae,""))}function ie(T){T.key==="Escape"&&f(P,!1)}O(()=>(S(m()),S(b())),()=>{f(a,m().find(T=>T.value===b()))}),O(()=>(e(ae),S(m()),kt),()=>{f(l,e(ae)?m().filter(T=>kt(T.label.toLowerCase()).includes(kt(e(ae).toLowerCase()))):m())}),wt(),ut();var oe=Oa();Ye("click",Nt,W),Ye("keydown",Nt,ie);var J=r(oe);let fe;var M=r(J),re=r(M);{var we=T=>{var ge=Sa(),Re=Ue(ge);{var De=Ce=>{var Me=Ca();R(()=>{ye(Me,"src",(e(a),n(()=>e(a).imageUrl))),ye(Me,"alt",(e(a),n(()=>e(a).label)))}),y(Ce,Me)},Be=Ce=>{var Me=ot(),Qe=Ue(Me);{var et=Ae=>{var ve=Ka(),xe=r(ve);$t(xe,()=>e(a).iconComponent,(Ge,qe)=>{qe(Ge,{size:16})}),y(Ae,ve)};B(Qe,Ae=>{e(a),n(()=>e(a)?.iconComponent)&&Ae(et)},!0)}y(Ce,Me)};B(Re,Ce=>{e(a),n(()=>e(a)?.imageUrl)?Ce(De):Ce(Be,!1)})}var Ve=d(Re,2),ze=r(Ve);R(()=>_(ze,(e(a),n(()=>e(a).label)))),y(T,ge)},Oe=T=>{var ge=Ta(),Re=r(ge);R(De=>_(Re,De),[()=>(S(g()),o(),n(()=>g()||o()("common.select_option")))]),y(T,ge)};B(re,T=>{e(a)?T(we):T(Oe,!1)})}var lt=d(M,2);let rt;var st=d(J,2);{var dt=T=>{var ge=Ia(),Re=r(ge),De=r(Re);Mt(De,ve=>f(j,ve),()=>e(j));var Be=d(Re,2),Ve=r(Be);let ze;var Ce=r(Ve),Me=r(Ce),Qe=d(Ve,2);{var et=ve=>{var xe=ot(),Ge=Ue(xe);We(Ge,1,()=>e(l),He,(qe,le)=>{var Ke=$a();let Ze;var tt=r(Ke);{var nt=N=>{var G=Na();R(()=>{ye(G,"src",(e(le),n(()=>e(le).imageUrl))),ye(G,"alt",(e(le),n(()=>e(le).label)))}),Ye("error",G,X=>{X.currentTarget.style.display="none"}),y(N,G)},u=N=>{var G=ot(),X=Ue(G);{var ue=te=>{var be=Ma(),$e=r(be);$t($e,()=>e(le).iconComponent,(Le,Pe)=>{Pe(Le,{size:16})}),y(te,be)};B(X,te=>{e(le),n(()=>e(le)?.iconComponent)&&te(ue)},!0)}y(N,G)};B(tt,N=>{e(le),n(()=>e(le)?.imageUrl)?N(nt):N(u,!1)})}var p=d(tt,2),x=r(p);R(N=>{Ze=Ee(Ke,1,"dropdown-item svelte-gkl5a1",null,Ze,N),_(x,(e(le),n(()=>e(le).label)))},[()=>({selected:b()===e(le).value})]),Ye("click",Ke,()=>ne(e(le))),y(qe,Ke)}),y(ve,xe)},Ae=ve=>{var xe=ot(),Ge=Ue(xe);{var qe=le=>{var Ke=Ea(),Ze=r(Ke);R(()=>_(Ze,`No se encontraron resultados para "${e(ae)??""}"`)),y(le,Ke)};B(Ge,le=>{e(ae)&&le(qe)},!0)}y(ve,xe)};B(Qe,ve=>{e(l),n(()=>e(l).length>0)?ve(et):ve(Ae,!1)})}R((ve,xe,Ge)=>{ye(De,"placeholder",ve),ye(Be,"id",`dropdown-options-${h()??""}`),ze=Ee(Ve,1,"dropdown-item svelte-gkl5a1",null,ze,xe),_(Me,Ge)},[()=>(o(),n(()=>o()("common.search")||"Search...")),()=>({selected:b()===""}),()=>(S(g()),o(),n(()=>g()||o()("common.select_option")))]),_a(De,()=>e(ae),ve=>f(ae,ve)),Ye("input",De,Fe),Ye("keydown",De,C),Ye("click",Ve,()=>ne({value:"",label:g(),imageUrl:""})),y(T,ge)};B(st,T=>{e(P)&&T(dt)})}Mt(oe,T=>f(Z,T),()=>e(Z)),R((T,ge)=>{ye(oe,"id",h()),fe=Ee(J,1,"dropdown-button svelte-gkl5a1",null,fe,T),J.disabled=v(),ye(J,"aria-expanded",e(P)),ye(J,"aria-controls",`dropdown-options-${h()??""}`),rt=Ee(lt,1,"dropdown-arrow svelte-gkl5a1",null,rt,ge)},[()=>({disabled:v(),open:e(P)}),()=>({rotated:e(P)})]),Ye("click",J,Ie),y(z,oe),pt(),c()}function Rt(z,t){if(t()){const i=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;qt(i)}}var Aa=k('<img class="fighter-image svelte-1gw86rr"/> <div class="fighter-placeholder svelte-1gw86rr" style="display: none;">Picture Unavailable</div>',1),La=k('<div class="fighter-placeholder svelte-1gw86rr">Picture Unavailable</div>'),Pa=(z,t)=>z.key==="Enter"&&t(),Wa=k('<div class="stat-item role-disc-clickable svelte-1gw86rr" role="button" tabindex="0"><span class="stat-label svelte-1gw86rr">ROLE-DISC:</span> <span><div class="role-emojis svelte-1gw86rr"> </div> <div class="role-name svelte-1gw86rr"> </div></span></div>'),Ha=k('<hr class="archetype-divider svelte-1gw86rr"/> <div class="archetype-container svelte-1gw86rr"><div class="archetype-section svelte-1gw86rr"><h3 class="archetype-section-title svelte-1gw86rr"> </h3> <div class="archetype-fields svelte-1gw86rr"><div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value description svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value favorite-zone svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value strengths svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value weaknesses svelte-1gw86rr"> </div></div></div></div></div>',1),Ua=k('<div class="fighter-header svelte-1gw86rr"><div class="header-actions svelte-1gw86rr"><!> <button type="button" class="fighter-detail-cta svelte-1gw86rr" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1gw86rr"><div class="fighter-image-container svelte-1gw86rr"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1gw86rr"><div class="fighter-name svelte-1gw86rr"> </div></button> <div class="star-rating svelte-1gw86rr"><div class="stars-container svelte-1gw86rr"></div></div> <div class="fighter-stats svelte-1gw86rr"><!> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value career-record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span><!></span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value height svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value reach svelte-1gw86rr"> </span></div></div> <!>',1),Va=k('<div class="empty-card svelte-1gw86rr"><div class="empty-message svelte-1gw86rr"> </div></div>'),Ga=k('<div class="fighter-card svelte-1gw86rr"><!></div> <!>',1);function Vt(z,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(yt,"$_",i),a=F(),l=F(),h=F(),g=F();let v=je(t,"fighter",8,null),m=je(t,"id",8,""),b=F(!1);function D(){f(b,!0)}function P(){f(b,!1)}O(()=>o(),()=>{f(a,C=>{if(!C||!C.startsWith("@ARCHETYPE_"))return C;let W="",ie="";if(C.includes("_DESCRIPTION"))W=C.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),ie="description";else if(C.includes("_FAVORITE_ZONE"))W=C.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),ie="favorite_zone";else if(C.includes("_STRENGTHS"))W=C.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),ie="strengths";else if(C.includes("_WEAKNESSES"))W=C.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),ie="weaknesses";else{const fe=C.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!fe)return C;W=fe[1],ie=fe[2].toLowerCase()}const oe=`archetype_data.${W}.${ie}`,J=o()(oe);return C.includes("_WEAKNESSES"),J!==oe?J:C})}),O(()=>(S(v()),Ot),()=>{f(l,v()?Ot(v().archetype):null)}),O(()=>S(v()),()=>{f(h,v()?.rawData.height_inches?Math.floor(v().rawData.height_inches/12)+"'"+v().rawData.height_inches%12+'"':"-")}),O(()=>S(v()),()=>{f(g,v()?.rawData.reach_inches?v().rawData.reach_inches+'"':"-")}),wt(),ut();var Z=Ga(),j=Ue(Z),ae=r(j);{var Ie=C=>{var W=Ua(),ie=Ue(W),oe=r(ie),J=r(oe);Ra(J,{get fighterFullName(){return S(v()),n(()=>v().nameWithNickname)},size:"large"});var fe=d(J,2);fe.__click=[Rt,v];var M=r(fe);ha(M,{size:16});var re=d(oe,2);re.__click=[Rt,v];var we=r(re),Oe=r(we);{var lt=U=>{var ee=Aa(),ke=Ue(ee);R(()=>{ye(ke,"src",(S(v()),n(()=>v().pictureUrl))),ye(ke,"alt",`${S(v()),n(()=>v().name)??""} fighter profile picture`)}),Ye("error",ke,Se=>{Se.currentTarget.style.display="none";const E=Se.currentTarget.nextElementSibling;E&&(E.style.display="block")}),y(U,ee)},rt=U=>{var ee=La();y(U,ee)};B(Oe,U=>{S(v()),n(()=>v().pictureUrl)?U(lt):U(rt,!1)})}var st=d(ie,2);st.__click=[Rt,v];var dt=r(st),T=r(dt),ge=d(st,2),Re=r(ge),De=d(ge,2),Be=r(De);{var Ve=U=>{var ee=Wa();ee.__click=D,ee.__keydown=[Pa,D];var ke=r(ee),Se=d(ke,2),E=r(Se),s=r(E),w=d(E,2),K=r(w);R((q,L)=>{ye(ee,"aria-label",q),ye(ke,"title",L),Ee(Se,1,`stat-value role-indicator archetype-dots archetype-${e(l),n(()=>e(l).type)??""}`,"svelte-1gw86rr"),ye(Se,"title",(e(l),n(()=>e(l).tooltip))),_(s,(e(l),n(()=>e(l).label))),_(K,(e(l),n(()=>e(l).name)))},[()=>(o(),n(()=>o()("role_disc_modal.open_modal_aria_label"))),()=>(o(),n(()=>o()("role_disc_modal.archetype_tooltip")))]),y(U,ee)};B(Be,U=>{e(l)&&U(Ve)})}var ze=d(Be,2),Ce=r(ze),Me=r(Ce),Qe=d(Ce,2),et=r(Qe),Ae=d(ze,2),ve=r(Ae),xe=r(ve),Ge=d(ve,2),qe=r(Ge),le=d(Ae,2),Ke=r(le),Ze=r(Ke),tt=d(Ke,2);let nt;var u=r(tt);{var p=U=>{var ee=xt();R(()=>_(ee,`+${S(v()),n(()=>v().streak)??""}W`)),y(U,ee)},x=U=>{var ee=ot(),ke=Ue(ee);{var Se=s=>{var w=xt();R(()=>_(w,`${S(v()),n(()=>v().streak)??""}L`)),y(s,w)},E=s=>{var w=xt("-");y(s,w)};B(ke,s=>{S(v()),n(()=>v().streak<0)?s(Se):s(E,!1)},!0)}y(U,ee)};B(u,U=>{S(v()),n(()=>v().streak>0)?U(p):U(x,!1)})}var N=d(le,2),G=r(N),X=r(G),ue=d(G,2),te=r(ue),be=d(N,2),$e=r(be),Le=r($e),Pe=d($e,2),Je=r(Pe),at=d(De,2);{var it=U=>{var ee=Ha(),ke=d(Ue(ee),2),Se=r(ke),E=r(Se),s=r(E),w=d(E,2),K=r(w),q=r(K),L=r(q),A=r(L);ga(A,{size:18});var Q=d(L,2),Y=r(Q),de=d(q,2),me=r(de),ce=d(K,2),_e=r(ce),pe=r(_e),I=r(pe);Bt(I,{size:18});var V=d(pe,2),H=r(V),$=d(_e,2),se=r($),Te=d(ce,2),Ne=r(Te),Xe=r(Ne),ct=r(Xe);zt(ct,{size:18});var Dt=d(Xe,2),Yt=r(Dt),jt=d(Ne,2),Qt=r(jt),Zt=d(Te,2),St=r(Zt),Tt=r(St),Jt=r(Tt);Kt(Jt,{size:18});var Xt=d(Tt,2),ea=r(Xt),ta=d(St,2),aa=r(ta);R((ia,ra,sa,na,oa,la,da,va,ca)=>{_(s,ia),_(Y,ra),_(me,sa),_(H,na),_(se,oa),_(Yt,la),_(Qt,da),_(ea,va),_(aa,ca)},[()=>(o(),n(()=>o()("archetype.analysis_title"))),()=>(o(),n(()=>o()("archetype.tactical_description"))),()=>(e(a),S(v()),n(()=>e(a)(v().archetype.description))),()=>(o(),n(()=>o()("archetype.preferred_zone"))),()=>(e(a),S(v()),n(()=>e(a)(v().archetype.favoriteZone))),()=>(o(),n(()=>o()("archetype.strengths"))),()=>(e(a),S(v()),n(()=>e(a)(v().archetype.strengths))),()=>(o(),n(()=>o()("archetype.weaknesses"))),()=>(e(a),S(v()),n(()=>e(a)(v().archetype.weaknesses)))]),y(U,ee)};B(at,U=>{S(v()),n(()=>v().archetype)&&U(it)})}R((U,ee,ke,Se,E,s,w,K,q,L,A)=>{ye(fe,"aria-label",`View detailed fighter profile for ${S(v()),n(()=>v().nameWithNickname)??""}`),_(T,(S(v()),n(()=>v().name))),Ct(Re,`--fill-width: ${S(v()),n(()=>v().stars*20)??""}%`),ye(Ce,"title",U),_(Me,`${ee??""}:`),_(et,(S(v()),n(()=>v().career_record))),ye(ve,"title",ke),_(xe,`${Se??""}:`),_(qe,(S(v()),n(()=>v().record_36m))),ye(Ke,"title",E),_(Ze,`${s??""}:`),nt=Ee(tt,1,"stat-value streak svelte-1gw86rr",null,nt,w),ye(G,"title",K),_(X,`${q??""}:`),_(te,e(h)),ye($e,"title",L),_(Le,`${A??""}:`),_(Je,e(g))},[()=>(o(),n(()=>o()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(o(),n(()=>o()("fighter_profile.career_record"))),()=>(o(),n(()=>o()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(o(),n(()=>o()("fighter_profile.record_36m"))),()=>(o(),n(()=>o()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(o(),n(()=>o()("fighter_profile.streak"))),()=>({"streak-win":v().streak>0,"streak-loss":v().streak<0}),()=>(o(),n(()=>o()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(o(),n(()=>o()("fighter_profile.height"))),()=>(o(),n(()=>o()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(o(),n(()=>o()("fighter_profile.reach")))]),y(C,W)},ne=C=>{var W=Va(),ie=r(W),oe=r(ie);R(J=>_(oe,J),[()=>(o(),n(()=>o()("fight_radar.select_fighter_stats")))]),y(C,W)};B(ae,C=>{v()?C(Ie):C(ne,!1)})}var Fe=d(j,2);Fa(Fe,{get isOpen(){return e(b)},$$events:{close:P}}),R(()=>ye(j,"id",m())),y(z,Z),pt(),c()}ua(["click","keydown"]);var Ba=k('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function za(z,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(yt,"$_",i);function a(){qt("/calendar")}ut();var l=Ba(),h=r(l),g=r(h),v=r(g),m=r(v);pa(m,{size:24,style:"display: inline; margin-right: 0.5rem;"});var b=d(m),D=d(v,2),P=r(D),Z=d(g,2),j=r(Z);R((ae,Ie,ne)=>{_(b,` ${ae??""}`),_(P,Ie),_(j,ne)},[()=>o()("banner.new_functionality"),()=>o()("banner.explore_calendar"),()=>o()("banner.view_calendar")]),Ye("click",Z,a),y(z,l),pt(),c()}var he=(z=>(z.FIGHT_WINNER="fight_winner",z.METHOD_OF_VICTORY="method_of_victory",z.WINNER_AND_ROUND="winner_and_round",z.TOTAL_ROUNDS="total_rounds",z.SPECIFIC_FINISH_METHOD="specific_finish_method",z.GOES_TO_DECISION="goes_to_decision",z.DISTANCE_YES_NO="distance_yes_no",z.GONE_IN_60="gone_in_60",z.FIGHT_PROPS="fight_props",z.KEY_FACTORS="key_factors",z.TRENDS="trends",z.NO_PREDICTION="no_prediction",z))(he||{}),bt=(z=>(z.HIGH="high",z.MEDIUM="medium",z.LOW="low",z))(bt||{});class qa{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=60,this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,i){const c=[],o=this.calculateWinProbability(t,i),a=this.predictMethodOfVictory(t,i,o),l=this.predictTotalRounds(t,i,o),h=this.predictRoundBetting(t,i,o),g=this.generateFightProps(t,i,o),v=this.analyzeKeyFactors(t,i),m=this.analyzeTrends(t,i);return c.push(this.createMoneylineCard(o)),a.probability>=this.MIN_MEDIUM_CONFIDENCE&&c.push(this.createMethodOfVictoryCard(a)),l.probability>=this.MIN_MEDIUM_CONFIDENCE&&c.push(this.createTotalRoundsCard(l)),h.probability>=this.MIN_HIGH_CONFIDENCE&&c.push(this.createRoundBettingCard(h)),c.push(this.createFightPropsCard(g)),c.push(this.createKeyFactorsCard(v)),c.push(this.createTrendsCard(m)),this.hasHighConfidencePredictions(c)||c.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(c)}validatePredictions(t){const i=this.filterByConfidence(t);return this.resolveContradictions(i)}filterByConfidence(t){return t.filter(i=>i.type==="key_factors"||i.type==="trends"||i.type==="no_prediction"||i.type==="fight_winner"?!0:i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}resolveContradictions(t){let i=[...t];return i=this.resolveOverUnderContradictions(i),i=this.resolveMethodVsDurationContradictions(i),i=this.resolveMethodVsPropsContradictions(i),i=this.resolveDurationVsPropsContradictions(i),i}resolveMethodVsDurationContradictions(t){const i=t.find(m=>m.type==="method_of_victory"&&(m.prediction.toLowerCase().includes("decision")||m.predictionKey?.toLowerCase().includes("decision")));if(!i)return t;const c=t.filter(m=>{if(m.type!=="total_rounds")return!1;const b=m.prediction.toLowerCase(),D=m.predictionKey?.toLowerCase()||"";return b.includes("under")||D.includes("under")}),o=t.filter(m=>{if(m.type!=="winner_and_round")return!1;const b=m.prediction.toLowerCase(),D=m.predictionKey?.toLowerCase()||"";return b.includes("round 1")||b.includes("round 2")||D.includes("round_1")||D.includes("round_2")}),a=[...c,...o];if(a.length===0)return t;const l=[i,...a],h=Math.max(...l.map(m=>m.confidence)),g=l.find(m=>m.confidence===h);if(!g)return t;const v=new Set(l.map(m=>m.id));return t.filter(m=>!v.has(m.id)||m.id===g.id)}resolveOverUnderContradictions(t){const i=t.filter(a=>a.type==="total_rounds");if(i.length<=1)return t;const c=new Map;for(const a of i){const l=a.prediction.toLowerCase(),h=a.predictionKey?.toLowerCase()||"",g=l.match(/(\d+\.5)/)||h.match(/(\d+)_5/);if(g){const v=g[1].replace("_5",".5");c.has(v)||c.set(v,[]),c.get(v).push(a)}}const o=new Set;for(const[a,l]of c)if(l.length>1){const h=l.some(v=>v.prediction.toLowerCase().includes("over")||v.predictionKey?.toLowerCase().includes("over")),g=l.some(v=>v.prediction.toLowerCase().includes("under")||v.predictionKey?.toLowerCase().includes("under"));if(h&&g){const m=l.sort((b,D)=>D.confidence-b.confidence)[0];for(const b of l)b.id!==m.id&&o.add(b.id)}}return t.filter(a=>!o.has(a.id))}resolveMethodVsPropsContradictions(t){const i=t.find(l=>l.type==="method_of_victory"),c=t.filter(l=>l.type==="fight_props");if(!i||c.length===0)return t;const o=i.prediction.toLowerCase(),a=new Set;for(const l of c){const h=(l.prediction||"").toLowerCase(),g=(l.predictionKey||"").toLowerCase();(o.includes("ko")||o.includes("tko"))&&(h.includes("submission")||h.includes("ground control")||g.includes("submission")||g.includes("ground_control"))&&a.add(l.id),o.includes("submission")&&(h.includes("standing exchange")&&!h.includes("ground")||g.includes("standing_exchange")&&!g.includes("ground"))&&a.add(l.id),o.includes("decision")&&(h.includes("first round finish")||h.includes("gone in 60")||g.includes("first_round_finish")||g.includes("gone_in_60"))&&a.add(l.id)}return t.filter(l=>!a.has(l.id))}resolveDurationVsPropsContradictions(t){const i=t.filter(a=>a.type==="total_rounds"),c=t.filter(a=>a.type==="fight_props");if(i.length===0||c.length===0)return t;const o=new Set;for(const a of i){const l=(a.prediction||"").toLowerCase(),h=(a.predictionKey||"").toLowerCase(),g=l.includes("under 2.5")||h.includes("under_2_5"),v=l.includes("over 3.5")||h.includes("over_3_5");for(const m of c){const b=(m.prediction||"").toLowerCase(),D=(m.predictionKey||"").toLowerCase();g&&((b.includes("over 100 strikes")||D.includes("over_100_strikes"))&&o.add(m.id),(b.includes("goes to distance")||D.includes("goes_to_distance"))&&o.add(m.id)),v&&(b.includes("first round")||b.includes("gone in 60")||D.includes("first_round")||D.includes("gone_in_60"))&&o.add(m.id)}}return t.filter(a=>!o.has(a.id))}calculateWinProbability(t,i){let c=t.overall+(t.oppTierScore-5)*3,o=i.overall+(i.oppTierScore-5)*3;c*=this.calculateAgeImpact(t),o*=this.calculateAgeImpact(i);const a=this.getInactiveMonths(t),l=this.getInactiveMonths(i);if(a>=18){const M=Math.min((a-18)*.005,.25);c*=1-M}if(l>=18){const M=Math.min((l-18)*.005,.25);o*=1-M}const h=this.getFightsInPeriod(t,18),g=this.getFightsInPeriod(i,18);h>=3&&(c*=1.05),g>=3&&(o*=1.05);const v=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,m=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,b=this.calculateMomentum(t),D=this.calculateMomentum(i);c*=1+b,o*=1+D;let P=.35,Z=.35;v>=75?P=.4:v<50&&(P=.3),m>=75?Z=.4:m<50&&(Z=.3);const j=c+v*P,ae=o+m*Z,Ie=this.calculateAge(t),ne=this.calculateAge(i),Fe=Ie-ne;let C=j,W=ae;if(Math.abs(Fe)>=5){const M=Math.min(Math.abs(Fe)*.005,.03);Fe>0?(C=j*(1-M),W=ae*(1+M)):(C=j*(1+M),W=ae*(1-M))}const ie=Math.abs(C-W);if(ie>15){const M=1+(ie-15)*.015;C>W?C*=M:W*=M}const oe=C+W;let J=oe>0?Math.round(C/oe*100):50,fe=oe>0?Math.round(W/oe*100):50;if(J=Math.max(15,Math.min(88,J)),fe=100-J,J>fe){let M=this.getWinReasoningKey(t,i,v,m);return{winner:t,probability:J,reasoning:M,adjustedScore1:C,adjustedScore2:W}}else{let M=this.getWinReasoningKey(i,t,m,v);return{winner:i,probability:fe,reasoning:M,adjustedScore1:W,adjustedScore2:C}}}predictMethodOfVictory(t,i,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,h=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,g=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,v=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,m=this.getWeightedMetric(o,a,c,t,.5),b=this.getWeightedMetric(l,h,c,t,1),D=this.getWeightedMetric(g,v,c,t,1),P=this.hasBodyShotThreat(t,i),Z=this.hasGroundControlThreat(t,i);if(m>40)if(b>D){let j=Math.round(Math.max(Math.min(m+10,75),5));return P&&(j+=5),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(j,80),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:o,finishRate2:a}}else{let j=Math.round(Math.max(Math.min(m,65),5));return Z&&(j+=5),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(j,70),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:o,finishRate2:a}}else return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.round(Math.max(Math.min(100-m,95),5)),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:o,finishRate2:a}}predictTotalRounds(t,i,c){const o=(t.rawData.Fight_Duration_Seconds||900)/60,a=(i.rawData.Fight_Duration_Seconds||900)/60,l=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,h=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,g=this.getWeightedMetric(o,a,c,t,1),m=this.getWeightedMetric(l,h,c,t,.5)>60,b=this.hasExplosiveStyle(t,i);if(g<8&&m){let D=Math.max(Math.min(70,95),5);return b&&(D+=5),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(D,85),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:g}}else return g>12?{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.max(Math.min(75,95),5),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:g}:{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.max(Math.min(60,95),5),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:g}}generateFightProps(t,i,c){const o=this.calculateBettingMetrics(t,i,c);return this.hasDominantGrappler(t,i),this.isStrikerWar(t,i),o.f1SubRate+o.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:o}:o.weightedFinishRate&&o.weightedFinishRate>60&&o.weightedAvgFightTime&&o.weightedAvgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:o}:o.f1KnockdownRate>.6&&o.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:o}:o.f1TakedownRate>15||o.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:o}:o.f1StrikeVolume>120&&o.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:o}:o.f1TakedownRate<5&&o.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:o}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:o}}predictRoundBetting(t,i,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60,g=this.getWeightedMetric(o,a,c,t,.5),v=this.getWeightedMetric(l,h,c,t,1);return g>60&&v<5?{prediction:"Round 1",predictionKey:"betting_markets.round_1",probability:Math.round(Math.min(g+15,85)),reasoning:"betting_markets.reasoning.early_explosive_finish",explanationKey:"betting_markets.explanations.round_1_finish",avgTime:v}:g>40&&v<8?{prediction:"Round 2",predictionKey:"betting_markets.round_2",probability:Math.round(Math.min(g+10,80)),reasoning:"betting_markets.reasoning.second_round_finish",explanationKey:"betting_markets.explanations.round_2_finish",avgTime:v}:{prediction:"Goes to Decision",predictionKey:"betting_markets.goes_to_decision",probability:Math.round(Math.max(100-g,20)),reasoning:"betting_markets.reasoning.likely_decision",explanationKey:"betting_markets.explanations.goes_to_decision",avgTime:v}}calculateEarlyFinishRate(t){const i=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,c=(t.rawData.Fight_Duration_Seconds||900)/60;return i>40&&c<4?i*.8:i>25&&c<6?i*.6:i*.3}analyzeKeyFactors(t,i){const c=[],o=t.rawData.reach_inches||0,a=i.rawData.reach_inches||0,l=Math.abs(o-a);if(l>2){const P=o>a?t.name||"Fighter 1":i.name||"Fighter 2";c.push({label:"combat_analysis.key_factors.reach_advantage",value:`${P} +${l}"`,type:"advantage"})}const h=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,g=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0;c.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${h}% vs ${i.name||"F2"}: ${g}%`,type:"comparison"});const v=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,m=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85;c.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${v}% vs ${i.name||"F2"}: ${m}%`,type:"comparison"});const b=t.rawData.Number_of_Fights_36m||0,D=i.rawData.Number_of_Fights_36m||0;if(Math.abs(b-D)>2){const P=b>D?t.name||"Fighter 1":i.name||"Fighter 2",Z=Math.max(b,D),j=Math.min(b,D);c.push({label:"combat_analysis.key_factors.higher_activity",value:`${P}: ${Z} vs ${j} fights`,type:"advantage"})}return c}analyzeTrends(t,i){const c=[],o=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0;o>=75?c.push({type:"positive",text:`${t.name||"Fighter 1"} has ${o}% win rate`,fighter:t.name}):o<50&&c.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${o}% win rate`,fighter:t.name}),a>=75?c.push({type:"positive",text:`${i.name||"Fighter 2"} has ${a}% win rate`,fighter:i.name}):a<50&&c.push({type:"negative",text:`${i.name||"Fighter 2"} struggling at ${a}% win rate`,fighter:i.name});const l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60,g=(l+h)/2;return c.push({type:"neutral",text:`Combined average fight time: ${g.toFixed(1)} minutes`}),c}calculateMomentum(t){const i=t.streak;if(i===0)return 0;const c=Math.abs(i);return i>0?c>=3?.08:c>=2?.05:.02:c>=3?-.08:c>=2?-.05:-.02}calculateDamageMultiplier(t){return t===0?1:t===1?1.1:t===2?1.25:t===3?1.4:t===4?1.6:1.8}calculateAgeImpact(t){const i=this.calculateAge(t),o={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=(t.rawData.loss_ko||0)+(t.rawData.loss_tko||0),l=this.calculateDamageMultiplier(a),h=(i-o)*l;if(h<=0)return 1;let g=0;return h<=5?g=h*.01:h<=10?g=.05+(h-5)*.015:g=.125+(h-10)*.02,g=Math.min(g,.3),1-g}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,l=new Date(a);if(!isNaN(l.getTime())){const h=new Date;let g=h.getFullYear()-l.getFullYear();const v=h.getMonth()-l.getMonth();return(v<0||v===0&&h.getDate()<l.getDate())&&g--,g}}const i=25,c=2.5,o=t.rawData.Number_of_Fights_36m||0;return Math.round(i+o/c)}getInactiveMonths(t){const i=t.rawData.Number_of_Fights_36m||0;return i>=3?0:i>=2?6:i>=1?12:24}getFightsInPeriod(t,i){const c=i/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*c)}hasBodyShotThreat(t,i){const c=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,o=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0;return c>40||o>40}hasGroundControlThreat(t,i){const c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0;return c>25||o>25}hasExplosiveStyle(t,i){const c=(t.rawData.Fight_Duration_Seconds||900)/60,o=(i.rawData.Fight_Duration_Seconds||900)/60;return c<5||o<5}getWeightedMetric(t,i,c,o,a=.5){const l=c.probability/100,h=1-l;return c.winner===o?t*l+i*h*a:i*l+t*h*a}getFighterStyle(t){const i=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0;return i>15||c>25?"grappler":o>30&&i<10?"striker":"balanced"}hasDominantGrappler(t,i){const c=this.getFighterStyle(t),o=this.getFighterStyle(i),a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,l=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0;return c==="grappler"&&a>20||o==="grappler"&&l>20}isStrikerWar(t,i){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(i)==="striker"}calculateBettingMetrics(t,i,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f1FinishRate:o,f2FinishRate:a,avgFightTime:(l+h)/2,weightedFinishRate:c?this.getWeightedMetric(o,a,c,t,.5):void 0,weightedAvgFightTime:c?this.getWeightedMetric(l,h,c,t,1):void 0}}getWinReasoningKey(t,i,c,o){return t.overall>i.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>i.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>i.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":c>o+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=this.MIN_HIGH_CONFIDENCE?"high":t>=this.MIN_MEDIUM_CONFIDENCE?"medium":(t>=this.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"fight_winner",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:1}}createMethodOfVictoryCard(t){return{id:"method-of-victory",type:"method_of_victory",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{finishRate1:t.finishRate1,finishRate2:t.finishRate2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"total_rounds",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createRoundBettingCard(t){return{id:"round-betting",type:"winner_and_round",category:"secondary",title:"Round Betting",titleKey:"betting_markets.round_betting",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:4}}createMethodAndRoundCard(t){const i=t.probability||70;return{id:"method-and-round",type:"winner_and_round",category:"secondary",title:"Method & Round",titleKey:"betting_markets.method_and_round",prediction:t.prop,predictionKey:t.propKey,confidence:i,confidenceLevel:this.getConfidenceLevel(i),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:5}}createDecisionTypeCard(t){return{id:"decision-type",type:"distance_yes_no",category:"secondary",title:"Decision Type",titleKey:"betting_markets.decision_type",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:6}}createGoneIn60Card(t){return{id:"gone-in-60",type:"gone_in_60",category:"prop",title:"Gone in 60 Seconds",titleKey:"betting_markets.gone_in_60_title",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:7}}calculateImpliedOdds(t){if(t<=0)return"N/A";if(t>=100)return"Even";const i=100/t;if(i>=2){const c=(i-1)*100;return`+${Math.round(c)}`}else{const c=-100/(i-1);return`${Math.round(c)}`}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(i=>(i.type==="fight_winner"||i.type==="method_of_victory"||i.type==="total_rounds"||i.type==="winner_and_round"||i.type==="fight_props")&&i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((i,c)=>i.priority-c.priority)}}const Gt=new qa;var Ya=k('<div class="implied-odds svelte-1lytxch"> </div>'),ja=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="winner-name svelte-1lytxch"> </div> <div class="confidence svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Qa=k('<div class="implied-odds svelte-1lytxch"> </div>'),Za=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method svelte-1lytxch"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Ja=k('<div class="implied-odds svelte-1lytxch"> </div>'),Xa=k('<div class="bet-explanation svelte-1lytxch"> </div>'),ei=k('<div class="bet-explanation svelte-1lytxch"> </div>'),ti=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="rounds"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),ai=k('<div class="implied-odds svelte-1lytxch"> </div>'),ii=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="round"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),ri=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method-round-combo"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),si=k('<div class="implied-odds svelte-1lytxch"> </div>'),ni=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="decision"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),oi=k('<div class="implied-odds svelte-1lytxch"> </div>'),li=k('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="gone-60"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),di=k('<div class="bet-card no-predictions svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="no-pred-title svelte-1lytxch"> </div> <div class="no-pred-subtitle svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),vi=k('<div class="bet-explanation svelte-1lytxch"> </div>'),ci=k('<div class="bet-explanation svelte-1lytxch"> </div>'),_i=k('<div class="bet-card fight-props svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="prop svelte-1lytxch"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),hi=k('<div class="stat-item svelte-1lytxch"><span class="stat-label svelte-1lytxch"> </span> <span class="stat-value svelte-1lytxch"> </span></div>'),gi=k('<div class="bet-card stats svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="key-stats svelte-1lytxch"></div></div>'),ui=k("<div> </div>"),pi=k('<div class="bet-card trends svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="trend-list svelte-1lytxch"></div></div>'),mi=k('<div class="fight-best-bets svelte-1lytxch"><div class="header svelte-1lytxch"><h2 class="title svelte-1lytxch"><span class="icon svelte-1lytxch"><!></span> </h2> <hr class="title-divider svelte-1lytxch"/> <div class="subtitle svelte-1lytxch"> </div></div> <div class="matchup-header svelte-1lytxch"><div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div> <div class="vs-divider svelte-1lytxch"><span>VS</span></div> <div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1lytxch"><small class="svelte-1lytxch"> </small></div></div>');function yi(z,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(wa,"$locale",i),a=()=>vt(yt,"$_",i),l=F(),h=F(),g=F(),v=F(),m=F(),b=F(),D=F(),P=F(),Z=F(),j=F(),ae=F(),Ie=F(),ne=F(),Fe=F(),C=F(),W=F(),ie=F(),oe=F(),J=F(),fe=F();let M=je(t,"fighter1",8,null),re=je(t,"fighter2",8,null);function we(T,ge){return T.filter(Re=>Re.type===ge)}function Oe(T){switch(T){case bt.HIGH:return"high-confidence";case bt.MEDIUM:return"medium-confidence";case bt.LOW:return"low-confidence";default:return""}}let lt=o();O(()=>(S(M()),S(re())),()=>{f(l,M()&&re())}),O(()=>(e(l),S(M()),S(re())),()=>{f(h,e(l)?Gt.generateBetCards(M(),re()):[])}),O(()=>e(h),()=>{f(g,Gt.validatePredictions(e(h)))}),O(()=>(e(l),S(M()),S(re()),e(g),_t),()=>{e(l)&&M()&&re()&&e(g).length>0&&_t.trackBettingAnalysis(M().name,re().name)}),O(()=>(e(g),he),()=>{f(v,we(e(g),he.FIGHT_WINNER))}),O(()=>(e(g),he),()=>{f(m,we(e(g),he.METHOD_OF_VICTORY))}),O(()=>(e(g),he),()=>{f(b,we(e(g),he.TOTAL_ROUNDS))}),O(()=>(e(g),he),()=>{f(D,we(e(g),he.WINNER_AND_ROUND))}),O(()=>(e(g),he),()=>{f(P,we(e(g),he.DISTANCE_YES_NO))}),O(()=>(e(g),he),()=>{f(Z,we(e(g),he.GOES_TO_DECISION))}),O(()=>(e(g),he),()=>{f(j,we(e(g),he.GONE_IN_60))}),O(()=>(e(g),he),()=>{f(ae,we(e(g),he.FIGHT_PROPS))}),O(()=>(e(g),he),()=>{f(Ie,we(e(g),he.KEY_FACTORS))}),O(()=>(e(g),he),()=>{f(ne,we(e(g),he.TRENDS))}),O(()=>(e(g),he),()=>{f(Fe,we(e(g),he.NO_PREDICTION))}),O(()=>(e(v),e(m),e(b),e(D),e(P),e(Z),e(j)),()=>{f(C,e(v).length+e(m).length+e(b).length+e(D).length+e(P).length+e(Z).length+e(j).length)}),O(()=>e(C),()=>{f(W,e(C)>0)}),O(()=>e(W),()=>{f(ie,e(W)?0:1)}),O(()=>(e(ae),e(Ie),e(ne)),()=>{f(oe,e(ae).length+e(Ie).length+e(ne).length)}),O(()=>(e(C),e(ie),e(oe)),()=>{f(J,e(C)+e(ie)+e(oe))}),O(()=>o(),()=>{o()!==lt&&lt&&window.location.reload()}),O(()=>e(l),()=>{f(fe,e(l))}),wt(),ut();var rt=ot(),st=Ue(rt);{var dt=T=>{var ge=mi(),Re=r(ge),De=r(Re),Be=r(De),Ve=r(Be);zt(Ve,{size:32});var ze=d(Be),Ce=d(De,4),Me=r(Ce),Qe=d(Re,2),et=r(Qe),Ae=r(et),ve=r(Ae),xe=d(Ae,2),Ge=r(xe),qe=d(xe,2),le=r(qe),Ke=d(et,4),Ze=r(Ke),tt=r(Ze),nt=d(Ze,2),u=r(nt),p=d(nt,2),x=r(p),N=d(Qe,2);let G;var X=r(N);We(X,1,()=>e(v),He,(E,s)=>{var w=ja(),K=r(w),q=r(K),L=d(K,2),A=r(L),Q=r(A),Y=d(A,2),de=r(Y),me=d(Y,2);{var ce=I=>{var V=Ya(),H=r(V);R($=>_(H,`${$??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),y(I,V)};B(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var _e=d(L,2),pe=r(_e);R((I,V,H,$)=>{Ee(w,1,`bet-card moneyline ${I??""}`,"svelte-1lytxch"),_(q,V),_(Q,(e(s),n(()=>e(s).prediction))),_(de,`${e(s),n(()=>e(s).confidence)??""}% ${H??""}`),_(pe,$)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var ue=d(X,2);We(ue,1,()=>e(m),He,(E,s)=>{var w=Za(),K=r(w),q=r(K),L=d(K,2),A=r(L),Q=r(A),Y=d(A,2),de=r(Y),me=d(Y,2);{var ce=I=>{var V=Qa(),H=r(V);R($=>_(H,`${$??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),y(I,V)};B(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var _e=d(L,2),pe=r(_e);R((I,V,H,$,se)=>{Ee(w,1,`bet-card method-victory ${I??""}`,"svelte-1lytxch"),_(q,V),_(Q,H),_(de,`${e(s),n(()=>e(s).confidence)??""}% ${$??""}`),_(pe,se)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var te=d(ue,2);We(te,1,()=>e(b),He,(E,s)=>{var w=ti(),K=r(w),q=r(K),L=d(K,2),A=r(L),Q=r(A),Y=d(A,2),de=r(Y),me=d(Y,2);{var ce=$=>{var se=Ja(),Te=r(se);R(Ne=>_(Te,`${Ne??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),y($,se)};B(me,$=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&$(ce)})}var _e=d(L,2),pe=r(_e),I=d(_e,2);{var V=$=>{var se=Xa(),Te=r(se);R(Ne=>_(Te,Ne),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),y($,se)},H=$=>{var se=ot(),Te=Ue(se);{var Ne=Xe=>{var ct=ei(),Dt=r(ct);R(()=>_(Dt,(e(s),n(()=>e(s).explanation)))),y(Xe,ct)};B(Te,Xe=>{e(s),n(()=>e(s).explanation)&&Xe(Ne)},!0)}y($,se)};B(I,$=>{e(s),n(()=>e(s).explanationKey)?$(V):$(H,!1)})}R(($,se,Te,Ne,Xe)=>{Ee(w,1,`bet-card total-rounds ${$??""}`,"svelte-1lytxch"),_(q,se),_(Q,Te),_(de,`${e(s),n(()=>e(s).confidence)??""}% ${Ne??""}`),_(pe,Xe)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var be=d(te,2);We(be,1,()=>e(D),He,(E,s)=>{var w=ii(),K=r(w),q=r(K),L=d(K,2),A=r(L),Q=r(A),Y=d(A,2),de=r(Y),me=d(Y,2);{var ce=I=>{var V=ai(),H=r(V);R($=>_(H,`${$??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),y(I,V)};B(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var _e=d(L,2),pe=r(_e);R((I,V,H,$,se)=>{Ee(w,1,`bet-card round-betting ${I??""}`,"svelte-1lytxch"),_(q,V),_(Q,H),_(de,`${e(s),n(()=>e(s).confidence)??""}% ${$??""}`),_(pe,se)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var $e=d(be,2);We($e,1,()=>e(P),He,(E,s)=>{var w=ri(),K=r(w),q=r(K),L=d(K,2),A=r(L),Q=r(A),Y=d(A,2),de=r(Y),me=d(L,2),ce=r(me);R((_e,pe,I,V,H)=>{Ee(w,1,`bet-card method-round ${_e??""}`,"svelte-1lytxch"),_(q,pe),_(Q,I),_(de,V),_(ce,H)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var Le=d($e,2);We(Le,1,()=>e(Z),He,(E,s)=>{var w=ni(),K=r(w),q=r(K),L=d(K,2),A=r(L),Q=r(A),Y=d(A,2),de=r(Y),me=d(Y,2);{var ce=I=>{var V=si(),H=r(V);R($=>_(H,`${$??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),y(I,V)};B(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var _e=d(L,2),pe=r(_e);R((I,V,H,$,se)=>{Ee(w,1,`bet-card decision-type ${I??""}`,"svelte-1lytxch"),_(q,V),_(Q,H),_(de,`${e(s),n(()=>e(s).confidence)??""}% ${$??""}`),_(pe,se)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var Pe=d(Le,2);We(Pe,1,()=>e(j),He,(E,s)=>{var w=li(),K=r(w),q=r(K),L=d(K,2),A=r(L),Q=r(A),Y=d(A,2),de=r(Y),me=d(Y,2);{var ce=I=>{var V=oi(),H=r(V);R($=>_(H,`${$??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),y(I,V)};B(me,I=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&I(ce)})}var _e=d(L,2),pe=r(_e);R((I,V,H,$,se)=>{Ee(w,1,`bet-card gone-in-60 ${I??""}`,"svelte-1lytxch"),_(q,V),_(Q,H),_(de,`${e(s),n(()=>e(s).confidence)??""}% ${$??""}`),_(pe,se)},[()=>(e(s),n(()=>Oe(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var Je=d(Pe,2);We(Je,1,()=>e(Fe),He,(E,s)=>{var w=di(),K=r(w),q=r(K);Kt(q,{size:16,style:"display: inline; margin-right: 0.25rem;"});var L=d(q),A=d(K,2),Q=r(A),Y=r(Q),de=d(Q,2),me=r(de),ce=d(A,2),_e=r(ce);R((pe,I,V,H)=>{_(L,` ${pe??""}`),_(Y,I),_(me,V),_(_e,H)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var at=d(Je,2);We(at,1,()=>e(ae),He,(E,s)=>{var w=_i(),K=r(w),q=r(K);Bt(q,{size:16,style:"display: inline; margin-right: 0.25rem;"});var L=d(q),A=d(K,2),Q=r(A),Y=r(Q),de=d(Q,2),me=r(de),ce=d(A,2),_e=r(ce),pe=d(ce,2);{var I=H=>{var $=vi(),se=r($);R(Te=>_(se,Te),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),y(H,$)},V=H=>{var $=ot(),se=Ue($);{var Te=Ne=>{var Xe=ci(),ct=r(Xe);R(()=>_(ct,(e(s),n(()=>e(s).explanation)))),y(Ne,Xe)};B(se,Ne=>{e(s),n(()=>e(s).explanation)&&Ne(Te)},!0)}y(H,$)};B(pe,H=>{e(s),n(()=>e(s).explanationKey)?H(I):H(V,!1)})}R((H,$,se,Te,Ne)=>{_(L,` ${H??""}`),_(Y,$),_(me,`${se??""}: ${Te??""}`),_(_e,Ne)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.value"))),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),y(E,w)});var it=d(at,2);We(it,1,()=>e(Ie),He,(E,s)=>{var w=gi(),K=r(w),q=r(K),L=d(K,2);We(L,5,()=>(e(s),n(()=>e(s).metadata?.factors||[])),He,(A,Q)=>{var Y=hi(),de=r(Y),me=r(de),ce=d(de,2),_e=r(ce);R(pe=>{_(me,pe),_(_e,(e(Q),n(()=>e(Q).value)))},[()=>(a(),e(Q),n(()=>a()(e(Q).label)))]),y(A,Y)}),R(A=>_(q,A),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),y(E,w)});var U=d(it,2);We(U,1,()=>e(ne),He,(E,s)=>{var w=pi(),K=r(w),q=r(K),L=d(K,2);We(L,5,()=>(e(s),n(()=>e(s).metadata?.trends||[])),He,(A,Q)=>{var Y=ui(),de=r(Y);R(()=>{Ee(Y,1,`trend-item ${e(Q),n(()=>e(Q).type)??""}`,"svelte-1lytxch"),_(de,(e(Q),n(()=>e(Q).text)))}),y(A,Y)}),R(A=>_(q,A),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),y(E,w)});var ee=d(N,2),ke=r(ee),Se=r(ke);R((E,s,w,K)=>{_(ze,` ${E??""}`),_(Me,s),_(ve,(S(M()),n(()=>M().name))),_(Ge,`${S(M()),n(()=>M().rawData.win)??""}-${S(M()),n(()=>M().rawData.loss)??""}-${S(M()),n(()=>M().rawData.draws)??""}`),_(le,(S(M()),n(()=>M().archetype.archetypeEmojis))),_(tt,(S(re()),n(()=>re().name))),_(u,`${S(re()),n(()=>re().rawData.win)??""}-${S(re()),n(()=>re().rawData.loss)??""}-${S(re()),n(()=>re().rawData.draws)??""}`),_(x,(S(re()),n(()=>re().archetype.archetypeEmojis))),G=Ee(N,1,"betting-grid svelte-1lytxch",null,G,w),_(Se,`* ${K??""}`)},[()=>(a(),n(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),n(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(J)<=3}),()=>(a(),n(()=>a()("combat_analysis.disclaimer")))]),y(T,ge)};B(st,T=>{e(fe)&&T(dt)})}y(z,rt),pt(),c()}var fi=k('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),bi=k('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),wi=k('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),Di=k('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),xi=k('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),ki=k('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),Fi=k('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),Ri=k('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function Oi(z,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(ie,"$urlSearchParams",i),a=()=>vt(yt,"$_",i),l=F(),h=F(),g=F(),v=F(),m=F(),b=F(),D=F(),P=F(),Z=F(),j=F();let ae=je(t,"isDarkMode",8,!0),Ie=je(t,"toggleTheme",8,()=>{}),ne=F(new Map),Fe=F(new Map),C=F(),W=F(new Map);const ie=ma(ht());function oe(u,p){const x=`fighter${p}`;It({[x]:u}),ie.set(ht())}let J=F(!1),fe=F(!1),M=F(!1),re=F(!1);ya(()=>{window.Highcharts=fa,ie.set(ht());const u=Da(()=>{ie.set(ht())});return we(),u});async function we(){try{f(J,!0);const{allRawFightersDataMap:u,allRawFightersByDivision:p,processedFightersMap:x,processedFighters:N}=await ka.loadFightersFromCSV();f(ne,u),f(W,p),f(Fe,x),f(C,N),f(fe,!0)}catch(u){console.error("Error loading data:",u)}finally{f(J,!1)}}function Oe(u=[]){return u.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:lt(p)}))}function lt(u){return u.pictureUrl&&u.pictureUrl!==""?u.pictureUrl:rt(u.division)?"no_photo_female.png":"no_photo_male.png"}function rt(u){return!!(u&&u.startsWith("W_"))}function st(u){oe(u,1)}function dt(u){oe(u,2)}function T(){_t.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(l)||"none",fighter2:e(h)||"none"}),It({fighter1:"",fighter2:""}),ie.set(ht())}function ge(){if(!e(l)||!e(h))return;const u=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";_t.trackFightShare(e(l),e(h),u);const p=xa("/",{fighter1:e(l),fighter2:e(h)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(h)} - Fight Radar`,text:`Compara las estadsticas de ${e(l)} vs ${e(h)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Re("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Re(u){const p=document.createElement("div");p.className="notification",p.textContent=u,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function De(u,p,x){const N=[];return u&&N.push({name:u.name,data:[u.fightRadar.STR_OFF,u.fightRadar.STR_DEF,u.fightRadar.TD_OFF,u.fightRadar.TD_DEF,u.fightRadar.CTRL,u.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&N.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&N.push({name:x.name,data:[x.fightRadar.STR_OFF,x.fightRadar.STR_DEF,x.fightRadar.TD_OFF,x.fightRadar.TD_DEF,x.fightRadar.CTRL,x.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),N}function Be(u,p,x){const N=[];return u&&N.push({name:u.name,data:[u.iqRadar.distance,u.iqRadar.adaptability,u.iqRadar.composure,u.iqRadar.decisions,u.iqRadar.rhythm,u.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&N.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),x&&N.push({name:x.name,data:[x.iqRadar.distance,x.iqRadar.adaptability,x.iqRadar.composure,x.iqRadar.decisions,x.iqRadar.rhythm,x.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),N}function Ve(u){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[x,N,G]=u.combinedRole.split("+")??["AT"];let X=[[x,100]];if(N&&G?X=[[x,33],[N,34],[G,33]]:N?X=[[x,50],[N,50]]:G&&(X=[[x,60],[G,40]]),X.length===1){const[ue,te]=X[0],be=Math.min(te,70);return`linear-gradient(135deg, ${p[ue]} 0%, ${p[ue]} ${be}%, var(--card-bg) 100%)`}else{const ue=X.reduce((Le,[,Pe])=>Le+Pe,0);let te=[],be=0;return X.forEach(([Le,Pe],Je)=>{const at=Pe/ue*85,it=p[Le];Je===0&&te.push(`${it} ${be}%`),be+=at,Je===X.length-1?(te.push(`${it} ${be}%`),te.push("var(--card-bg) 100%")):te.push(`${it} ${be}%`)}),`linear-gradient(135deg, ${te.join(", ")})`}}O(()=>o(),()=>{f(l,o().get("fighter1")||"")}),O(()=>o(),()=>{f(h,o().get("fighter2")||"")}),O(()=>(e(C),e(h)),()=>{f(g,Oe(e(C)).filter(u=>u.value!==e(h)))}),O(()=>(e(C),e(l)),()=>{f(v,Oe(e(C)).filter(u=>u.value!==e(l)))}),O(()=>(e(l),e(h),e(ne),e(W),At),()=>{f(m,(()=>{if(!e(l)||!e(h))return null;const u=e(ne).get(e(l)),p=e(ne).get(e(h));if(!u||!p)return null;if(u.Division===p.Division){const x=u.Division;if(e(W).has(x))return At(x,e(W).get(x))}return null})())}),O(()=>(e(l),e(Fe)),()=>{f(b,e(l)?e(Fe).get(e(l))??null:null)}),O(()=>(e(h),e(Fe)),()=>{f(D,e(h)?e(Fe).get(e(h))??null:null)}),O(()=>(e(m),e(l),e(h),e(ne),e(W),Lt),()=>{f(P,(()=>{if(!e(m)||!e(l)||!e(h))return null;const u=e(ne).get(e(l));return!u||!e(W).has(u.Division)?null:Lt(e(m),e(W).get(u.Division))})())}),O(()=>(e(b),e(D),e(P)),()=>{f(Z,De(e(b)??null,e(D)??null,e(P)??null))}),O(()=>(e(b),e(D),e(P)),()=>{f(j,Be(e(b),e(D),e(P)))}),O(()=>(e(J),e(ne),e(l),e(h),_t),()=>{const u=!e(J)&&e(ne).size>0&&e(ne).has(e(l))&&e(ne).has(e(h));f(M,!!(e(l)&&e(h)&&u)),f(re,!!(e(l)&&e(h)&&u)),e(l)&&e(h)&&u&&_t.trackFighterComparison(e(l),e(h))}),wt(),ut();var ze=Ri(),Ce=r(ze),Me=r(Ce);ba(Me,{showThemeToggle:!0,get isDarkMode(){return ae()},get toggleTheme(){return Ie()}});var Qe=d(Me,2);{var et=u=>{var p=fi(),x=r(p),N=d(r(x),2),G=r(N);R(X=>_(G,X),[()=>(a(),n(()=>a()("fight_radar.loading_data")))]),y(u,p)};B(Qe,u=>{e(J)&&u(et)})}var Ae=d(Qe,2);{var ve=u=>{var p=Di(),x=r(p),N=r(x),G=r(N),X=r(G),ue=d(G,2),te=r(ue);{let U=ft(()=>(a(),n(()=>a()("common.select_fighter"))));Ut(te,{id:"fighter1-select",get placeholder(){return e(U)},disabled:!1,get options(){return e(g)},get selectedValue(){return e(l)},onSelectionChange:st})}var be=d(N,4),$e=r(be),Le=r($e),Pe=d($e,2),Je=r(Pe);{let U=ft(()=>(a(),n(()=>a()("common.select_fighter"))));Ut(Je,{id:"fighter2-select",get placeholder(){return e(U)},disabled:!1,get options(){return e(v)},get selectedValue(){return e(h)},onSelectionChange:dt})}var at=d(x,2);{var it=U=>{var ee=wi(),ke=r(ee);{var Se=w=>{var K=bi(),q=d(r(K));R(L=>_(q,` ${L??""}`),[()=>(a(),n(()=>a()("fight_radar.share_fight")))]),Ye("click",K,ge),y(w,K)};B(ke,w=>{e(l)&&e(h)&&w(Se)})}var E=d(ke,2),s=d(r(E));R(w=>_(s,` ${w??""}`),[()=>(a(),n(()=>a()("fight_radar.clear_radars")))]),Ye("click",E,T),y(U,ee)};B(at,U=>{(e(l)||e(h))&&U(it)})}R((U,ee)=>{_(X,`${U??""}:`),_(Le,`${ee??""}:`)},[()=>(a(),n(()=>a()("common.fighter_1"))),()=>(a(),n(()=>a()("common.fighter_2")))]),y(u,p)};B(Ae,u=>{e(fe)&&u(ve)})}var xe=d(Ae,2);{var Ge=u=>{var p=ot(),x=Ue(p);{var N=G=>{var X=xi(),ue=r(X),te=r(ue);Kt(te,{size:20,class:"disclaimer-icon"});var be=d(te,2),$e=r(be),Le=d(ue,2),Pe=r(Le);R((Je,at)=>{_($e,Je),_(Pe,at)},[()=>(a(),n(()=>a()("fight_radar.cross_division_title"))),()=>(a(),S(Ft),e(b),e(D),n(()=>a()("fight_radar.cross_division_text",{values:{division1:Ft(e(b).rawData.Division),division2:Ft(e(D).rawData.Division)}})))]),y(G,X)};B(x,G=>{e(b),e(D),n(()=>e(b)?.rawData&&e(D)?.rawData&&e(b).rawData.Division!==e(D).rawData.Division)&&G(N)})}y(u,p)};B(xe,u=>{e(l)&&e(h)&&e(M)&&u(Ge)})}var qe=d(xe,2);{var le=u=>{var p=ki(),x=r(p),N=r(x);Vt(N,{get fighter(){return e(b)},id:"fighter1-info"});var G=d(x,2),X=r(G);Vt(X,{get fighter(){return e(D)},id:"fighter2-info"}),R((ue,te)=>{Ct(x,`background: ${ue??""}`),Ct(G,`background: ${te??""}`)},[()=>(e(b),n(()=>e(b)?Ve(e(b).archetype):"var(--card-bg)")),()=>(e(D),n(()=>e(D)?Ve(e(D).archetype):"var(--card-bg)"))]),y(u,p)};B(qe,u=>{e(M)&&u(le)})}var Ke=d(qe,2);{var Ze=u=>{var p=Fi(),x=r(p),N=r(x);Et(N,()=>(e(l),e(h),e(Z),n(()=>`${e(l)}-${e(h)}-${e(Z).length}`)),ue=>{{let te=ft(()=>(S(Pt),n(Pt)));Ht(ue,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(te)},get series(){return e(Z)},isIQRadar:!1})}});var G=d(x,2),X=r(G);Et(X,()=>(e(l),e(h),e(j),n(()=>`${e(l)}-${e(h)}-${e(j).length}`)),ue=>{{let te=ft(()=>(S(Wt),n(Wt)));Ht(ue,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(te)},get series(){return e(j)},isIQRadar:!0})}}),y(u,p)};B(Ke,u=>{e(re),e(Z),n(()=>e(re)&&e(Z).length>0)&&u(Ze)})}var tt=d(Ke,2);yi(tt,{get fighter1(){return e(b)},get fighter2(){return e(D)}});var nt=d(tt,2);za(nt,{}),y(z,ze),pt(),c()}export{Oi as default};
