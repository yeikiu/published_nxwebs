import{g as yi,p as Ze,l as H,h as g,m as D,j as P,o as e,k as wi,n as Ti,f as C,H as We,$ as $i,i as ne,c as a,q as d,Z as Ai,t as E,E as ye,s as Ae,b as p,r as Di,u as Fi,x as qe,z as n,B as u,A as ui,_ as Ot,v as li,K as ti,L as oi,V as qi,a0 as jt,a1 as bi,y as pi,a2 as Bt,a as Nt,a3 as Et,a4 as Wt,a5 as tt,a6 as at,T as Ki,G as $t,C as st,U as Ii,w as At,N as Ri,a7 as zi}from"./lucide-BZTUuGOE.js";import{H as qt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as It,U as zt}from"./UpcomingFights-d39XYosS.js";import{$ as Si,A as fi,n as nt,a as Vt,v as Ht,g as gi,b as Gt,u as _i,c as Ut}from"./index-ClpceLTH.js";import{c as Mi,g as Vi,f as mi,a as Yt,b as Hi,p as Gi,d as Ui,e as Yi}from"./fighters_service-B-BsjoZo.js";import{R as Qt,a as Qi}from"./RadarChart-DI5ZGtx7.js";import{f as Xi,a as Zi,F as Xt}from"./unit_conversion-CNSPVAgf.js";import"./highcharts-DyRVWUji.js";var Zt=C('<img class="svelte-gkl5a1"/>'),Jt=C('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),ea=C("<!> <span> </span>",1),ia=C("<span> </span>"),ta=C('<img class="svelte-gkl5a1"/>'),aa=C('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),sa=C('<button type="button"><!> <span> </span></button>'),na=C('<div class="no-results svelte-gkl5a1"> </div>'),oa=C('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ra=C('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Ji(W,i){yi(i,!1);const[s,f]=Fi(),l=()=>ui(Si,"$_",s),t=D(),r=D();let o=Ze(i,"id",8),y=Ze(i,"placeholder",8,""),c=Ze(i,"disabled",8,!0),m=Ze(i,"options",24,()=>[]),B=Ze(i,"selectedValue",12,""),ie=Ze(i,"onSelectionChange",8,void 0),w=Ze(i,"onOpenStateChange",8,void 0),q=Ze(i,"shouldOpen",8,!1),$=D(!1),j=D(),G=D(),te=D(""),X=D(!1);function S(){c()||(g($,!e($)),e($)&&setTimeout(()=>e(G)?.focus(),0))}function L(k){B(k.value),g(te,""),g($,!1),ie()&&ie()(k.value,k)}function A(k){const ge=k.target;g(te,ge.value)}function O(k){k.key==="Enter"&&e(r).length>0?(L(e(r)[0]),k.preventDefault()):k.key==="Escape"&&(g(te,""),g($,!1))}function x(k){e(j)&&!e(j).contains(k.target)&&(g($,!1),g(te,""))}function R(k){k.key==="Escape"&&g($,!1)}H(()=>(P(m()),P(B())),()=>{g(t,m().find(k=>k.value===B()))}),H(()=>(P(q()),e(X),P(c()),e(G)),()=>{q()&&!e(X)&&!c()?(g(X,!0),g($,!0),setTimeout(()=>e(G)?.focus(),0)):q()||g(X,!1)}),H(()=>(P(w()),e($)),()=>{w()&&w()(e($))}),H(()=>(e(te),P(m()),Mi),()=>{g(r,e(te)?m().filter(k=>Mi(k.label.toLowerCase()).includes(Mi(e(te).toLowerCase()))):m())}),wi(),Ti();var I=ra();We("click",$i,x),We("keydown",$i,R);var z=a(I);let oe;var ve=a(z),V=a(ve);{var Ee=k=>{var ge=ea(),Te=qe(ge);{var Oe=je=>{var ue=Zt();E(()=>{ye(ue,"src",(e(t),n(()=>e(t).imageUrl))),ye(ue,"alt",(e(t),n(()=>e(t).label)))}),p(je,ue)},Ue=je=>{var ue=li(),De=qe(ue);{var ze=Ve=>{var Re=Jt(),Pe=a(Re);qi(Pe,()=>e(t).iconComponent,(fe,ae)=>{ae(fe,{size:16})}),p(Ve,Re)};ne(De,Ve=>{e(t),n(()=>e(t)?.iconComponent)&&Ve(ze)},!0)}p(je,ue)};ne(Te,je=>{e(t),n(()=>e(t)?.imageUrl)?je(Oe):je(Ue,!1)})}var Ie=d(Te,2),$e=a(Ie);E(()=>u($e,(e(t),n(()=>e(t).label)))),p(k,ge)},Q=k=>{var ge=ia(),Te=a(ge);E(Oe=>u(Te,Oe),[()=>(P(y()),l(),n(()=>y()||l()("common.select_option")))]),p(k,ge)};ne(V,k=>{e(t)?k(Ee):k(Q,!1)})}var M=d(ve,2);let ce;var ke=d(z,2);{var Ke=k=>{var ge=oa(),Te=a(ge),Oe=a(Te);Ai(Oe,Re=>g(G,Re),()=>e(G));var Ue=d(Te,2),Ie=a(Ue);let $e;var je=a(Ie),ue=a(je),De=d(Ie,2);{var ze=Re=>{var Pe=li(),fe=qe(Pe);ti(fe,1,()=>e(r),oi,(ae,me)=>{var He=sa();let Qe;var ai=a(He);{var Je=Me=>{var K=ta();E(()=>{ye(K,"src",(e(me),n(()=>e(me).imageUrl))),ye(K,"alt",(e(me),n(()=>e(me).label)))}),We("error",K,Fe=>{Fe.currentTarget.style.display="none"}),p(Me,K)},ei=Me=>{var K=li(),Fe=qe(K);{var si=Ye=>{var hi=aa(),ci=a(hi);qi(ci,()=>e(me).iconComponent,(v,_)=>{_(v,{size:16})}),p(Ye,hi)};ne(Fe,Ye=>{e(me),n(()=>e(me)?.iconComponent)&&Ye(si)},!0)}p(Me,K)};ne(ai,Me=>{e(me),n(()=>e(me)?.imageUrl)?Me(Je):Me(ei,!1)})}var ii=d(ai,2),ri=a(ii);E(Me=>{Qe=Ae(He,1,"dropdown-item svelte-gkl5a1",null,Qe,Me),u(ri,(e(me),n(()=>e(me).label)))},[()=>({selected:B()===e(me).value})]),We("click",He,()=>L(e(me))),p(ae,He)}),p(Re,Pe)},Ve=Re=>{var Pe=li(),fe=qe(Pe);{var ae=me=>{var He=na(),Qe=a(He);E(()=>u(Qe,`No se encontraron resultados para "${e(te)??""}"`)),p(me,He)};ne(fe,me=>{e(te)&&me(ae)},!0)}p(Re,Pe)};ne(De,Re=>{e(r),n(()=>e(r).length>0)?Re(ze):Re(Ve,!1)})}E((Re,Pe,fe)=>{ye(Oe,"placeholder",Re),ye(Ue,"id",`dropdown-options-${o()??""}`),$e=Ae(Ie,1,"dropdown-item svelte-gkl5a1",null,$e,Pe),u(ue,fe)},[()=>(l(),n(()=>l()("common.search")||"Search...")),()=>({selected:B()===""}),()=>(P(y()),l(),n(()=>y()||l()("common.select_option")))]),Ot(Oe,()=>e(te),Re=>g(te,Re)),We("input",Oe,A),We("keydown",Oe,O),We("click",Ie,()=>L({value:"",label:y(),imageUrl:""})),p(k,ge)};ne(ke,k=>{e($)&&k(Ke)})}Ai(I,k=>g(j,k),()=>e(j)),E((k,ge)=>{ye(I,"id",o()),oe=Ae(z,1,"dropdown-button svelte-gkl5a1",null,oe,k),z.disabled=c(),ye(z,"aria-expanded",e($)),ye(z,"aria-controls",`dropdown-options-${o()??""}`),ce=Ae(M,1,"dropdown-arrow svelte-gkl5a1",null,ce,ge)},[()=>({disabled:c(),open:e($)}),()=>({rotated:e($)})]),We("click",z,S),p(W,I),Di(),f()}function Ci(W,i){if(i()){fi.trackFighterCardCTA(i().nameWithNickname,"view_profile");const s=`/data-center/fighter-details?fighter=${encodeURIComponent(i().nameWithNickname)}`;nt(s)}}function la(W,i){g(i,!e(i))}var ha=C('<img class="fighter-image svelte-1wjjcz3"/> <div class="fighter-placeholder svelte-1wjjcz3" style="display: none;">Picture Unavailable</div>',1),ca=C('<div class="fighter-placeholder svelte-1wjjcz3">Picture Unavailable</div>'),da=C('<span class="division-ranking champion svelte-1wjjcz3" title="Champion"><!></span>'),va=C('<span class="division-ranking ranked svelte-1wjjcz3"> </span>'),ga=(W,i)=>W.key==="Enter"&&i(),fa=C('<div class="stat-item role-disc-clickable svelte-1wjjcz3" role="button" tabindex="0"><span class="stat-label svelte-1wjjcz3">ROLE-DISC:</span> <span><div class="role-emojis svelte-1wjjcz3"> </div> <div class="role-name svelte-1wjjcz3"> </div></span></div>'),ua=C('<div class="archetype-fields svelte-1wjjcz3"><div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value description svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value favorite-zone svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value strengths svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value weaknesses svelte-1wjjcz3"> </div></div></div>'),_a=C('<hr class="archetype-divider svelte-1wjjcz3"/> <div class="archetype-container svelte-1wjjcz3"><div class="archetype-section svelte-1wjjcz3"><button type="button" class="archetype-section-title svelte-1wjjcz3"><span><!></span> </button> <!></div></div>',1),pa=C('<div class="fighter-header svelte-1wjjcz3"><div class="header-actions svelte-1wjjcz3"><!> <button type="button" class="fighter-detail-cta svelte-1wjjcz3" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1wjjcz3"><div class="fighter-image-container svelte-1wjjcz3"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1wjjcz3"><div class="fighter-name svelte-1wjjcz3"> </div></button> <div class="fighter-division-container svelte-1wjjcz3"><span class="fighter-division svelte-1wjjcz3"> </span> <!></div> <div class="star-rating svelte-1wjjcz3"><div class="stars-container svelte-1wjjcz3"></div></div> <div class="fighter-stats svelte-1wjjcz3"><!> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value career-record svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value record svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span><!></span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value height svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value reach svelte-1wjjcz3"> </span></div></div> <!>',1),ma=C('<div class="empty-card svelte-1wjjcz3"><div class="empty-message svelte-1wjjcz3"> </div></div>'),ba=C('<div class="fighter-card svelte-1wjjcz3"><!></div> <!>',1);function et(W,i){yi(i,!1);const[s,f]=Fi(),l=()=>ui(Si,"$_",s),t=D(),r=D(),o=D(),y=D();let c=Ze(i,"fighter",8,null),m=Ze(i,"id",8,""),B=D(!1),ie=D(!1);function w(){g(B,!0)}function q(){g(B,!1)}H(()=>l(),()=>{g(t,L=>{if(!L||!L.startsWith("@ARCHETYPE_"))return L;let A="",O="";if(L.includes("_DESCRIPTION"))A=L.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),O="description";else if(L.includes("_FAVORITE_ZONE"))A=L.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),O="favorite_zone";else if(L.includes("_STRENGTHS"))A=L.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),O="strengths";else if(L.includes("_WEAKNESSES"))A=L.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),O="weaknesses";else{const I=L.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!I)return L;A=I[1],O=I[2].toLowerCase()}const x=`archetype_data.${A}.${O}`,R=l()(x);return L.includes("_WEAKNESSES"),R!==x?R:L})}),H(()=>(P(c()),Vi),()=>{g(r,c()?Vi(c().archetype):null)}),H(()=>(P(c()),Xi),()=>{g(o,c()?.rawData.height_inches?Xi(c().rawData.height_inches):"-")}),H(()=>(P(c()),Zi),()=>{g(y,c()?.rawData.reach_inches?Zi(c().rawData.reach_inches):"-")}),wi(),Ti();var $=ba(),j=qe($),G=a(j);{var te=L=>{var A=pa(),O=qe(A),x=a(O),R=a(x);Xt(R,{get fighterFullName(){return P(c()),n(()=>c().name)},size:"large"});var I=d(R,2);I.__click=[Ci,c];var z=a(I);jt(z,{size:16});var oe=d(x,2);oe.__click=[Ci,c];var ve=a(oe),V=a(ve);{var Ee=T=>{var b=ha(),ee=qe(b);E(()=>{ye(ee,"src",(P(c()),n(()=>c().pictureUrl))),ye(ee,"alt",`${P(c()),n(()=>c().name)??""} fighter profile picture`)}),We("error",ee,he=>{he.currentTarget.style.display="none";const re=he.currentTarget.nextElementSibling;re&&(re.style.display="block")}),p(T,b)},Q=T=>{var b=ca();p(T,b)};ne(V,T=>{P(c()),n(()=>c().pictureUrl)?T(Ee):T(Q,!1)})}var M=d(O,2);M.__click=[Ci,c];var ce=a(M),ke=a(ce),Ke=d(M,2),k=a(Ke),ge=a(k),Te=d(k,2);{var Oe=T=>{var b=li(),ee=qe(b);{var he=U=>{var Y=da(),le=a(Y);Et(le,{size:16}),p(U,Y)},re=U=>{var Y=va(),le=a(Y);E(()=>{ye(Y,"title",`Division Ranking #${P(c()),n(()=>c().rawData.division_ranking)??""}`),u(le,`#${P(c()),n(()=>c().rawData.division_ranking)??""}`)}),p(U,Y)};ne(ee,U=>{P(c()),n(()=>c().rawData.division_ranking==="0")?U(he):U(re,!1)})}p(T,b)};ne(Te,T=>{P(c()),n(()=>c().rawData.division_ranking!==void 0&&c().rawData.division_ranking!=="")&&T(Oe)})}var Ue=d(Ke,2),Ie=a(Ue),$e=d(Ue,2),je=a($e);{var ue=T=>{var b=fa();b.__click=w,b.__keydown=[ga,w];var ee=a(b),he=d(ee,2),re=a(he),U=a(re),Y=d(re,2),le=a(Y);E((xe,be)=>{ye(b,"aria-label",xe),ye(ee,"title",be),Ae(he,1,`stat-value role-indicator archetype-dots archetype-${e(r),n(()=>e(r).type)??""}`,"svelte-1wjjcz3"),ye(he,"title",(e(r),n(()=>e(r).tooltip))),u(U,(e(r),n(()=>e(r).label))),u(le,(e(r),n(()=>e(r).name)))},[()=>(l(),n(()=>l()("role_disc_modal.open_modal_aria_label"))),()=>(l(),n(()=>l()("role_disc_modal.archetype_tooltip")))]),p(T,b)};ne(je,T=>{e(r)&&T(ue)})}var De=d(je,2),ze=a(De),Ve=a(ze),Re=d(ze,2),Pe=a(Re),fe=d(De,2),ae=a(fe),me=a(ae),He=d(ae,2),Qe=a(He),ai=d(fe,2),Je=a(ai),ei=a(Je),ii=d(Je,2);let ri;var Me=a(ii);{var K=T=>{var b=pi();E(()=>u(b,`+${P(c()),n(()=>c().streak)??""}W`)),p(T,b)},Fe=T=>{var b=li(),ee=qe(b);{var he=U=>{var Y=pi();E(()=>u(Y,`${P(c()),n(()=>c().streak)??""}L`)),p(U,Y)},re=U=>{var Y=pi("-");p(U,Y)};ne(ee,U=>{P(c()),n(()=>c().streak<0)?U(he):U(re,!1)},!0)}p(T,b)};ne(Me,T=>{P(c()),n(()=>c().streak>0)?T(K):T(Fe,!1)})}var si=d(ai,2),Ye=a(si),hi=a(Ye),ci=d(Ye,2);let v;var _=a(ci),F=d(si,2),J=a(F),Se=a(J),Ce=d(J,2),Be=a(Ce),Le=d(F,2),se=a(Le),h=a(se),N=d(se,2),Z=a(N),_e=d($e,2);{var de=T=>{var b=_a(),ee=d(qe(b),2),he=a(ee),re=a(he);re.__click=[la,ie];var U=a(re);let Y;var le=a(U);Bt(le,{size:20});var xe=d(U),be=d(re,2);{var pe=Ne=>{var Ge=ua(),Xe=a(Ge),ni=a(Xe),vi=a(ni),xi=a(vi);Wt(xi,{size:18});var ot=d(vi,2),rt=a(ot),lt=d(ni,2),ht=a(lt),Pi=d(Xe,2),Li=a(Pi),Oi=a(Li),ct=a(Oi);tt(ct,{size:18});var dt=d(Oi,2),vt=a(dt),gt=d(Li,2),ft=a(gt),ji=d(Pi,2),Bi=a(ji),Ni=a(Bi),ut=a(Ni);at(ut,{size:18});var _t=d(Ni,2),pt=a(_t),mt=d(Bi,2),bt=a(mt),yt=d(ji,2),Ei=a(yt),Wi=a(Ei),wt=a(Wi);Ki(wt,{size:18});var Tt=d(Wi,2),Dt=a(Tt),Rt=d(Ei,2),kt=a(Rt);E((Ft,St,xt,Mt,Ct,Kt,Pt,Lt)=>{u(rt,Ft),u(ht,St),u(vt,xt),u(ft,Mt),u(pt,Ct),u(bt,Kt),u(Dt,Pt),u(kt,Lt)},[()=>(l(),n(()=>l()("archetype.tactical_description"))),()=>(e(t),P(c()),n(()=>e(t)(c().archetype.description))),()=>(l(),n(()=>l()("archetype.preferred_zone"))),()=>(e(t),P(c()),n(()=>e(t)(c().archetype.favoriteZone))),()=>(l(),n(()=>l()("archetype.strengths"))),()=>(e(t),P(c()),n(()=>e(t)(c().archetype.strengths))),()=>(l(),n(()=>l()("archetype.weaknesses"))),()=>(e(t),P(c()),n(()=>e(t)(c().archetype.weaknesses)))]),p(Ne,Ge)};ne(be,Ne=>{e(ie)&&Ne(pe)})}E((Ne,Ge)=>{ye(re,"aria-expanded",e(ie)),Y=Ae(U,1,"archetype-caret svelte-1wjjcz3",null,Y,Ne),u(xe,` ${Ge??""}`)},[()=>({expanded:e(ie)}),()=>(l(),n(()=>l()("archetype.analysis_title")))]),p(T,b)};ne(_e,T=>{P(c()),n(()=>c().archetype)&&T(de)})}E((T,b,ee,he,re,U,Y,le,xe,be,pe,Ne,Ge,Xe,ni,vi)=>{ye(I,"aria-label",`View detailed fighter profile for ${P(c()),n(()=>c().nameWithNickname)??""}`),u(ke,(P(c()),n(()=>c().name))),u(ge,T),bi(Ie,`--fill-width: ${P(c()),n(()=>c().stars*20)??""}%`),ye(ze,"title",b),u(Ve,`${ee??""}:`),u(Pe,(P(c()),n(()=>c().career_record))),ye(ae,"title",he),u(me,`${re??""}:`),u(Qe,(P(c()),n(()=>c().record_36m))),ye(Je,"title",U),u(ei,`${Y??""}:`),ri=Ae(ii,1,"stat-value streak svelte-1wjjcz3",null,ri,le),ye(Ye,"title",xe),u(hi,`${be??""}:`),v=Ae(ci,1,"stat-value opp-tier svelte-1wjjcz3",null,v,pe),u(_,`${Ne??""}/10`),ye(J,"title",Ge),u(Se,`${Xe??""}:`),u(Be,e(o)),ye(se,"title",ni),u(h,`${vi??""}:`),u(Z,e(y))},[()=>(P(mi),P(c()),n(()=>mi(c().division||""))),()=>(l(),n(()=>l()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(l(),n(()=>l()("fighter_profile.career_record"))),()=>(l(),n(()=>l()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(l(),n(()=>l()("fighter_profile.record_36m"))),()=>(l(),n(()=>l()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(l(),n(()=>l()("fighter_profile.streak"))),()=>({"streak-win":c().streak>0,"streak-loss":c().streak<0}),()=>(l(),n(()=>l()("fighter_profile.opponent_tier_tooltip")||"Quality of opponents faced (0-10 scale). Higher score means tougher competition.")),()=>(l(),n(()=>l()("fighter_profile.opponent_tier"))),()=>({"opp-tier-elite":c().oppTierScore>=7,"opp-tier-strong":c().oppTierScore>=5&&c().oppTierScore<7,"opp-tier-average":c().oppTierScore>=3&&c().oppTierScore<5,"opp-tier-weak":c().oppTierScore<3}),()=>(P(c()),n(()=>c().oppTierScore.toFixed(1))),()=>(l(),n(()=>l()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(l(),n(()=>l()("fighter_profile.height"))),()=>(l(),n(()=>l()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(l(),n(()=>l()("fighter_profile.reach")))]),p(L,A)},X=L=>{var A=ma(),O=a(A),x=a(O);E(R=>u(x,R),[()=>(l(),n(()=>l()("fight_radar.select_fighter_stats")))]),p(L,A)};ne(G,L=>{c()?L(te):L(X,!1)})}var S=d(j,2);Qt(S,{get isOpen(){return e(B)},$$events:{close:q}}),E(()=>ye(j,"id",m())),p(W,$),Di(),f()}Nt(["click","keydown"]);function ya(W){const i=W.filter(o=>(o.type===we.VICTORY_METHOD||o.type===we.WINNER_AND_METHOD)&&(o.prediction.toLowerCase().includes("decision")||o.predictionKey?.toLowerCase().includes("decision")));if(i.length===0)return W;const s=W.filter(o=>{if(o.type!==we.DURATION)return!1;const y=o.prediction.toLowerCase(),c=o.predictionKey?.toLowerCase()||"";return y.includes("under")||c.includes("under")});if(s.length===0)return W;const f=[...i,...s],l=Math.max(...f.map(o=>o.confidence)),t=f.find(o=>o.confidence===l);if(!t)return W;const r=new Set(f.map(o=>o.id));return W.filter(o=>!r.has(o.id)||o.id===t.id)}function wa(W){const i=W.filter(r=>r.type===we.VICTORY_METHOD||r.type===we.WINNER_AND_METHOD),s=W.filter(r=>r.type===we.FIGHT_PROPS);if(i.length===0||s.length===0)return W;const l=i.reduce((r,o)=>o.confidence>r.confidence?o:r).prediction.toLowerCase(),t=new Set;for(const r of s){const o=(r.prediction||"").toLowerCase(),y=(r.predictionKey||"").toLowerCase();(l.includes("ko")||l.includes("tko"))&&(o.includes("submission")||o.includes("ground control")||y.includes("submission")||y.includes("ground_control"))&&t.add(r.id),l.includes("submission")&&(o.includes("standing exchange")&&!o.includes("ground")||y.includes("standing_exchange")&&!y.includes("ground"))&&t.add(r.id),l.includes("decision")&&(o.includes("first round finish")||o.includes("gone in 60")||y.includes("first_round_finish")||y.includes("gone_in_60"))&&t.add(r.id)}return W.filter(r=>!t.has(r.id))}function Ta(W){const i=W.filter(l=>l.type===we.DURATION),s=W.filter(l=>l.type===we.FIGHT_PROPS);if(i.length===0||s.length===0)return W;const f=new Set;for(const l of i){const t=(l.prediction||"").toLowerCase(),r=(l.predictionKey||"").toLowerCase(),o=t.includes("under 2.5")||r.includes("under_2_5"),y=t.includes("over 3.5")||r.includes("over_3_5");for(const c of s){const m=(c.prediction||"").toLowerCase(),B=(c.predictionKey||"").toLowerCase();o&&((m.includes("over 100 strikes")||B.includes("over_100_strikes"))&&f.add(c.id),(m.includes("goes to distance")||B.includes("goes_to_distance"))&&f.add(c.id)),y&&(m.includes("first round")||m.includes("gone in 60")||B.includes("first_round")||B.includes("gone_in_60"))&&f.add(c.id)}}return W.filter(l=>!f.has(l.id))}function it(W){let i=[...W];return i=ya(i),i=wa(i),i=Ta(i),i}const Da={W_Strawweight:{finishBias:-.07195121951219513,koVsSubBias:-.1865853658536585,sampleSize:82,stats_3R:{sampleSize:77,decisionRate:.6363636363636364,finishRate:.36363636363636365,koRate:.16883116883116883,submissionRate:.19480519480519481},stats_5R:{sampleSize:5,decisionRate:.4,finishRate:.6,koRate:.2,submissionRate:.4}},Bantamweight:{finishBias:-.08194444444444443,koVsSubBias:-.12916666666666665,sampleSize:144,stats_3R:{sampleSize:134,decisionRate:.6268656716417911,finishRate:.373134328358209,koRate:.19402985074626866,submissionRate:.1791044776119403},stats_5R:{sampleSize:10,decisionRate:.7,finishRate:.3,koRate:.2,submissionRate:.1}},Lightweight:{finishBias:.07702702702702696,koVsSubBias:.09324324324324326,sampleSize:148,stats_3R:{sampleSize:137,decisionRate:.4744525547445255,finishRate:.5255474452554745,koRate:.38686131386861317,submissionRate:.1386861313868613},stats_5R:{sampleSize:11,decisionRate:.45454545454545453,finishRate:.5454545454545454,koRate:.36363636363636365,submissionRate:.18181818181818182}},W_Bantamweight:{finishBias:-.11037735849056607,koVsSubBias:-.15,sampleSize:53,stats_3R:{sampleSize:53,decisionRate:.660377358490566,finishRate:.33962264150943394,koRate:.16981132075471697,submissionRate:.16981132075471697},stats_5R:{sampleSize:0,decisionRate:0,finishRate:0,koRate:0,submissionRate:0}},W_Flyweight:{finishBias:-.1957627118644068,koVsSubBias:-.13305084745762713,sampleSize:59,stats_3R:{sampleSize:55,decisionRate:.7272727272727273,finishRate:.2727272727272727,koRate:.14545454545454545,submissionRate:.12727272727272726},stats_5R:{sampleSize:4,decisionRate:1,finishRate:0,koRate:0,submissionRate:0}},Middleweight:{finishBias:.1468992248062015,koVsSubBias:.1368217054263566,sampleSize:129,stats_3R:{sampleSize:109,decisionRate:.3853211009174312,finishRate:.6146788990825688,koRate:.44954128440366975,submissionRate:.1651376146788991},stats_5R:{sampleSize:20,decisionRate:.5,finishRate:.5,koRate:.4,submissionRate:.1}},Featherweight:{finishBias:.0727272727272727,koVsSubBias:-.006060606060606072,sampleSize:132,stats_3R:{sampleSize:128,decisionRate:.4765625,finishRate:.5234375,koRate:.328125,submissionRate:.1953125},stats_5R:{sampleSize:4,decisionRate:.5,finishRate:.5,koRate:.5,submissionRate:0}},Flyweight:{finishBias:.0727272727272727,koVsSubBias:-.1272727272727273,sampleSize:88,stats_3R:{sampleSize:78,decisionRate:.47435897435897434,finishRate:.5256410256410257,koRate:.2564102564102564,submissionRate:.2692307692307692},stats_5R:{sampleSize:10,decisionRate:.5,finishRate:.5,koRate:.4,submissionRate:.1}},Welterweight:{finishBias:.13208955223880597,koVsSubBias:.14850746268656717,sampleSize:134,stats_3R:{sampleSize:122,decisionRate:.4098360655737705,finishRate:.5901639344262295,koRate:.4426229508196721,submissionRate:.14754098360655737},stats_5R:{sampleSize:12,decisionRate:.5,finishRate:.5,koRate:.4166666666666667,submissionRate:.08333333333333333}},Heavyweight:{finishBias:.02297297297297296,koVsSubBias:.07972972972972975,sampleSize:74,stats_3R:{sampleSize:63,decisionRate:.6190476190476191,finishRate:.38095238095238093,koRate:.30158730158730157,submissionRate:.07936507936507936},stats_5R:{sampleSize:11,decisionRate:0,finishRate:1,koRate:.6363636363636364,submissionRate:.36363636363636365}},Light_Heavyweight:{finishBias:.16971830985915487,koVsSubBias:.15985915492957747,sampleSize:71,stats_3R:{sampleSize:66,decisionRate:.3939393939393939,finishRate:.6060606060606061,koRate:.4393939393939394,submissionRate:.16666666666666666},stats_5R:{sampleSize:5,decisionRate:.2,finishRate:.8,koRate:.8,submissionRate:0}}};var we=(W=>(W.MONEYLINE="moneyline",W.VICTORY_METHOD="victory_method",W.WINNER_AND_METHOD="winner_and_method",W.DURATION="duration",W.GOES_TO_DECISION="goes_to_decision",W.GONE_IN_60="gone_in_60",W.FIGHT_PROPS="fight_props",W.KEY_FACTORS="key_factors",W.TRENDS="trends",W.NO_PREDICTION="no_prediction",W))(we||{}),ki=(W=>(W.HIGH="high",W.MEDIUM="medium",W.LOW="low",W))(ki||{});class di{constructor(){this.config={finishLikelihoodThreshold:35.5,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:1,predatorVsDefensiveBonus:2.5,bothFinishersMultiplier:1.2,bothFinishersThreshold:45,loserDecisionRateWeight:.05,decisionRateBonus:-2,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:34,strOffGapMedThreshold:24,strOffGapLowThreshold:16,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:34,ctrlGapMedThreshold:24,ctrlGapLowThreshold:14,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:34,tdOffGapMedThreshold:24,tdOffGapLowThreshold:14,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,unexpectedKOStrLandedThreshold:4.5,unexpectedKOStrAbsorbedThreshold:4.5,unexpectedKOKnockdownThreshold:1,unexpectedKOThreatThreshold:25,unexpectedKOBoost:5,earlyFinishScoreThreshold:38,durationSkillGapWeight:.04,durationFinishRateWeight:.1,durationVulnerabilityWeight:.15,durationAvgTimeWeight:.5,underBonusBase:25,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:50,durationBothLowFinishThreshold:22,durationPaceAsymmetryThreshold:5,durationPaceAsymmetryPenalty:2,durationUnderSkillGapBonus:11,durationUnderLoserVulnBonus:15,durationUnderWinnerFinishBonus:10,durationUnderComboBonus:8,durationUnderExtreme:64,durationUnderSkillGapExtreme:22,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:12,oppTierWeight:11.5,oppTierNeutral:.53,winRateWeightNormal:.35,winRateWeightHigh:.3,winRateWeightLow:.3,winRateHighThreshold:70,winRateLowThreshold:30,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:1.1,agePenaltyPhase3Rate:4.2,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1,damageMultiplier2KO:1.1,damageMultiplier3KO:1.7,damageMultiplier4KO:1.45,damageMultiplier5PlusKO:1.5,relativeAgeThreshold:7,relativeAgeAdjustRate:1.7,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:.08,heightAdvantageWeight:.05,reachDiffThreshold:2,heightDiffThreshold:2,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:23,inactivityPenaltyRate:1.6,inactivityMaxPenalty:.23,activityBonusThreshold:7,activityBonus:4,amplificationEnabled:!0,amplificationThreshold:15,amplificationRate:.25,minProbability:15,maxProbability:88,decisionProbabilityBase:63,decisionLowFinishAdjust:0,goesToDecisionMaxProb:88,decisionBaseMax:85,koMaxProb:89,subMaxProb:76,decisionMinFloor:81,methodOppTierWeight:5,methodDecisionRateFinisherThreshold:12,methodDecisionRateFinisherBonus:10,methodHighPaceMinFights:3,methodHighPaceMinFinish:34,methodHighPaceMaxFinish:58,methodStyleStrengthThreshold:39,methodLoserVulnThreshold:36,methodStrongFinisherWinnerThreshold:65,methodStrongFinisherLoserThreshold:40,decisionCapHighFinishThreshold:53,decisionCapPenaltyBase:8,decisionCapPenaltyScale:2,decisionCapPenaltyDivisor:9,decisionCapMedFinishThreshold:42,decisionCapMedPenalty:2,decisionCapLowFinishThreshold:36,decisionCapLowPenalty:0,divisionMinSampleSize:24,divisionThreatDiffThreshold:8,divisionPreferenceThreshold:15,divisionTiebreakerBoost:2,koThreatComponent:.25,subThreatComponent:.25,koLoserVulnThreshold:38,koWinnerRateThreshold:58,koWinnerComboThreshold:65,koLoserComboThreshold:27,subLoserVulnThreshold:18,subWinnerRateThreshold:30,subWinnerComboThreshold:46,subLoserComboThreshold:15,durationOppTierWeight:2.5,defaultFightDuration:900,extremeFinishWinnerThreshold1:67,extremeFinishLoserThreshold1:44,extremeFinishSkillGap1:11,extremeFinishWinnerThreshold2:62,extremeFinishLoserThreshold2:40,extremeFinishSkillGap3:15,extremeFinishWinnerThreshold3:63,under15ScoreThreshold:55,under15WinProbThreshold:67,under15WinnerTimeThreshold:5,under15LoserTimeThreshold:6,under15SkillGapThreshold:8,under15InitialCap:70,under15SkillGapExtreme:27,under15FinishRateExtreme:76,under15VulnExtreme:40,under15FinalCap:86,under15RelaxedEarlyFinishThreshold:48,under15RelaxedWinProbThreshold:50,under25FinishThreshold1:59,under25LoserFinishThreshold1:47,under25KOThreshold:50,under25AvgTimeThreshold:6,under25WinnerTimeThreshold:10,under25LoserTimeThreshold:10,under25WinProbMin:40,under25InitialCap:75,under25SkillGapThreshold:8,under25VulnThreshold:30,under25WinnerFinishThreshold:65,under25ComboWinnerThreshold:60,under25ComboLoserThreshold:47,under25FinalCap:85,over15BaseProbability:40,over15HighThreatThreshold:40,over15HighThreatValue:50,over15MedThreatLowThreshold:23,over15MedThreatHighThreshold:27,over15MedThreatValue:65,over15LowThreatThreshold:14,over15LowThreatValue:60,over15VeryLowThreatThreshold:13,over15VeryLowThreatValue:70,over15FinisherThreshold:35,over15FinisherPenalty:9,over15DecisionThreshold:70,over15DecisionBoost:17,over15DualDecisionThreshold1:21,over15DualDecisionThreshold2:35,over15DualDecisionBoost:8,over15LongTimeThreshold:7,over15LongTimeBoost:13,over15MinProbability:50,over15MaxProbability:84,over15FinishLikelihoodPenaltyThreshold:46,over15FinishLikelihoodPenaltyAmount:15,over35DecisionThreshold1:50,over35DecisionThreshold2:70,over35AvgTimeThreshold:10,over35LowFinishThreshold:15,over35LongTimeThreshold:15,over35BaseProbability:40,over35PureDecisionThreshold:60,over35PureDecisionValue:40,over35ExtremeDecisionThreshold:70,over35ExtremeDecisionValue:58,over35LongMinProbability:39,over35LongDecisionThreshold:50,over35LongDecisionBoost:11,over35LongDecisionCap:61,over35FinishPenaltyThreshold1:34,over35FinishPenalty1:13,over35FinishPenaltyThreshold2:50,over35FinishPenalty2:6,over35MinProbability:40,over35MaxProbability:70,physicalAdvantageReachThreshold:4,physicalAdvantageHeightThreshold:4,activityPeriodMonths:48,activityThresholdFights:4,defaultWinProbability:45,reachAnalysisThreshold:2,activityDifferenceThreshold:2,highWinRateThreshold:73,strugglingWinRateThreshold:55,estimatedCareerStartAge:16,estimatedFightsPerYear:2.9,grapplerTakedownThreshold:43,grapplerSubmissionThreshold:35,strikerKOThreshold:31,strikerTakedownMax:10,dominantGrapplerThreshold:55,weightedMetricLoserImpact:.35,firstRoundFinishThreshold:3,subAttemptsOverThreshold:2.3,finishRateFirstRoundThreshold:69,doubleKnockdownThreshold:.3,groundControlTakedownThreshold:15,strikeVolumeThreshold:120,standingExchangeTakedownMax:3,divisionBlendFinishLikelihood:0,divisionBlendKOThreat:0,divisionBlendSubThreat:.08,decisionToKOBiasReduction:0,decisionToKOStrLandedThreshold:6.5,decisionToKOKnockdownThreshold:.3,koToDecisionBiasReduction:8,koToDecisionLoserDecisionRateThreshold:44,koToDecisionLowKOThreatThreshold:34,decisionToSubBiasReduction:0,decisionToSubCtrlGapThreshold:6,decisionToSubTDGapThreshold:5,subToDecisionBiasReduction:5,subToDecisionLoserDecisionRateThreshold:48,subToDecisionLowSubThreatThreshold:39,predatorFinishRateThreshold:40,predatorVulnerabilityThreshold:30,methodThreatDiffThreshold:3,methodStyleDiffThreshold:2,koThreatMultiplier:.3,koComboWinnerRateThreshold:52,koComboLoserVulnThreshold:18,durationFinishRateThreshold:50,durationTakedownRateThreshold:16,durationStrikeVolumeThreshold:125,durationLowTakedownThreshold:3,subThreatMultiplier:.3,subComboWinnerRateThreshold:49,subComboLoserVulnThreshold:29,winnerReachDiffThreshold:1,winnerExperienceGapThreshold:1,winnerAgePrimeStart:25,winnerAgePrimeEnd:31,winnerYearsAfterPrimeModerate:3,winnerYearsAfterPrimeSevere:8,h2hRecentVictoryMonths:38,h2hRecentVictoryPenalty:15,h2hRecencyWeight:.5,divisionBlendDurationFinish:0,divisionFinishAdjustmentScale:.5,ufcAverageFinishRate:47,durationOppTierNeutral:.48,durationDivisionMinSampleSize:33,durationLoserVulnBonus:15,durationDecisionFighterPenalty:14}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}static{this.divisionCoefficients=null}static loadDivisionCoefficients(){return this.divisionCoefficients?this.divisionCoefficients:(this.divisionCoefficients=new Map(Object.entries(Da)),this.divisionCoefficients)}generateBetCards(i,s,f=!1,l=3){const t=[],o=i.rawData.Number_of_Fights_36m||0,y=s.rawData.Number_of_Fights_36m||0;if(o<3||y<3)return[this.createNoPredictionCard("insufficient_fights",i,s,o,y)];if(i.division!==s.division)return[this.createNoPredictionCard("different_divisions",i,s)];const c=this.calculateWinProbability(i,s);if(f&&c.probability<di.MIN_MEDIUM_CONFIDENCE){const j=c.winner===i?c.probability:100-c.probability,G=100-j;t.push(this.createNoPredictionCard("low_moneyline_confidence",i,s,void 0,void 0,j,G))}else t.push(this.createMoneylineCard(c));const m=this.predictMethodGivenWinner(i,s,c,l),B=this.predictTotalRounds(i,s,c,l),ie=this.generateFightProps(i,s,c,l),w=this.analyzeKeyFactors(i,s),q=this.analyzeTrends(i,s);t.push(this.createVictoryMethodCard(m));const $=this.predictWinnerAndMethod(c,m);return t.push($),t.push(this.createTotalRoundsCard(B)),t.push(this.createFightPropsCard(ie)),t.push(this.createKeyFactorsCard(w)),t.push(this.createTrendsCard(q)),this.hasHighConfidencePredictions(t)||t.push(this.createNoPredictionCard("low_confidence")),f?this.sortBetCardsByPriority(this.filterByConfidence(it(t))):this.sortBetCardsByPriority(it(t))}filterByConfidence(i){return i.filter(s=>s.type==="key_factors"||s.type==="trends"||s.type==="no_prediction"?!0:s.confidence>=di.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(i,s){const f=(i.rawData.reach_inches||0)-(s.rawData.reach_inches||0),l=(i.rawData.height_inches||0)-(s.rawData.height_inches||0);let t=0,r=0;return f>=this.config.physicalAdvantageReachThreshold?t+=Math.min(Math.abs(f)*this.config.reachAdvantageWeight,.025):f<=-this.config.physicalAdvantageReachThreshold&&(r+=Math.min(Math.abs(f)*this.config.reachAdvantageWeight,.025)),l>=this.config.physicalAdvantageHeightThreshold?t+=Math.min(Math.abs(l)*this.config.heightAdvantageWeight,.015):l<=-this.config.physicalAdvantageHeightThreshold&&(r+=Math.min(Math.abs(l)*this.config.heightAdvantageWeight,.015)),{f1Advantage:t,f2Advantage:r}}checkRecentH2H(i,s){if(!i.rawData.Dates_36m||!s.rawData.Dates_36m)return{loserRecentlyBeatWinner:!1,winnerRecentlyBeatLoser:!1};const f=i.id,l=s.id,t=i.name.toLowerCase(),r=s.name.toLowerCase(),o=t.split(" ")[0],y=r.split(" ")[0],c=i.rawData.Dates_36m?i.rawData.Dates_36m.split(","):[],m=s.rawData.Dates_36m?s.rawData.Dates_36m.split(","):[],B=new Date().getTime(),ie=this.config.h2hRecentVictoryMonths*30*24*60*60*1e3,w=(j,G,te,X)=>{const S=j.toLowerCase();return S===G||S===te||S===X||S.includes(X)};let q=!1;for(const j of c){if(!j||j.trim().length===0)continue;const G=j.trim().split(":");if(G.length<3)continue;const te=G[0],X=G[1],S=G[2];if(w(X,l,r,y)&&S.toUpperCase()==="W"){const L=this.parseUFCDate(te);if(L&&B-L.getTime()<ie){q=!0;break}}}let $=!1;for(const j of m){if(!j||j.trim().length===0)continue;const G=j.trim().split(":");if(G.length<3)continue;const te=G[0],X=G[1],S=G[2];if(w(X,f,t,o)&&S.toUpperCase()==="W"){const L=this.parseUFCDate(te);if(L&&B-L.getTime()<ie){$=!0;break}}}return{loserRecentlyBeatWinner:$,winnerRecentlyBeatLoser:q}}parseUFCDate(i){const s=i.split("-");if(s.length!==3)return null;const f=parseInt(s[0],10),l=parseInt(s[1],10),t=parseInt(s[2],10);return isNaN(f)||isNaN(l)||isNaN(t)?null:new Date(t,l-1,f)}calculateWinProbability(i,s){const f=this.config.oppTierNeutral,l=this.config.oppTierWeight;let t=i.overall+(i.oppTierScore-f)*l,r=s.overall+(s.oppTierScore-f)*l;const o=this.calculatePhysicalAdvantage(i,s);t*=1+o.f1Advantage,r*=1+o.f2Advantage,t*=this.calculateAgeImpact(i),r*=this.calculateAgeImpact(s);const y=this.getInactiveMonths(i),c=this.getInactiveMonths(s);if(y>=this.config.inactivityThreshold){const V=Math.min((y-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);t*=1-V}if(c>=this.config.inactivityThreshold){const V=Math.min((c-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);r*=1-V}const m=this.getFightsInPeriod(i,18),B=this.getFightsInPeriod(s,18);m>=this.config.activityBonusThreshold&&(t*=1+this.config.activityBonus),B>=this.config.activityBonusThreshold&&(r*=1+this.config.activityBonus);const ie=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,w=s.rawData.Number_of_Fights_36m>0?s.rawData.win/s.rawData.Number_of_Fights_36m*100:0,q=this.calculateMomentum(i),$=this.calculateMomentum(s);t*=1+q,r*=1+$;let j=this.config.winRateWeightNormal,G=this.config.winRateWeightNormal;ie>=this.config.winRateHighThreshold?j=this.config.winRateWeightHigh:ie<this.config.winRateLowThreshold&&(j=this.config.winRateWeightLow),w>=this.config.winRateHighThreshold?G=this.config.winRateWeightHigh:w<this.config.winRateLowThreshold&&(G=this.config.winRateWeightLow);const te=t+ie*j,X=r+w*G,S=this.calculateAge(i),L=this.calculateAge(s),A=S-L;let O=te,x=X;if(Math.abs(A)>=this.config.relativeAgeThreshold){const V=Math.min(Math.abs(A)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);A>0?(O=te*(1-V),x=X*(1+V)):(O=te*(1+V),x=X*(1-V))}const R=Math.abs(O-x);if(R>this.config.amplificationThreshold){const V=1+(R-this.config.amplificationThreshold)*this.config.amplificationRate;O>x?O*=V:x*=V}const I=O+x;let z=I>0?Math.round(O/I*100):50,oe=I>0?Math.round(x/I*100):50;const ve=this.checkRecentH2H(i,s);if(ve.loserRecentlyBeatWinner){const V=z*this.config.h2hRecentVictoryPenalty/100,Ee=z*(1-this.config.h2hRecencyWeight)+(z-V)*this.config.h2hRecencyWeight;z=Math.round(Ee),oe=100-z}if(ve.winnerRecentlyBeatLoser){const V=z*this.config.h2hRecentVictoryPenalty/100,Ee=z*(1-this.config.h2hRecencyWeight)+(z+V)*this.config.h2hRecencyWeight;z=Math.round(Ee),oe=100-z}if(z=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,z)),oe=100-z,z>oe){let V=this.getWinReasoningKey(i,s,ie,w);return{winner:i,probability:z,reasoningKey:V,adjustedScore1:O,adjustedScore2:x}}else{let V=this.getWinReasoningKey(s,i,w,ie);return{winner:s,probability:oe,reasoningKey:V,adjustedScore1:x,adjustedScore2:O}}}predictWinnerAndMethod(i,s){let f=i.probability/100*(s.probability/100)*100;const l=i.winner,t=s.method,r=s.methodKey,o=l.name,y=`combat_analysis.winner_and_method.${r.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:o,predictionKey:y,confidence:Math.round(f),confidenceLevel:this.getConfidenceLevel(f),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:l.name,method:t,methodKey:y,winnerProb:i.probability,methodProb:s.probability,compositeProb:f},priority:2.5}}predictMethodGivenWinner(i,s,f,l=3){const t=f.winner,r=t===i?s:i,o=di.loadDivisionCoefficients(),y=t.division,c=o.get(y),m=c?l===5?c.stats_5R:c.stats_3R:null,B=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,ie=r.overall+(r.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,w=Math.abs(B-ie),q=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,$=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,j=t===i?q:$,G=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,te=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,X=t===i?G:te,S=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,L=s.rawData.Number_of_Fights_36m>0?s.rawData.win_sub/s.rawData.Number_of_Fights_36m*100:0,A=t===i?S:L,O=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_kotko/r.rawData.Number_of_Fights_36m*100:0,x=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_sub/r.rawData.Number_of_Fights_36m*100:0,R=O+x,I=R,z=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_decision/r.rawData.Number_of_Fights_36m*100:0;let oe=w*this.config.skillGapWeight+j*this.config.finishRateWeight+R*this.config.vulnerabilityWeight;const ve=z*this.config.loserDecisionRateWeight/10;oe-=ve,z<this.config.methodDecisionRateFinisherThreshold&&(oe+=this.config.methodDecisionRateFinisherBonus);const V=X>A&&O>x,Ee=A>X&&x>O;(V||Ee)&&(oe+=this.config.methodMatchBonus),t.rawData.Number_of_Fights_36m>=this.config.methodHighPaceMinFights&&j>=this.config.methodHighPaceMinFinish&&j<=this.config.methodHighPaceMaxFinish&&(oe+=this.config.highPaceFinishBonus),Math.max(X,A)>this.config.methodStyleStrengthThreshold&&R>this.config.methodLoserVulnThreshold&&(oe+=this.config.styleStrengthBonus),j>this.config.methodStrongFinisherWinnerThreshold&&I>this.config.methodStrongFinisherLoserThreshold&&(oe+=this.config.finisherVsVulnerableBonus);const ce=t.archetype?.combinedRole||"",ke=r.archetype?.combinedRole||"",Ke=ce.includes("AT")||ce.includes("ANT"),k=ke.includes("PT")||ke.includes("PNT");Ke&&k&&j>this.config.predatorFinishRateThreshold&&R>this.config.predatorVulnerabilityThreshold&&(oe+=this.config.predatorVsDefensiveBonus);const ge=r===i?q:$,Te=Math.min(j,ge),Oe=Math.max(j,ge);if(Te>this.config.bothFinishersThreshold&&Oe>this.config.bothFinishersThreshold&&(oe*=this.config.bothFinishersMultiplier),m&&m.sampleSize>=this.config.divisionMinSampleSize&&this.config.divisionBlendFinishLikelihood>0){const K=m.finishRate*100;oe=oe*(1-this.config.divisionBlendFinishLikelihood)+K*this.config.divisionBlendFinishLikelihood}const Ue=t.rawData.Sig_Strikes_Landed/((t.rawData.Fight_Duration_Seconds||600)/60)||0,Ie=t.rawData.Knockdowns/((t.rawData.Fight_Duration_Seconds||600)/900)||0;Ue>this.config.decisionToKOStrLandedThreshold&&Ie>this.config.decisionToKOKnockdownThreshold&&(oe+=this.config.decisionToKOBiasReduction);const $e=t.fightRadar.CTRL-r.fightRadar.CTRL,je=t.fightRadar.TD_OFF-r.fightRadar.TD_OFF;if($e>this.config.decisionToSubCtrlGapThreshold&&je>this.config.decisionToSubTDGapThreshold&&(oe+=this.config.decisionToSubBiasReduction),oe<this.config.finishLikelihoodThreshold){let K=Math.min(Math.round(100-oe),this.config.decisionBaseMax),Fe=this.config.decisionBaseMax;if(Te>this.config.decisionCapHighFinishThreshold){const v=this.config.decisionCapPenaltyBase+(Te-this.config.decisionCapHighFinishThreshold)/this.config.decisionCapPenaltyDivisor*this.config.decisionCapPenaltyScale;Fe=Math.max(Fe-v,this.config.decisionMinFloor)}else Te>this.config.decisionCapMedFinishThreshold?Fe=Math.max(Fe-this.config.decisionCapMedPenalty,this.config.decisionMinFloor+4):Te>this.config.decisionCapLowFinishThreshold&&(Fe=Math.max(Fe-this.config.decisionCapLowPenalty,this.config.decisionMinFloor+2));const si=t.rawData.Sig_Strikes_Landed/((t.rawData.Fight_Duration_Seconds||600)/60)||0,Ye=t.rawData.Knockdowns/((t.rawData.Fight_Duration_Seconds||600)/900)||0;si>this.config.decisionToKOStrLandedThreshold&&Ye>this.config.decisionToKOKnockdownThreshold&&(K-=this.config.decisionToKOBiasReduction);const hi=t.fightRadar.CTRL-r.fightRadar.CTRL,ci=t.fightRadar.TD_OFF-r.fightRadar.TD_OFF;return hi>this.config.decisionToSubCtrlGapThreshold&&ci>this.config.decisionToSubTDGapThreshold&&(K-=this.config.decisionToSubBiasReduction),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(K,Fe),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:q,finishRate2:$}}let ue=X*this.config.koThreatWinnerWeight+O*this.config.koThreatLoserWeight,De=A*this.config.subThreatWinnerWeight+x*this.config.subThreatLoserWeight;if(m&&m.sampleSize>=this.config.divisionMinSampleSize){if(this.config.divisionBlendKOThreat>0){const K=m.koRate*100;ue=ue*(1-this.config.divisionBlendKOThreat)+K*this.config.divisionBlendKOThreat}if(this.config.divisionBlendSubThreat>0){const K=m.submissionRate*100;De=De*(1-this.config.divisionBlendSubThreat)+K*this.config.divisionBlendSubThreat}}if(m&&m.sampleSize>=this.config.divisionMinSampleSize){const K=Math.abs(ue-De),Fe=m.koRate*100,si=m.submissionRate*100,Ye=Fe-si;K<this.config.divisionThreatDiffThreshold&&Math.abs(Ye)>this.config.divisionPreferenceThreshold&&(Ye>0?ue+=this.config.divisionTiebreakerBoost:De+=this.config.divisionTiebreakerBoost)}const ze=x-O;ze>this.config.subVulnDiffHighThreshold?De+=this.config.subVulnDiffHighBonus:ze>this.config.subVulnDiffMedThreshold&&(De+=this.config.subVulnDiffMedBonus);const Ve=O-x;Ve>this.config.koVulnDiffHighThreshold?ue+=this.config.koVulnDiffHighBonus:Ve>this.config.koVulnDiffMedThreshold&&(ue+=this.config.koVulnDiffMedBonus);const Re=t.fightRadar.STR_OFF-r.fightRadar.STR_OFF;if(Re>this.config.strOffGapLowThreshold){const K=Re>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:Re>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;ue+=K}const Pe=t.fightRadar.CTRL-r.fightRadar.CTRL;if(Pe>this.config.ctrlGapLowThreshold){const K=Pe>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:Pe>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;De+=K}const fe=t.fightRadar.TD_OFF-r.fightRadar.TD_OFF;if(fe>this.config.tdOffGapLowThreshold){const K=fe>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:fe>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;De+=K}const ae=t.rawData.Fight_Duration_Seconds||600,me=r.rawData.Fight_Duration_Seconds||600,He=t.rawData.Sig_Strikes_Landed/(ae/60)||0,Qe=r.rawData.Sig_Strikes_Absorbed/(me/60)||0,ai=t.rawData.Knockdowns/(ae/900)||0;He>this.config.unexpectedKOStrLandedThreshold&&Qe>this.config.unexpectedKOStrAbsorbedThreshold&&ai>this.config.unexpectedKOKnockdownThreshold&&ue<this.config.unexpectedKOThreatThreshold&&(ue+=this.config.unexpectedKOBoost);const Je=X>A&&O>x,ei=A>X&&x>O,ii=Math.abs(ue-De),ri=Math.abs(X-A);if(ii<this.config.methodThreatDiffThreshold?ri<this.config.methodStyleDiffThreshold?O>x:Je&&!ei||ue>De&&!ei:ue>De){let K=Math.round(oe+ue*this.config.koThreatMultiplier);return w>10&&(K+=this.config.koSkillGapBonus),O>30&&(K+=this.config.koLoserVulnBonus),X>50&&(K+=this.config.koWinnerRateBonus),X>this.config.koComboWinnerRateThreshold&&O>this.config.koComboLoserVulnThreshold&&(K+=this.config.koComboBonus),Je&&X>this.config.koMethodMatchWinnerThreshold&&O>this.config.koMethodMatchLoserThreshold&&(K+=this.config.koMethodMatchBonus),z>this.config.koToDecisionLoserDecisionRateThreshold&&ue<this.config.koToDecisionLowKOThreatThreshold&&(K-=this.config.koToDecisionBiasReduction),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(K,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:q,finishRate2:$}}else{let K=Math.min(Math.round(oe+De*this.config.subThreatMultiplier),this.config.subMaxProb);return w>10&&(K+=this.config.subSkillGapBonus),x>24&&(K+=this.config.subLoserVulnBonus),A>40&&(K+=this.config.subWinnerRateBonus),A>this.config.subComboWinnerRateThreshold&&x>this.config.subComboLoserVulnThreshold&&(K+=this.config.subComboBonus),ei&&A>this.config.subMethodMatchWinnerThreshold&&x>this.config.subMethodMatchLoserThreshold&&(K+=this.config.subMethodMatchBonus),z>this.config.subToDecisionLoserDecisionRateThreshold&&De<this.config.subToDecisionLowSubThreatThreshold&&(K-=this.config.subToDecisionBiasReduction),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(K,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:q,finishRate2:$}}}predictTotalRounds(i,s,f,l=3){const t=f.winner,r=t===i?s:i,o=di.loadDivisionCoefficients(),y=t.division,c=o.get(y),m=c?l===5?c.stats_5R:c.stats_3R:null,B=t.overall+(t.oppTierScore-this.config.durationOppTierNeutral)*this.config.durationOppTierWeight,ie=r.overall+(r.oppTierScore-this.config.durationOppTierNeutral)*this.config.durationOppTierWeight,w=Math.abs(B-ie),q=(i.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,$=(s.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,j=t===i?q:$,G=t===i?$:q,te=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,X=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,S=t===i?te:X,L=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,A=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,O=t===i?L:A,x=r.rawData.Number_of_Fights_36m>0?(r.rawData.loss_kotko+r.rawData.loss_sub)/r.rawData.Number_of_Fights_36m*100:0;let R=w*this.config.durationSkillGapWeight+S*this.config.durationFinishRateWeight+x*this.config.durationVulnerabilityWeight+(15-Math.min(j,15))*this.config.durationAvgTimeWeight*10;x>this.config.durationLoserVulnThreshold&&(R+=this.config.durationLoserVulnBonus),te<this.config.durationBothLowFinishThreshold&&X<this.config.durationBothLowFinishThreshold&&(R-=this.config.durationDecisionFighterPenalty);const I=i.rawData.Number_of_Fights_36m,z=s.rawData.Number_of_Fights_36m;if(Math.abs(I-z)>=this.config.durationPaceAsymmetryThreshold&&Math.min(I,z)<=2&&(R-=this.config.durationPaceAsymmetryPenalty),m&&m.sampleSize>=this.config.durationDivisionMinSampleSize&&this.config.divisionBlendDurationFinish>0){const M=(m.finishRate*100-this.config.ufcAverageFinishRate)*this.config.divisionFinishAdjustmentScale;R=R*(1-this.config.divisionBlendDurationFinish)+(R+M)*this.config.divisionBlendDurationFinish}const ve=(q+$)/2,V=[],Ee=S>this.config.extremeFinishWinnerThreshold1&&x>this.config.extremeFinishLoserThreshold1&&w>this.config.extremeFinishSkillGap1||S>this.config.extremeFinishWinnerThreshold2&&x>this.config.extremeFinishLoserThreshold2||w>this.config.extremeFinishSkillGap3&&S>this.config.extremeFinishWinnerThreshold3;if(R>this.config.under15ScoreThreshold&&f.probability>this.config.under15WinProbThreshold&&Ee||j<this.config.under15WinnerTimeThreshold&&G<this.config.under15LoserTimeThreshold&&w>this.config.under15SkillGapThreshold||R>this.config.under15RelaxedEarlyFinishThreshold&&f.probability>this.config.under15RelaxedWinProbThreshold){let Q=Math.min(Math.round(R+this.config.durationUnderExtreme),this.config.under15InitialCap);w>this.config.under15SkillGapExtreme&&(Q+=this.config.durationUnderSkillGapExtreme),S>this.config.under15FinishRateExtreme&&(Q+=this.config.durationUnderFinishRateExtreme),x>this.config.under15VulnExtreme&&(Q+=this.config.durationUnderLoserVulnExtreme);const M=Math.min(Q,this.config.under15FinalCap);V.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:M,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:j})}if(l===5){const Q=S>this.config.under25FinishThreshold1&&x>this.config.under25LoserFinishThreshold1||O>this.config.under25KOThreshold&&j<this.config.under25AvgTimeThreshold,M=j<this.config.under25WinnerTimeThreshold&&G<this.config.under25LoserTimeThreshold;if(R>this.config.earlyFinishScoreThreshold&&f.probability>this.config.under25WinProbMin||Q){let ce=Math.min(Math.round(R+this.config.underBonusBase),this.config.under25InitialCap);w>this.config.under25SkillGapThreshold&&(ce+=this.config.durationUnderSkillGapBonus),x>this.config.under25VulnThreshold&&(ce+=this.config.durationUnderLoserVulnBonus),S>this.config.under25WinnerFinishThreshold&&(ce+=this.config.durationUnderWinnerFinishBonus),S>this.config.under25ComboWinnerThreshold&&x>this.config.under25ComboLoserThreshold&&(ce+=this.config.durationUnderComboBonus);const ke=Math.min(ce,this.config.under25FinalCap);M&&V.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:ke,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:j})}}if(l===3){let Q=this.config.over15BaseProbability;R>this.config.over15HighThreatThreshold&&(Q=this.config.over15HighThreatValue),R>this.config.over15MedThreatLowThreshold&&R<=this.config.over15MedThreatHighThreshold&&(Q=this.config.over15MedThreatValue),R<this.config.over15LowThreatThreshold&&(Q=this.config.over15LowThreatValue),R<this.config.over15VeryLowThreatThreshold&&(Q=this.config.over15VeryLowThreatValue),S>this.config.over15FinisherThreshold&&(Q-=this.config.over15FinisherPenalty),S<this.config.over15DecisionThreshold&&(Q+=this.config.over15DecisionBoost),S<this.config.over15DualDecisionThreshold1&&x<this.config.over15DualDecisionThreshold2&&(Q+=this.config.over15DualDecisionBoost),ve>this.config.over15LongTimeThreshold&&(Q=Math.min(Q+this.config.over15LongTimeBoost,this.config.over15MaxProbability)),R>this.config.over15FinishLikelihoodPenaltyThreshold&&(Q-=this.config.over15FinishLikelihoodPenaltyAmount);const M=Math.min(Math.max(Math.round(Q),this.config.over15MinProbability),this.config.over15MaxProbability);V.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:M,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:ve})}if(l===5){let Q=this.config.over15BaseProbability;R>this.config.over15HighThreatThreshold&&(Q=this.config.over15HighThreatValue),R>this.config.over15MedThreatLowThreshold&&R<=this.config.over15MedThreatHighThreshold&&(Q=this.config.over15MedThreatValue),R<this.config.over15LowThreatThreshold&&(Q=this.config.over15LowThreatValue),R<this.config.over15VeryLowThreatThreshold&&(Q=this.config.over15VeryLowThreatValue),S>this.config.over15FinisherThreshold&&(Q-=this.config.over15FinisherPenalty),S<this.config.over15DecisionThreshold&&(Q+=this.config.over15DecisionBoost),S<this.config.over15DualDecisionThreshold1&&x<this.config.over15DualDecisionThreshold2&&(Q+=this.config.over15DualDecisionBoost);const M=Math.min(Math.max(Math.round(Q),this.config.over15MinProbability),this.config.over15MaxProbability);V.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:M,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:ve});const ce=S<this.config.over35DecisionThreshold1&&x<this.config.over35DecisionThreshold2&&ve>this.config.over35AvgTimeThreshold,ke=R<this.config.over35LowFinishThreshold,Ke=ve>this.config.over35LongTimeThreshold;if(ce||ke||Ke){let k=this.config.over35BaseProbability;S<this.config.over35PureDecisionThreshold&&x<this.config.over35PureDecisionThreshold&&(k=this.config.over35PureDecisionValue),S<this.config.over35ExtremeDecisionThreshold&&x<this.config.over35ExtremeDecisionThreshold&&(k=this.config.over35ExtremeDecisionValue),Ke&&(k=Math.max(k,this.config.over35LongMinProbability),S<this.config.over35LongDecisionThreshold&&x<this.config.over35LongDecisionThreshold&&(k=Math.min(k+this.config.over35LongDecisionBoost,this.config.over35LongDecisionCap))),R>this.config.over35FinishPenaltyThreshold1&&(k-=this.config.over35FinishPenalty1),R>this.config.over35FinishPenaltyThreshold2&&(k-=this.config.over35FinishPenalty2);const ge=Math.min(Math.max(Math.round(k),this.config.over35MinProbability),this.config.over35MaxProbability);V.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:ge,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:ve})}}return V.sort((Q,M)=>M.probability-Q.probability),V[0]}generateFightProps(i,s,f,l=3){const t=this.calculateBettingMetrics(i,s,f);this.hasDominantGrappler(i,s),this.isStrikerWar(i,s);const r=6;return t.f1SubRate+t.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:t}:t.weightedFinishRate&&t.weightedFinishRate>this.config.durationFinishRateThreshold&&t.weightedAvgFightTime&&t.weightedAvgFightTime<r?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:t}:t.f1KnockdownRate>.6&&t.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:t}:t.f1TakedownRate>this.config.durationTakedownRateThreshold||t.f2TakedownRate>this.config.durationTakedownRateThreshold?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:t}:t.f1StrikeVolume>this.config.durationStrikeVolumeThreshold&&t.f2StrikeVolume>this.config.durationStrikeVolumeThreshold?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:t}:t.f1TakedownRate<this.config.durationLowTakedownThreshold&&t.f2TakedownRate<this.config.durationLowTakedownThreshold?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:t}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:t}}analyzeKeyFactors(i,s){const f=[],l=i.rawData.reach_inches||0,t=s.rawData.reach_inches||0,r=Math.abs(l-t);if(r>this.config.winnerReachDiffThreshold){const w=l>t?i.name||"Fighter 1":s.name||"Fighter 2";f.push({label:"combat_analysis.key_factors.reach_advantage",value:`${w} +${r}"`,type:"advantage"})}const o=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0,y=s.rawData.Sig_Strikes_Thrown>0?Math.round(s.rawData.Sig_Strikes_Landed/s.rawData.Sig_Strikes_Thrown*100):0;f.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${i.name||"F1"}: ${o}% vs ${s.name||"F2"}: ${y}%`,type:"comparison"});const c=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85,m=s.rawData.takedowns_attempted_against>0?Math.round(s.rawData.Takedowns_Defended/s.rawData.takedowns_attempted_against*100):85;f.push({label:"combat_analysis.key_factors.takedown_defense",value:`${i.name||"F1"}: ${c}% vs ${s.name||"F2"}: ${m}%`,type:"comparison"});const B=i.rawData.Number_of_Fights_36m||0,ie=s.rawData.Number_of_Fights_36m||0;if(Math.abs(B-ie)>this.config.winnerExperienceGapThreshold){const w=B>ie?i.name||"Fighter 1":s.name||"Fighter 2",q=Math.max(B,ie),$=Math.min(B,ie);f.push({label:"combat_analysis.key_factors.higher_activity",value:`${w}: ${q} vs ${$} fights`,type:"advantage"})}return f}analyzeTrends(i,s){const f=[],l=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0,t=s.rawData.Number_of_Fights_36m>0?Math.round(s.rawData.win/s.rawData.Number_of_Fights_36m*100):0;l>=75?f.push({type:"positive",text:`${i.name||"Fighter 1"} has ${l}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 1",winRate:l},fighter:i.name}):l<50&&f.push({type:"negative",text:`${i.name||"Fighter 1"} struggling at ${l}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 1",winRate:l},fighter:i.name}),t>=75?f.push({type:"positive",text:`${s.name||"Fighter 2"} has ${t}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:s.name||"Fighter 2",winRate:t},fighter:s.name}):t<50&&f.push({type:"negative",text:`${s.name||"Fighter 2"} struggling at ${t}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:s.name||"Fighter 2",winRate:t},fighter:s.name});const r=(i.rawData.Fight_Duration_Seconds||900)/60,o=(s.rawData.Fight_Duration_Seconds||900)/60,y=(r+o)/2;return f.push({type:"neutral",text:`Combined average fight time: ${y.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:y.toFixed(1)}}),f}calculateMomentum(i){const s=i.streak;if(s===0)return 0;const f=Math.abs(s);return s>0?f>=3?this.config.winStreak3PlusBonus:f>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:f>=3?-this.config.loseStreak3PlusPenalty:f>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(i){return i===0?1:i===1?this.config.damageMultiplier1KO:i===2?this.config.damageMultiplier2KO:i===3?this.config.damageMultiplier3KO:i===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(i){const s=this.calculateAge(i),l={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[i.division]||32,t=i.rawData.loss_kotko||0,r=this.calculateDamageMultiplier(t),o=(s-l)*r;if(o<=0)return 1;let y=0;return o<=5?y=o*this.config.agePenaltyPhase1Rate:o<=10?y=5*this.config.agePenaltyPhase1Rate+(o-5)*this.config.agePenaltyPhase2Rate:y=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(o-10)*this.config.agePenaltyPhase3Rate,y=Math.min(y,this.config.agePenaltyMaxCap),1-y}calculateAge(i){if(i.age&&i.age>0)return i.age;if(i.birthDate||i.rawData.Birth_Date){const t=i.birthDate||i.rawData.Birth_Date,r=new Date(t);if(!isNaN(r.getTime())){const o=new Date;let y=o.getFullYear()-r.getFullYear();const c=o.getMonth()-r.getMonth();return(c<0||c===0&&o.getDate()<r.getDate())&&y--,y}}const s=25,f=2.5,l=i.rawData.Number_of_Fights_36m||0;return Math.round(s+l/f)}getInactiveMonths(i){const s=i.rawData.Number_of_Fights_36m||0;return s>=3?0:s>=2?6:s>=1?12:24}getFightsInPeriod(i,s){const f=s/36;return Math.round((i.rawData.Number_of_Fights_36m||0)*f)}getWeightedMetric(i,s,f,l,t=.5){const r=f.probability/100,o=1-r;return f.winner===l?i*r+s*o*t:s*r+i*o*t}getFighterStyle(i){const s=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,l=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0;return s>15||f>25?"grappler":l>30&&s<10?"striker":"balanced"}hasDominantGrappler(i,s){const f=this.getFighterStyle(i),l=this.getFighterStyle(s),t=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,r=s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0;return f==="grappler"&&t>20||l==="grappler"&&r>20}isStrikerWar(i,s){return this.getFighterStyle(i)==="striker"&&this.getFighterStyle(s)==="striker"}calculateBettingMetrics(i,s,f){const l=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,t=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,r=(i.rawData.Fight_Duration_Seconds||900)/60,o=(s.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f2KnockdownRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Knockdowns/s.rawData.Number_of_Fights_36m:0,f1StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:s.rawData.Sig_Strikes_Thrown||0,f1SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f2SubRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Sub_Attempts/s.rawData.Number_of_Fights_36m:0,f1FinishRate:l,f2FinishRate:t,avgFightTime:(r+o)/2,weightedFinishRate:f?this.getWeightedMetric(l,t,f,i,.5):void 0,weightedAvgFightTime:f?this.getWeightedMetric(r,o,f,i,1):void 0}}getWinReasoningKey(i,s,f,l){return i.overall>s.overall+20?"combat_analysis.reasoning.significant_rating_advantage":i.performance>s.performance+10?"combat_analysis.reasoning.significant_performance_advantage":i.fightIQ>s.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":f>l+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(i){return i>=di.MIN_HIGH_CONFIDENCE?"high":i>=di.MIN_MEDIUM_CONFIDENCE?"medium":(i>=di.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(i){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:i.winner.name||"Unknown Fighter",confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{adjustedScore1:i.adjustedScore1,adjustedScore2:i.adjustedScore2},priority:1}}createVictoryMethodCard(i){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:i.method,predictionKey:i.methodKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{method:i.method,finishRate1:i.finishRate1,finishRate2:i.finishRate2},priority:2}}createTotalRoundsCard(i){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:i.prediction,predictionKey:i.predictionKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{avgTime:i.avgTime},priority:3}}createFightPropsCard(i){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:i.prop,predictionKey:i.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{value:i.value,valueKey:i.valueKey,metrics:i.metrics},priority:7}}createKeyFactorsCard(i){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:i},priority:8}}createTrendsCard(i){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:i},priority:9}}createNoPredictionCard(i,s,f,l,t,r,o){if(i==="insufficient_fights"&&s&&f){const y=(l||0)<=2,c=(t||0)<=2;let m="";return y&&c?m=`Both fighters have insufficient fight data: ${s.name} (${l} fights) and ${f.name} (${t} fights). Minimum 3 fights required for accurate predictions.`:y?m=`${s.name} has insufficient fight data (${l} fights). Minimum 3 fights required for accurate predictions.`:c&&(m=`${f.name} has insufficient fight data (${t} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:m,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:l,fighter2Fights:t}}}if(i==="different_divisions"&&s&&f)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${s.name} competes in ${s.division} while ${f.name} competes in ${f.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:s.division,fighter2Division:f.division}};if(i==="low_moneyline_confidence"&&s&&f){const y=r||0,c=o||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${s.name} ${y.toFixed(1)}% vs ${f.name} ${c.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:s.name,fighter2Name:f.name,fighter1Probability:y,fighter2Probability:c}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(i){return i.some(s=>(s.type==="moneyline"||s.type==="victory_method"||s.type==="duration"||s.type==="winner_and_method"||s.type==="fight_props")&&s.confidence>=di.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(i){return i.sort((s,f)=>s.priority-f.priority)}}const Ra=new di;var ka=C('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),Fa=C('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Sa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),xa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ma=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ca=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ka=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Pa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),La=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Oa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),ja=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ba=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Na=C('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ea=C('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),Wa=C('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),$a=C("<div><!></div>"),Aa=C('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),qa=C('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function Ia(W,i){yi(i,!1);const[s,f]=Fi(),l=()=>ui(Vt,"$locale",s),t=()=>ui(Si,"$_",s),r=D(),o=D(),y=D(),c=D(),m=D(),B=D(),ie=D(),w=D(),q=D(),$=D(),j=D(),G=D(),te=D(),X=D(),S=D(),L=D(),A=D(),O=D(),x=$t();let R=Ze(i,"fighter1",8,null),I=Ze(i,"fighter2",8,null),z=Ze(i,"scheduledRounds",8,3);function oe(ke){x("roundsChanged",ke)}function ve(ke,Ke){return ke.filter(k=>k.type===Ke)}function V(ke){switch(ke){case ki.HIGH:return"high-confidence";case ki.MEDIUM:return"medium-confidence";case ki.LOW:return"low-confidence";default:return""}}let Ee=l();H(()=>(P(R()),P(I())),()=>{g(r,R()&&I())}),H(()=>(e(r),P(R()),P(I()),P(z())),()=>{g(o,e(r)?Ra.generateBetCards(R(),I(),!0,z()):[])}),H(()=>(e(r),P(R()),P(I()),e(o),fi),()=>{e(r)&&R()&&I()&&e(o).length>0&&fi.trackBettingAnalysis(R().name,I().name)}),H(()=>(e(o),we),()=>{g(y,ve(e(o),we.MONEYLINE))}),H(()=>(e(o),we),()=>{g(c,ve(e(o),we.VICTORY_METHOD))}),H(()=>(e(o),we),()=>{g(m,ve(e(o),we.WINNER_AND_METHOD))}),H(()=>(e(o),we),()=>{g(B,ve(e(o),we.DURATION))}),H(()=>(e(o),we),()=>{g(ie,ve(e(o),we.GOES_TO_DECISION))}),H(()=>(e(o),we),()=>{g(w,ve(e(o),we.GONE_IN_60))}),H(()=>(e(o),we),()=>{g(q,ve(e(o),we.FIGHT_PROPS))}),H(()=>(e(o),we),()=>{g($,ve(e(o),we.KEY_FACTORS))}),H(()=>(e(o),we),()=>{g(j,ve(e(o),we.TRENDS))}),H(()=>(e(o),we),()=>{g(G,ve(e(o),we.NO_PREDICTION))}),H(()=>(e(y),e(c),e(m),e(B),e(ie),e(w)),()=>{g(te,e(y).length+e(c).length+e(m).length+e(B).length+e(ie).length+e(w).length)}),H(()=>e(te),()=>{g(X,e(te)>0)}),H(()=>e(X),()=>{g(S,e(X)?0:1)}),H(()=>(e(q),e($),e(j)),()=>{g(L,e(q).length+e($).length+e(j).length)}),H(()=>(e(te),e(S),e(L)),()=>{g(A,e(te)+e(S)+e(L))}),H(()=>l(),()=>{l()!==Ee&&Ee&&window.location.reload()}),H(()=>e(r),()=>{g(O,e(r))}),wi(),Ti();var Q=li(),M=qe(Q);{var ce=ke=>{var Ke=qa(),k=a(Ke),ge=a(k),Te=a(ge),Oe=a(Te);at(Oe,{size:32});var Ue=d(Te),Ie=d(ge,4),$e=a(Ie),je=d(k,2),ue=a(je),De=a(ue),ze=a(De),Ve=d(De,2),Re=a(Ve),Pe=d(Ve,2),fe=a(Pe),ae=d(ue,4),me=a(ae),He=a(me),Qe=d(me,2),ai=a(Qe),Je=d(Qe,2),ei=a(Je),ii=d(je,2);{var ri=se=>{var h=ka(),N=a(h),Z=a(N),_e=d(N,2),de=a(_e),T=d(de,2);E(b=>{u(Z,`${b??""}:`),Ae(de,1,`rounds-btn ${z()===3?"active":""}`,"svelte-1v78qb8"),Ae(T,1,`rounds-btn ${z()===5?"active":""}`,"svelte-1v78qb8")},[()=>(t(),n(()=>t()("fight_radar.scheduled_rounds")))]),We("click",de,()=>oe(3)),We("click",T,()=>oe(5)),p(se,h)};ne(ii,se=>{e(te)>0&&se(ri)})}var Me=d(ii,2);let K;var Fe=a(Me);ti(Fe,1,()=>e(G),oi,(se,h)=>{var N=Fa(),Z=a(N),_e=a(Z);Ki(_e,{size:16,style:"display: inline; margin-right: 0.25rem;"});var de=d(_e),T=d(Z,2),b=a(T),ee=a(b),he=d(b,2),re=a(he),U=d(T,2),Y=a(U);E((le,xe,be,pe)=>{u(de,` ${le??""}`),u(ee,xe),u(re,be),u(Y,pe)},[()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.confidence_threshold"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey,{values:e(h).metadata||{}})))]),p(se,N)});var si=d(Fe,2);ti(si,1,()=>e(y),oi,(se,h)=>{var N=Sa(),Z=a(N),_e=a(Z),de=d(Z,2),T=a(de),b=a(T),ee=d(T,2),he=a(ee),re=d(de,2),U=a(re);E((Y,le,xe,be)=>{Ae(N,1,`bet-card moneyline ${Y??""}`,"svelte-1v78qb8"),u(_e,le),u(b,(e(h),n(()=>e(h).prediction))),u(he,`${e(h),n(()=>e(h).confidence)??""}% ${xe??""}`),u(U,be)},[()=>(e(h),n(()=>V(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),p(se,N)});var Ye=d(si,2);ti(Ye,1,()=>e(c),oi,(se,h)=>{var N=xa(),Z=a(N),_e=a(Z),de=d(Z,2),T=a(de),b=a(T),ee=d(T,2),he=a(ee),re=d(de,2),U=a(re);E((Y,le,xe,be,pe)=>{Ae(N,1,`bet-card method-victory ${Y??""}`,"svelte-1v78qb8"),u(_e,le),u(b,xe),u(he,`${e(h),n(()=>e(h).confidence)??""}% ${be??""}`),u(U,pe)},[()=>(e(h),n(()=>V(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),p(se,N)});var hi=d(Ye,2);ti(hi,1,()=>e(m),oi,(se,h)=>{var N=Ma(),Z=a(N),_e=a(Z),de=d(Z,2),T=a(de),b=a(T),ee=d(T,2),he=a(ee),re=d(de,2),U=a(re);E((Y,le,xe,be,pe)=>{Ae(N,1,`bet-card winner-and-method ${Y??""}`,"svelte-1v78qb8"),u(_e,le),u(b,`${e(h),n(()=>e(h).prediction)??""}
              ${xe??""}`),u(he,`${e(h),n(()=>e(h).confidence)??""}% ${be??""}`),u(U,pe)},[()=>(e(h),n(()=>V(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):"")),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),p(se,N)});var ci=d(hi,2);ti(ci,1,()=>e(B),oi,(se,h)=>{var N=Pa(),Z=a(N),_e=a(Z),de=d(Z,2),T=a(de),b=a(T),ee=d(T,2),he=a(ee),re=d(de,2),U=a(re),Y=d(re,2);{var le=be=>{var pe=Ca(),Ne=a(pe);E(Ge=>u(Ne,Ge),[()=>(t(),e(h),n(()=>t()(e(h).explanationKey)))]),p(be,pe)},xe=be=>{var pe=li(),Ne=qe(pe);{var Ge=Xe=>{var ni=Ka(),vi=a(ni);E(()=>u(vi,(e(h),n(()=>e(h).explanation)))),p(Xe,ni)};ne(Ne,Xe=>{e(h),n(()=>e(h).explanation)&&Xe(Ge)},!0)}p(be,pe)};ne(Y,be=>{e(h),n(()=>e(h).explanationKey)?be(le):be(xe,!1)})}E((be,pe,Ne,Ge,Xe)=>{Ae(N,1,`bet-card total-rounds ${be??""}`,"svelte-1v78qb8"),u(_e,pe),u(b,Ne),u(he,`${e(h),n(()=>e(h).confidence)??""}% ${Ge??""}`),u(U,Xe)},[()=>(e(h),n(()=>V(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),p(se,N)});var v=d(ci,2);ti(v,1,()=>e(ie),oi,(se,h)=>{var N=La(),Z=a(N),_e=a(Z),de=d(Z,2),T=a(de),b=a(T),ee=d(T,2),he=a(ee),re=d(de,2),U=a(re);E((Y,le,xe,be,pe)=>{Ae(N,1,`bet-card decision-type ${Y??""}`,"svelte-1v78qb8"),u(_e,le),u(b,xe),u(he,`${e(h),n(()=>e(h).confidence)??""}% ${be??""}`),u(U,pe)},[()=>(e(h),n(()=>V(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),p(se,N)});var _=d(v,2);ti(_,1,()=>e(w),oi,(se,h)=>{var N=Oa(),Z=a(N),_e=a(Z),de=d(Z,2),T=a(de),b=a(T),ee=d(T,2),he=a(ee),re=d(de,2),U=a(re);E((Y,le,xe,be,pe)=>{Ae(N,1,`bet-card gone-in-60 ${Y??""}`,"svelte-1v78qb8"),u(_e,le),u(b,xe),u(he,`${e(h),n(()=>e(h).confidence)??""}% ${be??""}`),u(U,pe)},[()=>(e(h),n(()=>V(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),p(se,N)});var F=d(_,2);ti(F,1,()=>e(q),oi,(se,h)=>{var N=Na(),Z=a(N),_e=a(Z);tt(_e,{size:16,style:"display: inline; margin-right: 0.25rem;"});var de=d(_e),T=d(Z,2),b=a(T),ee=a(b),he=d(b,2),re=a(he),U=d(T,2),Y=a(U),le=d(U,2);{var xe=pe=>{var Ne=ja(),Ge=a(Ne);E(Xe=>u(Ge,Xe),[()=>(t(),e(h),n(()=>t()(e(h).explanationKey)))]),p(pe,Ne)},be=pe=>{var Ne=li(),Ge=qe(Ne);{var Xe=ni=>{var vi=Ba(),xi=a(vi);E(()=>u(xi,(e(h),n(()=>e(h).explanation)))),p(ni,vi)};ne(Ge,ni=>{e(h),n(()=>e(h).explanation)&&ni(Xe)},!0)}p(pe,Ne)};ne(le,pe=>{e(h),n(()=>e(h).explanationKey)?pe(xe):pe(be,!1)})}E((pe,Ne,Ge,Xe,ni)=>{u(de,` ${pe??""}`),u(ee,Ne),u(re,`${Ge??""}: ${Xe??""}`),u(Y,ni)},[()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.value"))),()=>(e(h),t(),n(()=>e(h).metadata?.valueKey?t()(e(h).metadata.valueKey):e(h).metadata?.value||"N/A")),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),p(se,N)});var J=d(F,2);ti(J,1,()=>e($),oi,(se,h)=>{var N=Wa(),Z=a(N),_e=a(Z),de=d(Z,2);ti(de,5,()=>(e(h),n(()=>e(h).metadata?.factors||[])),oi,(T,b)=>{var ee=Ea(),he=a(ee),re=a(he),U=d(he,2),Y=a(U);E(le=>{u(re,le),u(Y,(e(b),n(()=>e(b).value)))},[()=>(t(),e(b),n(()=>t()(e(b).label)))]),p(T,ee)}),E(T=>u(_e,T),[()=>(t(),e(h),n(()=>t()(e(h).titleKey)))]),p(se,N)});var Se=d(J,2);ti(Se,1,()=>e(j),oi,(se,h)=>{var N=Aa(),Z=a(N),_e=a(Z),de=d(Z,2);ti(de,5,()=>(e(h),n(()=>e(h).metadata?.trends||[])),oi,(T,b)=>{var ee=$a(),he=a(ee);{var re=Y=>{var le=pi();E(xe=>u(le,xe),[()=>(t(),e(b),n(()=>t()(e(b).textKey,{values:e(b).params||{}})))]),p(Y,le)},U=Y=>{var le=pi();E(()=>u(le,(e(b),n(()=>e(b).text)))),p(Y,le)};ne(he,Y=>{e(b),n(()=>e(b).textKey)?Y(re):Y(U,!1)})}E(()=>Ae(ee,1,`trend-item ${e(b),n(()=>e(b).type)??""}`,"svelte-1v78qb8")),p(T,ee)}),E(T=>u(_e,T),[()=>(t(),e(h),n(()=>t()(e(h).titleKey)))]),p(se,N)});var Ce=d(Me,2),Be=a(Ce),Le=a(Be);E((se,h,N,Z)=>{u(Ue,` ${se??""}`),u($e,h),u(ze,(P(R()),n(()=>R().name))),u(Re,`${P(R()),n(()=>R().rawData.win)??""}-${P(R()),n(()=>R().rawData.loss)??""}-${P(R()),n(()=>R().rawData.draws)??""}`),u(fe,(P(R()),n(()=>R().archetype.archetypeEmojis))),u(He,(P(I()),n(()=>I().name))),u(ai,`${P(I()),n(()=>I().rawData.win)??""}-${P(I()),n(()=>I().rawData.loss)??""}-${P(I()),n(()=>I().rawData.draws)??""}`),u(ei,(P(I()),n(()=>I().archetype.archetypeEmojis))),K=Ae(Me,1,"betting-grid svelte-1v78qb8",null,K,N),u(Le,`* ${Z??""}`)},[()=>(t(),n(()=>t()("combat_analysis.fight_analysis"))),()=>(t(),n(()=>t()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(A)<=3}),()=>(t(),n(()=>t()("combat_analysis.disclaimer")))]),p(ke,Ke)};ne(M,ke=>{e(O)&&ke(ce)})}p(W,Q),Di(),f()}var za=C('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),Va=C('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Ha=C('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Ga=C('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),Ua=C('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Ya=C('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),Qa=C('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Xa=C('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Za=C('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function Ja(W,i){yi(i,!1);const s=D(),f=D(),l=D(),t=D();let r=Ze(i,"channelId",8),o=D([]),y=D(!0),c=D(null),m=D(0),B=D(!1),ie=D(null),w=D(!0);function q(){e(o).length!==0&&(g(w,!0),Ii(m),e(m)>=e(o).length*2&&setTimeout(()=>{g(w,!1),g(m,e(o).length),setTimeout(()=>{g(w,!0)},50)},400))}function $(){e(o).length!==0&&(g(w,!0),Ii(m,-1),e(m)<e(o).length&&setTimeout(()=>{g(w,!1),g(m,e(o).length*2-1),setTimeout(()=>{g(w,!0)},50)},400))}function j(M){g(ie,M)}let G=0,te=0,X=0,S=!1,L=!1,A=D(0),O=0;const x=40;function R(M){e(B)&&(G=M.touches[0].clientX,te=M.touches[0].clientY,X=G,S=!0,L=!1,g(w,!1),O=e(m),g(A,0))}function I(M){if(!e(B)||!S)return;const ce=M.touches[0].clientX,ke=M.touches[0].clientY,Ke=Math.abs(ce-G),k=Math.abs(ke-te);if(!L)if(Ke>x&&Ke>k)L=!0;else if(k>Ke&&k>10){S=!1,L=!1,g(w,!0),g(A,0);return}else return;if(L){X=ce;const ge=X-G,Te=M.currentTarget instanceof HTMLElement?M.currentTarget.clientWidth:window.innerWidth;g(A,-(ge/Te)*100),M.preventDefault()}}function z(){if(!e(B)||!S)return;S=!1,L=!1,g(w,!0);const M=G-X;Math.abs(M)>50?M>0?g(m,O+1):g(m,O-1):Math.abs(e(A))>40?g(m,O+(e(A)>0?1:-1)):g(m,O),e(m)>=e(o).length*2?setTimeout(()=>{g(w,!1),g(m,e(o).length),setTimeout(()=>{g(w,!0)},50)},400):e(m)<e(o).length&&setTimeout(()=>{g(w,!1),g(m,e(o).length*2-1),setTimeout(()=>{g(w,!0)},50)},400),g(A,0),G=0,te=0,X=0}function oe(){const M=window.innerWidth;g(B,M<768)}st(()=>(oe(),window.addEventListener("resize",oe),(async()=>{try{const M=await Ht.fetchVideosByChannelId(r(),!0);M.length===0?g(c,"No se encontraron videos para este canal"):(g(o,M),console.log(`Loaded ${e(o).length} videos from channel ${r()}`))}catch(M){console.error("Error fetching videos:",M),g(c,"Error al cargar los videos")}finally{g(y,!1)}})(),()=>{window.removeEventListener("resize",oe)})),H(()=>e(B),()=>{g(s,e(B)?1:window.innerWidth>=1024?4:3)}),H(()=>(e(B),e(s)),()=>{g(f,e(B)?80:100/e(s))}),H(()=>e(B),()=>{g(l,e(B)?10:0)}),H(()=>e(o),()=>{g(t,e(o).length>0?[...e(o).map((M,ce)=>({...M,_key:`prev-${ce}`})),...e(o).map((M,ce)=>({...M,_key:`curr-${ce}`})),...e(o).map((M,ce)=>({...M,_key:`next-${ce}`}))]:[])}),H(()=>(e(o),e(m)),()=>{e(o).length>0&&e(m)===0&&g(m,e(o).length)}),wi(),Ti();var ve=Za(),V=a(ve);{var Ee=M=>{var ce=za();p(M,ce)},Q=M=>{var ce=li(),ke=qe(ce);{var Ke=ge=>{var Te=Va(),Oe=a(Te),Ue=a(Oe);E(()=>u(Ue,e(c))),p(ge,Te)},k=ge=>{var Te=li(),Oe=qe(Te);{var Ue=Ie=>{var $e=Xa(),je=a($e);{var ue=fe=>{var ae=Ha();We("click",ae,$),p(fe,ae)};ne(je,fe=>{e(o),n(()=>e(o).length>1)&&fe(ue)})}var De=d(je,2),ze=a(De);let Ve;ti(ze,5,()=>e(t),fe=>fe._key,(fe,ae)=>{var me=Ya(),He=a(me);{var Qe=Me=>{var K=Ga(),Fe=a(K);E(()=>{ye(Fe,"src",`${e(ae),n(()=>e(ae).embedUrl)??""}?autoplay=1`),ye(Fe,"title",(e(ae),n(()=>e(ae).title)))}),p(Me,K)},ai=Me=>{var K=Ua(),Fe=a(K);E(()=>{ye(K,"aria-label",`Reproducir ${e(ae),n(()=>e(ae).title)??""}`),ye(Fe,"src",(e(ae),n(()=>e(ae).thumbnailUrl))),ye(Fe,"alt",(e(ae),n(()=>e(ae).title)))}),We("click",K,()=>j(e(ae)._key)),p(Me,K)};ne(He,Me=>{e(ie),e(ae),n(()=>e(ie)===e(ae)._key)?Me(Qe):Me(ai,!1)})}var Je=d(He,2),ei=a(Je),ii=a(ei),ri=a(ii);E(()=>{bi(me,`flex: 0 0 ${e(B)?"80%":100/e(s)+"%"}`),ye(ei,"href",(e(ae),n(()=>e(ae).watchUrl))),u(ri,(e(ae),n(()=>e(ae).title)))}),p(fe,me)});var Re=d(De,2);{var Pe=fe=>{var ae=Qa();We("click",ae,q),p(fe,ae)};ne(Re,fe=>{e(o),n(()=>e(o).length>1)&&fe(Pe)})}E(fe=>{Ve=Ae(ze,1,"videos-track svelte-18xx8u1",null,Ve,fe),bi(ze,`transform: translateX(-${e(m)*e(f)-e(l)+e(A)}%)`)},[()=>({"no-transition":!e(w)})]),We("touchstart",$e,R),We("touchmove",$e,I),We("touchend",$e,z),p(Ie,$e)};ne(Oe,Ie=>{e(o),n(()=>e(o).length>0)&&Ie(Ue)},!0)}p(ge,Te)};ne(ke,ge=>{e(c)?ge(Ke):ge(k,!1)},!0)}p(M,ce)};ne(V,M=>{e(y)?M(Ee):M(Q,!1)})}p(W,ve),Di()}var es=C('<div class="loading svelte-1c61qfj" id="loading"><div class="loading-content svelte-1c61qfj"><div class="spinner svelte-1c61qfj"></div> <p class="svelte-1c61qfj"> </p></div></div>'),is=C('<button class="share-fight-btn svelte-1c61qfj"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c61qfj"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1c61qfj"></path></svg> </button>'),ts=C('<div class="action-buttons-section svelte-1c61qfj"><!> <button class="clear-radars-btn svelte-1c61qfj"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c61qfj"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1c61qfj"></path></svg> </button></div>'),as=C('<div class="controls svelte-1c61qfj"><div class="fighter-selectors svelte-1c61qfj"><div class="control-group svelte-1c61qfj"><label for="fighter1-select" class="svelte-1c61qfj"> </label> <div id="fighter1-container-select" class="svelte-1c61qfj"><!></div></div> <div class="vs-divider svelte-1c61qfj">VS</div> <div class="control-group svelte-1c61qfj"><label for="fighter2-select" class="svelte-1c61qfj"> </label> <div id="fighter2-container-select" class="svelte-1c61qfj"><!></div></div></div> <!></div>'),ss=C('<div class="division-disclaimer svelte-1c61qfj"><div class="disclaimer-title svelte-1c61qfj"><!> <strong class="svelte-1c61qfj"> </strong></div> <div class="disclaimer-text svelte-1c61qfj"> </div></div>'),ns=C('<div class="fighter-info svelte-1c61qfj"><div id="fighter1-container" class="svelte-1c61qfj"><!></div> <div id="fighter2-container" class="svelte-1c61qfj"><!></div></div>'),os=C('<div class="radar-container svelte-1c61qfj"><div id="fight-radar-container" class="svelte-1c61qfj"><!></div> <div id="iq-radar-container" class="svelte-1c61qfj"><!></div></div>'),rs=C('<!> <div class="view-calendar-link svelte-1c61qfj"><button class="calendar-link-btn svelte-1c61qfj"> </button></div>',1),ls=C('<hr class="section-divider svelte-1c61qfj"/> <!>',1),hs=C('<div class="fight-radar-app svelte-1c61qfj"><div class="container svelte-1c61qfj"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function bs(W,i){yi(i,!1);const[s,f]=Fi(),l=()=>ui(x,"$urlSearchParams",s),t=()=>ui(Si,"$_",s),r=D(),o=D(),y=D(),c=D(),m=D(),B=D(),ie=D(),w=D(),q=D(),$=D(),j=D(),G=D();let te=Ze(i,"isDarkMode",8,!0),X=Ze(i,"toggleTheme",8,()=>{}),S=D(new Map),L=D(new Map),A=D([]),O=D(new Map);const x=At(gi());function R(v,_){const F=`fighter${_}`;_i({[F]:v}),x.set(gi())}function I(v){_i({rounds:v.toString()}),x.set(gi())}let z=D(!1),oe=D(!1),ve=D(!1),V=D(!1),Ee=D(!1),Q=D(!1),M=D(!1),ce=D(!1),ke=!1;st(()=>{window.Highcharts=qt,x.set(gi());const v=Gt(()=>{x.set(gi())});return Ke(),v});async function Ke(){try{g(z,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:_,processedFightersMap:F,processedFighters:J}=await Yt.loadFightersFromCSV();g(S,v),g(O,_),g(L,F),g(A,J),g(oe,!0)}catch(v){console.error("Error loading data:",v)}finally{g(z,!1)}}function k(v=[]){return v.map(_=>({value:_.nameWithNickname,label:_.name,imageUrl:ge(_)}))}function ge(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:Te(v.division)?"no_photo_female.png":"no_photo_male.png"}function Te(v){return!!(v&&v.startsWith("W_"))}function Oe(v){if(R(v,1),!(!ke&&l().has("rounds"))){const F=e(S).get(v),J=e(o)?e(S).get(e(o)):null;F&&F.division_ranking==="0"||J&&J.division_ranking==="0"?I(5):(_i({rounds:""}),x.set(gi()))}ke=!0,v&&!e(o)&&(g(ce,!1),setTimeout(()=>{g(ce,!0),setTimeout(()=>{g(ce,!1)},50)},100))}function Ue(v){if(R(v,2),!l().has("rounds")){const F=e(r)?e(S).get(e(r)):null,J=e(S).get(v);F&&F.division_ranking==="0"||J&&J.division_ranking==="0"?I(5):(_i({rounds:""}),x.set(gi()))}v&&!e(r)&&(g(M,!1),setTimeout(()=>{g(M,!0),setTimeout(()=>{g(M,!1)},50)},100))}function Ie(v){g(Ee,v)}function $e(v){g(Q,v)}function je(){fi.trackCleanRadars(),_i({fighter1:"",fighter2:"",rounds:""}),x.set(gi())}function ue(){if(!e(r)||!e(o))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";fi.trackFightShare(e(r),e(o),v);const _=Ut("/",{fighter1:e(r),fighter2:e(o)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(r)} vs ${e(o)} - Fight-Radar`,text:`Compara las estadsticas de ${e(r)} vs ${e(o)}`,url:_}).catch(console.error):navigator.clipboard.writeText(_).then(()=>{De("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",_)})}function De(v){const _=document.createElement("div");_.className="notification",_.textContent=v,_.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(_),setTimeout(()=>{_.style.opacity="1",_.style.transform="translateY(0)"},10),setTimeout(()=>{_.style.opacity="0",_.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(_)},300)},3e3)}function ze(v,_,F){const J=[];return v&&J.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),_&&J.push({name:_.name,data:[_.fightRadar.STR_OFF,_.fightRadar.STR_DEF,_.fightRadar.TD_OFF,_.fightRadar.TD_DEF,_.fightRadar.CTRL,_.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),F&&J.push({name:F.name,data:[F.fightRadar.STR_OFF,F.fightRadar.STR_DEF,F.fightRadar.TD_OFF,F.fightRadar.TD_DEF,F.fightRadar.CTRL,F.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),J}function Ve(v,_,F){const J=[];return v&&J.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),_&&J.push({name:_.name,data:[_.iqRadar.distance,_.iqRadar.adaptability,_.iqRadar.composure,_.iqRadar.decisions,_.iqRadar.rhythm,_.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),F&&J.push({name:F.name,data:[F.iqRadar.distance,F.iqRadar.adaptability,F.iqRadar.composure,F.iqRadar.decisions,F.iqRadar.rhythm,F.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),J}function Re(v){const _={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[F,J,Se]=v.combinedRole.split("+")??["AT"];let Ce=[[F,100]];if(J&&Se?Ce=[[F,33],[J,34],[Se,33]]:J?Ce=[[F,50],[J,50]]:Se&&(Ce=[[F,60],[Se,40]]),Ce.length===1){const[Be,Le]=Ce[0],se=Math.min(Le,70);return`linear-gradient(135deg, ${_[Be]} 0%, ${_[Be]} ${se}%, var(--card-bg) 100%)`}else{const Be=Ce.reduce((N,[,Z])=>N+Z,0);let Le=[],se=0;return Ce.forEach(([N,Z],_e)=>{const de=Z/Be*85,T=_[N];_e===0&&Le.push(`${T} ${se}%`),se+=de,_e===Ce.length-1?(Le.push(`${T} ${se}%`),Le.push("var(--card-bg) 100%")):Le.push(`${T} ${se}%`)}),`linear-gradient(135deg, ${Le.join(", ")})`}}H(()=>l(),()=>{g(r,l().get("fighter1")||"")}),H(()=>l(),()=>{g(o,l().get("fighter2")||"")}),H(()=>l(),()=>{g(y,l().get("rounds")==="5"?5:3)}),H(()=>(e(Ee),e(Q)),()=>{g(c,e(Ee)||e(Q))}),H(()=>(e(A),e(o)),()=>{g(m,k(e(A)).filter(v=>v.value!==e(o)))}),H(()=>(e(A),e(r)),()=>{g(B,k(e(A)).filter(v=>v.value!==e(r)))}),H(()=>(e(r),e(o),e(S),e(O),Hi),()=>{g(ie,(()=>{if(!e(r)||!e(o))return null;const v=e(S).get(e(r)),_=e(S).get(e(o));if(!v||!_)return null;if(v.Division===_.Division){const F=v.Division;if(e(O).has(F))return Hi(F,e(O).get(F))}return null})())}),H(()=>(e(r),e(L)),()=>{g(w,e(r)?e(L).get(e(r))??null:null)}),H(()=>(e(o),e(L)),()=>{g(q,e(o)?e(L).get(e(o))??null:null)}),H(()=>(e(ie),e(r),e(o),e(S),e(O),Gi),()=>{g($,(()=>{if(!e(ie)||!e(r)||!e(o))return null;const v=e(S).get(e(r));return!v||!e(O).has(v.Division)?null:Gi(e(ie),e(O).get(v.Division))})())}),H(()=>(e(w),e(q),e($)),()=>{g(j,ze(e(w)??null,e(q)??null,e($)??null))}),H(()=>(e(w),e(q),e($)),()=>{g(G,Ve(e(w),e(q),e($)))}),H(()=>(e(z),e(S),e(r),e(o),fi),()=>{const v=!e(z)&&e(S).size>0&&e(S).has(e(r))&&e(S).has(e(o));g(ve,!!(e(r)&&e(o)&&v)),g(V,!!(e(r)&&e(o)&&v)),e(r)&&e(o)&&v&&fi.trackFighterComparison(e(r),e(o))}),wi(),Ti();var Pe=hs(),fe=a(Pe),ae=a(fe);It(ae,{showThemeToggle:!0,get isDarkMode(){return te()},get toggleTheme(){return X()}});var me=d(ae,2);{var He=v=>{var _=es(),F=a(_),J=d(a(F),2),Se=a(J);E(Ce=>u(Se,Ce),[()=>(t(),n(()=>t()("fight_radar.loading_data")))]),p(v,_)};ne(me,v=>{e(z)&&v(He)})}var Qe=d(me,2);{var ai=v=>{var _=as(),F=a(_),J=a(F),Se=a(J),Ce=a(Se),Be=d(Se,2),Le=a(Be);{let b=Ri(()=>(t(),n(()=>t()("common.select_fighter"))));Ji(Le,{id:"fighter1-select",get placeholder(){return e(b)},disabled:!1,get options(){return e(m)},get selectedValue(){return e(r)},onSelectionChange:Oe,onOpenStateChange:Ie,get shouldOpen(){return e(M)}})}var se=d(J,4),h=a(se),N=a(h),Z=d(h,2),_e=a(Z);{let b=Ri(()=>(t(),n(()=>t()("common.select_fighter"))));Ji(_e,{id:"fighter2-select",get placeholder(){return e(b)},disabled:!1,get options(){return e(B)},get selectedValue(){return e(o)},onSelectionChange:Ue,onOpenStateChange:$e,get shouldOpen(){return e(ce)}})}var de=d(F,2);{var T=b=>{var ee=ts(),he=a(ee);{var re=le=>{var xe=is(),be=d(a(xe));E(pe=>u(be,` ${pe??""}`),[()=>(t(),n(()=>t()("fight_radar.share_fight")))]),We("click",xe,ue),p(le,xe)};ne(he,le=>{e(r)&&e(o)&&le(re)})}var U=d(he,2),Y=d(a(U));E(le=>u(Y,` ${le??""}`),[()=>(t(),n(()=>t()("fight_radar.clear_radars")))]),We("click",U,je),p(b,ee)};ne(de,b=>{(e(r)||e(o))&&b(T)})}E((b,ee)=>{u(Ce,`${b??""}:`),u(N,`${ee??""}:`)},[()=>(t(),n(()=>t()("common.fighter_1"))),()=>(t(),n(()=>t()("common.fighter_2")))]),p(v,_)};ne(Qe,v=>{e(oe)&&v(ai)})}var Je=d(Qe,2);{var ei=v=>{var _=li(),F=qe(_);{var J=Se=>{var Ce=ss(),Be=a(Ce),Le=a(Be);Ki(Le,{size:20,class:"disclaimer-icon"});var se=d(Le,2),h=a(se),N=d(Be,2),Z=a(N);E((_e,de)=>{u(h,_e),u(Z,de)},[()=>(t(),n(()=>t()("fight_radar.cross_division_title"))),()=>(t(),P(mi),e(w),e(q),n(()=>t()("fight_radar.cross_division_text",{values:{division1:mi(e(w).rawData.Division),division2:mi(e(q).rawData.Division)}})))]),p(Se,Ce)};ne(F,Se=>{e(w),e(q),n(()=>e(w)?.rawData&&e(q)?.rawData&&e(w).rawData.Division!==e(q).rawData.Division)&&Se(J)})}p(v,_)};ne(Je,v=>{e(r)&&e(o)&&e(ve)&&v(ei)})}var ii=d(Je,2);{var ri=v=>{var _=ns(),F=a(_),J=a(F);et(J,{get fighter(){return e(w)},id:"fighter1-info"});var Se=d(F,2),Ce=a(Se);et(Ce,{get fighter(){return e(q)},id:"fighter2-info"}),E((Be,Le)=>{bi(F,`background: ${Be??""}`),bi(Se,`background: ${Le??""}`)},[()=>(e(w),n(()=>e(w)?Re(e(w).archetype):"var(--card-bg)")),()=>(e(q),n(()=>e(q)?Re(e(q).archetype):"var(--card-bg)"))]),p(v,_)};ne(ii,v=>{e(ve)&&v(ri)})}var Me=d(ii,2);{var K=v=>{var _=os(),F=a(_),J=a(F);zi(J,()=>(e(r),e(o),e(j),n(()=>`${e(r)}-${e(o)}-${e(j).length}`)),Be=>{{let Le=Ri(()=>(P(Ui),n(Ui)));Qi(Be,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(Le)},get series(){return e(j)},isIQRadar:!1})}});var Se=d(F,2),Ce=a(Se);zi(Ce,()=>(e(r),e(o),e(G),n(()=>`${e(r)}-${e(o)}-${e(G).length}`)),Be=>{{let Le=Ri(()=>(P(Yi),n(Yi)));Qi(Be,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(Le)},get series(){return e(G)},isIQRadar:!0})}}),p(v,_)};ne(Me,v=>{e(V),e(j),n(()=>e(V)&&e(j).length>0)&&v(K)})}var Fe=d(Me,2);Ia(Fe,{get fighter1(){return e(w)},get fighter2(){return e(q)},get scheduledRounds(){return e(y)},$$events:{roundsChanged:v=>I(v.detail)}});var si=d(Fe,2);{var Ye=v=>{var _=rs(),F=qe(_);zt(F,{limit:2});var J=d(F,2),Se=a(J),Ce=a(Se);E(Be=>u(Ce,`${Be??""} `),[()=>(t(),n(()=>t()("banner.view_calendar")))]),We("click",Se,()=>nt("/calendar")),p(v,_)};ne(si,v=>{!e(r)&&!e(o)&&!e(c)&&v(Ye)})}var hi=d(fe,2);{var ci=v=>{var _=ls(),F=d(qe(_),2);Ja(F,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),p(v,_)};ne(hi,v=>{!e(r)&&!e(o)&&!e(c)&&v(ci)})}p(W,Pe),Di(),f()}export{bs as default};
