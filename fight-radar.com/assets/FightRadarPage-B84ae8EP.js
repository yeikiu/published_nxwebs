import{q as sa,p as Pe,l as E,C as g,z as y,r as S,A as e,h as ca,j as ra,f as R,m as Ie,$ as wa,i as Z,c as t,u as o,S as Da,t as $,B as oe,s as je,b as f,o as na,I as oa,n as Ke,x as r,y as c,J as ta,T as tt,k as Xe,D as Be,E as Ve,Q as xa,U as it,V as ma,W as st,Y as Ma,Z as Ia,_ as fa,a as rt,a0 as nt,w as ot,F as lt,K as va,a1 as Fa}from"./lucide-qo0zz29p.js";import{H as vt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as dt}from"./Header-DziLSlcq.js";import{$ as la,n as Pa,a as ct,g as ia,b as _t,u as Ra,c as ht}from"./index-BtKFrec_.js";import{c as ha,g as ka,f as pa,a as Sa,b as ga,d as Ca,e as Na}from"./helpers-CIhDPcm8.js";import{R as pt,a as Ta}from"./RadarChart-CXZ3hlrg.js";import{F as gt}from"./FindYoutubeHighlights-BjVKCwb_.js";import"./highcharts-DyRVWUji.js";var ut=R('<img class="svelte-gkl5a1"/>'),mt=R('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),ft=R("<!> <span> </span>",1),bt=R("<span> </span>"),yt=R('<img class="svelte-gkl5a1"/>'),wt=R('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Dt=R('<button type="button"><!> <span> </span></button>'),xt=R('<div class="no-results svelte-gkl5a1"> </div>'),Ft=R('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Rt=R('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function $a(z,a){sa(a,!1);const[i,d]=oa(),v=()=>ta(la,"$_",i),s=y(),_=y();let u=Pe(a,"id",8),w=Pe(a,"placeholder",8,""),h=Pe(a,"disabled",8,!0),P=Pe(a,"options",24,()=>[]),b=Pe(a,"selectedValue",12,""),D=Pe(a,"onSelectionChange",8,void 0),M=y(!1),q=y(),J=y(),X=y("");function De(){h()||(g(M,!e(M)),e(M)&&setTimeout(()=>e(J)?.focus(),0))}function V(k){b(k.value),g(X,""),g(M,!1),D()&&D()(k.value,k)}function ke(k){const le=k.target;g(X,le.value)}function I(k){k.key==="Enter"&&e(_).length>0?(V(e(_)[0]),k.preventDefault()):k.key==="Escape"&&(g(X,""),g(M,!1))}function G(k){e(q)&&!e(q).contains(k.target)&&(g(M,!1),g(X,""))}function K(k){k.key==="Escape"&&g(M,!1)}E(()=>(S(P()),S(b())),()=>{g(s,P().find(k=>k.value===b()))}),E(()=>(e(X),S(P()),ha),()=>{g(_,e(X)?P().filter(k=>ha(k.label.toLowerCase()).includes(ha(e(X).toLowerCase()))):P())}),ca(),ra();var H=Rt();Ie("click",wa,G),Ie("keydown",wa,K);var U=t(H);let _e;var Oe=t(U),Ae=t(Oe);{var ea=k=>{var le=ft(),Ce=Ke(le);{var pe=he=>{var be=ut();$(()=>{oe(be,"src",(e(s),r(()=>e(s).imageUrl))),oe(be,"alt",(e(s),r(()=>e(s).label)))}),f(he,be)},Le=he=>{var be=Xe(),Ue=Ke(be);{var Ge=Te=>{var ee=mt(),ge=t(ee);xa(ge,()=>e(s).iconComponent,(Fe,Me)=>{Me(Fe,{size:16})}),f(Te,ee)};Z(Ue,Te=>{e(s),r(()=>e(s)?.iconComponent)&&Te(Ge)},!0)}f(he,be)};Z(Ce,he=>{e(s),r(()=>e(s)?.imageUrl)?he(pe):he(Le,!1)})}var xe=o(Ce,2),Ne=t(xe);$(()=>c(Ne,(e(s),r(()=>e(s).label)))),f(k,le)},Ze=k=>{var le=bt(),Ce=t(le);$(pe=>c(Ce,pe),[()=>(S(w()),v(),r(()=>w()||v()("common.select_option")))]),f(k,le)};Z(Ae,k=>{e(s)?k(ea):k(Ze,!1)})}var Se=o(Oe,2);let He;var Ee=o(U,2);{var Je=k=>{var le=Ft(),Ce=t(le),pe=t(Ce);Da(pe,ee=>g(J,ee),()=>e(J));var Le=o(Ce,2),xe=t(Le);let Ne;var he=t(xe),be=t(he),Ue=o(xe,2);{var Ge=ee=>{var ge=Xe(),Fe=Ke(ge);Be(Fe,1,()=>e(_),Ve,(Me,Y)=>{var ue=Dt();let qe;var Ye=t(ue);{var Qe=x=>{var O=yt();$(()=>{oe(O,"src",(e(Y),r(()=>e(Y).imageUrl))),oe(O,"alt",(e(Y),r(()=>e(Y).label)))}),Ie("error",O,W=>{W.currentTarget.style.display="none"}),f(x,O)},l=x=>{var O=Xe(),W=Ke(O);{var ae=F=>{var A=wt(),se=t(A);xa(se,()=>e(Y).iconComponent,(te,N)=>{N(te,{size:16})}),f(F,A)};Z(W,F=>{e(Y),r(()=>e(Y)?.iconComponent)&&F(ae)},!0)}f(x,O)};Z(Ye,x=>{e(Y),r(()=>e(Y)?.imageUrl)?x(Qe):x(l,!1)})}var p=o(Ye,2),m=t(p);$(x=>{qe=je(ue,1,"dropdown-item svelte-gkl5a1",null,qe,x),c(m,(e(Y),r(()=>e(Y).label)))},[()=>({selected:b()===e(Y).value})]),Ie("click",ue,()=>V(e(Y))),f(Me,ue)}),f(ee,ge)},Te=ee=>{var ge=Xe(),Fe=Ke(ge);{var Me=Y=>{var ue=xt(),qe=t(ue);$(()=>c(qe,`No se encontraron resultados para "${e(X)??""}"`)),f(Y,ue)};Z(Fe,Y=>{e(X)&&Y(Me)},!0)}f(ee,ge)};Z(Ue,ee=>{e(_),r(()=>e(_).length>0)?ee(Ge):ee(Te,!1)})}$((ee,ge,Fe)=>{oe(pe,"placeholder",ee),oe(Le,"id",`dropdown-options-${u()??""}`),Ne=je(xe,1,"dropdown-item svelte-gkl5a1",null,Ne,ge),c(be,Fe)},[()=>(v(),r(()=>v()("common.search")||"Search...")),()=>({selected:b()===""}),()=>(S(w()),v(),r(()=>w()||v()("common.select_option")))]),tt(pe,()=>e(X),ee=>g(X,ee)),Ie("input",pe,ke),Ie("keydown",pe,I),Ie("click",xe,()=>V({value:"",label:w(),imageUrl:""})),f(k,le)};Z(Ee,k=>{e(M)&&k(Je)})}Da(H,k=>g(q,k),()=>e(q)),$((k,le)=>{oe(H,"id",u()),_e=je(U,1,"dropdown-button svelte-gkl5a1",null,_e,k),U.disabled=h(),oe(U,"aria-expanded",e(M)),oe(U,"aria-controls",`dropdown-options-${u()??""}`),He=je(Se,1,"dropdown-arrow svelte-gkl5a1",null,He,le)},[()=>({disabled:h(),open:e(M)}),()=>({rotated:e(M)})]),Ie("click",U,De),f(z,H),na(),d()}function ua(z,a){if(a()){const i=`/data-center/fighter-details?fighter=${encodeURIComponent(a().nameWithNickname)}`;Pa(i)}}var kt=R('<img class="fighter-image svelte-axir35"/> <div class="fighter-placeholder svelte-axir35" style="display: none;">Picture Unavailable</div>',1),St=R('<div class="fighter-placeholder svelte-axir35">Picture Unavailable</div>'),Ct=(z,a)=>z.key==="Enter"&&a(),Nt=R('<div class="stat-item role-disc-clickable svelte-axir35" role="button" tabindex="0"><span class="stat-label svelte-axir35">ROLE-DISC:</span> <span><div class="role-emojis svelte-axir35"> </div> <div class="role-name svelte-axir35"> </div></span></div>'),Tt=R('<hr class="archetype-divider svelte-axir35"/> <div class="archetype-container svelte-axir35"><div class="archetype-section svelte-axir35"><h3 class="archetype-section-title svelte-axir35"> </h3> <div class="archetype-fields svelte-axir35"><div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value description svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value favorite-zone svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value strengths svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value weaknesses svelte-axir35"> </div></div></div></div></div>',1),$t=R('<div class="fighter-header svelte-axir35"><div class="header-actions svelte-axir35"><!> <button type="button" class="fighter-detail-cta svelte-axir35" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-axir35"><div class="fighter-image-container svelte-axir35"><!></div></button></div> <button type="button" class="fighter-name-link svelte-axir35"><div class="fighter-name svelte-axir35"> </div></button> <div class="star-rating svelte-axir35"><div class="stars-container svelte-axir35"></div></div> <div class="fighter-stats svelte-axir35"><!> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value career-record svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value record svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value height svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value reach svelte-axir35"> </span></div></div> <!>',1),Kt=R('<div class="empty-card svelte-axir35"><div class="empty-message svelte-axir35"> </div></div>'),Et=R('<div class="fighter-card svelte-axir35"><!></div> <!>',1);function Ka(z,a){sa(a,!1);const[i,d]=oa(),v=()=>ta(la,"$_",i),s=y(),_=y(),u=y(),w=y();let h=Pe(a,"fighter",8,null),P=Pe(a,"id",8,""),b=y(!1);function D(){g(b,!0)}function M(){g(b,!1)}E(()=>v(),()=>{g(s,I=>{if(!I||!I.startsWith("@ARCHETYPE_"))return I;let G="",K="";if(I.includes("_DESCRIPTION"))G=I.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),K="description";else if(I.includes("_FAVORITE_ZONE"))G=I.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),K="favorite_zone";else if(I.includes("_STRENGTHS"))G=I.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),K="strengths";else if(I.includes("_WEAKNESSES"))G=I.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),K="weaknesses";else{const _e=I.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!_e)return I;G=_e[1],K=_e[2].toLowerCase()}const H=`archetype_data.${G}.${K}`,U=v()(H);return I.includes("_WEAKNESSES"),U!==H?U:I})}),E(()=>(S(h()),ka),()=>{g(_,h()?ka(h().archetype):null)}),E(()=>S(h()),()=>{g(u,h()?.rawData.height_inches?Math.floor(h().rawData.height_inches/12)+"'"+h().rawData.height_inches%12+'"':"-")}),E(()=>S(h()),()=>{g(w,h()?.rawData.reach_inches?h().rawData.reach_inches+'"':"-")}),ca(),ra();var q=Et(),J=Ke(q),X=t(J);{var De=I=>{var G=$t(),K=Ke(G),H=t(K),U=t(H);gt(U,{get fighterFullName(){return S(h()),r(()=>h().nameWithNickname)},size:"large"});var _e=o(U,2);_e.__click=[ua,h];var Oe=t(_e);it(Oe,{size:16});var Ae=o(H,2);Ae.__click=[ua,h];var ea=t(Ae),Ze=t(ea);{var Se=F=>{var A=kt(),se=Ke(A);$(()=>{oe(se,"src",(S(h()),r(()=>h().pictureUrl))),oe(se,"alt",`${S(h()),r(()=>h().name)??""} fighter profile picture`)}),Ie("error",se,te=>{te.currentTarget.style.display="none";const N=te.currentTarget.nextElementSibling;N&&(N.style.display="block")}),f(F,A)},He=F=>{var A=St();f(F,A)};Z(Ze,F=>{S(h()),r(()=>h().pictureUrl)?F(Se):F(He,!1)})}var Ee=o(K,2);Ee.__click=[ua,h];var Je=t(Ee),k=t(Je),le=o(Ee,2),Ce=t(le),pe=o(le,2),Le=t(pe);{var xe=F=>{var A=Nt();A.__click=D,A.__keydown=[Ct,D];var se=t(A),te=o(se,2),N=t(te),n=t(N),C=o(N,2),T=t(C);$((L,j)=>{oe(A,"aria-label",L),oe(se,"title",j),je(te,1,`stat-value role-indicator archetype-dots archetype-${e(_),r(()=>e(_).type)??""}`,"svelte-axir35"),oe(te,"title",(e(_),r(()=>e(_).tooltip))),c(n,(e(_),r(()=>e(_).label))),c(T,(e(_),r(()=>e(_).name)))},[()=>(v(),r(()=>v()("role_disc_modal.open_modal_aria_label"))),()=>(v(),r(()=>v()("role_disc_modal.archetype_tooltip")))]),f(F,A)};Z(Le,F=>{e(_)&&F(xe)})}var Ne=o(Le,2),he=t(Ne),be=t(he),Ue=o(he,2),Ge=t(Ue),Te=o(Ne,2),ee=t(Te),ge=t(ee),Fe=o(ee,2),Me=t(Fe),Y=o(Te,2),ue=t(Y),qe=t(ue),Ye=o(ue,2),Qe=t(Ye),l=o(Y,2),p=t(l),m=t(p),x=o(p,2),O=t(x),W=o(pe,2);{var ae=F=>{var A=Tt(),se=o(Ke(A),2),te=t(se),N=t(te),n=t(N),C=o(N,2),T=t(C),L=t(T),j=t(L),B=t(j);st(B,{size:18});var Q=o(j,2),re=t(Q),de=o(L,2),ne=t(de),ve=o(T,2),me=t(ve),fe=t(me),We=t(fe);Ma(We,{size:18});var ce=o(fe,2),ie=t(ce),ye=o(me,2),$e=t(ye),Re=o(ve,2),ze=t(Re),aa=t(ze),_a=t(aa);Ia(_a,{size:18});var Oa=o(aa,2),Aa=t(Oa),Ha=o(ze,2),La=t(Ha),Ua=o(Re,2),ba=t(Ua),ya=t(ba),Wa=t(ya);fa(Wa,{size:18});var za=o(ya,2),qa=t(za),Ba=o(ba,2),Va=t(Ba);$((ja,Ga,Ya,Qa,Za,Ja,Xa,et,at)=>{c(n,ja),c(re,Ga),c(ne,Ya),c(ie,Qa),c($e,Za),c(Aa,Ja),c(La,Xa),c(qa,et),c(Va,at)},[()=>(v(),r(()=>v()("archetype.analysis_title"))),()=>(v(),r(()=>v()("archetype.tactical_description"))),()=>(e(s),S(h()),r(()=>e(s)(h().archetype.description))),()=>(v(),r(()=>v()("archetype.preferred_zone"))),()=>(e(s),S(h()),r(()=>e(s)(h().archetype.favoriteZone))),()=>(v(),r(()=>v()("archetype.strengths"))),()=>(e(s),S(h()),r(()=>e(s)(h().archetype.strengths))),()=>(v(),r(()=>v()("archetype.weaknesses"))),()=>(e(s),S(h()),r(()=>e(s)(h().archetype.weaknesses)))]),f(F,A)};Z(W,F=>{S(h()),r(()=>h().archetype)&&F(ae)})}$((F,A,se,te,N,n,C,T)=>{oe(_e,"aria-label",`View detailed fighter profile for ${S(h()),r(()=>h().nameWithNickname)??""}`),c(k,(S(h()),r(()=>h().name))),ma(Ce,`--fill-width: ${S(h()),r(()=>h().stars*20)??""}%`),oe(he,"title",F),c(be,`${A??""}:`),c(Ge,(S(h()),r(()=>h().career_record))),oe(ee,"title",se),c(ge,`${te??""}:`),c(Me,(S(h()),r(()=>h().record_36m))),oe(ue,"title",N),c(qe,`${n??""}:`),c(Qe,e(u)),oe(p,"title",C),c(m,`${T??""}:`),c(O,e(w))},[()=>(v(),r(()=>v()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(v(),r(()=>v()("fighter_profile.career_record"))),()=>(v(),r(()=>v()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(v(),r(()=>v()("fighter_profile.record_36m"))),()=>(v(),r(()=>v()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(v(),r(()=>v()("fighter_profile.height"))),()=>(v(),r(()=>v()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(v(),r(()=>v()("fighter_profile.reach")))]),f(I,G)},V=I=>{var G=Kt(),K=t(G),H=t(K);$(U=>c(H,U),[()=>(v(),r(()=>v()("fight_radar.select_fighter_stats")))]),f(I,G)};Z(X,I=>{h()?I(De):I(V,!1)})}var ke=o(J,2);pt(ke,{get isOpen(){return e(b)},$$events:{close:M}}),$(()=>oe(J,"id",P())),f(z,q),na(),d()}rt(["click","keydown"]);var Mt=R('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function It(z,a){sa(a,!1);const[i,d]=oa(),v=()=>ta(la,"$_",i);function s(){Pa("/calendar")}ra();var _=Mt(),u=t(_),w=t(u),h=t(w),P=t(h);nt(P,{size:24,style:"display: inline; margin-right: 0.5rem;"});var b=o(P),D=o(h,2),M=t(D),q=o(w,2),J=t(q);$((X,De,V)=>{c(b,` ${X??""}`),c(M,De),c(J,V)},[()=>v()("banner.new_functionality"),()=>v()("banner.explore_calendar"),()=>v()("banner.view_calendar")]),Ie("click",q,s),f(z,_),na(),d()}var we=(z=>(z.MAIN_PREDICTION="main_prediction",z.FINISH_METHOD="finish_method",z.DURATION="duration",z.SPECIAL_PROP="special_prop",z.KEY_FACTORS="key_factors",z.TRENDS="trends",z.NO_PREDICTION="no_prediction",z))(we||{}),da=(z=>(z.HIGH="high",z.MEDIUM="medium",z.LOW="low",z))(da||{});class Pt{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=65,this.MIN_LOW_CONFIDENCE=50}generateBetCards(a,i){const d=[],v=this.calculateWinProbability(a,i),s=this.predictFinishMethod(a,i),_=this.predictFightDuration(a,i),u=this.generateSpecialBet(a,i),w=this.analyzeKeyFactors(a,i),h=this.analyzeTrends(a,i);return v.probability>=this.MIN_MEDIUM_CONFIDENCE&&d.push(this.createWinPredictionCard(v)),s.probability>=this.MIN_MEDIUM_CONFIDENCE&&d.push(this.createFinishMethodCard(s)),_.probability>=this.MIN_MEDIUM_CONFIDENCE&&d.push(this.createDurationCard(_)),d.push(this.createSpecialBetCard(u)),d.push(this.createKeyFactorsCard(w)),d.push(this.createTrendsCard(h)),this.hasHighConfidencePredictions(d)||d.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(d)}validatePredictions(a){return a.filter(i=>i.confidence>=this.MIN_LOW_CONFIDENCE||i.type==="key_factors"||i.type==="trends"||i.type==="special_prop"||i.type==="no_prediction")}calculateWinProbability(a,i){let d=a.performance*.15+a.fightIQ*.15+a.stars*20*.7,v=i.performance*.15+i.fightIQ*.15+i.stars*20*.7;const s=this.calculateAge(a),_=this.calculateAge(i);s>=38&&(d*=1-(s-37)*.03),_>=38&&(v*=1-(_-37)*.03);const u=this.getInactiveMonths(a),w=this.getInactiveMonths(i);u>=18&&(d*=1-u*.01),w>=18&&(v*=1-w*.01);const h=this.getFightsInPeriod(a,18),P=this.getFightsInPeriod(i,18);h>=3&&(d*=1.05),P>=3&&(v*=1.05);const b=a.rawData.Number_of_Fights_36m>0?a.rawData.win/a.rawData.Number_of_Fights_36m*100:0,D=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,M=d+b*.4,q=v+D*.4,J=M+q,X=J>0?Math.round(M/J*100):50,De=J>0?Math.round(q/J*100):50;if(X>De){let V=this.getWinReasoningKey(a,i,b,D);return{winner:a,probability:X,reasoning:V,adjustedScore1:M,adjustedScore2:q}}else{let V=this.getWinReasoningKey(i,a,D,b);return{winner:i,probability:De,reasoning:V,adjustedScore1:q,adjustedScore2:M}}}predictFinishMethod(a,i){const d=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,v=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,s=Math.max((d+v)/2,0),_=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko)/a.rawData.Number_of_Fights_36m*100:0,u=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,w=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0,h=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,P=this.hasBodyShotThreat(a,i),b=this.hasGroundControlThreat(a,i);if(s>40)if(_+u>w+h){let D=Math.round(Math.max(Math.min(s+10,75),5));return P&&(D+=5),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(D,80),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:d,finishRate2:v}}else{let D=Math.round(Math.max(Math.min(s,65),5));return b&&(D+=5),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(D,70),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:d,finishRate2:v}}else return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.round(Math.max(Math.min(100-s,95),5)),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:d,finishRate2:v}}predictFightDuration(a,i){const d=(a.rawData.Fight_Duration_Seconds||900)/60,v=(i.rawData.Fight_Duration_Seconds||900)/60,s=Math.max((d+v)/2,1),_=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,u=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,w=_>60||u>60,h=this.hasExplosiveStyle(a,i);if(s<8&&w){let P=Math.max(Math.min(70,95),5);return h&&(P+=5),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(P,85),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:s}}else return s>12?{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.max(Math.min(75,95),5),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:s}:{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.max(Math.min(60,95),5),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:s}}generateSpecialBet(a,i){const d=this.calculateBettingMetrics(a,i);return d.f1SubRate+d.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:d}:(d.f1FinishRate>60||d.f2FinishRate>60)&&d.avgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:d}:d.f1KnockdownRate>.6&&d.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:d}:d.f1TakedownRate>15||d.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:d}:d.f1StrikeVolume>120&&d.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:d}:d.f1TakedownRate<5&&d.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:d}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:d}}analyzeKeyFactors(a,i){const d=[],v=a.rawData.reach_inches||0,s=i.rawData.reach_inches||0,_=Math.abs(v-s);if(_>2){const M=v>s?a.name||"Fighter 1":i.name||"Fighter 2";d.push({label:"combat_analysis.key_factors.reach_advantage",value:`${M} +${_}"`,type:"advantage"})}const u=a.rawData.Sig_Strikes_Thrown>0?Math.round(a.rawData.Sig_Strikes_Landed/a.rawData.Sig_Strikes_Thrown*100):0,w=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0;d.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${a.name||"F1"}: ${u}% vs ${i.name||"F2"}: ${w}%`,type:"comparison"});const h=a.rawData.takedowns_attempted_against>0?Math.round(a.rawData.Takedowns_Defended/a.rawData.takedowns_attempted_against*100):85,P=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85;d.push({label:"combat_analysis.key_factors.takedown_defense",value:`${a.name||"F1"}: ${h}% vs ${i.name||"F2"}: ${P}%`,type:"comparison"});const b=a.rawData.Number_of_Fights_36m||0,D=i.rawData.Number_of_Fights_36m||0;if(Math.abs(b-D)>2){const M=b>D?a.name||"Fighter 1":i.name||"Fighter 2",q=Math.max(b,D),J=Math.min(b,D);d.push({label:"combat_analysis.key_factors.higher_activity",value:`${M}: ${q} vs ${J} fights`,type:"advantage"})}return d}analyzeTrends(a,i){const d=[],v=a.rawData.Number_of_Fights_36m>0?Math.round(a.rawData.win/a.rawData.Number_of_Fights_36m*100):0,s=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0;v>=75?d.push({type:"positive",text:`${a.name||"Fighter 1"} has ${v}% win rate`,fighter:a.name}):v<50&&d.push({type:"negative",text:`${a.name||"Fighter 1"} struggling at ${v}% win rate`,fighter:a.name}),s>=75?d.push({type:"positive",text:`${i.name||"Fighter 2"} has ${s}% win rate`,fighter:i.name}):s<50&&d.push({type:"negative",text:`${i.name||"Fighter 2"} struggling at ${s}% win rate`,fighter:i.name});const _=(a.rawData.Fight_Duration_Seconds||900)/60,u=(i.rawData.Fight_Duration_Seconds||900)/60,w=(_+u)/2;return d.push({type:"neutral",text:`Combined average fight time: ${w.toFixed(1)} minutes`}),d}calculateAge(a){const v=a.rawData.Number_of_Fights_36m||0;return Math.round(25+v/2.5)}getInactiveMonths(a){const i=a.rawData.Number_of_Fights_36m||0;return i>=3?0:i>=2?6:i>=1?12:24}getFightsInPeriod(a,i){const d=i/36;return Math.round((a.rawData.Number_of_Fights_36m||0)*d)}hasBodyShotThreat(a,i){const d=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko)/a.rawData.Number_of_Fights_36m*100:0,v=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0;return d>40||v>40}hasGroundControlThreat(a,i){const d=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0,v=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0;return d>25||v>25}hasExplosiveStyle(a,i){const d=(a.rawData.Fight_Duration_Seconds||900)/60,v=(i.rawData.Fight_Duration_Seconds||900)/60;return d<5||v<5}calculateBettingMetrics(a,i){return{f1TakedownRate:a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Knockdowns/a.rawData.Number_of_Fights_36m:0,f2KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f1StrikeVolume:a.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f1SubRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Sub_Attempts/a.rawData.Number_of_Fights_36m:0,f2SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f1FinishRate:a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,f2FinishRate:i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,avgFightTime:((a.rawData.Fight_Duration_Seconds||900)+(i.rawData.Fight_Duration_Seconds||900))/2/60}}getWinReasoningKey(a,i,d,v){return a.stars>i.stars+1?"combat_analysis.reasoning.significant_rating_advantage":a.performance>i.performance+10?"combat_analysis.reasoning.significant_performance_advantage":a.fightIQ>i.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":d>v+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(a){return a>=this.MIN_HIGH_CONFIDENCE?"high":a>=this.MIN_MEDIUM_CONFIDENCE?"medium":"low"}createWinPredictionCard(a){return{id:"win-prediction",type:"main_prediction",category:"primary",title:"Probable Winner",titleKey:"combat_analysis.probable_winner",prediction:a.winner.name||"Unknown Fighter",confidence:a.probability,confidenceLevel:this.getConfidenceLevel(a.probability),reasoning:a.reasoning,reasoningKey:a.reasoning,metadata:{adjustedScore1:a.adjustedScore1,adjustedScore2:a.adjustedScore2},priority:1}}createFinishMethodCard(a){return{id:"finish-method",type:"finish_method",category:"secondary",title:"Most Probable Method",titleKey:"combat_analysis.most_probable_method",prediction:a.method,predictionKey:a.methodKey,confidence:a.probability,confidenceLevel:this.getConfidenceLevel(a.probability),reasoning:a.reasoning,reasoningKey:a.reasoning,metadata:{finishRate1:a.finishRate1,finishRate2:a.finishRate2},priority:2}}createDurationCard(a){return{id:"fight-duration",type:"duration",category:"secondary",title:"Duration",titleKey:"combat_analysis.duration",prediction:a.prediction,predictionKey:a.predictionKey,confidence:a.probability,confidenceLevel:this.getConfidenceLevel(a.probability),reasoning:a.reasoning,reasoningKey:a.reasoning,explanationKey:a.explanationKey,metadata:{avgTime:a.avgTime},priority:3}}createSpecialBetCard(a){return{id:"special-bet",type:"special_prop",category:"prop",title:"Special Bet",titleKey:"combat_analysis.special_bet",prediction:a.prop,predictionKey:a.propKey,confidence:60,confidenceLevel:"medium",reasoning:a.reasoning,reasoningKey:a.reasoning,explanationKey:a.explanationKey,metadata:{value:a.value,valueKey:a.valueKey,metrics:a.metrics},priority:4}}createKeyFactorsCard(a){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:a},priority:5}}createTrendsCard(a){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:a},priority:6}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:7}}hasHighConfidencePredictions(a){return a.some(i=>(i.type==="main_prediction"||i.type==="finish_method"||i.type==="duration")&&i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(a){return a.sort((i,d)=>i.priority-d.priority)}}const Ea=new Pt;var Ot=R('<div><div class="bet-type svelte-18ns8po"> </div> <div class="bet-prediction svelte-18ns8po"><div class="winner-name svelte-18ns8po"> </div> <div class="confidence svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div></div>'),At=R('<div><div class="bet-type svelte-18ns8po"> </div> <div class="bet-prediction svelte-18ns8po"><div class="method svelte-18ns8po"> </div> <div class="odds svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div></div>'),Ht=R('<div class="bet-explanation svelte-18ns8po"> </div>'),Lt=R('<div class="bet-explanation svelte-18ns8po"> </div>'),Ut=R('<div><div class="bet-type svelte-18ns8po"> </div> <div class="bet-prediction svelte-18ns8po"><div class="duration svelte-18ns8po"> </div> <div class="probability svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div> <!></div>'),Wt=R('<div class="bet-card no-predictions svelte-18ns8po"><div class="bet-type svelte-18ns8po"><!> </div> <div class="bet-prediction svelte-18ns8po"><div class="no-pred-title svelte-18ns8po"> </div> <div class="no-pred-subtitle svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div></div>'),zt=R('<div class="bet-explanation svelte-18ns8po"> </div>'),qt=R('<div class="bet-explanation svelte-18ns8po"> </div>'),Bt=R('<div class="bet-card special svelte-18ns8po"><div class="bet-type svelte-18ns8po"><!> </div> <div class="bet-prediction svelte-18ns8po"><div class="prop svelte-18ns8po"> </div> <div class="value svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div> <!></div>'),Vt=R('<div class="stat-item svelte-18ns8po"><span class="stat-label svelte-18ns8po"> </span> <span class="stat-value svelte-18ns8po"> </span></div>'),jt=R('<div class="bet-card stats svelte-18ns8po"><div class="bet-type svelte-18ns8po"> </div> <div class="key-stats svelte-18ns8po"></div></div>'),Gt=R("<div> </div>"),Yt=R('<div class="bet-card trends svelte-18ns8po"><div class="bet-type svelte-18ns8po"> </div> <div class="trend-list svelte-18ns8po"></div></div>'),Qt=R('<div class="fight-best-bets svelte-18ns8po"><div class="header svelte-18ns8po"><h2 class="title svelte-18ns8po"><span class="icon svelte-18ns8po"><!></span> </h2> <hr class="title-divider svelte-18ns8po"/> <div class="subtitle svelte-18ns8po"> </div></div> <div class="matchup-header svelte-18ns8po"><div class="fighter-preview svelte-18ns8po"><div class="fighter-name svelte-18ns8po"> </div> <div class="fighter-record svelte-18ns8po"> </div> <div class="fighter-archetype svelte-18ns8po"> </div></div> <div class="vs-divider svelte-18ns8po"><span>VS</span></div> <div class="fighter-preview svelte-18ns8po"><div class="fighter-name svelte-18ns8po"> </div> <div class="fighter-record svelte-18ns8po"> </div> <div class="fighter-archetype svelte-18ns8po"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-18ns8po"><small class="svelte-18ns8po"> </small></div></div>');function Zt(z,a){sa(a,!1);const[i,d]=oa(),v=()=>ta(ct,"$locale",i),s=()=>ta(la,"$_",i),_=y(),u=y(),w=y(),h=y(),P=y(),b=y(),D=y(),M=y(),q=y(),J=y(),X=y(),De=y(),V=y(),ke=y(),I=y(),G=y();let K=Pe(a,"fighter1",8,null),H=Pe(a,"fighter2",8,null);function U(Se,He){return Se.filter(Ee=>Ee.type===He)}function _e(Se){switch(Se){case da.HIGH:return"high-confidence";case da.MEDIUM:return"medium-confidence";case da.LOW:return"low-confidence";default:return""}}let Oe=v();E(()=>(S(K()),S(H())),()=>{g(_,K()&&H())}),E(()=>(e(_),S(K()),S(H())),()=>{g(u,e(_)?Ea.generateBetCards(K(),H()):[])}),E(()=>e(u),()=>{g(w,Ea.validatePredictions(e(u)))}),E(()=>(e(w),we),()=>{g(h,U(e(w),we.MAIN_PREDICTION))}),E(()=>(e(w),we),()=>{g(P,U(e(w),we.FINISH_METHOD))}),E(()=>(e(w),we),()=>{g(b,U(e(w),we.DURATION))}),E(()=>(e(w),we),()=>{g(D,U(e(w),we.SPECIAL_PROP))}),E(()=>(e(w),we),()=>{g(M,U(e(w),we.KEY_FACTORS))}),E(()=>(e(w),we),()=>{g(q,U(e(w),we.TRENDS))}),E(()=>(e(w),we),()=>{g(J,U(e(w),we.NO_PREDICTION))}),E(()=>(e(h),e(P),e(b)),()=>{g(X,e(h).length>0||e(P).length>0||e(b).length>0)}),E(()=>(e(h),e(P),e(b)),()=>{g(De,e(h).length+e(P).length+e(b).length)}),E(()=>e(X),()=>{g(V,e(X)?0:1)}),E(()=>{},()=>{g(ke,3)}),E(()=>(e(De),e(V),e(ke)),()=>{g(I,e(De)+e(V)+e(ke))}),E(()=>v(),()=>{v()!==Oe&&Oe&&window.location.reload()}),E(()=>e(_),()=>{g(G,e(_))}),ca(),ra();var Ae=Xe(),ea=Ke(Ae);{var Ze=Se=>{var He=Qt(),Ee=t(He),Je=t(Ee),k=t(Je),le=t(k);Ia(le,{size:32});var Ce=o(k),pe=o(Je,4),Le=t(pe),xe=o(Ee,2),Ne=t(xe),he=t(Ne),be=t(he),Ue=o(he,2),Ge=t(Ue),Te=o(Ue,2),ee=t(Te),ge=o(Ne,4),Fe=t(ge),Me=t(Fe),Y=o(Fe,2),ue=t(Y),qe=o(Y,2),Ye=t(qe),Qe=o(xe,2);let l;var p=t(Qe);Be(p,1,()=>e(h),Ve,(N,n)=>{var C=Ot(),T=t(C),L=t(T),j=o(T,2),B=t(j),Q=t(B),re=o(B,2),de=t(re),ne=o(j,2),ve=t(ne);$((me,fe,We,ce)=>{je(C,1,`bet-card primary ${me??""}`,"svelte-18ns8po"),c(L,fe),c(Q,(e(n),r(()=>e(n).prediction))),c(de,`${We??""}: ${e(n),r(()=>e(n).confidence)??""}%`),c(ve,ce)},[()=>(e(n),r(()=>_e(e(n).confidenceLevel))),()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(s(),r(()=>s()("combat_analysis.confidence"))),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(N,C)});var m=o(p,2);Be(m,1,()=>e(P),Ve,(N,n)=>{var C=At(),T=t(C),L=t(T),j=o(T,2),B=t(j),Q=t(B),re=o(B,2),de=t(re),ne=o(j,2),ve=t(ne);$((me,fe,We,ce,ie)=>{je(C,1,`bet-card ${me??""}`,"svelte-18ns8po"),c(L,fe),c(Q,We),c(de,`${e(n),r(()=>e(n).confidence)??""}% ${ce??""}`),c(ve,ie)},[()=>(e(n),r(()=>_e(e(n).confidenceLevel))),()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(e(n),s(),r(()=>e(n).predictionKey?s()(e(n).predictionKey):e(n).prediction)),()=>(s(),r(()=>s()("combat_analysis.probability"))),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(N,C)});var x=o(m,2);Be(x,1,()=>e(b),Ve,(N,n)=>{var C=Ut(),T=t(C),L=t(T),j=o(T,2),B=t(j),Q=t(B),re=o(B,2),de=t(re),ne=o(j,2),ve=t(ne),me=o(ne,2);{var fe=ce=>{var ie=Ht(),ye=t(ie);$($e=>c(ye,$e),[()=>(s(),e(n),r(()=>s()(e(n).explanationKey)))]),f(ce,ie)},We=ce=>{var ie=Xe(),ye=Ke(ie);{var $e=Re=>{var ze=Lt(),aa=t(ze);$(()=>c(aa,(e(n),r(()=>e(n).explanation)))),f(Re,ze)};Z(ye,Re=>{e(n),r(()=>e(n).explanation)&&Re($e)},!0)}f(ce,ie)};Z(me,ce=>{e(n),r(()=>e(n).explanationKey)?ce(fe):ce(We,!1)})}$((ce,ie,ye,$e,Re)=>{je(C,1,`bet-card ${ce??""}`,"svelte-18ns8po"),c(L,ie),c(Q,ye),c(de,`${e(n),r(()=>e(n).confidence)??""}% ${$e??""}`),c(ve,Re)},[()=>(e(n),r(()=>_e(e(n).confidenceLevel))),()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(e(n),s(),r(()=>e(n).predictionKey?s()(e(n).predictionKey):e(n).prediction)),()=>(s(),r(()=>s()("combat_analysis.probability"))),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(N,C)});var O=o(x,2);Be(O,1,()=>e(J),Ve,(N,n)=>{var C=Wt(),T=t(C),L=t(T);fa(L,{size:16,style:"display: inline; margin-right: 0.25rem;"});var j=o(L),B=o(T,2),Q=t(B),re=t(Q),de=o(Q,2),ne=t(de),ve=o(B,2),me=t(ve);$((fe,We,ce,ie)=>{c(j,` ${fe??""}`),c(re,We),c(ne,ce),c(me,ie)},[()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(e(n),s(),r(()=>e(n).predictionKey?s()(e(n).predictionKey):e(n).prediction)),()=>(s(),r(()=>s()("combat_analysis.confidence_threshold"))),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(N,C)});var W=o(O,2);Be(W,1,()=>e(D),Ve,(N,n)=>{var C=Bt(),T=t(C),L=t(T);Ma(L,{size:16,style:"display: inline; margin-right: 0.25rem;"});var j=o(L),B=o(T,2),Q=t(B),re=t(Q),de=o(Q,2),ne=t(de),ve=o(B,2),me=t(ve),fe=o(ve,2);{var We=ie=>{var ye=zt(),$e=t(ye);$(Re=>c($e,Re),[()=>(s(),e(n),r(()=>s()(e(n).explanationKey)))]),f(ie,ye)},ce=ie=>{var ye=Xe(),$e=Ke(ye);{var Re=ze=>{var aa=qt(),_a=t(aa);$(()=>c(_a,(e(n),r(()=>e(n).explanation)))),f(ze,aa)};Z($e,ze=>{e(n),r(()=>e(n).explanation)&&ze(Re)},!0)}f(ie,ye)};Z(fe,ie=>{e(n),r(()=>e(n).explanationKey)?ie(We):ie(ce,!1)})}$((ie,ye,$e,Re,ze)=>{c(j,` ${ie??""}`),c(re,ye),c(ne,`${$e??""}: ${Re??""}`),c(me,ze)},[()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(e(n),s(),r(()=>e(n).predictionKey?s()(e(n).predictionKey):e(n).prediction)),()=>(s(),r(()=>s()("combat_analysis.value"))),()=>(e(n),s(),r(()=>e(n).metadata?.valueKey?s()(e(n).metadata.valueKey):e(n).metadata?.value||"N/A")),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(N,C)});var ae=o(W,2);Be(ae,1,()=>e(M),Ve,(N,n)=>{var C=jt(),T=t(C),L=t(T),j=o(T,2);Be(j,5,()=>(e(n),r(()=>e(n).metadata?.factors||[])),Ve,(B,Q)=>{var re=Vt(),de=t(re),ne=t(de),ve=o(de,2),me=t(ve);$(fe=>{c(ne,fe),c(me,(e(Q),r(()=>e(Q).value)))},[()=>(s(),e(Q),r(()=>s()(e(Q).label)))]),f(B,re)}),$(B=>c(L,B),[()=>(s(),e(n),r(()=>s()(e(n).titleKey)))]),f(N,C)});var F=o(ae,2);Be(F,1,()=>e(q),Ve,(N,n)=>{var C=Yt(),T=t(C),L=t(T),j=o(T,2);Be(j,5,()=>(e(n),r(()=>e(n).metadata?.trends||[])),Ve,(B,Q)=>{var re=Gt(),de=t(re);$(()=>{je(re,1,`trend-item ${e(Q),r(()=>e(Q).type)??""}`,"svelte-18ns8po"),c(de,(e(Q),r(()=>e(Q).text)))}),f(B,re)}),$(B=>c(L,B),[()=>(s(),e(n),r(()=>s()(e(n).titleKey)))]),f(N,C)});var A=o(Qe,2),se=t(A),te=t(se);$((N,n,C,T)=>{c(Ce,` ${N??""}`),c(Le,n),c(be,(S(K()),r(()=>K().name))),c(Ge,`${S(K()),r(()=>K().rawData.win)??""}-${S(K()),r(()=>K().rawData.loss)??""}-${S(K()),r(()=>K().rawData.draws)??""}`),c(ee,(S(K()),r(()=>K().archetype.archetypeEmojis))),c(Me,(S(H()),r(()=>H().name))),c(ue,`${S(H()),r(()=>H().rawData.win)??""}-${S(H()),r(()=>H().rawData.loss)??""}-${S(H()),r(()=>H().rawData.draws)??""}`),c(Ye,(S(H()),r(()=>H().archetype.archetypeEmojis))),l=je(Qe,1,"betting-grid svelte-18ns8po",null,l,C),c(te,`* ${T??""}`)},[()=>(s(),r(()=>s()("combat_analysis.fight_analysis"))),()=>(s(),r(()=>s()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(I)<=3}),()=>(s(),r(()=>s()("combat_analysis.disclaimer")))]),f(Se,He)};Z(ea,Se=>{e(G)&&Se(Ze)})}f(z,Ae),na(),d()}var Jt=R('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),Xt=R('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),ei=R('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),ai=R('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),ti=R('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),ii=R('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),si=R('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),ri=R('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function gi(z,a){sa(a,!1);const[i,d]=oa(),v=()=>ta(K,"$urlSearchParams",i),s=()=>ta(la,"$_",i),_=y(),u=y(),w=y(),h=y(),P=y(),b=y(),D=y(),M=y(),q=y(),J=y();let X=Pe(a,"isDarkMode",8,!0),De=Pe(a,"toggleTheme",8,()=>{}),V=y(new Map),ke=y(new Map),I=y(),G=y(new Map);const K=ot(ia());function H(l,p){const m=`fighter${p}`;Ra({[m]:l}),K.set(ia())}let U=y(!1),_e=y(!1),Oe=y(!1),Ae=y(!1);lt(()=>{window.Highcharts=vt,K.set(ia());const l=_t(()=>{K.set(ia())});return ea(),l});async function ea(){try{g(U,!0);const{allRawFightersDataMap:l,allRawFightersByDivision:p,processedFightersMap:m,processedFighters:x}=await pa.loadFightersFromCSV();g(V,l),g(G,p),g(ke,m),g(I,x),g(_e,!0)}catch(l){console.error("Error loading data:",l)}finally{g(U,!1)}}function Ze(l=[]){return l.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:Se(p)}))}function Se(l){return l.pictureUrl&&l.pictureUrl!==""?l.pictureUrl:He(l.division)?"no_photo_female.png":"no_photo_male.png"}function He(l){return!!(l&&l.startsWith("W_"))}function Ee(l){H(l,1)}function Je(l){H(l,2)}function k(){Ra({fighter1:"",fighter2:""}),K.set(ia())}function le(){if(!e(_)||!e(u))return;const l=ht("/",{fighter1:e(_),fighter2:e(u)});navigator.share?navigator.share({title:`${e(_)} vs ${e(u)} - Fight Radar`,text:`Compara las estadísticas de ${e(_)} vs ${e(u)}`,url:l}).catch(console.error):navigator.clipboard.writeText(l).then(()=>{Ce("¡Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",l)})}function Ce(l){const p=document.createElement("div");p.className="notification",p.textContent=l,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function pe(l,p,m){const x=[];return l&&x.push({name:l.name,data:[l.fightRadar.STR_OFF,l.fightRadar.STR_DEF,l.fightRadar.TD_OFF,l.fightRadar.TD_DEF,l.fightRadar.CTRL,l.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&x.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),m&&x.push({name:m.name,data:[m.fightRadar.STR_OFF,m.fightRadar.STR_DEF,m.fightRadar.TD_OFF,m.fightRadar.TD_DEF,m.fightRadar.CTRL,m.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),x}function Le(l,p,m){const x=[];return l&&x.push({name:l.name,data:[l.iqRadar.distance,l.iqRadar.adaptability,l.iqRadar.composure,l.iqRadar.decisions,l.iqRadar.rhythm,l.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&x.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),m&&x.push({name:m.name,data:[m.iqRadar.distance,m.iqRadar.adaptability,m.iqRadar.composure,m.iqRadar.decisions,m.iqRadar.rhythm,m.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),x}function xe(l){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[m,x,O]=l.combinedRole.split("+")??["AT"];let W=[[m,100]];if(x&&O?W=[[m,33],[x,34],[O,33]]:x?W=[[m,50],[x,50]]:O&&(W=[[m,60],[O,40]]),W.length===1){const[ae,F]=W[0],A=Math.min(F,70);return`linear-gradient(135deg, ${p[ae]} 0%, ${p[ae]} ${A}%, var(--card-bg) 100%)`}else{const ae=W.reduce((te,[,N])=>te+N,0);let F=[],A=0;return W.forEach(([te,N],n)=>{const C=N/ae*85,T=p[te];n===0&&F.push(`${T} ${A}%`),A+=C,n===W.length-1?(F.push(`${T} ${A}%`),F.push("var(--card-bg) 100%")):F.push(`${T} ${A}%`)}),`linear-gradient(135deg, ${F.join(", ")})`}}E(()=>v(),()=>{g(_,v().get("fighter1")||"")}),E(()=>v(),()=>{g(u,v().get("fighter2")||"")}),E(()=>(e(I),e(u)),()=>{g(w,Ze(e(I)).filter(l=>l.value!==e(u)))}),E(()=>(e(I),e(_)),()=>{g(h,Ze(e(I)).filter(l=>l.value!==e(_)))}),E(()=>(e(_),e(u),e(V),e(G),Sa),()=>{g(P,(()=>{if(!e(_)||!e(u))return null;const l=e(V).get(e(_)),p=e(V).get(e(u));if(!l||!p)return null;if(l.Division===p.Division){const m=l.Division;if(e(G).has(m))return Sa(m,e(G).get(m))}return null})())}),E(()=>(e(_),e(ke)),()=>{g(b,e(_)?e(ke).get(e(_))??null:null)}),E(()=>(e(u),e(ke)),()=>{g(D,e(u)?e(ke).get(e(u))??null:null)}),E(()=>(e(P),e(_),e(u),e(V),e(G),pa),()=>{g(M,(()=>{if(!e(P)||!e(_)||!e(u))return null;const l=e(V).get(e(_));return!l||!e(G).has(l.Division)?null:pa.calculateSyntheticFighter(e(P),e(G).get(l.Division))})())}),E(()=>(e(b),e(D),e(M)),()=>{g(q,pe(e(b)??null,e(D)??null,e(M)??null))}),E(()=>(e(b),e(D),e(M)),()=>{g(J,Le(e(b),e(D),e(M)))}),E(()=>(e(U),e(V),e(_),e(u)),()=>{const l=!e(U)&&e(V).size>0&&e(V).has(e(_))&&e(V).has(e(u));g(Oe,!!(e(_)&&e(u)&&l)),g(Ae,!!(e(_)&&e(u)&&l))}),ca(),ra();var Ne=ri(),he=t(Ne),be=t(he);dt(be,{showThemeToggle:!0,get isDarkMode(){return X()},get toggleTheme(){return De()}});var Ue=o(be,2);{var Ge=l=>{var p=Jt(),m=t(p),x=o(t(m),2),O=t(x);$(W=>c(O,W),[()=>(s(),r(()=>s()("fight_radar.loading_data")))]),f(l,p)};Z(Ue,l=>{e(U)&&l(Ge)})}var Te=o(Ue,2);{var ee=l=>{var p=ai(),m=t(p),x=t(m),O=t(x),W=t(O),ae=o(O,2),F=t(ae);{let L=va(()=>(s(),r(()=>s()("common.select_fighter"))));$a(F,{id:"fighter1-select",get placeholder(){return e(L)},disabled:!1,get options(){return e(w)},get selectedValue(){return e(_)},onSelectionChange:Ee})}var A=o(x,4),se=t(A),te=t(se),N=o(se,2),n=t(N);{let L=va(()=>(s(),r(()=>s()("common.select_fighter"))));$a(n,{id:"fighter2-select",get placeholder(){return e(L)},disabled:!1,get options(){return e(h)},get selectedValue(){return e(u)},onSelectionChange:Je})}var C=o(m,2);{var T=L=>{var j=ei(),B=t(j);{var Q=ne=>{var ve=Xt(),me=o(t(ve));$(fe=>c(me,` ${fe??""}`),[()=>(s(),r(()=>s()("fight_radar.share_fight")))]),Ie("click",ve,le),f(ne,ve)};Z(B,ne=>{e(_)&&e(u)&&ne(Q)})}var re=o(B,2),de=o(t(re));$(ne=>c(de,` ${ne??""}`),[()=>(s(),r(()=>s()("fight_radar.clear_radars")))]),Ie("click",re,k),f(L,j)};Z(C,L=>{(e(_)||e(u))&&L(T)})}$((L,j)=>{c(W,`${L??""}:`),c(te,`${j??""}:`)},[()=>(s(),r(()=>s()("common.fighter_1"))),()=>(s(),r(()=>s()("common.fighter_2")))]),f(l,p)};Z(Te,l=>{e(_e)&&l(ee)})}var ge=o(Te,2);{var Fe=l=>{var p=Xe(),m=Ke(p);{var x=O=>{var W=ti(),ae=t(W),F=t(ae);fa(F,{size:20,class:"disclaimer-icon"});var A=o(F,2),se=t(A),te=o(ae,2),N=t(te);$((n,C)=>{c(se,n),c(N,C)},[()=>(s(),r(()=>s()("fight_radar.cross_division_title"))),()=>(s(),S(ga),e(b),e(D),r(()=>s()("fight_radar.cross_division_text",{values:{division1:ga(e(b).rawData.Division),division2:ga(e(D).rawData.Division)}})))]),f(O,W)};Z(m,O=>{e(b),e(D),r(()=>e(b)?.rawData&&e(D)?.rawData&&e(b).rawData.Division!==e(D).rawData.Division)&&O(x)})}f(l,p)};Z(ge,l=>{e(_)&&e(u)&&e(Oe)&&l(Fe)})}var Me=o(ge,2);{var Y=l=>{var p=ii(),m=t(p),x=t(m);Ka(x,{get fighter(){return e(b)},id:"fighter1-info"});var O=o(m,2),W=t(O);Ka(W,{get fighter(){return e(D)},id:"fighter2-info"}),$((ae,F)=>{ma(m,`background: ${ae??""}`),ma(O,`background: ${F??""}`)},[()=>(e(b),r(()=>e(b)?xe(e(b).archetype):"var(--card-bg)")),()=>(e(D),r(()=>e(D)?xe(e(D).archetype):"var(--card-bg)"))]),f(l,p)};Z(Me,l=>{e(Oe)&&l(Y)})}var ue=o(Me,2);{var qe=l=>{var p=si(),m=t(p),x=t(m);Fa(x,()=>(e(_),e(u),e(q),r(()=>`${e(_)}-${e(u)}-${e(q).length}`)),ae=>{{let F=va(()=>(S(Ca),r(Ca)));Ta(ae,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(F)},get series(){return e(q)},isIQRadar:!1})}});var O=o(m,2),W=t(O);Fa(W,()=>(e(_),e(u),e(J),r(()=>`${e(_)}-${e(u)}-${e(J).length}`)),ae=>{{let F=va(()=>(S(Na),r(Na)));Ta(ae,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(F)},get series(){return e(J)},isIQRadar:!0})}}),f(l,p)};Z(ue,l=>{e(Ae),e(q),r(()=>e(Ae)&&e(q).length>0)&&l(qe)})}var Ye=o(ue,2);Zt(Ye,{get fighter1(){return e(b)},get fighter2(){return e(D)}});var Qe=o(Ye,2);It(Qe,{}),f(z,Ne),na(),d()}export{gi as default};
