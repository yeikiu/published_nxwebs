import{g as Te,n as fs,f as w,aY as ws,c as s,q as i,i as L,o as e,m as je,t as F,_ as vs,H as ss,b as g,r as ze,h as f,T as Qe,B as u,y as xs,p as ls,s as as,v as ne,x as O,V as He,ai as R,aZ as Ss,C as is,ae as se,S as Ds,K as qe,L as Ne,aQ as Oe,a_ as ts,a1 as re,a$ as $s,a as ms,b0 as Ls,b1 as As,aR as Fs,b2 as os,X as ds,af as Cs,b3 as Ps,au as cs,l as Ms,A as us,k as Rs,j as Es,z as Is,u as qs}from"./lucide-BZTUuGOE.js";import{p as Ns,r as Ge,R as Ce,q as Ts,s as zs,t as Bs,w as Us,P as Ks,N as Os,V as Qs,x as Hs,e as Ws,y as Vs}from"./index-CAlbu7ES.js";import{a as js,k as gs}from"./fighters_service-DJ8ZkIWX.js";import"./highcharts-DyRVWUji.js";var Gs=w('<div class="error-message svelte-vsw3ky"><span class="error-icon svelte-vsw3ky"><!></span> </div>'),Xs=w('<div class="spinner svelte-vsw3ky"></div> Logging in...',1),Ys=w('<div class="login-container svelte-vsw3ky"><div class="login-card svelte-vsw3ky"><div class="login-header svelte-vsw3ky"><div class="lock-icon svelte-vsw3ky"><!></div> <h1 class="svelte-vsw3ky">Admin Login</h1> <p class="svelte-vsw3ky">Access the fighter management dashboard</p></div> <form class="login-form svelte-vsw3ky"><div class="form-group svelte-vsw3ky"><label for="username" class="svelte-vsw3ky">Username</label> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-vsw3ky"/></div> <div class="form-group svelte-vsw3ky"><label for="password" class="svelte-vsw3ky">Password</label> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-vsw3ky"/></div> <!> <button type="submit" class="login-btn svelte-vsw3ky"><!></button></form></div></div>');function _s(Q,r){Te(r,!1);let t=je(""),l=je(""),a=je(!1),n=je("");async function o(p){if(p.preventDefault(),!e(t)||!e(l)){f(n,"Please enter both username and password");return}f(a,!0),f(n,"");try{await Ns.login(e(t),e(l))?Ge.navigate(Ce.ADMIN_DASHBOARD):f(n,"Invalid credentials")}catch(P){console.error("Login error:",P),f(n,"Login failed. Please try again.")}finally{f(a,!1)}}function m(){f(n,"")}fs();var S=Ys(),M=s(S),A=s(M),c=s(A),_=s(c);ws(_,{size:48});var d=i(A,2),y=s(d),v=i(s(y),2),x=i(y,2),$=i(s(x),2),h=i(x,2);{var G=p=>{var P=Gs(),T=s(P),ue=s(T);Qe(ue,{size:18});var we=i(T);F(()=>u(we,` ${e(n)??""}`)),g(p,P)};L(h,p=>{e(n)&&p(G)})}var q=i(h,2),C=s(q);{var N=p=>{var P=Xs();g(p,P)},V=p=>{var P=xs("Login");g(p,P)};L(C,p=>{e(a)?p(N):p(V,!1)})}F(()=>{v.disabled=e(a),$.disabled=e(a),q.disabled=e(a)}),vs(v,()=>e(t),p=>f(t,p)),ss("input",v,m),vs($,()=>e(l),p=>f(l,p)),ss("input",$,m),ss("submit",d,o),g(Q,S),ze()}var Zs=w('<div class="loading-spinner svelte-h16m8s"><div class="spinner svelte-h16m8s"></div> <span>Loading...</span></div>'),Js=w('<div class="error-state svelte-h16m8s"><span class="error-icon svelte-h16m8s">⚠️</span> <p class="error-message svelte-h16m8s"> </p></div>'),et=w('<div><div class="widget-header svelte-h16m8s"><div class="widget-title svelte-h16m8s"><!> <h3 class="svelte-h16m8s"> </h3></div></div> <div class="widget-content svelte-h16m8s"><!></div></div>');function rs(Q,r){let t=ls(r,"loading",3,!1),l=ls(r,"className",3,"");var a=et();let n;var o=s(a),m=s(o),S=s(m);{var M=x=>{const $=R(()=>r.icon);var h=ne(),G=O(h);He(G,()=>e($),(q,C)=>{C(q,{size:18})}),g(x,h)};L(S,x=>{r.icon&&x(M)})}var A=i(S,2),c=s(A),_=i(o,2),d=s(_);{var y=x=>{var $=Zs();g(x,$)},v=x=>{var $=ne(),h=O($);{var G=C=>{var N=Js(),V=i(s(N),2),p=s(V);F(()=>u(p,r.error)),g(C,N)},q=C=>{var N=ne(),V=O(N);{var p=P=>{var T=ne(),ue=O(T);Ss(ue,()=>r.children),g(P,T)};L(V,P=>{r.children&&P(p)},!0)}g(C,N)};L(h,C=>{r.error?C(G):C(q,!1)},!0)}g(x,$)};L(d,x=>{t()?x(y):x(v,!1)})}F(x=>{n=as(a,1,`widget-card ${l()??""}`,"svelte-h16m8s",n,x),u(c,r.title)},[()=>({loading:t()})]),g(Q,a)}class st{constructor(){this.localeCache={}}async loadFightersData(){try{const{allRawFightersArr:r}=await js.loadFightersFromCSV();return r}catch(r){return console.error("Failed to load fighters data:",r),[]}}async getDatasetOverview(){const r=await this.loadFightersData(),t=await gs("data/ALL_DIVISIONS_DATA_WITH_URLS.csv"),l={};r.forEach(d=>{const y=d?.Division??"Catch Weight";l[y]=(l[y]||0)+1});const a=r.filter(d=>d.Number_of_Fights_36m&&d.Number_of_Fights_36m>0).length,n=r.length-a;let o=0;r.forEach(d=>{let y=0;d.Fighter&&d.Fighter.trim()!==""&&(y+=1),d.Division&&d.Division.trim()!==""&&(y+=1),d.Career_Record&&d.Career_Record.trim()!==""&&(y+=1),d.picture_url&&d.picture_url.trim()!==""&&(y+=1),o+=y/4});const m=r.length>0?o/r.length*100:0,S=r.filter(d=>!d.picture_url||d.picture_url.trim()===""),M=S.length,A=r.length>0?Math.round((r.length-M)/r.length*100):100;let c=0,_="current";if(t.lastModified){const y=new Date().getTime()-t.lastModified.getTime();c=Math.floor(y/(1e3*60*60*24)),c<=7?_="current":c<=30?_="warning":_="outdated"}else _="outdated",c=-1;return{totalFighters:r.length,activeFighters:a,inactiveFighters:n,fightersByDivision:l,lastUpdate:t.lastModified,dataQualityScore:Math.round(m),missingPictures:{count:M,completionRate:A,fighters:S.map(d=>d.Fighter||"Unknown").slice(0,10)},maintenanceStatus:{status:_,daysSinceLastUpdate:c}}}async getMissingPicturesData(){const r=await this.loadFightersData(),t=r.filter(a=>!a.picture_url||a.picture_url.trim()===""),l=r.length>0?(r.length-t.length)/r.length*100:0;return{count:t.length,fighters:t.map(a=>a.Fighter).slice(0,20),completionRate:Math.round(l)}}async getMaintenanceStatus(){const t=(await gs("data/ALL_DIVISIONS_DATA_WITH_URLS.csv")).lastModified;let l=0,a="current";if(t){const o=new Date().getTime()-t.getTime();l=Math.floor(o/(1e3*60*60*24)),l<=7?a="current":l<=30?a="warning":a="outdated"}else a="outdated",l=-1;return{lastDatasetUpdate:t,status:a,daysSinceLastUpdate:l}}async getTranslationHealth(){const r={en:Us,es:Bs,fr:zs,pt:Ts},t=Object.keys(r),l={},a={};try{for(const o of t)try{this.localeCache[o]=r[o]}catch(m){console.warn(`Failed to load locale ${o}:`,m),l[o]=["Failed to load locale file"],a[o]=0}const n=this.getAllKeys(this.localeCache.en||{});return t.forEach(o=>{if(o==="en"){l[o]=[],a[o]=100;return}const m=this.getAllKeys(this.localeCache[o]||{}),S=n.filter(M=>!m.includes(M));l[o]=S,a[o]=n.length>0?Math.round((n.length-S.length)/n.length*100):0}),{languages:t,totalKeys:n.length,missingKeysByLanguage:l,completionByLanguage:a}}catch(n){return console.error("Failed to check translation health:",n),t.forEach(o=>{l[o]=["Error loading translations"],a[o]=0}),{languages:t,totalKeys:0,missingKeysByLanguage:l,completionByLanguage:a}}}getAllKeys(r,t=""){let l=[];for(const a in r){const n=t?`${t}.${a}`:a;typeof r[a]=="object"&&r[a]!==null&&!Array.isArray(r[a])?l=l.concat(this.getAllKeys(r[a],n)):l.push(n)}return l.sort()}async testProxiesStatus(){const r=[],t=Ks.proxyConfigs.map(async a=>{const n=Date.now();try{const o=await fetch(a.url+encodeURIComponent("https://www.githubstatus.com/history.rss"),{headers:a.headers||{}});return{name:a.name,active:o.ok,responseTime:Date.now()-n}}catch{return{name:a.name,active:!1,responseTime:Date.now()-n}}});return(await Promise.allSettled(t)).forEach(a=>{a.status==="fulfilled"&&r.push(a.value)}),r}async testRSSFeedsStatus(){const r=[],l=[...Os.rssSources,...Qs.videoSources].map(async n=>{const o=Date.now();try{const m=await Hs.fetchRSS(n.url);return{name:n.name,active:m.length>0,responseTime:Date.now()-o}}catch{return{name:n.name,active:!1,responseTime:Date.now()-o}}});return(await Promise.allSettled(l)).forEach(n=>{n.status==="fulfilled"&&r.push(n.value)}),r}async getDataQualityAlerts(){const r=await this.loadFightersData(),t=[];r.forEach(a=>{(!a.height_inches||a.height_inches===0)&&t.push({type:"missing_data",fighter:a.Fighter,field:"height_inches",description:"Missing height information",severity:"medium"}),(!a.Birth_Date||a.Birth_Date==="")&&t.push({type:"missing_data",fighter:a.Fighter,field:"Birth_Date",description:"Missing birth date",severity:"low"}),a.Birth_Date&&new Date(a.Birth_Date)>new Date&&t.push({type:"invalid_data",fighter:a.Fighter,field:"Birth_Date",description:"Future birth date",severity:"high"}),a.height_inches&&(a.height_inches<50||a.height_inches>90)&&t.push({type:"invalid_data",fighter:a.Fighter,field:"height_inches",description:"Unusual height value",severity:"medium"})});const l=new Map;return r.forEach(a=>{const n=a.Fighter.toLowerCase().trim();l.has(n)||l.set(n,[]),l.get(n).push(a.Fighter)}),l.forEach((a,n)=>{a.length>1&&t.push({type:"duplicate",fighter:a.join(", "),description:"Potential duplicate fighters",severity:"high"})}),t.slice(0,50)}}const Xe=new st;var tt=w('<div class="division-item svelte-1kklt00"><span class="division-name svelte-1kklt00"> </span> <span class="division-count svelte-1kklt00"> </span></div>'),at=w('<!> <span class="status-label svelte-1kklt00"> </span>',1),it=w('<div class="info-item svelte-1kklt00"><span class="info-label svelte-1kklt00">Fecha Exacta:</span> <span class="info-value svelte-1kklt00"> </span></div>'),rt=w('<div class="missing-fighter-item svelte-1kklt00"><span class="fighter-name svelte-1kklt00"> </span></div>'),nt=w('<div class="more-missing-indicator svelte-1kklt00"> </div>'),vt=w('<div class="missing-pictures-section svelte-1kklt00"><h4 class="svelte-1kklt00">Luchadores Sin Fotos <span class="missing-count svelte-1kklt00"> </span></h4> <div class="missing-pictures-grid svelte-1kklt00"><!> <!></div></div>'),lt=w('<div class="overview-stats svelte-1kklt00"><div class="stat-item svelte-1kklt00"><div class="stat-value svelte-1kklt00"> </div> <div class="stat-label svelte-1kklt00">Total Luchadores</div></div> <div class="stat-item svelte-1kklt00"><div class="stat-value svelte-1kklt00" style="color: #10b981"> </div> <div class="stat-label svelte-1kklt00">Activos</div> <div class="stat-description svelte-1kklt00">Con peleas en 36 meses</div></div> <div class="stat-item svelte-1kklt00"><div class="stat-value svelte-1kklt00" style="color: #f59e0b"> </div> <div class="stat-label svelte-1kklt00">Inactivos</div> <div class="stat-description svelte-1kklt00">Sin peleas en 36 meses</div></div> <div class="stat-item svelte-1kklt00"><div class="stat-value svelte-1kklt00"> </div> <div class="stat-label svelte-1kklt00">Calidad de Datos</div> <div class="quality-indicator svelte-1kklt00"><div class="quality-badge svelte-1kklt00"> </div></div></div> <div class="stat-item svelte-1kklt00"><div class="stat-value svelte-1kklt00"> </div> <div class="stat-label svelte-1kklt00">Fotos Completas</div> <div class="quality-indicator svelte-1kklt00"><div class="quality-badge svelte-1kklt00"> </div></div></div></div> <div class="divisions-breakdown svelte-1kklt00"><h4 class="svelte-1kklt00">Luchadores por División</h4> <div class="divisions-grid svelte-1kklt00"></div></div> <div class="dataset-info svelte-1kklt00"><div class="info-header svelte-1kklt00"><h4 class="svelte-1kklt00">Información del Dataset</h4> <div class="status-indicator svelte-1kklt00"><!></div></div> <div class="info-item svelte-1kklt00"><span class="info-label svelte-1kklt00">Última Actualización:</span> <span class="info-value svelte-1kklt00"> </span></div> <!> <div class="info-item svelte-1kklt00"><span class="info-label svelte-1kklt00">Tiempo Transcurrido:</span> <span class="info-value svelte-1kklt00"> </span></div></div> <!> <div class="quality-progress svelte-1kklt00"><div class="progress-header svelte-1kklt00"><span class="svelte-1kklt00">Integridad de Datos</span> <span class="svelte-1kklt00"> </span></div> <div class="progress-bar svelte-1kklt00"><div class="progress-fill svelte-1kklt00"></div></div></div> <div class="maintenance-legend svelte-1kklt00"><div class="legend-title svelte-1kklt00">Leyenda de Estados del Dataset:</div> <div class="legend-items svelte-1kklt00"><div class="legend-item svelte-1kklt00"><!> <span>Actualizado (&lt; 7 días)</span></div> <div class="legend-item svelte-1kklt00"><!> <span>Necesita Atención (7-30 días)</span></div> <div class="legend-item svelte-1kklt00"><!> <span>Desactualizado (> 30 días)</span></div></div></div>',1);function ot(Q,r){Te(r,!0);let t=se(null),l=se(!0),a=se(void 0);async function n(){f(l,!0),f(a,void 0);try{f(t,await Xe.getDatasetOverview(),!0)}catch(v){f(a,v instanceof Error?v.message:"Failed to load dataset overview",!0),console.error("Dataset overview error:",v)}finally{f(l,!1)}}is(n);function o(v){return v>=90?"#10b981":v>=70?"#f59e0b":"#ef4444"}function m(v){return v>=90?"Excelente":v>=80?"Bueno":v>=70?"Regular":"Necesita Mejoras"}function S(v){if(!v)return"Desconocido";const $=new Date().getTime()-v.getTime(),h=Math.floor($/(1e3*60*60*24));return h===0?"Hoy":h===1?"Ayer":h<7?`hace ${h} días`:h<30?`hace ${Math.floor(h/7)} semanas`:h<365?`hace ${Math.floor(h/30)} meses`:`hace ${Math.floor(h/365)} años`}function M(v){return v>=95?"#10b981":v>=85?"#f59e0b":v>=70?"#fb923c":"#ef4444"}function A(v){return v>=95?"Excelente":v>=85?"Bueno":v>=70?"Regular":"Necesita Trabajo"}function c(v){switch(v){case"current":return"#10b981";case"warning":return"#f59e0b";case"outdated":return"#ef4444";default:return"#6b7280"}}function _(v){switch(v){case"current":return"Actualizado";case"warning":return"Necesita Atención";case"outdated":return"Desactualizado";default:return"Desconocido"}}function d(v){switch(v){case"current":return Oe;case"warning":return Qe;case"outdated":return ts;default:return Oe}}function y(v){return v===-1?"Desconocido":v===0?"Hoy":v===1?"Ayer":v<7?`hace ${v} días`:v<30?`hace ${Math.floor(v/7)} semanas`:v<365?`hace ${Math.floor(v/30)} meses`:`hace ${Math.floor(v/365)} años`}rs(Q,{title:"Resumen del Dataset",get icon(){return Ds},get loading(){return e(l)},get error(){return e(a)},className:"dataset-overview-widget",children:(v,x)=>{var $=ne(),h=O($);{var G=q=>{var C=lt(),N=O(C),V=s(N),p=s(V),P=s(p),T=i(V,2),ue=s(T),we=s(ue),Pe=i(T,2),ve=s(Pe),z=s(ve),H=i(Pe,2),le=s(H),oe=s(le),xe=i(le,4),ge=s(xe),Se=s(ge),De=i(H,2),_e=s(De),k=s(_e),b=i(_e,4),D=s(b),E=s(D),j=i(N,2),B=i(s(j),2);qe(B,21,()=>Object.entries(e(t).fightersByDivision).sort((K,ee)=>ee[1]-K[1]),Ne,(K,ee)=>{var ie=R(()=>$s(e(ee),2));let fe=()=>e(ie)[0],me=()=>e(ie)[1];var Le=tt(),ce=s(Le),ye=s(ce),Fe=i(ce,2),be=s(Fe);F(()=>{u(ye,fe()),u(be,me())}),g(K,Le)});var U=i(j,2),I=s(U),te=i(s(I),2),ae=s(te);{var he=K=>{const ee=R(()=>d(e(t).maintenanceStatus.status));var ie=at(),fe=O(ie);{let ce=R(()=>c(e(t).maintenanceStatus.status));He(fe,()=>e(ee),(ye,Fe)=>{Fe(ye,{size:18,get color(){return e(ce)}})})}var me=i(fe,2),Le=s(me);F((ce,ye)=>{re(me,`color: ${ce??""}`),u(Le,ye)},[()=>c(e(t).maintenanceStatus.status),()=>_(e(t).maintenanceStatus.status)]),g(K,ie)};L(ae,K=>{e(t).maintenanceStatus&&K(he)})}var de=i(I,2),Y=i(s(de),2),pe=s(Y),Z=i(de,2);{var W=K=>{var ee=it(),ie=i(s(ee),2),fe=s(ie);F(me=>u(fe,me),[()=>e(t).lastUpdate.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]),g(K,ee)};L(Z,K=>{e(t).lastUpdate&&K(W)})}var X=i(Z,2),J=i(s(X),2),ke=s(J),$e=i(U,2);{var Be=K=>{var ee=vt(),ie=s(ee),fe=i(s(ie)),me=s(fe),Le=i(ie,2),ce=s(Le);qe(ce,17,()=>e(t).missingPictures.fighters,Ne,(be,Ee)=>{var Ie=rt(),Je=s(Ie),es=s(Je);F(()=>u(es,e(Ee))),g(be,Ie)});var ye=i(ce,2);{var Fe=be=>{var Ee=nt(),Ie=s(Ee);F(()=>u(Ie,`+ ${e(t).missingPictures.count-10} más...`)),g(be,Ee)};L(ye,be=>{e(t).missingPictures.count>10&&be(Fe)})}F(()=>u(me,`(${e(t).missingPictures.count??""})`)),g(K,ee)};L($e,K=>{e(t).missingPictures.count>0&&K(Be)})}var Me=i($e,2),We=s(Me),Ae=i(s(We),2),Ue=s(Ae),Re=i(We,2),Ke=s(Re),Ye=i(Me,2),Ze=i(s(Ye),2),Ve=s(Ze),hs=s(Ve);Oe(hs,{size:14,color:"#10b981"});var ns=i(Ve,2),ps=s(ns);Qe(ps,{size:14,color:"#f59e0b"});var ks=i(ns,2),ys=s(ks);ts(ys,{size:14,color:"#ef4444"}),F((K,ee,ie,fe,me,Le,ce,ye,Fe,be,Ee,Ie,Je,es,bs)=>{u(P,K),u(we,ee),u(z,ie),re(le,`color: ${fe??""}`),u(oe,`${e(t).dataQualityScore??""}%`),re(ge,`background-color: ${me??""}20; color: ${Le??""}`),u(Se,ce),re(_e,`color: ${ye??""}`),u(k,`${e(t).missingPictures.completionRate??""}%`),re(D,`background-color: ${Fe??""}20; color: ${be??""}`),u(E,Ee),u(pe,Ie),re(J,`color: ${Je??""}`),u(ke,es),u(Ue,`${e(t).dataQualityScore??""}%`),re(Ke,`width: ${e(t).dataQualityScore??""}%; background-color: ${bs??""}`)},[()=>e(t).totalFighters.toLocaleString(),()=>e(t).activeFighters.toLocaleString(),()=>e(t).inactiveFighters.toLocaleString(),()=>o(e(t).dataQualityScore),()=>o(e(t).dataQualityScore),()=>o(e(t).dataQualityScore),()=>m(e(t).dataQualityScore),()=>M(e(t).missingPictures.completionRate),()=>M(e(t).missingPictures.completionRate),()=>M(e(t).missingPictures.completionRate),()=>A(e(t).missingPictures.completionRate),()=>S(e(t).lastUpdate),()=>c(e(t).maintenanceStatus.status),()=>y(e(t).maintenanceStatus.daysSinceLastUpdate),()=>o(e(t).dataQualityScore)]),g(q,C)};L(h,q=>{e(t)&&q(G)})}g(v,$)},$$slots:{default:!0}}),ze()}var dt=(Q,r,t)=>f(r,e(t),!0),ct=w('<div class="missing-indicator svelte-1uikdms"> </div>'),ut=w('<div><button class="language-button svelte-1uikdms"><div class="language-header svelte-1uikdms"><div class="language-info svelte-1uikdms"><span class="language-name svelte-1uikdms"> </span> <span class="language-code svelte-1uikdms"> </span></div> <div class="completion-indicator"><!></div></div> <div class="completion-details svelte-1uikdms"><div class="completion-percentage svelte-1uikdms"> </div> <div class="completion-status svelte-1uikdms"> </div></div> <div class="progress-bar svelte-1uikdms"><div class="progress-fill svelte-1uikdms"></div></div> <!></button></div>'),gt=w('<span class="missing-count svelte-1uikdms"> </span>'),_t=w('<div class="no-missing-keys svelte-1uikdms"><!> <span>¡Todas las traducciones están completas!</span></div>'),ft=w('<div class="missing-key-item svelte-1uikdms"><code class="svelte-1uikdms"> </code></div>'),mt=w('<div class="more-missing-indicator svelte-1uikdms"> </div>'),ht=w('<div class="missing-keys-list svelte-1uikdms"><!> <!></div>'),pt=w('<div class="missing-keys-section svelte-1uikdms"><h4 class="svelte-1uikdms"> <!></h4> <!></div>'),kt=w('<div class="translation-overview svelte-1uikdms"><div class="overview-stats svelte-1uikdms"><div class="stat-item svelte-1uikdms"><div class="stat-value svelte-1uikdms"> </div> <div class="stat-label svelte-1uikdms">Claves Totales</div></div> <div class="stat-item svelte-1uikdms"><div class="stat-value svelte-1uikdms"> </div> <div class="stat-label svelte-1uikdms">Idiomas</div></div></div></div> <div class="languages-status svelte-1uikdms"><h4 class="svelte-1uikdms">Estado por Idioma</h4> <div class="languages-grid svelte-1uikdms"></div></div> <!>',1);function yt(Q,r){Te(r,!0);let t=se(null),l=se(!0),a=se(void 0),n=se("");async function o(){f(l,!0),f(a,void 0);try{f(t,await Xe.getTranslationHealth(),!0),e(t)&&!e(n)&&e(t).languages.length>0&&f(n,e(t).languages.find(c=>c!=="en")||e(t).languages[0],!0)}catch(c){f(a,c instanceof Error?c.message:"Error al cargar estado de traducciones",!0),console.error("Translation health error:",c)}finally{f(l,!1)}}is(o);function m(c){return c>=95?"#10b981":c>=80?"#f59e0b":c>=60?"#fb923c":"#ef4444"}function S(c){return c>=95?Oe:c>=80?Qe:ts}function M(c){return c>=95?"Completo":c>=80?"Casi Completo":c>=60?"En Progreso":"Incompleto"}function A(c){return{en:"Inglés",es:"Español",fr:"Francés",pt:"Portugués"}[c]||c.toUpperCase()}rs(Q,{title:"Estado de Traducciones",get icon(){return Ls},get loading(){return e(l)},get error(){return e(a)},className:"translation-health-widget",children:(c,_)=>{var d=ne(),y=O(d);{var v=x=>{var $=kt(),h=O($),G=s(h),q=s(G),C=s(q),N=s(C),V=i(q,2),p=s(V),P=s(p),T=i(h,2),ue=i(s(T),2);qe(ue,21,()=>e(t).languages,Ne,(ve,z)=>{const H=R(()=>e(t).completionByLanguage[e(z)]),le=R(()=>e(t).missingKeysByLanguage[e(z)]?.length||0);var oe=ut();let xe;var ge=s(oe);ge.__click=[dt,n,z];var Se=s(ge),De=s(Se),_e=s(De),k=s(_e),b=i(_e,2),D=s(b),E=i(De,2),j=s(E);{var B=W=>{const X=R(()=>S(e(H)));var J=ne(),ke=O(J);{let $e=R(()=>m(e(H)));He(ke,()=>e(X),(Be,Me)=>{Me(Be,{size:16,get color(){return e($e)}})})}g(W,J)};L(j,W=>{e(H)!==void 0&&W(B)})}var U=i(Se,2),I=s(U),te=s(I),ae=i(I,2),he=s(ae),de=i(U,2),Y=s(de),pe=i(de,2);{var Z=W=>{var X=ct(),J=s(X);F(()=>u(J,`${e(le)??""} claves faltantes`)),g(W,X)};L(pe,W=>{e(le)>0&&W(Z)})}F((W,X,J,ke,$e)=>{xe=as(oe,1,"language-item svelte-1uikdms",null,xe,W),u(k,X),u(D,`(${e(z)??""})`),re(I,`color: ${J??""}`),u(te,`${e(H)??""}%`),u(he,ke),re(Y,`width: ${e(H)??""}%; background-color: ${$e??""}`)},[()=>({selected:e(n)===e(z)}),()=>A(e(z)),()=>m(e(H)),()=>M(e(H)),()=>m(e(H))]),g(ve,oe)});var we=i(T,2);{var Pe=ve=>{const z=R(()=>e(t).missingKeysByLanguage[e(n)]);var H=pt(),le=s(H),oe=s(le),xe=i(oe);{var ge=k=>{var b=gt(),D=s(b);F(()=>u(D,`(${e(z).length??""})`)),g(k,b)};L(xe,k=>{e(z).length>0&&k(ge)})}var Se=i(le,2);{var De=k=>{var b=_t(),D=s(b);Oe(D,{size:20,color:"#10b981"}),g(k,b)},_e=k=>{var b=ht(),D=s(b);qe(D,17,()=>e(z).slice(0,10),Ne,(B,U)=>{var I=ft(),te=s(I),ae=s(te);F(()=>u(ae,e(U))),g(B,I)});var E=i(D,2);{var j=B=>{var U=mt(),I=s(U);F(()=>u(I,`+ ${e(z).length-10} claves más...`)),g(B,U)};L(E,B=>{e(z).length>10&&B(j)})}g(k,b)};L(Se,k=>{e(z).length===0?k(De):k(_e,!1)})}F(k=>u(oe,`Claves Faltantes en ${k??""} `),[()=>A(e(n))]),g(ve,H)};L(we,ve=>{e(n)&&e(t).missingKeysByLanguage[e(n)]&&ve(Pe)})}F(ve=>{u(N,ve),u(P,e(t).languages.length)},[()=>e(t).totalKeys.toLocaleString()]),g(x,$)};L(y,x=>{e(t)&&x(v)})}g(c,d)},$$slots:{default:!0}}),ze()}ms(["click"]);async function bt(Q,r,t,l){f(r,!0);try{await t()}catch(a){f(l,a instanceof Error?a.message:"Error al ejecutar prueba de proxies",!0),console.error("Proxy test error:",a)}finally{f(r,!1)}}var wt=w('<div class="service-item svelte-29krsx"><div class="service-header svelte-29krsx"><div class="service-info svelte-29krsx"><div class="service-name svelte-29krsx"> </div> <div class="service-description svelte-29krsx"> </div></div> <div class="service-status"><!></div></div> <div class="service-details svelte-29krsx"><div class="status-info svelte-29krsx"><span class="status-label svelte-29krsx"> </span> <span class="response-time svelte-29krsx"> </span></div> <div class="status-indicator svelte-29krsx"><div class="indicator-bar svelte-29krsx"><div class="indicator-fill svelte-29krsx"></div></div></div></div></div>'),xt=w('<div class="summary-stat svelte-29krsx"><div class="summary-value svelte-29krsx"> </div> <div class="summary-label svelte-29krsx">Fuentes Activas</div></div> <div class="summary-progress svelte-29krsx"><div class="progress-header svelte-29krsx"><span class="svelte-29krsx">Disponibilidad RSS</span> <span class="svelte-29krsx"> </span></div> <div class="progress-bar svelte-29krsx"><div class="progress-fill svelte-29krsx"></div></div></div>',1),St=w('<div class="feed-item svelte-29krsx"><div class="feed-status"><!></div> <div class="feed-info svelte-29krsx"><span class="feed-name svelte-29krsx"> </span> <span class="feed-time svelte-29krsx"> </span></div></div>'),Dt=w('<div class="status-overview svelte-29krsx"><div class="test-action svelte-29krsx"><button><!> </button></div></div> <div class="services-section svelte-29krsx"><h4 class="svelte-29krsx">Proxies habilitados</h4> <div class="services-grid svelte-29krsx"></div></div> <div class="news-feeds-section svelte-29krsx"><h4 class="svelte-29krsx">Fuentes de Noticias RSS</h4> <div class="feeds-summary svelte-29krsx"><!></div> <div class="feeds-grid svelte-29krsx"></div></div> <div class="connection-legend svelte-29krsx"><div class="legend-title svelte-29krsx">Leyenda de Estados:</div> <div class="legend-items svelte-29krsx"><div class="legend-item svelte-29krsx"><!> <span>Conectado (&lt; 1s)</span></div> <div class="legend-item svelte-29krsx"><!> <span>Lento (1-3s)</span></div> <div class="legend-item svelte-29krsx"><!> <span>Sin Conexión</span></div></div></div>',1);function $t(Q,r){Te(r,!0);let t=se(null),l=se(null),a=se(!0),n=se(void 0),o=se(!1);async function m(){f(a,!0),f(n,void 0);try{f(t,await Xe.testProxiesStatus(),!0),f(l,await Xe.testRSSFeedsStatus(),!0)}catch(_){f(n,_ instanceof Error?_.message:"Error al probar estado de proxies",!0),console.error("Proxy status error:",_)}finally{f(a,!1)}}is(m);function S(_,d=0){return _?d>0&&d<1e3?"#10b981":d>=1e3&&d<3e3?"#f59e0b":"#fb923c":"#ef4444"}function M(_){return _?os:ds}function A(_,d=0){return _?d===-1?"Error":d===0?"Conectado":d<500?"Rápido":d<1e3?"Normal":d<3e3?"Lento":"Muy Lento":"Sin Conexión"}function c(_){return _===-1?"Error":_===0?"-":`${_}ms`}rs(Q,{title:"Estado de Conexiones",get icon(){return As},get loading(){return e(a)},get error(){return e(n)},onRefresh:m,className:"proxy-status-widget",children:(_,d)=>{var y=ne(),v=O(y);{var x=$=>{var h=Dt(),G=O(h),q=s(G),C=s(q);let N;C.__click=[bt,o,m,n];var V=s(C);{let k=R(()=>e(o)?"spinning":"");Fs(V,{size:16,get class(){return e(k)}})}var p=i(V),P=i(G,2),T=i(s(P),2);qe(T,21,()=>e(t),Ne,(k,b)=>{const D=R(()=>e(b).active),E=R(()=>e(b).responseTime||0);var j=wt(),B=s(j),U=s(B),I=s(U),te=s(I),ae=i(I,2),he=s(ae),de=i(U,2),Y=s(de);{var pe=Ae=>{const Ue=R(()=>M(e(D)));var Re=ne(),Ke=O(Re);{let Ye=R(()=>S(e(D),e(E)));He(Ke,()=>e(Ue),(Ze,Ve)=>{Ve(Ze,{size:18,get color(){return e(Ye)}})})}g(Ae,Re)};L(Y,Ae=>{e(D)!==void 0&&Ae(pe)})}var Z=i(B,2),W=s(Z),X=s(W),J=s(X),ke=i(X,2),$e=s(ke),Be=i(W,2),Me=s(Be),We=s(Me);F((Ae,Ue,Re,Ke)=>{u(te,e(b).name),u(he,e(b).name),re(X,`color: ${Ae??""}`),u(J,Ue),u($e,Re),re(We,`width: ${e(D)?"100%":"0%"}; background-color: ${Ke??""}`)},[()=>S(e(D),e(E)),()=>A(e(D),e(E)),()=>c(e(E)),()=>S(e(D),e(E))]),g(k,j)});var ue=i(P,2),we=i(s(ue),2),Pe=s(we);{var ve=k=>{const b=R(()=>e(l).length),D=R(()=>e(l).filter(({active:Z})=>Z).length),E=R(()=>e(b)>0?Math.round(e(D)/e(b)*100):0);var j=xt(),B=O(j),U=s(B),I=s(U),te=i(B,2),ae=s(te),he=i(s(ae),2),de=s(he),Y=i(ae,2),pe=s(Y);F(Z=>{u(I,`${e(D)??""}/${e(b)??""}`),u(de,`${e(E)??""}%`),re(pe,`width: ${e(E)??""}%; background-color: ${Z??""}`)},[()=>S(e(E)>=80,0)]),g(k,j)};L(Pe,k=>{e(l)&&k(ve)})}var z=i(we,2);qe(z,21,()=>e(l)??[],Ne,(k,b)=>{const D=R(()=>e(b).responseTime);var E=St(),j=s(E),B=s(j);{var U=Y=>{const pe=R(()=>M(e(b).active));var Z=ne(),W=O(Z);{let X=R(()=>S(e(b).active,e(D)));He(W,()=>e(pe),(J,ke)=>{ke(J,{size:14,get color(){return e(X)}})})}g(Y,Z)};L(B,Y=>{e(b).name&&Y(U)})}var I=i(j,2),te=s(I),ae=s(te),he=i(te,2),de=s(he);F(Y=>{u(ae,e(b).name),u(de,Y)},[()=>c(e(D))]),g(k,E)});var H=i(ue,2),le=i(s(H),2),oe=s(le),xe=s(oe);os(xe,{size:14,color:"#10b981"});var ge=i(oe,2),Se=s(ge);Qe(Se,{size:14,color:"#f59e0b"});var De=i(ge,2),_e=s(De);ds(_e,{size:14,color:"#ef4444"}),F(k=>{N=as(C,1,"test-all-btn svelte-29krsx",null,N,k),C.disabled=e(o),u(p,` ${e(o)?"Probando...":"Probar Todas las Conexiones"}`)},[()=>({testing:e(o)})]),g($,h)};L(v,$=>{e(t)&&$(x)})}g(_,y)},$$slots:{default:!0}}),ze()}ms(["click"]);var Lt=w('<div class="admin-dashboard svelte-58osbq"><div class="dashboard-header svelte-58osbq"><div class="header-content svelte-58osbq"><div class="header-title svelte-58osbq"><!> <div class="title-text svelte-58osbq"><h1 class="svelte-58osbq">Panel de Administración</h1> <p class="svelte-58osbq">Monitoreo y mantenimiento del dataset Fight-Radar</p></div></div> <div class="header-info svelte-58osbq"><div class="current-time svelte-58osbq"> </div> <div class="status-badge svelte-58osbq"><!> <span class="svelte-58osbq">Acceso Autorizado</span></div></div></div></div> <div class="dashboard-content svelte-58osbq"><div class="widgets-grid svelte-58osbq"><div class="widget-section overview-section svelte-58osbq"><!></div> <div class="widget-section translations-section svelte-58osbq"><!></div> <div class="widget-section proxy-section svelte-58osbq"><!></div></div></div> <div class="dashboard-footer svelte-58osbq"><div class="footer-content svelte-58osbq"><div class="footer-info svelte-58osbq"><span class="svelte-58osbq">Fight-Radar Admin Dashboard</span> <span class="svelte-58osbq">•</span> <span class="svelte-58osbq">Versión 1.0</span></div> <div class="footer-warning svelte-58osbq"><!> <span class="svelte-58osbq">Panel interno - Solo para uso del equipo</span></div></div></div></div>');function At(Q,r){Te(r,!0);let t=se(Cs(new Date));setInterval(()=>{f(t,new Date,!0)},6e4);function l(T){return T.toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}var a=Lt(),n=s(a),o=s(n),m=s(o),S=s(m);Ps(S,{size:32});var M=i(m,2),A=s(M),c=s(A),_=i(A,2),d=s(_);cs(d,{size:16});var y=i(n,2),v=s(y),x=s(v),$=s(x);ot($,{});var h=i(x,2),G=s(h);yt(G,{});var q=i(h,2),C=s(q);$t(C,{});var N=i(y,2),V=s(N),p=i(s(V),2),P=s(p);cs(P,{size:14}),F(T=>u(c,T),[()=>l(e(t))]),g(Q,a),ze()}function Rt(Q,r){Te(r,!1);const[t,l]=qs(),a=()=>us(Ws,"$currentPath",t),n=()=>us(Vs,"$isAuthenticated",t);Ms(()=>(a(),n(),Ge),()=>{a()===Ce.ADMIN_DASHBOARD&&!n()?Ge.navigate(Ce.ADMIN_LOGIN):a()===Ce.ADMIN_LOGIN&&n()&&Ge.navigate(Ce.ADMIN_DASHBOARD)}),Rs(),fs();var o=ne(),m=O(o);{var S=A=>{_s(A,{})},M=A=>{var c=ne(),_=O(c);{var d=v=>{At(v,{})},y=v=>{_s(v,{})};L(_,v=>{n()?v(d):v(y,!1)},!0)}g(A,c)};L(m,A=>{a(),Es(Ce),Is(()=>a()===Ce.ADMIN_LOGIN)?A(S):A(M,!1)})}g(Q,o),ze(),l()}export{Rt as default};
