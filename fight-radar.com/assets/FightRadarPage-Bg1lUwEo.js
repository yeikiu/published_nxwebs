import{q as kt,p as Qe,l as L,C as _,z as b,r as S,A as e,h as Tt,j as Rt,f as M,m as Le,$ as Bt,i as Q,c as a,u as d,S as Ht,t as P,B as he,s as Ue,b as p,o as Ft,I as St,n as He,x as s,y as g,J as yt,T as xi,k as lt,D as it,E as st,Q as Gt,U as Si,V as Dt,W as bt,Y as Ki,a as Ci,Z as Ni,_ as Oi,a0 as ai,a1 as ni,a2 as Et,g as Pi,F as si,P as Vt,w as Ei,K as Mt,a3 as Ut}from"./lucide-CX01OTsj.js";import{H as $i}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Ii,U as Li}from"./UpcomingFights-Bk3OksLL.js";import{$ as Kt,n as ri,A as mt,a as Ai,v as Wi,g as pt,b as Bi,u as Nt,c as Hi}from"./index-QxOptjiz.js";import{c as Ot,g as jt,f as wt,a as Gi,b as zt,p as Yt,d as qt,e as Qt}from"./fighters_service-Bkgj6Kb3.js";import{R as Vi,a as Xt}from"./RadarChart-CZ3UOjmk.js";import{f as Zt,a as Jt,F as Ui}from"./unit_conversion-D_u0wE9k.js";import"./highcharts-DyRVWUji.js";var ji=M('<img class="svelte-gkl5a1"/>'),zi=M('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Yi=M("<!> <span> </span>",1),qi=M("<span> </span>"),Qi=M('<img class="svelte-gkl5a1"/>'),Xi=M('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Zi=M('<button type="button"><!> <span> </span></button>'),Ji=M('<div class="no-results svelte-gkl5a1"> </div>'),ea=M('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ta=M('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function ei(N,t){kt(t,!1);const[n,u]=St(),o=()=>yt(Kt,"$_",n),i=b(),c=b();let r=Qe(t,"id",8),m=Qe(t,"placeholder",8,""),v=Qe(t,"disabled",8,!0),D=Qe(t,"options",24,()=>[]),C=Qe(t,"selectedValue",12,""),$=Qe(t,"onSelectionChange",8,void 0),y=Qe(t,"onOpenStateChange",8,void 0),Y=Qe(t,"shouldOpen",8,!1),A=b(!1),V=b(),ne=b(),ie=b(""),E=b(!1);function j(){v()||(_(A,!e(A)),e(A)&&setTimeout(()=>e(ne)?.focus(),0))}function k(K){C(K.value),_(ie,""),_(A,!1),$()&&$()(K.value,K)}function H(K){const le=K.target;_(ie,le.value)}function x(K){K.key==="Enter"&&e(c).length>0?(k(e(c)[0]),K.preventDefault()):K.key==="Escape"&&(_(ie,""),_(A,!1))}function T(K){e(V)&&!e(V).contains(K.target)&&(_(A,!1),_(ie,""))}function q(K){K.key==="Escape"&&_(A,!1)}L(()=>(S(D()),S(C())),()=>{_(i,D().find(K=>K.value===C()))}),L(()=>(S(Y()),e(E),S(v()),e(ne)),()=>{Y()&&!e(E)&&!v()?(_(E,!0),_(A,!0),setTimeout(()=>e(ne)?.focus(),0)):Y()||_(E,!1)}),L(()=>(S(y()),e(A)),()=>{y()&&y()(e(A))}),L(()=>(e(ie),S(D()),Ot),()=>{_(c,e(ie)?D().filter(K=>Ot(K.label.toLowerCase()).includes(Ot(e(ie).toLowerCase()))):D())}),Tt(),Rt();var W=ta();Le("click",Bt,T),Le("keydown",Bt,q);var de=a(W);let Me;var O=a(de),Pe=a(O);{var G=K=>{var le=Yi(),pe=He(le);{var Ce=Ie=>{var z=ji();P(()=>{he(z,"src",(e(i),s(()=>e(i).imageUrl))),he(z,"alt",(e(i),s(()=>e(i).label)))}),p(Ie,z)},Ae=Ie=>{var z=lt(),Je=He(z);{var Xe=Ye=>{var Te=zi(),Ve=a(Te);Gt(Ve,()=>e(i).iconComponent,(ve,X)=>{X(ve,{size:16})}),p(Ye,Te)};Q(Je,Ye=>{e(i),s(()=>e(i)?.iconComponent)&&Ye(Xe)},!0)}p(Ie,z)};Q(pe,Ie=>{e(i),s(()=>e(i)?.imageUrl)?Ie(Ce):Ie(Ae,!1)})}var Ge=d(pe,2),We=a(Ge);P(()=>g(We,(e(i),s(()=>e(i).label)))),p(K,le)},oe=K=>{var le=qi(),pe=a(le);P(Ce=>g(pe,Ce),[()=>(S(m()),o(),s(()=>m()||o()("common.select_option")))]),p(K,le)};Q(Pe,K=>{e(i)?K(G):K(oe,!1)})}var R=d(O,2);let te;var Ke=d(de,2);{var Ee=K=>{var le=ea(),pe=a(le),Ce=a(pe);Ht(Ce,Te=>_(ne,Te),()=>e(ne));var Ae=d(pe,2),Ge=a(Ae);let We;var Ie=a(Ge),z=a(Ie),Je=d(Ge,2);{var Xe=Te=>{var Ve=lt(),ve=He(Ve);it(ve,1,()=>e(c),st,(X,_e)=>{var je=Zi();let at;var rt=a(je);{var ct=$e=>{var Ne=Qi();P(()=>{he(Ne,"src",(e(_e),s(()=>e(_e).imageUrl))),he(Ne,"alt",(e(_e),s(()=>e(_e).label)))}),Le("error",Ne,ze=>{ze.currentTarget.style.display="none"}),p($e,Ne)},dt=$e=>{var Ne=lt(),ze=He(Ne);{var _t=nt=>{var ut=Xi(),h=a(ut);Gt(h,()=>e(_e).iconComponent,(f,F)=>{F(f,{size:16})}),p(nt,ut)};Q(ze,nt=>{e(_e),s(()=>e(_e)?.iconComponent)&&nt(_t)},!0)}p($e,Ne)};Q(rt,$e=>{e(_e),s(()=>e(_e)?.imageUrl)?$e(ct):$e(dt,!1)})}var vt=d(rt,2),ot=a(vt);P($e=>{at=Ue(je,1,"dropdown-item svelte-gkl5a1",null,at,$e),g(ot,(e(_e),s(()=>e(_e).label)))},[()=>({selected:C()===e(_e).value})]),Le("click",je,()=>k(e(_e))),p(X,je)}),p(Te,Ve)},Ye=Te=>{var Ve=lt(),ve=He(Ve);{var X=_e=>{var je=Ji(),at=a(je);P(()=>g(at,`No se encontraron resultados para "${e(ie)??""}"`)),p(_e,je)};Q(ve,_e=>{e(ie)&&_e(X)},!0)}p(Te,Ve)};Q(Je,Te=>{e(c),s(()=>e(c).length>0)?Te(Xe):Te(Ye,!1)})}P((Te,Ve,ve)=>{he(Ce,"placeholder",Te),he(Ae,"id",`dropdown-options-${r()??""}`),We=Ue(Ge,1,"dropdown-item svelte-gkl5a1",null,We,Ve),g(z,ve)},[()=>(o(),s(()=>o()("common.search")||"Search...")),()=>({selected:C()===""}),()=>(S(m()),o(),s(()=>m()||o()("common.select_option")))]),xi(Ce,()=>e(ie),Te=>_(ie,Te)),Le("input",Ce,H),Le("keydown",Ce,x),Le("click",Ge,()=>k({value:"",label:m(),imageUrl:""})),p(K,le)};Q(Ke,K=>{e(A)&&K(Ee)})}Ht(W,K=>_(V,K),()=>e(V)),P((K,le)=>{he(W,"id",r()),Me=Ue(de,1,"dropdown-button svelte-gkl5a1",null,Me,K),de.disabled=v(),he(de,"aria-expanded",e(A)),he(de,"aria-controls",`dropdown-options-${r()??""}`),te=Ue(R,1,"dropdown-arrow svelte-gkl5a1",null,te,le)},[()=>({disabled:v(),open:e(A)}),()=>({rotated:e(A)})]),Le("click",de,j),p(N,W),Ft(),u()}function Pt(N,t){if(t()){const n=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;ri(n)}}function ia(N,t){_(t,!e(t))}var aa=M('<img class="fighter-image svelte-1cmiluv"/> <div class="fighter-placeholder svelte-1cmiluv" style="display: none;">Picture Unavailable</div>',1),na=M('<div class="fighter-placeholder svelte-1cmiluv">Picture Unavailable</div>'),sa=M('<span class="division-ranking champion svelte-1cmiluv" title="Champion"><!></span>'),ra=M('<span class="division-ranking ranked svelte-1cmiluv"> </span>'),oa=(N,t)=>N.key==="Enter"&&t(),la=M('<div class="stat-item role-disc-clickable svelte-1cmiluv" role="button" tabindex="0"><span class="stat-label svelte-1cmiluv">ROLE-DISC:</span> <span><div class="role-emojis svelte-1cmiluv"> </div> <div class="role-name svelte-1cmiluv"> </div></span></div>'),ca=M('<div class="archetype-fields svelte-1cmiluv"><div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value description svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value favorite-zone svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value strengths svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value weaknesses svelte-1cmiluv"> </div></div></div>'),da=M('<hr class="archetype-divider svelte-1cmiluv"/> <div class="archetype-container svelte-1cmiluv"><div class="archetype-section svelte-1cmiluv"><button type="button" class="archetype-section-title svelte-1cmiluv"><span><!></span> </button> <!></div></div>',1),va=M('<div class="fighter-header svelte-1cmiluv"><div class="header-actions svelte-1cmiluv"><!> <button type="button" class="fighter-detail-cta svelte-1cmiluv" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1cmiluv"><div class="fighter-image-container svelte-1cmiluv"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1cmiluv"><div class="fighter-name svelte-1cmiluv"> </div></button> <div class="fighter-division-container svelte-1cmiluv"><span class="fighter-division svelte-1cmiluv"> </span> <!></div> <div class="star-rating svelte-1cmiluv"><div class="stars-container svelte-1cmiluv"></div></div> <div class="fighter-stats svelte-1cmiluv"><!> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value career-record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span><!></span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value height svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value reach svelte-1cmiluv"> </span></div></div> <!>',1),ha=M('<div class="empty-card svelte-1cmiluv"><div class="empty-message svelte-1cmiluv"> </div></div>'),_a=M('<div class="fighter-card svelte-1cmiluv"><!></div> <!>',1);function ti(N,t){kt(t,!1);const[n,u]=St(),o=()=>yt(Kt,"$_",n),i=b(),c=b(),r=b(),m=b();let v=Qe(t,"fighter",8,null),D=Qe(t,"id",8,""),C=b(!1),$=b(!1);function y(){_(C,!0)}function Y(){_(C,!1)}L(()=>o(),()=>{_(i,k=>{if(!k||!k.startsWith("@ARCHETYPE_"))return k;let H="",x="";if(k.includes("_DESCRIPTION"))H=k.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),x="description";else if(k.includes("_FAVORITE_ZONE"))H=k.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),x="favorite_zone";else if(k.includes("_STRENGTHS"))H=k.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),x="strengths";else if(k.includes("_WEAKNESSES"))H=k.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),x="weaknesses";else{const W=k.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!W)return k;H=W[1],x=W[2].toLowerCase()}const T=`archetype_data.${H}.${x}`,q=o()(T);return k.includes("_WEAKNESSES"),q!==T?q:k})}),L(()=>(S(v()),jt),()=>{_(c,v()?jt(v().archetype):null)}),L(()=>(S(v()),Zt),()=>{_(r,v()?.rawData.height_inches?Zt(v().rawData.height_inches):"-")}),L(()=>(S(v()),Jt),()=>{_(m,v()?.rawData.reach_inches?Jt(v().rawData.reach_inches):"-")}),Tt(),Rt();var A=_a(),V=He(A),ne=a(V);{var ie=k=>{var H=va(),x=He(H),T=a(x),q=a(T);Ui(q,{get fighterFullName(){return S(v()),s(()=>v().nameWithNickname)},size:"large"});var W=d(q,2);W.__click=[Pt,v];var de=a(W);Si(de,{size:16});var Me=d(T,2);Me.__click=[Pt,v];var O=a(Me),Pe=a(O);{var G=ee=>{var ae=aa(),Re=He(ae);P(()=>{he(Re,"src",(S(v()),s(()=>v().pictureUrl))),he(Re,"alt",`${S(v()),s(()=>v().name)??""} fighter profile picture`)}),Le("error",Re,Se=>{Se.currentTarget.style.display="none";const B=Se.currentTarget.nextElementSibling;B&&(B.style.display="block")}),p(ee,ae)},oe=ee=>{var ae=na();p(ee,ae)};Q(Pe,ee=>{S(v()),s(()=>v().pictureUrl)?ee(G):ee(oe,!1)})}var R=d(x,2);R.__click=[Pt,v];var te=a(R),Ke=a(te),Ee=d(R,2),K=a(Ee),le=a(K),pe=d(K,2);{var Ce=ee=>{var ae=lt(),Re=He(ae);{var Se=l=>{var w=sa(),I=a(w);Ni(I,{size:16}),p(l,w)},B=l=>{var w=ra(),I=a(w);P(()=>{he(w,"title",`Division Ranking #${S(v()),s(()=>v().rawData.division_ranking)??""}`),g(I,`#${S(v()),s(()=>v().rawData.division_ranking)??""}`)}),p(l,w)};Q(Re,l=>{S(v()),s(()=>v().rawData.division_ranking==="0")?l(Se):l(B,!1)})}p(ee,ae)};Q(pe,ee=>{S(v()),s(()=>v().rawData.division_ranking!==void 0&&v().rawData.division_ranking!=="")&&ee(Ce)})}var Ae=d(Ee,2),Ge=a(Ae),We=d(Ae,2),Ie=a(We);{var z=ee=>{var ae=la();ae.__click=y,ae.__keydown=[oa,y];var Re=a(ae),Se=d(Re,2),B=a(Se),l=a(B),w=d(B,2),I=a(w);P((ce,se)=>{he(ae,"aria-label",ce),he(Re,"title",se),Ue(Se,1,`stat-value role-indicator archetype-dots archetype-${e(c),s(()=>e(c).type)??""}`,"svelte-1cmiluv"),he(Se,"title",(e(c),s(()=>e(c).tooltip))),g(l,(e(c),s(()=>e(c).label))),g(I,(e(c),s(()=>e(c).name)))},[()=>(o(),s(()=>o()("role_disc_modal.open_modal_aria_label"))),()=>(o(),s(()=>o()("role_disc_modal.archetype_tooltip")))]),p(ee,ae)};Q(Ie,ee=>{e(c)&&ee(z)})}var Je=d(Ie,2),Xe=a(Je),Ye=a(Xe),Te=d(Xe,2),Ve=a(Te),ve=d(Je,2),X=a(ve),_e=a(X),je=d(X,2),at=a(je),rt=d(ve,2),ct=a(rt),dt=a(ct),vt=d(ct,2);let ot;var $e=a(vt);{var Ne=ee=>{var ae=bt();P(()=>g(ae,`+${S(v()),s(()=>v().streak)??""}W`)),p(ee,ae)},ze=ee=>{var ae=lt(),Re=He(ae);{var Se=l=>{var w=bt();P(()=>g(w,`${S(v()),s(()=>v().streak)??""}L`)),p(l,w)},B=l=>{var w=bt("-");p(l,w)};Q(Re,l=>{S(v()),s(()=>v().streak<0)?l(Se):l(B,!1)},!0)}p(ee,ae)};Q($e,ee=>{S(v()),s(()=>v().streak>0)?ee(Ne):ee(ze,!1)})}var _t=d(rt,2),nt=a(_t),ut=a(nt),h=d(nt,2),f=a(h),F=d(_t,2),J=a(F),me=a(J),ye=d(J,2),Oe=a(ye),xe=d(We,2);{var Ze=ee=>{var ae=da(),Re=d(He(ae),2),Se=a(Re),B=a(Se);B.__click=[ia,$];var l=a(B);let w;var I=a(l);Ki(I,{size:20});var ce=d(l),se=d(B,2);{var Z=U=>{var re=ca(),ge=a(re),we=a(ge),De=a(we),be=a(De);Oi(be,{size:18});var ke=d(De,2),Be=a(ke),Fe=d(we,2),ue=a(Fe),qe=d(ge,2),et=a(qe),tt=a(et),ht=a(tt);ai(ht,{size:18});var ft=d(tt,2),Ct=a(ft),oi=d(et,2),li=a(oi),$t=d(qe,2),It=a($t),Lt=a(It),ci=a(Lt);ni(ci,{size:18});var di=d(Lt,2),vi=a(di),hi=d(It,2),_i=a(hi),ui=d($t,2),At=a(ui),Wt=a(At),gi=a(Wt);Et(gi,{size:18});var fi=d(Wt,2),pi=a(fi),mi=d(At,2),yi=a(mi);P((bi,wi,Di,ki,Ti,Ri,Fi,Mi)=>{g(Be,bi),g(ue,wi),g(Ct,Di),g(li,ki),g(vi,Ti),g(_i,Ri),g(pi,Fi),g(yi,Mi)},[()=>(o(),s(()=>o()("archetype.tactical_description"))),()=>(e(i),S(v()),s(()=>e(i)(v().archetype.description))),()=>(o(),s(()=>o()("archetype.preferred_zone"))),()=>(e(i),S(v()),s(()=>e(i)(v().archetype.favoriteZone))),()=>(o(),s(()=>o()("archetype.strengths"))),()=>(e(i),S(v()),s(()=>e(i)(v().archetype.strengths))),()=>(o(),s(()=>o()("archetype.weaknesses"))),()=>(e(i),S(v()),s(()=>e(i)(v().archetype.weaknesses)))]),p(U,re)};Q(se,U=>{e($)&&U(Z)})}P((U,re)=>{he(B,"aria-expanded",e($)),w=Ue(l,1,"archetype-caret svelte-1cmiluv",null,w,U),g(ce,` ${re??""}`)},[()=>({expanded:e($)}),()=>(o(),s(()=>o()("archetype.analysis_title")))]),p(ee,ae)};Q(xe,ee=>{S(v()),s(()=>v().archetype)&&ee(Ze)})}P((ee,ae,Re,Se,B,l,w,I,ce,se,Z,U)=>{he(W,"aria-label",`View detailed fighter profile for ${S(v()),s(()=>v().nameWithNickname)??""}`),g(Ke,(S(v()),s(()=>v().name))),g(le,ee),Dt(Ge,`--fill-width: ${S(v()),s(()=>v().stars*20)??""}%`),he(Xe,"title",ae),g(Ye,`${Re??""}:`),g(Ve,(S(v()),s(()=>v().career_record))),he(X,"title",Se),g(_e,`${B??""}:`),g(at,(S(v()),s(()=>v().record_36m))),he(ct,"title",l),g(dt,`${w??""}:`),ot=Ue(vt,1,"stat-value streak svelte-1cmiluv",null,ot,I),he(nt,"title",ce),g(ut,`${se??""}:`),g(f,e(r)),he(J,"title",Z),g(me,`${U??""}:`),g(Oe,e(m))},[()=>(S(wt),S(v()),s(()=>wt(v().division||""))),()=>(o(),s(()=>o()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(o(),s(()=>o()("fighter_profile.career_record"))),()=>(o(),s(()=>o()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(o(),s(()=>o()("fighter_profile.record_36m"))),()=>(o(),s(()=>o()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(o(),s(()=>o()("fighter_profile.streak"))),()=>({"streak-win":v().streak>0,"streak-loss":v().streak<0}),()=>(o(),s(()=>o()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(o(),s(()=>o()("fighter_profile.height"))),()=>(o(),s(()=>o()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(o(),s(()=>o()("fighter_profile.reach")))]),p(k,H)},E=k=>{var H=ha(),x=a(H),T=a(x);P(q=>g(T,q),[()=>(o(),s(()=>o()("fight_radar.select_fighter_stats")))]),p(k,H)};Q(ne,k=>{v()?k(ie):k(E,!1)})}var j=d(V,2);Vi(j,{get isOpen(){return e(C)},$$events:{close:Y}}),P(()=>he(V,"id",D())),p(N,A),Ft(),u()}Ci(["click","keydown"]);function ua(N){const t=N.filter(r=>r.type===fe.VICTORY_METHOD&&(r.prediction.toLowerCase().includes("decision")||r.predictionKey?.toLowerCase().includes("decision")));if(t.length===0)return N;const n=N.filter(r=>{if(r.type!==fe.DURATION)return!1;const m=r.prediction.toLowerCase(),v=r.predictionKey?.toLowerCase()||"";return m.includes("under")||v.includes("under")});if(n.length===0)return N;const u=[...t,...n],o=Math.max(...u.map(r=>r.confidence)),i=u.find(r=>r.confidence===o);if(!i)return N;const c=new Set(u.map(r=>r.id));return N.filter(r=>!c.has(r.id)||r.id===i.id)}function ga(N){const t=N.filter(c=>c.type===fe.VICTORY_METHOD),n=N.filter(c=>c.type===fe.FIGHT_PROPS);if(t.length===0||n.length===0)return N;const o=t.reduce((c,r)=>r.confidence>c.confidence?r:c).prediction.toLowerCase(),i=new Set;for(const c of n){const r=(c.prediction||"").toLowerCase(),m=(c.predictionKey||"").toLowerCase();(o.includes("ko")||o.includes("tko"))&&(r.includes("submission")||r.includes("ground control")||m.includes("submission")||m.includes("ground_control"))&&i.add(c.id),o.includes("submission")&&(r.includes("standing exchange")&&!r.includes("ground")||m.includes("standing_exchange")&&!m.includes("ground"))&&i.add(c.id),o.includes("decision")&&(r.includes("first round finish")||r.includes("gone in 60")||m.includes("first_round_finish")||m.includes("gone_in_60"))&&i.add(c.id)}return N.filter(c=>!i.has(c.id))}function fa(N){const t=N.filter(o=>o.type===fe.DURATION),n=N.filter(o=>o.type===fe.FIGHT_PROPS);if(t.length===0||n.length===0)return N;const u=new Set;for(const o of t){const i=(o.prediction||"").toLowerCase(),c=(o.predictionKey||"").toLowerCase(),r=i.includes("under 2.5")||c.includes("under_2_5"),m=i.includes("over 3.5")||c.includes("over_3_5");for(const v of n){const D=(v.prediction||"").toLowerCase(),C=(v.predictionKey||"").toLowerCase();r&&((D.includes("over 100 strikes")||C.includes("over_100_strikes"))&&u.add(v.id),(D.includes("goes to distance")||C.includes("goes_to_distance"))&&u.add(v.id)),m&&(D.includes("first round")||D.includes("gone in 60")||C.includes("first_round")||C.includes("gone_in_60"))&&u.add(v.id)}}return N.filter(o=>!u.has(o.id))}function ii(N){let t=[...N];return t=ua(t),t=ga(t),t=fa(t),t}var fe=(N=>(N.MONEYLINE="moneyline",N.VICTORY_METHOD="victory_method",N.WINNER_AND_METHOD="winner_and_method",N.DURATION="duration",N.GOES_TO_DECISION="goes_to_decision",N.GONE_IN_60="gone_in_60",N.FIGHT_PROPS="fight_props",N.KEY_FACTORS="key_factors",N.TRENDS="trends",N.NO_PREDICTION="no_prediction",N))(fe||{}),xt=(N=>(N.HIGH="high",N.MEDIUM="medium",N.LOW="low",N))(xt||{});class gt{constructor(){this.config={finishLikelihoodThreshold:35.5,skillGapWeight:.06000000000000005,finishRateWeight:.39999999999999997,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:-1,predatorVsDefensiveBonus:2.5,koThreatWinnerWeight:.58,koThreatLoserWeight:.42,koVulnDiffHighThreshold:11,koVulnDiffMedThreshold:5,koVulnDiffHighBonus:12,koVulnDiffMedBonus:4,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:35,strOffGapMedThreshold:25,strOffGapLowThreshold:15,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:35,ctrlGapMedThreshold:25,ctrlGapLowThreshold:15,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:35,tdOffGapMedThreshold:25,tdOffGapLowThreshold:15,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,earlyFinishScoreThreshold:39,durationSkillGapWeight:.19999999999999998,durationFinishRateWeight:.34500000000000003,durationVulnerabilityWeight:.30000000000000004,durationAvgTimeWeight:.185,underBonusBase:21,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:44,durationBothLowFinishThreshold:24,durationPaceAsymmetryThreshold:3.5,durationPaceAsymmetryPenalty:-1.5,durationUnderSkillGapBonus:9,durationUnderLoserVulnBonus:7,durationUnderWinnerFinishBonus:3,durationUnderComboBonus:0,durationUnderExtreme:10,durationUnderSkillGapExtreme:10,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:8,oppTierWeight:8.5,oppTierNeutral:1.82,winRateWeightNormal:.23999999999999994,winRateWeightHigh:.42000000000000004,winRateWeightLow:.34,winRateHighThreshold:78,winRateLowThreshold:42,ageImpactEnabled:!0,agePenaltyPhase1Rate:.008,agePenaltyPhase2Rate:.015,agePenaltyPhase3Rate:.018,agePenaltyMaxCap:.28,damageMultiplier1KO:1.1,damageMultiplier2KO:1.25,damageMultiplier3KO:1.4,damageMultiplier4KO:1.6,damageMultiplier5PlusKO:1.8,relativeAgeThreshold:8,relativeAgeAdjustRate:.003,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.008,winStreak2Bonus:.028,winStreak3PlusBonus:.048,loseStreak1Penalty:.008,loseStreak2Penalty:.032,loseStreak3PlusPenalty:.048,physicalAdvantagesEnabled:!0,reachAdvantageWeight:0,heightAdvantageWeight:.0022500000000000003,reachDiffThreshold:-1,heightDiffThreshold:-1,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:17,inactivityPenaltyRate:.004,inactivityMaxPenalty:.23,activityBonusThreshold:2,activityBonus:.04,amplificationEnabled:!0,amplificationThreshold:12,amplificationRate:.016,minProbability:15,maxProbability:88,decisionProbabilityBase:68,decisionLowFinishAdjust:3,goesToDecisionMaxProb:88}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,n,u=!1,o=3){const i=[],r=t.rawData.Number_of_Fights_36m||0,m=n.rawData.Number_of_Fights_36m||0;if(r<3||m<3)return[this.createNoPredictionCard("insufficient_fights",t,n,r,m)];if(t.division!==n.division)return[this.createNoPredictionCard("different_divisions",t,n)];const v=this.calculateWinProbability(t,n);if(u&&v.probability<gt.MIN_MEDIUM_CONFIDENCE){const V=v.winner===t?v.probability:100-v.probability,ne=100-V;i.push(this.createNoPredictionCard("low_moneyline_confidence",t,n,void 0,void 0,V,ne))}else i.push(this.createMoneylineCard(v));const D=this.predictMethodGivenWinner(t,n,v),C=this.predictTotalRounds(t,n,v,D,o),$=this.generateFightProps(t,n,v),y=this.analyzeKeyFactors(t,n),Y=this.analyzeTrends(t,n);i.push(this.createVictoryMethodCard(D));const A=this.predictWinnerAndMethod(v,D);return i.push(A),i.push(this.createTotalRoundsCard(C)),i.push(this.createFightPropsCard($)),i.push(this.createKeyFactorsCard(y)),i.push(this.createTrendsCard(Y)),this.hasHighConfidencePredictions(i)||i.push(this.createNoPredictionCard("low_confidence")),u?this.sortBetCardsByPriority(this.filterByConfidence(ii(i))):this.sortBetCardsByPriority(ii(i))}filterByConfidence(t){return t.filter(n=>n.type==="key_factors"||n.type==="trends"||n.type==="no_prediction"?!0:n.confidence>=gt.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(t,n){const u=(t.rawData.reach_inches||0)-(n.rawData.reach_inches||0),o=(t.rawData.height_inches||0)-(n.rawData.height_inches||0);let i=0,c=0;return u>=3?i+=Math.min(Math.abs(u)*this.config.reachAdvantageWeight,.025):u<=-3&&(c+=Math.min(Math.abs(u)*this.config.reachAdvantageWeight,.025)),o>=3?i+=Math.min(Math.abs(o)*this.config.heightAdvantageWeight,.015):o<=-3&&(c+=Math.min(Math.abs(o)*this.config.heightAdvantageWeight,.015)),{f1Advantage:i,f2Advantage:c}}calculateWinProbability(t,n){const u=this.config.oppTierNeutral,o=this.config.oppTierWeight;let i=t.overall+(t.oppTierScore-u)*o,c=n.overall+(n.oppTierScore-u)*o;const r=this.calculatePhysicalAdvantage(t,n);i*=1+r.f1Advantage,c*=1+r.f2Advantage,i*=this.calculateAgeImpact(t),c*=this.calculateAgeImpact(n);const m=this.getInactiveMonths(t),v=this.getInactiveMonths(n);if(m>=this.config.inactivityThreshold){const O=Math.min((m-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);i*=1-O}if(v>=this.config.inactivityThreshold){const O=Math.min((v-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);c*=1-O}const D=this.getFightsInPeriod(t,18),C=this.getFightsInPeriod(n,18);D>=this.config.activityBonusThreshold&&(i*=1+this.config.activityBonus),C>=this.config.activityBonusThreshold&&(c*=1+this.config.activityBonus);const $=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,y=n.rawData.Number_of_Fights_36m>0?n.rawData.win/n.rawData.Number_of_Fights_36m*100:0,Y=this.calculateMomentum(t),A=this.calculateMomentum(n);i*=1+Y,c*=1+A;let V=this.config.winRateWeightNormal,ne=this.config.winRateWeightNormal;$>=this.config.winRateHighThreshold?V=this.config.winRateWeightHigh:$<this.config.winRateLowThreshold&&(V=this.config.winRateWeightLow),y>=this.config.winRateHighThreshold?ne=this.config.winRateWeightHigh:y<this.config.winRateLowThreshold&&(ne=this.config.winRateWeightLow);const ie=i+$*V,E=c+y*ne,j=this.calculateAge(t),k=this.calculateAge(n),H=j-k;let x=ie,T=E;if(Math.abs(H)>=this.config.relativeAgeThreshold){const O=Math.min(Math.abs(H)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);H>0?(x=ie*(1-O),T=E*(1+O)):(x=ie*(1+O),T=E*(1-O))}const q=Math.abs(x-T);if(q>this.config.amplificationThreshold){const O=1+(q-this.config.amplificationThreshold)*this.config.amplificationRate;x>T?x*=O:T*=O}const W=x+T;let de=W>0?Math.round(x/W*100):50,Me=W>0?Math.round(T/W*100):50;if(de=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,de)),Me=100-de,de>Me){let O=this.getWinReasoningKey(t,n,$,y);return{winner:t,probability:de,reasoningKey:O,adjustedScore1:x,adjustedScore2:T}}else{let O=this.getWinReasoningKey(n,t,y,$);return{winner:n,probability:Me,reasoningKey:O,adjustedScore1:T,adjustedScore2:x}}}predictWinnerAndMethod(t,n){const u=t.probability/100*(n.probability/100)*100,o=t.winner,i=n.method,c=n.methodKey,r=o.name,m=`combat_analysis.winner_and_method.${c.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:r,predictionKey:m,confidence:Math.round(u),confidenceLevel:this.getConfidenceLevel(u),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:o.name,method:i,methodKey:m,winnerProb:t.probability,methodProb:n.probability,compositeProb:u},priority:2.5}}predictMethodGivenWinner(t,n,u){const o=u.winner,i=o===t?n:t,c=1.82,r=4.5,m=o.overall+(o.oppTierScore-c)*r,v=i.overall+(i.oppTierScore-c)*r,D=Math.abs(m-v),C=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,$=n.rawData.Number_of_Fights_36m>0?(n.rawData.win_kotko+n.rawData.win_sub)/n.rawData.Number_of_Fights_36m*100:0,y=o===t?C:$,Y=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,A=n.rawData.Number_of_Fights_36m>0?n.rawData.win_kotko/n.rawData.Number_of_Fights_36m*100:0,V=o===t?Y:A,ne=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,ie=n.rawData.Number_of_Fights_36m>0?n.rawData.win_sub/n.rawData.Number_of_Fights_36m*100:0,E=o===t?ne:ie,j=i.rawData.Number_of_Fights_36m>0?i.rawData.loss_kotko/i.rawData.Number_of_Fights_36m*100:0,k=i.rawData.Number_of_Fights_36m>0?i.rawData.loss_sub/i.rawData.Number_of_Fights_36m*100:0,H=j+k,x=H;let T=D*this.config.skillGapWeight+y*this.config.finishRateWeight+H*this.config.vulnerabilityWeight;const q=V>E&&j>k,W=E>V&&k>j;(q||W)&&(T+=this.config.methodMatchBonus),o.rawData.Number_of_Fights_36m>=4&&y>=40&&y<=65&&(T+=this.config.highPaceFinishBonus),Math.max(V,E)>45&&H>35&&(T+=this.config.styleStrengthBonus),y>55&&x>45&&(T+=this.config.finisherVsVulnerableBonus);const O=o.archetype?.combinedRole||"",Pe=i.archetype?.combinedRole||"",G=O.includes("AT")||O.includes("ANT"),oe=Pe.includes("PT")||Pe.includes("PNT");if(G&&oe&&y>30&&H>25&&(T+=this.config.predatorVsDefensiveBonus),!(T>=32&&T<this.config.finishLikelihoodThreshold&&H>50)){if(T<this.config.finishLikelihoodThreshold||u.probability<58&&y<24){let z=Math.min(Math.round(100-T),85);return y<15&&x<20&&(z+=this.config.decisionLowFinishAdjust),y<10&&x<15&&(z+=this.config.decisionLowFinishAdjust),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(z,this.config.goesToDecisionMaxProb),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:C,finishRate2:$}}}let R=V*this.config.koThreatWinnerWeight+j*this.config.koThreatLoserWeight,te=E*this.config.subThreatWinnerWeight+k*this.config.subThreatLoserWeight;const Ke=k-j;Ke>this.config.subVulnDiffHighThreshold?te+=this.config.subVulnDiffHighBonus:Ke>this.config.subVulnDiffMedThreshold&&(te+=this.config.subVulnDiffMedBonus);const Ee=j-k;Ee>this.config.koVulnDiffHighThreshold?R+=this.config.koVulnDiffHighBonus:Ee>this.config.koVulnDiffMedThreshold&&(R+=this.config.koVulnDiffMedBonus);const K=o.fightRadar.STR_OFF-i.fightRadar.STR_OFF;if(K>this.config.strOffGapLowThreshold){const z=K>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:K>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;R+=z}const le=o.fightRadar.CTRL-i.fightRadar.CTRL;if(le>this.config.ctrlGapLowThreshold){const z=le>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:le>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;te+=z}const pe=o.fightRadar.TD_OFF-i.fightRadar.TD_OFF;if(pe>this.config.tdOffGapLowThreshold){const z=pe>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:pe>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;te+=z}const Ce=V>E&&j>k,Ae=E>V&&k>j,Ge=Math.abs(R-te),We=Math.abs(V-E);if(Ge<3?We<5?j>k:Ce&&!Ae||R>te&&!Ae:R>te){let z=Math.min(Math.round(T+R*.35),81);return D>10&&(z+=this.config.koSkillGapBonus),j>30&&(z+=this.config.koLoserVulnBonus),V>50&&(z+=this.config.koWinnerRateBonus),V>60&&j>25&&(z+=this.config.koComboBonus),Ce&&V>this.config.koMethodMatchWinnerThreshold&&j>this.config.koMethodMatchLoserThreshold&&(z+=this.config.koMethodMatchBonus),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(z,89),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:C,finishRate2:$}}else{let z=Math.min(Math.round(T+te*.35),76);return D>10&&(z+=this.config.subSkillGapBonus),k>24&&(z+=this.config.subLoserVulnBonus),E>40&&(z+=this.config.subWinnerRateBonus),E>50&&k>20&&(z+=this.config.subComboBonus),Ae&&E>this.config.subMethodMatchWinnerThreshold&&k>this.config.subMethodMatchLoserThreshold&&(z+=this.config.subMethodMatchBonus),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(z,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:C,finishRate2:$}}}predictTotalRounds(t,n,u,o,i=3){const c=u.winner,r=c===t?n:t,m=1.82,v=3.45,D=c.overall+(c.oppTierScore-m)*v,C=r.overall+(r.oppTierScore-m)*v,$=Math.abs(D-C),y=(t.rawData.Fight_Duration_Seconds||900)/60,Y=(n.rawData.Fight_Duration_Seconds||900)/60,A=c===t?y:Y,V=c===t?Y:y,ne=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,ie=n.rawData.Number_of_Fights_36m>0?(n.rawData.win_kotko+n.rawData.win_sub)/n.rawData.Number_of_Fights_36m*100:0,E=c===t?ne:ie,j=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,k=n.rawData.Number_of_Fights_36m>0?n.rawData.win_kotko/n.rawData.Number_of_Fights_36m*100:0,H=c===t?j:k,x=r.rawData.Number_of_Fights_36m>0?(r.rawData.loss_kotko+r.rawData.loss_sub)/r.rawData.Number_of_Fights_36m*100:0;let T=$*this.config.durationSkillGapWeight+E*this.config.durationFinishRateWeight+x*this.config.durationVulnerabilityWeight+(15-Math.min(A,15))*this.config.durationAvgTimeWeight*10;x>this.config.durationLoserVulnThreshold&&(T+=this.config.loserVulnBonus),ne<this.config.durationBothLowFinishThreshold&&ie<this.config.durationBothLowFinishThreshold&&(T-=this.config.decisionFighterPenalty);const q=t.rawData.Number_of_Fights_36m,W=n.rawData.Number_of_Fights_36m;Math.abs(q-W)>=this.config.durationPaceAsymmetryThreshold&&Math.min(q,W)<=2&&(T-=this.config.durationPaceAsymmetryPenalty);const Me=(y+Y)/2,O=[],Pe=E>70&&x>50&&$>12||E>80&&x>40||$>15&&E>60;if(T>55&&u.probability>65&&Pe||A<6&&V<8&&$>10){let G=Math.min(Math.round(T+this.config.durationUnderExtreme),75);$>15&&(G+=this.config.durationUnderSkillGapExtreme),E>80&&(G+=this.config.durationUnderFinishRateExtreme),x>60&&(G+=this.config.durationUnderLoserVulnExtreme);const oe=Math.min(G,82);O.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:oe,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:A})}if(i===5){const G=E>60&&x>40||H>60&&A<8;if(T>this.config.earlyFinishScoreThreshold&&u.probability>48||G){let oe=Math.min(Math.round(T+this.config.underBonusBase),76);$>10&&(oe+=this.config.durationUnderSkillGapBonus),x>45&&(oe+=this.config.durationUnderLoserVulnBonus),E>65&&(oe+=this.config.durationUnderWinnerFinishBonus),E>50&&x>35&&(oe+=this.config.durationUnderComboBonus);const R=Math.min(oe,87);O.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:R,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:A})}}if(i===3){let G=68;T>38&&(G=61),T>32&&T<=38&&(G=66),T<25&&(G=75),T<18&&(G=79),E>60&&(G-=4),E<20&&(G+=7),E<15&&x<25&&(G+=5);const oe=Math.min(Math.max(Math.round(G),53),82);O.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:oe,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:Me})}if(i===5){let G=68;T>38&&(G=61),T>32&&T<=38&&(G=66),T<25&&(G=75),T<18&&(G=79),E>60&&(G-=4),E<20&&(G+=7),E<15&&x<25&&(G+=5);const oe=Math.min(Math.max(Math.round(G),53),82);O.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:oe,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:Me})}if(o&&o.method==="Decision"){const G=i===3?"OVER 1.5":"OVER 2.5",oe=O.find(R=>R.prediction.includes(G));oe&&oe.probability<o.probability&&(oe.probability=Math.min(o.probability,this.config.goesToDecisionMaxProb))}return O.sort((G,oe)=>oe.probability-G.probability),O[0]}generateFightProps(t,n,u){const o=this.calculateBettingMetrics(t,n,u);return this.hasDominantGrappler(t,n),this.isStrikerWar(t,n),o.f1SubRate+o.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:o}:o.weightedFinishRate&&o.weightedFinishRate>60&&o.weightedAvgFightTime&&o.weightedAvgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:o}:o.f1KnockdownRate>.6&&o.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:o}:o.f1TakedownRate>15||o.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:o}:o.f1StrikeVolume>120&&o.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:o}:o.f1TakedownRate<5&&o.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:o}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:o}}analyzeKeyFactors(t,n){const u=[],o=t.rawData.reach_inches||0,i=n.rawData.reach_inches||0,c=Math.abs(o-i);if(c>2){const y=o>i?t.name||"Fighter 1":n.name||"Fighter 2";u.push({label:"combat_analysis.key_factors.reach_advantage",value:`${y} +${c}"`,type:"advantage"})}const r=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,m=n.rawData.Sig_Strikes_Thrown>0?Math.round(n.rawData.Sig_Strikes_Landed/n.rawData.Sig_Strikes_Thrown*100):0;u.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${r}% vs ${n.name||"F2"}: ${m}%`,type:"comparison"});const v=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,D=n.rawData.takedowns_attempted_against>0?Math.round(n.rawData.Takedowns_Defended/n.rawData.takedowns_attempted_against*100):85;u.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${v}% vs ${n.name||"F2"}: ${D}%`,type:"comparison"});const C=t.rawData.Number_of_Fights_36m||0,$=n.rawData.Number_of_Fights_36m||0;if(Math.abs(C-$)>2){const y=C>$?t.name||"Fighter 1":n.name||"Fighter 2",Y=Math.max(C,$),A=Math.min(C,$);u.push({label:"combat_analysis.key_factors.higher_activity",value:`${y}: ${Y} vs ${A} fights`,type:"advantage"})}return u}analyzeTrends(t,n){const u=[],o=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,i=n.rawData.Number_of_Fights_36m>0?Math.round(n.rawData.win/n.rawData.Number_of_Fights_36m*100):0;o>=75?u.push({type:"positive",text:`${t.name||"Fighter 1"} has ${o}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:t.name||"Fighter 1",winRate:o},fighter:t.name}):o<50&&u.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${o}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:t.name||"Fighter 1",winRate:o},fighter:t.name}),i>=75?u.push({type:"positive",text:`${n.name||"Fighter 2"} has ${i}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:n.name||"Fighter 2",winRate:i},fighter:n.name}):i<50&&u.push({type:"negative",text:`${n.name||"Fighter 2"} struggling at ${i}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:n.name||"Fighter 2",winRate:i},fighter:n.name});const c=(t.rawData.Fight_Duration_Seconds||900)/60,r=(n.rawData.Fight_Duration_Seconds||900)/60,m=(c+r)/2;return u.push({type:"neutral",text:`Combined average fight time: ${m.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:m.toFixed(1)}}),u}calculateMomentum(t){const n=t.streak;if(n===0)return 0;const u=Math.abs(n);return n>0?u>=3?this.config.winStreak3PlusBonus:u>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:u>=3?-this.config.loseStreak3PlusPenalty:u>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(t){return t===0?1:t===1?this.config.damageMultiplier1KO:t===2?this.config.damageMultiplier2KO:t===3?this.config.damageMultiplier3KO:t===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(t){const n=this.calculateAge(t),o={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,i=t.rawData.loss_kotko||0,c=this.calculateDamageMultiplier(i),r=(n-o)*c;if(r<=0)return 1;let m=0;return r<=5?m=r*this.config.agePenaltyPhase1Rate:r<=10?m=5*this.config.agePenaltyPhase1Rate+(r-5)*this.config.agePenaltyPhase2Rate:m=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(r-10)*this.config.agePenaltyPhase3Rate,m=Math.min(m,this.config.agePenaltyMaxCap),1-m}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const i=t.birthDate||t.rawData.Birth_Date,c=new Date(i);if(!isNaN(c.getTime())){const r=new Date;let m=r.getFullYear()-c.getFullYear();const v=r.getMonth()-c.getMonth();return(v<0||v===0&&r.getDate()<c.getDate())&&m--,m}}const n=25,u=2.5,o=t.rawData.Number_of_Fights_36m||0;return Math.round(n+o/u)}getInactiveMonths(t){const n=t.rawData.Number_of_Fights_36m||0;return n>=3?0:n>=2?6:n>=1?12:24}getFightsInPeriod(t,n){const u=n/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*u)}getWeightedMetric(t,n,u,o,i=.5){const c=u.probability/100,r=1-c;return u.winner===o?t*c+n*r*i:n*c+t*r*i}getFighterStyle(t){const n=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,u=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0;return n>15||u>25?"grappler":o>30&&n<10?"striker":"balanced"}hasDominantGrappler(t,n){const u=this.getFighterStyle(t),o=this.getFighterStyle(n),i=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,c=n.rawData.Sig_Strikes_Thrown>0?n.rawData.Takedowns_Attempted/n.rawData.Sig_Strikes_Thrown*100:0;return u==="grappler"&&i>20||o==="grappler"&&c>20}isStrikerWar(t,n){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(n)==="striker"}calculateBettingMetrics(t,n,u){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,i=n.rawData.Number_of_Fights_36m>0?(n.rawData.win_kotko+n.rawData.win_sub)/n.rawData.Number_of_Fights_36m*100:0,c=(t.rawData.Fight_Duration_Seconds||900)/60,r=(n.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:n.rawData.Sig_Strikes_Thrown>0?n.rawData.Takedowns_Attempted/n.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:n.rawData.Number_of_Fights_36m>0?n.rawData.Knockdowns/n.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:n.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:n.rawData.Number_of_Fights_36m>0?n.rawData.Sub_Attempts/n.rawData.Number_of_Fights_36m:0,f1FinishRate:o,f2FinishRate:i,avgFightTime:(c+r)/2,weightedFinishRate:u?this.getWeightedMetric(o,i,u,t,.5):void 0,weightedAvgFightTime:u?this.getWeightedMetric(c,r,u,t,1):void 0}}getWinReasoningKey(t,n,u,o){return t.overall>n.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>n.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>n.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":u>o+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=gt.MIN_HIGH_CONFIDENCE?"high":t>=gt.MIN_MEDIUM_CONFIDENCE?"medium":(t>=gt.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2},priority:1}}createVictoryMethodCard(t){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{method:t.method,finishRate1:t.finishRate1,finishRate2:t.finishRate2},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(t,n,u,o,i,c,r){if(t==="insufficient_fights"&&n&&u){const m=(o||0)<=2,v=(i||0)<=2;let D="";return m&&v?D=`Both fighters have insufficient fight data: ${n.name} (${o} fights) and ${u.name} (${i} fights). Minimum 3 fights required for accurate predictions.`:m?D=`${n.name} has insufficient fight data (${o} fights). Minimum 3 fights required for accurate predictions.`:v&&(D=`${u.name} has insufficient fight data (${i} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:D,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:o,fighter2Fights:i}}}if(t==="different_divisions"&&n&&u)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${n.name} competes in ${n.division} while ${u.name} competes in ${u.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:n.division,fighter2Division:u.division}};if(t==="low_moneyline_confidence"&&n&&u){const m=c||0,v=r||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${n.name} ${m.toFixed(1)}% vs ${u.name} ${v.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:n.name,fighter2Name:u.name,fighter1Probability:m,fighter2Probability:v}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(n=>(n.type==="moneyline"||n.type==="victory_method"||n.type==="duration"||n.type==="winner_and_method"||n.type==="fight_props")&&n.confidence>=gt.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((n,u)=>n.priority-u.priority)}}const pa=new gt;var ma=M('<div class="bet-card no-predictions svelte-2nti14"><div class="bet-type svelte-2nti14"><!> </div> <div class="bet-prediction svelte-2nti14"><div class="no-pred-title svelte-2nti14"> </div> <div class="no-pred-subtitle svelte-2nti14"> </div></div> <div class="reasoning svelte-2nti14"> </div></div>'),ya=M('<div><div class="bet-type svelte-2nti14"> </div> <div class="bet-prediction svelte-2nti14"><div class="winner-name svelte-2nti14"> </div> <div class="confidence svelte-2nti14"> </div></div> <div class="reasoning svelte-2nti14"> </div></div>'),ba=M('<div><div class="bet-type svelte-2nti14"> </div> <div class="bet-prediction svelte-2nti14"><div class="method svelte-2nti14"> </div> <div class="probability svelte-2nti14"> </div></div> <div class="reasoning svelte-2nti14"> </div></div>'),wa=M('<div><div class="bet-type svelte-2nti14"> </div> <div class="bet-prediction svelte-2nti14"><div class="method svelte-2nti14"> </div> <div class="probability svelte-2nti14"> </div></div> <div class="reasoning svelte-2nti14"> </div></div>'),Da=M('<div class="bet-explanation svelte-2nti14"> </div>'),ka=M('<div class="bet-explanation svelte-2nti14"> </div>'),Ta=M('<div><div class="bet-type svelte-2nti14"> </div> <div class="bet-prediction svelte-2nti14"><div class="rounds"> </div> <div class="probability svelte-2nti14"> </div></div> <div class="reasoning svelte-2nti14"> </div> <!></div>'),Ra=M('<div><div class="bet-type svelte-2nti14"> </div> <div class="bet-prediction svelte-2nti14"><div class="decision"> </div> <div class="probability svelte-2nti14"> </div></div> <div class="reasoning svelte-2nti14"> </div></div>'),Fa=M('<div><div class="bet-type svelte-2nti14"> </div> <div class="bet-prediction svelte-2nti14"><div class="gone-60"> </div> <div class="probability svelte-2nti14"> </div></div> <div class="reasoning svelte-2nti14"> </div></div>'),Ma=M('<div class="bet-explanation svelte-2nti14"> </div>'),xa=M('<div class="bet-explanation svelte-2nti14"> </div>'),Sa=M('<div class="bet-card fight-props svelte-2nti14"><div class="bet-type svelte-2nti14"><!> </div> <div class="bet-prediction svelte-2nti14"><div class="prop svelte-2nti14"> </div> <div class="value svelte-2nti14"> </div></div> <div class="reasoning svelte-2nti14"> </div> <!></div>'),Ka=M('<div class="stat-item svelte-2nti14"><span class="stat-label svelte-2nti14"> </span> <span class="stat-value svelte-2nti14"> </span></div>'),Ca=M('<div class="bet-card stats svelte-2nti14"><div class="bet-type svelte-2nti14"> </div> <div class="key-stats svelte-2nti14"></div></div>'),Na=M("<div><!></div>"),Oa=M('<div class="bet-card trends svelte-2nti14"><div class="bet-type svelte-2nti14"> </div> <div class="trend-list svelte-2nti14"></div></div>'),Pa=M('<div class="fight-best-bets svelte-2nti14"><div class="header svelte-2nti14"><h2 class="title svelte-2nti14"><span class="icon svelte-2nti14"><!></span> </h2> <hr class="title-divider svelte-2nti14"/> <div class="subtitle svelte-2nti14"> </div></div> <div class="matchup-header svelte-2nti14"><div class="fighter-preview svelte-2nti14"><div class="fighter-name svelte-2nti14"> </div> <div class="fighter-record svelte-2nti14"> </div> <div class="fighter-archetype svelte-2nti14"> </div></div> <div class="vs-divider svelte-2nti14"><span>VS</span></div> <div class="fighter-preview svelte-2nti14"><div class="fighter-name svelte-2nti14"> </div> <div class="fighter-record svelte-2nti14"> </div> <div class="fighter-archetype svelte-2nti14"> </div></div></div> <div class="rounds-toggle-section svelte-2nti14"><label class="svelte-2nti14"> </label> <div class="rounds-buttons svelte-2nti14"><button>3 Rounds</button> <button>5 Rounds</button></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-2nti14"><small class="svelte-2nti14"> </small></div></div>');function Ea(N,t){kt(t,!1);const[n,u]=St(),o=()=>yt(Ai,"$locale",n),i=()=>yt(Kt,"$_",n),c=b(),r=b(),m=b(),v=b(),D=b(),C=b(),$=b(),y=b(),Y=b(),A=b(),V=b(),ne=b(),ie=b(),E=b(),j=b(),k=b(),H=b(),x=b(),T=Pi();let q=Qe(t,"fighter1",8,null),W=Qe(t,"fighter2",8,null),de=Qe(t,"scheduledRounds",8,3);function Me(Ke){T("roundsChanged",Ke)}function O(Ke,Ee){return Ke.filter(K=>K.type===Ee)}function Pe(Ke){switch(Ke){case xt.HIGH:return"high-confidence";case xt.MEDIUM:return"medium-confidence";case xt.LOW:return"low-confidence";default:return""}}let G=o();L(()=>(S(q()),S(W())),()=>{_(c,q()&&W())}),L(()=>(e(c),S(q()),S(W()),S(de())),()=>{_(r,e(c)?pa.generateBetCards(q(),W(),!0,de()):[])}),L(()=>(e(c),S(q()),S(W()),e(r),mt),()=>{e(c)&&q()&&W()&&e(r).length>0&&mt.trackBettingAnalysis(q().name,W().name)}),L(()=>(e(r),fe),()=>{_(m,O(e(r),fe.MONEYLINE))}),L(()=>(e(r),fe),()=>{_(v,O(e(r),fe.VICTORY_METHOD))}),L(()=>(e(r),fe),()=>{_(D,O(e(r),fe.WINNER_AND_METHOD))}),L(()=>(e(r),fe),()=>{_(C,O(e(r),fe.DURATION))}),L(()=>(e(r),fe),()=>{_($,O(e(r),fe.GOES_TO_DECISION))}),L(()=>(e(r),fe),()=>{_(y,O(e(r),fe.GONE_IN_60))}),L(()=>(e(r),fe),()=>{_(Y,O(e(r),fe.FIGHT_PROPS))}),L(()=>(e(r),fe),()=>{_(A,O(e(r),fe.KEY_FACTORS))}),L(()=>(e(r),fe),()=>{_(V,O(e(r),fe.TRENDS))}),L(()=>(e(r),fe),()=>{_(ne,O(e(r),fe.NO_PREDICTION))}),L(()=>(e(m),e(v),e(D),e(C),e($),e(y)),()=>{_(ie,e(m).length+e(v).length+e(D).length+e(C).length+e($).length+e(y).length)}),L(()=>e(ie),()=>{_(E,e(ie)>0)}),L(()=>e(E),()=>{_(j,e(E)?0:1)}),L(()=>(e(Y),e(A),e(V)),()=>{_(k,e(Y).length+e(A).length+e(V).length)}),L(()=>(e(ie),e(j),e(k)),()=>{_(H,e(ie)+e(j)+e(k))}),L(()=>o(),()=>{o()!==G&&G&&window.location.reload()}),L(()=>e(c),()=>{_(x,e(c))}),Tt(),Rt();var oe=lt(),R=He(oe);{var te=Ke=>{var Ee=Pa(),K=a(Ee),le=a(K),pe=a(le),Ce=a(pe);ni(Ce,{size:32});var Ae=d(pe),Ge=d(le,4),We=a(Ge),Ie=d(K,2),z=a(Ie),Je=a(z),Xe=a(Je),Ye=d(Je,2),Te=a(Ye),Ve=d(Ye,2),ve=a(Ve),X=d(z,4),_e=a(X),je=a(_e),at=d(_e,2),rt=a(at),ct=d(at,2),dt=a(ct),vt=d(Ie,2),ot=a(vt),$e=a(ot),Ne=d(ot,2),ze=a(Ne),_t=d(ze,2),nt=d(vt,2);let ut;var h=a(nt);it(h,1,()=>e(ne),st,(B,l)=>{var w=ma(),I=a(w),ce=a(I);Et(ce,{size:16,style:"display: inline; margin-right: 0.25rem;"});var se=d(ce),Z=d(I,2),U=a(Z),re=a(U),ge=d(U,2),we=a(ge),De=d(Z,2),be=a(De);P((ke,Be,Fe,ue)=>{g(se,` ${ke??""}`),g(re,Be),g(we,Fe),g(be,ue)},[()=>(i(),e(l),s(()=>i()(e(l).titleKey))),()=>(e(l),i(),s(()=>e(l).predictionKey?i()(e(l).predictionKey):e(l).prediction)),()=>(i(),s(()=>i()("combat_analysis.confidence_threshold"))),()=>(i(),e(l),s(()=>i()(e(l).reasoningKey,{values:e(l).metadata||{}})))]),p(B,w)});var f=d(h,2);it(f,1,()=>e(m),st,(B,l)=>{var w=ya(),I=a(w),ce=a(I),se=d(I,2),Z=a(se),U=a(Z),re=d(Z,2),ge=a(re),we=d(se,2),De=a(we);P((be,ke,Be,Fe)=>{Ue(w,1,`bet-card moneyline ${be??""}`,"svelte-2nti14"),g(ce,ke),g(U,(e(l),s(()=>e(l).prediction))),g(ge,`${e(l),s(()=>e(l).confidence)??""}% ${Be??""}`),g(De,Fe)},[()=>(e(l),s(()=>Pe(e(l).confidenceLevel))),()=>(i(),e(l),s(()=>i()(e(l).titleKey))),()=>(i(),s(()=>i()("combat_analysis.probability"))),()=>(i(),e(l),s(()=>i()(e(l).reasoningKey)))]),p(B,w)});var F=d(f,2);it(F,1,()=>e(v),st,(B,l)=>{var w=ba(),I=a(w),ce=a(I),se=d(I,2),Z=a(se),U=a(Z),re=d(Z,2),ge=a(re),we=d(se,2),De=a(we);P((be,ke,Be,Fe,ue)=>{Ue(w,1,`bet-card method-victory ${be??""}`,"svelte-2nti14"),g(ce,ke),g(U,Be),g(ge,`${e(l),s(()=>e(l).confidence)??""}% ${Fe??""}`),g(De,ue)},[()=>(e(l),s(()=>Pe(e(l).confidenceLevel))),()=>(i(),e(l),s(()=>i()(e(l).titleKey))),()=>(e(l),i(),s(()=>e(l).predictionKey?i()(e(l).predictionKey):e(l).prediction)),()=>(i(),s(()=>i()("combat_analysis.probability"))),()=>(i(),e(l),s(()=>i()(e(l).reasoningKey)))]),p(B,w)});var J=d(F,2);it(J,1,()=>e(D),st,(B,l)=>{var w=wa(),I=a(w),ce=a(I),se=d(I,2),Z=a(se),U=a(Z),re=d(Z,2),ge=a(re),we=d(se,2),De=a(we);P((be,ke,Be,Fe,ue)=>{Ue(w,1,`bet-card winner-and-method ${be??""}`,"svelte-2nti14"),g(ce,ke),g(U,`${e(l),s(()=>e(l).prediction)??""}
              ${Be??""}`),g(ge,`${e(l),s(()=>e(l).confidence)??""}% ${Fe??""}`),g(De,ue)},[()=>(e(l),s(()=>Pe(e(l).confidenceLevel))),()=>(i(),e(l),s(()=>i()(e(l).titleKey))),()=>(e(l),i(),s(()=>e(l).predictionKey?i()(e(l).predictionKey):"")),()=>(i(),s(()=>i()("combat_analysis.probability"))),()=>(i(),e(l),s(()=>i()(e(l).reasoningKey)))]),p(B,w)});var me=d(J,2);it(me,1,()=>e(C),st,(B,l)=>{var w=Ta(),I=a(w),ce=a(I),se=d(I,2),Z=a(se),U=a(Z),re=d(Z,2),ge=a(re),we=d(se,2),De=a(we),be=d(we,2);{var ke=Fe=>{var ue=Da(),qe=a(ue);P(et=>g(qe,et),[()=>(i(),e(l),s(()=>i()(e(l).explanationKey)))]),p(Fe,ue)},Be=Fe=>{var ue=lt(),qe=He(ue);{var et=tt=>{var ht=ka(),ft=a(ht);P(()=>g(ft,(e(l),s(()=>e(l).explanation)))),p(tt,ht)};Q(qe,tt=>{e(l),s(()=>e(l).explanation)&&tt(et)},!0)}p(Fe,ue)};Q(be,Fe=>{e(l),s(()=>e(l).explanationKey)?Fe(ke):Fe(Be,!1)})}P((Fe,ue,qe,et,tt)=>{Ue(w,1,`bet-card total-rounds ${Fe??""}`,"svelte-2nti14"),g(ce,ue),g(U,qe),g(ge,`${e(l),s(()=>e(l).confidence)??""}% ${et??""}`),g(De,tt)},[()=>(e(l),s(()=>Pe(e(l).confidenceLevel))),()=>(i(),e(l),s(()=>i()(e(l).titleKey))),()=>(e(l),i(),s(()=>e(l).predictionKey?i()(e(l).predictionKey):e(l).prediction)),()=>(i(),s(()=>i()("combat_analysis.probability"))),()=>(i(),e(l),s(()=>i()(e(l).reasoningKey)))]),p(B,w)});var ye=d(me,2);it(ye,1,()=>e($),st,(B,l)=>{var w=Ra(),I=a(w),ce=a(I),se=d(I,2),Z=a(se),U=a(Z),re=d(Z,2),ge=a(re),we=d(se,2),De=a(we);P((be,ke,Be,Fe,ue)=>{Ue(w,1,`bet-card decision-type ${be??""}`,"svelte-2nti14"),g(ce,ke),g(U,Be),g(ge,`${e(l),s(()=>e(l).confidence)??""}% ${Fe??""}`),g(De,ue)},[()=>(e(l),s(()=>Pe(e(l).confidenceLevel))),()=>(i(),e(l),s(()=>i()(e(l).titleKey))),()=>(e(l),i(),s(()=>e(l).predictionKey?i()(e(l).predictionKey):e(l).prediction)),()=>(i(),s(()=>i()("combat_analysis.probability"))),()=>(i(),e(l),s(()=>i()(e(l).reasoningKey)))]),p(B,w)});var Oe=d(ye,2);it(Oe,1,()=>e(y),st,(B,l)=>{var w=Fa(),I=a(w),ce=a(I),se=d(I,2),Z=a(se),U=a(Z),re=d(Z,2),ge=a(re),we=d(se,2),De=a(we);P((be,ke,Be,Fe,ue)=>{Ue(w,1,`bet-card gone-in-60 ${be??""}`,"svelte-2nti14"),g(ce,ke),g(U,Be),g(ge,`${e(l),s(()=>e(l).confidence)??""}% ${Fe??""}`),g(De,ue)},[()=>(e(l),s(()=>Pe(e(l).confidenceLevel))),()=>(i(),e(l),s(()=>i()(e(l).titleKey))),()=>(e(l),i(),s(()=>e(l).predictionKey?i()(e(l).predictionKey):e(l).prediction)),()=>(i(),s(()=>i()("combat_analysis.probability"))),()=>(i(),e(l),s(()=>i()(e(l).reasoningKey)))]),p(B,w)});var xe=d(Oe,2);it(xe,1,()=>e(Y),st,(B,l)=>{var w=Sa(),I=a(w),ce=a(I);ai(ce,{size:16,style:"display: inline; margin-right: 0.25rem;"});var se=d(ce),Z=d(I,2),U=a(Z),re=a(U),ge=d(U,2),we=a(ge),De=d(Z,2),be=a(De),ke=d(De,2);{var Be=ue=>{var qe=Ma(),et=a(qe);P(tt=>g(et,tt),[()=>(i(),e(l),s(()=>i()(e(l).explanationKey)))]),p(ue,qe)},Fe=ue=>{var qe=lt(),et=He(qe);{var tt=ht=>{var ft=xa(),Ct=a(ft);P(()=>g(Ct,(e(l),s(()=>e(l).explanation)))),p(ht,ft)};Q(et,ht=>{e(l),s(()=>e(l).explanation)&&ht(tt)},!0)}p(ue,qe)};Q(ke,ue=>{e(l),s(()=>e(l).explanationKey)?ue(Be):ue(Fe,!1)})}P((ue,qe,et,tt,ht)=>{g(se,` ${ue??""}`),g(re,qe),g(we,`${et??""}: ${tt??""}`),g(be,ht)},[()=>(i(),e(l),s(()=>i()(e(l).titleKey))),()=>(e(l),i(),s(()=>e(l).predictionKey?i()(e(l).predictionKey):e(l).prediction)),()=>(i(),s(()=>i()("combat_analysis.value"))),()=>(e(l),i(),s(()=>e(l).metadata?.valueKey?i()(e(l).metadata.valueKey):e(l).metadata?.value||"N/A")),()=>(i(),e(l),s(()=>i()(e(l).reasoningKey)))]),p(B,w)});var Ze=d(xe,2);it(Ze,1,()=>e(A),st,(B,l)=>{var w=Ca(),I=a(w),ce=a(I),se=d(I,2);it(se,5,()=>(e(l),s(()=>e(l).metadata?.factors||[])),st,(Z,U)=>{var re=Ka(),ge=a(re),we=a(ge),De=d(ge,2),be=a(De);P(ke=>{g(we,ke),g(be,(e(U),s(()=>e(U).value)))},[()=>(i(),e(U),s(()=>i()(e(U).label)))]),p(Z,re)}),P(Z=>g(ce,Z),[()=>(i(),e(l),s(()=>i()(e(l).titleKey)))]),p(B,w)});var ee=d(Ze,2);it(ee,1,()=>e(V),st,(B,l)=>{var w=Oa(),I=a(w),ce=a(I),se=d(I,2);it(se,5,()=>(e(l),s(()=>e(l).metadata?.trends||[])),st,(Z,U)=>{var re=Na(),ge=a(re);{var we=be=>{var ke=bt();P(Be=>g(ke,Be),[()=>(i(),e(U),s(()=>i()(e(U).textKey,{values:e(U).params||{}})))]),p(be,ke)},De=be=>{var ke=bt();P(()=>g(ke,(e(U),s(()=>e(U).text)))),p(be,ke)};Q(ge,be=>{e(U),s(()=>e(U).textKey)?be(we):be(De,!1)})}P(()=>Ue(re,1,`trend-item ${e(U),s(()=>e(U).type)??""}`,"svelte-2nti14")),p(Z,re)}),P(Z=>g(ce,Z),[()=>(i(),e(l),s(()=>i()(e(l).titleKey)))]),p(B,w)});var ae=d(nt,2),Re=a(ae),Se=a(Re);P((B,l,w,I,ce)=>{g(Ae,` ${B??""}`),g(We,l),g(Xe,(S(q()),s(()=>q().name))),g(Te,`${S(q()),s(()=>q().rawData.win)??""}-${S(q()),s(()=>q().rawData.loss)??""}-${S(q()),s(()=>q().rawData.draws)??""}`),g(ve,(S(q()),s(()=>q().archetype.archetypeEmojis))),g(je,(S(W()),s(()=>W().name))),g(rt,`${S(W()),s(()=>W().rawData.win)??""}-${S(W()),s(()=>W().rawData.loss)??""}-${S(W()),s(()=>W().rawData.draws)??""}`),g(dt,(S(W()),s(()=>W().archetype.archetypeEmojis))),g($e,`${w??""}:`),Ue(ze,1,`rounds-btn ${de()===3?"active":""}`,"svelte-2nti14"),Ue(_t,1,`rounds-btn ${de()===5?"active":""}`,"svelte-2nti14"),ut=Ue(nt,1,"betting-grid svelte-2nti14",null,ut,I),g(Se,`* ${ce??""}`)},[()=>(i(),s(()=>i()("combat_analysis.fight_analysis"))),()=>(i(),s(()=>i()("combat_analysis.last_36_months_only"))),()=>(i(),s(()=>i()("fight_radar.scheduled_rounds"))),()=>({"few-cards":e(H)<=3}),()=>(i(),s(()=>i()("combat_analysis.disclaimer")))]),Le("click",ze,()=>Me(3)),Le("click",_t,()=>Me(5)),p(Ke,Ee)};Q(R,Ke=>{e(x)&&Ke(te)})}p(N,oe),Ft(),u()}var $a=M('<div class="loading-spinner svelte-1itttry"><div class="spinner svelte-1itttry"></div> <p class="svelte-1itttry">Cargando shorts...</p></div>'),Ia=M('<div class="error-message svelte-1itttry"><p> </p></div>'),La=M('<button class="nav-button prev svelte-1itttry" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1itttry"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Aa=M('<div class="video-embed svelte-1itttry"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-1itttry"></iframe></div>'),Wa=M('<button class="video-thumbnail svelte-1itttry"><img loading="lazy" class="svelte-1itttry"/> <div class="play-overlay svelte-1itttry"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-1itttry"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-1itttry">Shorts</div></button>'),Ba=M('<div class="video-item svelte-1itttry"><!> <div class="video-info svelte-1itttry"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-1itttry"><h3 class="video-title svelte-1itttry"> </h3></a></div></div>'),Ha=M('<button class="nav-button next svelte-1itttry" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1itttry"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Ga=M('<div class="carousel-wrapper svelte-1itttry"><!> <div class="videos-container svelte-1itttry"><div></div></div> <!></div>'),Va=M('<div class="shorts-slider-container svelte-1itttry"><!></div>');function Ua(N,t){kt(t,!1);const n=b(),u=b(),o=b(),i=b();let c=Qe(t,"channelId",8),r=b([]),m=b(!0),v=b(null),D=b(0),C=b(!1),$=b(null),y=b(!0);function Y(){e(r).length!==0&&(_(y,!0),Vt(D),e(D)>=e(r).length*2&&setTimeout(()=>{_(y,!1),_(D,e(r).length),setTimeout(()=>{_(y,!0)},50)},400))}function A(){e(r).length!==0&&(_(y,!0),Vt(D,-1),e(D)<e(r).length&&setTimeout(()=>{_(y,!1),_(D,e(r).length*2-1),setTimeout(()=>{_(y,!0)},50)},400))}function V(R){_($,R)}let ne=0,ie=0,E=0,j=!1,k=!1,H=b(0),x=0;const T=40;function q(R){e(C)&&(ne=R.touches[0].clientX,ie=R.touches[0].clientY,E=ne,j=!0,k=!1,_(y,!1),x=e(D),_(H,0))}function W(R){if(!e(C)||!j)return;const te=R.touches[0].clientX,Ke=R.touches[0].clientY,Ee=Math.abs(te-ne),K=Math.abs(Ke-ie);if(!k)if(Ee>T&&Ee>K)k=!0;else if(K>Ee&&K>10){j=!1,k=!1,_(y,!0),_(H,0);return}else return;if(k){E=te;const le=E-ne,pe=R.currentTarget instanceof HTMLElement?R.currentTarget.clientWidth:window.innerWidth;_(H,-(le/pe)*100),R.preventDefault()}}function de(){if(!e(C)||!j)return;j=!1,k=!1,_(y,!0);const R=ne-E;Math.abs(R)>50?R>0?_(D,x+1):_(D,x-1):Math.abs(e(H))>40?_(D,x+(e(H)>0?1:-1)):_(D,x),e(D)>=e(r).length*2?setTimeout(()=>{_(y,!1),_(D,e(r).length),setTimeout(()=>{_(y,!0)},50)},400):e(D)<e(r).length&&setTimeout(()=>{_(y,!1),_(D,e(r).length*2-1),setTimeout(()=>{_(y,!0)},50)},400),_(H,0),ne=0,ie=0,E=0}function Me(){const R=window.innerWidth;_(C,R<768)}si(()=>(Me(),window.addEventListener("resize",Me),(async()=>{try{const R=await Wi.fetchVideosByChannelId(c(),!0);R.length===0?_(v,"No se encontraron videos para este canal"):(_(r,R),console.log(`Loaded ${e(r).length} videos from channel ${c()}`))}catch(R){console.error("Error fetching videos:",R),_(v,"Error al cargar los videos")}finally{_(m,!1)}})(),()=>{window.removeEventListener("resize",Me)})),L(()=>e(C),()=>{_(n,e(C)?1:window.innerWidth>=1024?4:3)}),L(()=>(e(C),e(n)),()=>{_(u,e(C)?80:100/e(n))}),L(()=>e(C),()=>{_(o,e(C)?10:0)}),L(()=>e(r),()=>{_(i,e(r).length>0?[...e(r).map((R,te)=>({...R,_key:`prev-${te}`})),...e(r).map((R,te)=>({...R,_key:`curr-${te}`})),...e(r).map((R,te)=>({...R,_key:`next-${te}`}))]:[])}),L(()=>(e(r),e(D)),()=>{e(r).length>0&&e(D)===0&&_(D,e(r).length)}),Tt(),Rt();var O=Va(),Pe=a(O);{var G=R=>{var te=$a();p(R,te)},oe=R=>{var te=lt(),Ke=He(te);{var Ee=le=>{var pe=Ia(),Ce=a(pe),Ae=a(Ce);P(()=>g(Ae,e(v))),p(le,pe)},K=le=>{var pe=lt(),Ce=He(pe);{var Ae=Ge=>{var We=Ga(),Ie=a(We);{var z=ve=>{var X=La();Le("click",X,A),p(ve,X)};Q(Ie,ve=>{e(r),s(()=>e(r).length>1)&&ve(z)})}var Je=d(Ie,2),Xe=a(Je);let Ye;it(Xe,5,()=>e(i),ve=>ve._key,(ve,X)=>{var _e=Ba(),je=a(_e);{var at=$e=>{var Ne=Aa(),ze=a(Ne);P(()=>{he(ze,"src",`${e(X),s(()=>e(X).embedUrl)??""}?autoplay=1`),he(ze,"title",(e(X),s(()=>e(X).title)))}),p($e,Ne)},rt=$e=>{var Ne=Wa(),ze=a(Ne);P(()=>{he(Ne,"aria-label",`Reproducir ${e(X),s(()=>e(X).title)??""}`),he(ze,"src",(e(X),s(()=>e(X).thumbnailUrl))),he(ze,"alt",(e(X),s(()=>e(X).title)))}),Le("click",Ne,()=>V(e(X)._key)),p($e,Ne)};Q(je,$e=>{e($),e(X),s(()=>e($)===e(X)._key)?$e(at):$e(rt,!1)})}var ct=d(je,2),dt=a(ct),vt=a(dt),ot=a(vt);P(()=>{Dt(_e,`flex: 0 0 ${e(C)?"80%":100/e(n)+"%"}`),he(dt,"href",(e(X),s(()=>e(X).watchUrl))),g(ot,(e(X),s(()=>e(X).title)))}),p(ve,_e)});var Te=d(Je,2);{var Ve=ve=>{var X=Ha();Le("click",X,Y),p(ve,X)};Q(Te,ve=>{e(r),s(()=>e(r).length>1)&&ve(Ve)})}P(ve=>{Ye=Ue(Xe,1,"videos-track svelte-1itttry",null,Ye,ve),Dt(Xe,`transform: translateX(-${e(D)*e(u)-e(o)+e(H)}%)`)},[()=>({"no-transition":!e(y)})]),Le("touchstart",We,q),Le("touchmove",We,W),Le("touchend",We,de),p(Ge,We)};Q(Ce,Ge=>{e(r),s(()=>e(r).length>0)&&Ge(Ae)},!0)}p(le,pe)};Q(Ke,le=>{e(v)?le(Ee):le(K,!1)},!0)}p(R,te)};Q(Pe,R=>{e(m)?R(G):R(oe,!1)})}p(N,O),Ft()}var ja=M('<div class="loading svelte-1ibyju2" id="loading"><div class="loading-content svelte-1ibyju2"><div class="spinner svelte-1ibyju2"></div> <p class="svelte-1ibyju2"> </p></div></div>'),za=M('<button class="share-fight-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1ibyju2"></path></svg> </button>'),Ya=M('<div class="action-buttons-section svelte-1ibyju2"><!> <button class="clear-radars-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1ibyju2"></path></svg> </button></div>'),qa=M('<div class="controls svelte-1ibyju2"><div class="fighter-selectors svelte-1ibyju2"><div class="control-group svelte-1ibyju2"><label for="fighter1-select" class="svelte-1ibyju2"> </label> <div id="fighter1-container-select" class="svelte-1ibyju2"><!></div></div> <div class="vs-divider svelte-1ibyju2">VS</div> <div class="control-group svelte-1ibyju2"><label for="fighter2-select" class="svelte-1ibyju2"> </label> <div id="fighter2-container-select" class="svelte-1ibyju2"><!></div></div></div> <!></div>'),Qa=M('<div class="division-disclaimer svelte-1ibyju2"><div class="disclaimer-title svelte-1ibyju2"><!> <strong class="svelte-1ibyju2"> </strong></div> <div class="disclaimer-text svelte-1ibyju2"> </div></div>'),Xa=M('<div class="fighter-info svelte-1ibyju2"><div id="fighter1-container" class="svelte-1ibyju2"><!></div> <div id="fighter2-container" class="svelte-1ibyju2"><!></div></div>'),Za=M('<div class="radar-container svelte-1ibyju2"><div id="fight-radar-container" class="svelte-1ibyju2"><!></div> <div id="iq-radar-container" class="svelte-1ibyju2"><!></div></div>'),Ja=M('<hr class="section-divider svelte-1ibyju2"/> <!> <div class="view-calendar-link svelte-1ibyju2"><button class="calendar-link-btn svelte-1ibyju2"> </button></div>',1),en=M('<hr class="section-divider svelte-1ibyju2"/> <!>',1),tn=M('<div class="fight-radar-app svelte-1ibyju2"><div class="container svelte-1ibyju2"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function hn(N,t){kt(t,!1);const[n,u]=St(),o=()=>yt(T,"$urlSearchParams",n),i=()=>yt(Kt,"$_",n),c=b(),r=b(),m=b(),v=b(),D=b(),C=b(),$=b(),y=b(),Y=b(),A=b(),V=b(),ne=b();let ie=Qe(t,"isDarkMode",8,!0),E=Qe(t,"toggleTheme",8,()=>{}),j=b(new Map),k=b(new Map),H=b([]),x=b(new Map);const T=Ei(pt());function q(h,f){const F=`fighter${f}`;Nt({[F]:h}),T.set(pt())}function W(h){Nt({rounds:h.toString()}),T.set(pt())}let de=b(!1),Me=b(!1),O=b(!1),Pe=b(!1),G=b(!1),oe=b(!1),R=b(!1),te=b(!1);si(()=>{window.Highcharts=$i,T.set(pt());const h=Bi(()=>{T.set(pt())});return Ke(),h});async function Ke(){try{_(de,!0);const{allRawFightersDataMap:h,allRawFightersByDivision:f,processedFightersMap:F,processedFighters:J}=await Gi.loadFightersFromCSV();_(j,h),_(x,f),_(k,F),_(H,J),_(Me,!0)}catch(h){console.error("Error loading data:",h)}finally{_(de,!1)}}function Ee(h=[]){return h.map(f=>({value:f.nameWithNickname,label:f.name,imageUrl:K(f)}))}function K(h){return h.pictureUrl&&h.pictureUrl!==""?h.pictureUrl:le(h.division)?"no_photo_female.png":"no_photo_male.png"}function le(h){return!!(h&&h.startsWith("W_"))}function pe(h){q(h,1),h&&!e(r)&&(_(te,!1),setTimeout(()=>{_(te,!0),setTimeout(()=>{_(te,!1)},50)},100))}function Ce(h){q(h,2),h&&!e(c)&&(_(R,!1),setTimeout(()=>{_(R,!0),setTimeout(()=>{_(R,!1)},50)},100))}function Ae(h){_(G,h)}function Ge(h){_(oe,h)}function We(){mt.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(c)||"none",fighter2:e(r)||"none"}),Nt({fighter1:"",fighter2:"",rounds:""}),T.set(pt())}function Ie(){if(!e(c)||!e(r))return;const h=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";mt.trackFightShare(e(c),e(r),h);const f=Hi("/",{fighter1:e(c),fighter2:e(r)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(c)} vs ${e(r)} - Fight Radar`,text:`Compara las estadsticas de ${e(c)} vs ${e(r)}`,url:f}).catch(console.error):navigator.clipboard.writeText(f).then(()=>{z("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",f)})}function z(h){const f=document.createElement("div");f.className="notification",f.textContent=h,f.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(f),setTimeout(()=>{f.style.opacity="1",f.style.transform="translateY(0)"},10),setTimeout(()=>{f.style.opacity="0",f.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(f)},300)},3e3)}function Je(h,f,F){const J=[];return h&&J.push({name:h.name,data:[h.fightRadar.STR_OFF,h.fightRadar.STR_DEF,h.fightRadar.TD_OFF,h.fightRadar.TD_DEF,h.fightRadar.CTRL,h.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),f&&J.push({name:f.name,data:[f.fightRadar.STR_OFF,f.fightRadar.STR_DEF,f.fightRadar.TD_OFF,f.fightRadar.TD_DEF,f.fightRadar.CTRL,f.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),F&&J.push({name:F.name,data:[F.fightRadar.STR_OFF,F.fightRadar.STR_DEF,F.fightRadar.TD_OFF,F.fightRadar.TD_DEF,F.fightRadar.CTRL,F.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),J}function Xe(h,f,F){const J=[];return h&&J.push({name:h.name,data:[h.iqRadar.distance,h.iqRadar.adaptability,h.iqRadar.composure,h.iqRadar.decisions,h.iqRadar.rhythm,h.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),f&&J.push({name:f.name,data:[f.iqRadar.distance,f.iqRadar.adaptability,f.iqRadar.composure,f.iqRadar.decisions,f.iqRadar.rhythm,f.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),F&&J.push({name:F.name,data:[F.iqRadar.distance,F.iqRadar.adaptability,F.iqRadar.composure,F.iqRadar.decisions,F.iqRadar.rhythm,F.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),J}function Ye(h){const f={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[F,J,me]=h.combinedRole.split("+")??["AT"];let ye=[[F,100]];if(J&&me?ye=[[F,33],[J,34],[me,33]]:J?ye=[[F,50],[J,50]]:me&&(ye=[[F,60],[me,40]]),ye.length===1){const[Oe,xe]=ye[0],Ze=Math.min(xe,70);return`linear-gradient(135deg, ${f[Oe]} 0%, ${f[Oe]} ${Ze}%, var(--card-bg) 100%)`}else{const Oe=ye.reduce((ae,[,Re])=>ae+Re,0);let xe=[],Ze=0;return ye.forEach(([ae,Re],Se)=>{const B=Re/Oe*85,l=f[ae];Se===0&&xe.push(`${l} ${Ze}%`),Ze+=B,Se===ye.length-1?(xe.push(`${l} ${Ze}%`),xe.push("var(--card-bg) 100%")):xe.push(`${l} ${Ze}%`)}),`linear-gradient(135deg, ${xe.join(", ")})`}}L(()=>o(),()=>{_(c,o().get("fighter1")||"")}),L(()=>o(),()=>{_(r,o().get("fighter2")||"")}),L(()=>o(),()=>{_(m,o().get("rounds")==="5"?5:3)}),L(()=>(e(G),e(oe)),()=>{_(v,e(G)||e(oe))}),L(()=>(e(H),e(r)),()=>{_(D,Ee(e(H)).filter(h=>h.value!==e(r)))}),L(()=>(e(H),e(c)),()=>{_(C,Ee(e(H)).filter(h=>h.value!==e(c)))}),L(()=>(e(c),e(r),e(j),e(x),zt),()=>{_($,(()=>{if(!e(c)||!e(r))return null;const h=e(j).get(e(c)),f=e(j).get(e(r));if(!h||!f)return null;if(h.Division===f.Division){const F=h.Division;if(e(x).has(F))return zt(F,e(x).get(F))}return null})())}),L(()=>(e(c),e(k)),()=>{_(y,e(c)?e(k).get(e(c))??null:null)}),L(()=>(e(r),e(k)),()=>{_(Y,e(r)?e(k).get(e(r))??null:null)}),L(()=>(e($),e(c),e(r),e(j),e(x),Yt),()=>{_(A,(()=>{if(!e($)||!e(c)||!e(r))return null;const h=e(j).get(e(c));return!h||!e(x).has(h.Division)?null:Yt(e($),e(x).get(h.Division))})())}),L(()=>(e(y),e(Y),e(A)),()=>{_(V,Je(e(y)??null,e(Y)??null,e(A)??null))}),L(()=>(e(y),e(Y),e(A)),()=>{_(ne,Xe(e(y),e(Y),e(A)))}),L(()=>(e(de),e(j),e(c),e(r),mt),()=>{const h=!e(de)&&e(j).size>0&&e(j).has(e(c))&&e(j).has(e(r));_(O,!!(e(c)&&e(r)&&h)),_(Pe,!!(e(c)&&e(r)&&h)),e(c)&&e(r)&&h&&mt.trackFighterComparison(e(c),e(r))}),Tt(),Rt();var Te=tn(),Ve=a(Te),ve=a(Ve);Ii(ve,{showThemeToggle:!0,get isDarkMode(){return ie()},get toggleTheme(){return E()}});var X=d(ve,2);{var _e=h=>{var f=ja(),F=a(f),J=d(a(F),2),me=a(J);P(ye=>g(me,ye),[()=>(i(),s(()=>i()("fight_radar.loading_data")))]),p(h,f)};Q(X,h=>{e(de)&&h(_e)})}var je=d(X,2);{var at=h=>{var f=qa(),F=a(f),J=a(F),me=a(J),ye=a(me),Oe=d(me,2),xe=a(Oe);{let w=Mt(()=>(i(),s(()=>i()("common.select_fighter"))));ei(xe,{id:"fighter1-select",get placeholder(){return e(w)},disabled:!1,get options(){return e(D)},get selectedValue(){return e(c)},onSelectionChange:pe,onOpenStateChange:Ae,get shouldOpen(){return e(R)}})}var Ze=d(J,4),ee=a(Ze),ae=a(ee),Re=d(ee,2),Se=a(Re);{let w=Mt(()=>(i(),s(()=>i()("common.select_fighter"))));ei(Se,{id:"fighter2-select",get placeholder(){return e(w)},disabled:!1,get options(){return e(C)},get selectedValue(){return e(r)},onSelectionChange:Ce,onOpenStateChange:Ge,get shouldOpen(){return e(te)}})}var B=d(F,2);{var l=w=>{var I=Ya(),ce=a(I);{var se=re=>{var ge=za(),we=d(a(ge));P(De=>g(we,` ${De??""}`),[()=>(i(),s(()=>i()("fight_radar.share_fight")))]),Le("click",ge,Ie),p(re,ge)};Q(ce,re=>{e(c)&&e(r)&&re(se)})}var Z=d(ce,2),U=d(a(Z));P(re=>g(U,` ${re??""}`),[()=>(i(),s(()=>i()("fight_radar.clear_radars")))]),Le("click",Z,We),p(w,I)};Q(B,w=>{(e(c)||e(r))&&w(l)})}P((w,I)=>{g(ye,`${w??""}:`),g(ae,`${I??""}:`)},[()=>(i(),s(()=>i()("common.fighter_1"))),()=>(i(),s(()=>i()("common.fighter_2")))]),p(h,f)};Q(je,h=>{e(Me)&&h(at)})}var rt=d(je,2);{var ct=h=>{var f=lt(),F=He(f);{var J=me=>{var ye=Qa(),Oe=a(ye),xe=a(Oe);Et(xe,{size:20,class:"disclaimer-icon"});var Ze=d(xe,2),ee=a(Ze),ae=d(Oe,2),Re=a(ae);P((Se,B)=>{g(ee,Se),g(Re,B)},[()=>(i(),s(()=>i()("fight_radar.cross_division_title"))),()=>(i(),S(wt),e(y),e(Y),s(()=>i()("fight_radar.cross_division_text",{values:{division1:wt(e(y).rawData.Division),division2:wt(e(Y).rawData.Division)}})))]),p(me,ye)};Q(F,me=>{e(y),e(Y),s(()=>e(y)?.rawData&&e(Y)?.rawData&&e(y).rawData.Division!==e(Y).rawData.Division)&&me(J)})}p(h,f)};Q(rt,h=>{e(c)&&e(r)&&e(O)&&h(ct)})}var dt=d(rt,2);{var vt=h=>{var f=Xa(),F=a(f),J=a(F);ti(J,{get fighter(){return e(y)},id:"fighter1-info"});var me=d(F,2),ye=a(me);ti(ye,{get fighter(){return e(Y)},id:"fighter2-info"}),P((Oe,xe)=>{Dt(F,`background: ${Oe??""}`),Dt(me,`background: ${xe??""}`)},[()=>(e(y),s(()=>e(y)?Ye(e(y).archetype):"var(--card-bg)")),()=>(e(Y),s(()=>e(Y)?Ye(e(Y).archetype):"var(--card-bg)"))]),p(h,f)};Q(dt,h=>{e(O)&&h(vt)})}var ot=d(dt,2);{var $e=h=>{var f=Za(),F=a(f),J=a(F);Ut(J,()=>(e(c),e(r),e(V),s(()=>`${e(c)}-${e(r)}-${e(V).length}`)),Oe=>{{let xe=Mt(()=>(S(qt),s(qt)));Xt(Oe,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(xe)},get series(){return e(V)},isIQRadar:!1})}});var me=d(F,2),ye=a(me);Ut(ye,()=>(e(c),e(r),e(ne),s(()=>`${e(c)}-${e(r)}-${e(ne).length}`)),Oe=>{{let xe=Mt(()=>(S(Qt),s(Qt)));Xt(Oe,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(xe)},get series(){return e(ne)},isIQRadar:!0})}}),p(h,f)};Q(ot,h=>{e(Pe),e(V),s(()=>e(Pe)&&e(V).length>0)&&h($e)})}var Ne=d(ot,2);Ea(Ne,{get fighter1(){return e(y)},get fighter2(){return e(Y)},get scheduledRounds(){return e(m)},$$events:{roundsChanged:h=>W(h.detail)}});var ze=d(Ne,2);{var _t=h=>{var f=Ja(),F=d(He(f),2);Li(F,{limit:2});var J=d(F,2),me=a(J),ye=a(me);P(Oe=>g(ye,`${Oe??""} `),[()=>(i(),s(()=>i()("banner.view_calendar")))]),Le("click",me,()=>ri("/calendar")),p(h,f)};Q(ze,h=>{!e(c)&&!e(r)&&!e(v)&&h(_t)})}var nt=d(Ve,2);{var ut=h=>{var f=en(),F=d(He(f),2);Ua(F,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),p(h,f)};Q(nt,h=>{!e(c)&&!e(r)&&!e(v)&&h(ut)})}p(N,Te),Ft(),u()}export{hn as default};
