import{q as Te,j as pt,f as S,az as St,c as t,u as i,i as L,A as e,z as je,t as C,T as vt,m as tt,b as f,o as ze,C as p,_ as Qe,y as u,av as Dt,p as lt,s as st,k as ne,n as O,Q as He,aA as E,aB as xt,F as it,aC as te,O as $t,D as qe,E as Ne,aD as Oe,aE as at,V as re,aF as At,a as _t,aG as Lt,aH as Ft,aI as Ct,aJ as ot,X as dt,aK as Pt,aL as kt,ac as ct,l as Mt,J as ut,h as Et,r as It,x as Rt,I as qt}from"./lucide-qo0zz29p.js";import{q as Nt,r as Ge,R as Pe,s as Tt,t as zt,v as Ut,w as Bt,P as Kt,N as Ot,V as Qt,p as Ht,l as Wt,x as Vt}from"./index-wY1rMupQ.js";import{f as jt,i as ft}from"./helpers-BxYyBqjx.js";import"./highcharts-DyRVWUji.js";var Gt=S('<div class="error-message svelte-apfh6f"><span class="error-icon svelte-apfh6f"><!></span> </div>'),Jt=S('<div class="spinner svelte-apfh6f"></div> Logging in...',1),Xt=S('<div class="login-container svelte-apfh6f"><div class="login-card svelte-apfh6f"><div class="login-header svelte-apfh6f"><div class="lock-icon svelte-apfh6f"><!></div> <h1 class="svelte-apfh6f">Admin Login</h1> <p class="svelte-apfh6f">Access the fighter management dashboard</p></div> <form class="login-form svelte-apfh6f"><div class="form-group svelte-apfh6f"><label for="username" class="svelte-apfh6f">Username</label> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-apfh6f"/></div> <div class="form-group svelte-apfh6f"><label for="password" class="svelte-apfh6f">Password</label> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-apfh6f"/></div> <!> <button type="submit" class="login-btn svelte-apfh6f"><!></button> <div class="demo-info svelte-apfh6f"><small class="svelte-apfh6f">Demo credentials: <strong class="svelte-apfh6f">demo</strong> / <strong class="svelte-apfh6f">test</strong></small></div></form></div></div>');function gt(Q,r){Te(r,!1);let a=je(""),l=je(""),s=je(!1),n=je("");async function o(h){if(h.preventDefault(),!e(a)||!e(l)){p(n,"Please enter both username and password");return}p(s,!0),p(n,"");try{await Nt.login(e(a),e(l))?Ge.navigate(Pe.ADMIN_DASHBOARD):p(n,"Invalid credentials. Try demo:test")}catch(k){console.error("Login error:",k),p(n,"Login failed. Please try again.")}finally{p(s,!1)}}function _(){p(n,"")}pt();var x=Xt(),M=t(x),F=t(M),c=t(F),g=t(c);St(g,{size:48});var d=i(F,2),y=t(d),v=i(t(y),2),D=i(y,2),A=i(t(D),2),m=i(D,2);{var G=h=>{var k=Gt(),T=t(k),ue=t(T);Qe(ue,{size:18});var Se=i(T);C(()=>u(Se,` ${e(n)??""}`)),f(h,k)};L(m,h=>{e(n)&&h(G)})}var q=i(m,2),P=t(q);{var N=h=>{var k=Jt();f(h,k)},V=h=>{var k=Dt("Login");f(h,k)};L(P,h=>{e(s)?h(N):h(V,!1)})}C(()=>{v.disabled=e(s),A.disabled=e(s),q.disabled=e(s)}),vt(v,()=>e(a),h=>p(a,h)),tt("input",v,_),vt(A,()=>e(l),h=>p(l,h)),tt("input",A,_),tt("submit",d,o),f(Q,x),ze()}var Yt=S('<div class="loading-spinner svelte-k477v0"><div class="spinner svelte-k477v0"></div> <span>Loading...</span></div>'),Zt=S('<div class="error-state svelte-k477v0"><span class="error-icon svelte-k477v0">⚠️</span> <p class="error-message svelte-k477v0"> </p></div>'),ea=S('<div><div class="widget-header svelte-k477v0"><div class="widget-title svelte-k477v0"><!> <h3 class="svelte-k477v0"> </h3></div></div> <div class="widget-content svelte-k477v0"><!></div></div>');function rt(Q,r){let a=lt(r,"loading",3,!1),l=lt(r,"className",3,"");var s=ea();let n;var o=t(s),_=t(o),x=t(_);{var M=D=>{const A=E(()=>r.icon);var m=ne(),G=O(m);He(G,()=>e(A),(q,P)=>{P(q,{size:18})}),f(D,m)};L(x,D=>{r.icon&&D(M)})}var F=i(x,2),c=t(F),g=i(o,2),d=t(g);{var y=D=>{var A=Yt();f(D,A)},v=D=>{var A=ne(),m=O(A);{var G=P=>{var N=Zt(),V=i(t(N),2),h=t(V);C(()=>u(h,r.error)),f(P,N)},q=P=>{var N=ne(),V=O(N);{var h=k=>{var T=ne(),ue=O(T);xt(ue,()=>r.children),f(k,T)};L(V,k=>{r.children&&k(h)},!0)}f(P,N)};L(m,P=>{r.error?P(G):P(q,!1)},!0)}f(D,A)};L(d,D=>{a()?D(y):D(v,!1)})}C(D=>{n=st(s,1,`widget-card ${l()??""}`,"svelte-k477v0",n,D),u(c,r.title)},[()=>({loading:a()})]),f(Q,s)}class ta{constructor(){this.localeCache={}}async loadFightersData(){try{const{allRawFightersArr:r}=await jt.loadFightersFromCSV();return r}catch(r){return console.error("Failed to load fighters data:",r),[]}}async getDatasetOverview(){const r=await this.loadFightersData(),a=await ft("data/ALL_DIVISIONS_DATA_WITH_URLS.csv"),l={};r.forEach(d=>{const y=d.Division||"Unknown";l[y]=(l[y]||0)+1});const s=r.filter(d=>d.Number_of_Fights_36m&&d.Number_of_Fights_36m>0).length,n=r.length-s;let o=0;r.forEach(d=>{let y=0;d.Fighter&&d.Fighter.trim()!==""&&(y+=1),d.Division&&d.Division.trim()!==""&&(y+=1),d.Career_Record&&d.Career_Record.trim()!==""&&(y+=1),d.picture_url&&d.picture_url.trim()!==""&&(y+=1),o+=y/4});const _=r.length>0?o/r.length*100:0,x=r.filter(d=>!d.picture_url||d.picture_url.trim()===""),M=x.length,F=r.length>0?Math.round((r.length-M)/r.length*100):100;let c=0,g="current";if(a.lastModified){const y=new Date().getTime()-a.lastModified.getTime();c=Math.floor(y/(1e3*60*60*24)),c<=7?g="current":c<=30?g="warning":g="outdated"}else g="outdated",c=-1;return{totalFighters:r.length,activeFighters:s,inactiveFighters:n,fightersByDivision:l,lastUpdate:a.lastModified,dataQualityScore:Math.round(_),missingPictures:{count:M,completionRate:F,fighters:x.map(d=>d.Fighter||"Unknown").slice(0,10)},maintenanceStatus:{status:g,daysSinceLastUpdate:c}}}async getMissingPicturesData(){const r=await this.loadFightersData(),a=r.filter(s=>!s.picture_url||s.picture_url.trim()===""),l=r.length>0?(r.length-a.length)/r.length*100:0;return{count:a.length,fighters:a.map(s=>s.Fighter).slice(0,20),completionRate:Math.round(l)}}async getMaintenanceStatus(){const a=(await ft("data/ALL_DIVISIONS_DATA_WITH_URLS.csv")).lastModified;let l=0,s="current";if(a){const o=new Date().getTime()-a.getTime();l=Math.floor(o/(1e3*60*60*24)),l<=7?s="current":l<=30?s="warning":s="outdated"}else s="outdated",l=-1;return{lastDatasetUpdate:a,status:s,daysSinceLastUpdate:l}}async getTranslationHealth(){const r={en:Bt,es:Ut,fr:zt,pt:Tt},a=Object.keys(r),l={},s={};try{for(const o of a)try{this.localeCache[o]=r[o]}catch(_){console.warn(`Failed to load locale ${o}:`,_),l[o]=["Failed to load locale file"],s[o]=0}const n=this.getAllKeys(this.localeCache.en||{});return a.forEach(o=>{if(o==="en"){l[o]=[],s[o]=100;return}const _=this.getAllKeys(this.localeCache[o]||{}),x=n.filter(M=>!_.includes(M));l[o]=x,s[o]=n.length>0?Math.round((n.length-x.length)/n.length*100):0}),{languages:a,totalKeys:n.length,missingKeysByLanguage:l,completionByLanguage:s}}catch(n){return console.error("Failed to check translation health:",n),a.forEach(o=>{l[o]=["Error loading translations"],s[o]=0}),{languages:a,totalKeys:0,missingKeysByLanguage:l,completionByLanguage:s}}}getAllKeys(r,a=""){let l=[];for(const s in r){const n=a?`${a}.${s}`:s;typeof r[s]=="object"&&r[s]!==null&&!Array.isArray(r[s])?l=l.concat(this.getAllKeys(r[s],n)):l.push(n)}return l.sort()}async testProxiesStatus(){const r=[],a=Kt.proxyConfigs.map(async s=>{const n=Date.now();try{const o=await fetch(s.url+encodeURIComponent("https://www.githubstatus.com/history.rss"),{headers:s.headers||{}});return{name:s.name,active:o.ok,responseTime:Date.now()-n}}catch{return{name:s.name,active:!1,responseTime:Date.now()-n}}});return(await Promise.allSettled(a)).forEach(s=>{s.status==="fulfilled"&&r.push(s.value)}),r}async testRSSFeedsStatus(){const r=[],l=[...Ot.rssSources,...Qt.videoSources].map(async n=>{const o=Date.now();try{const _=await Ht.fetchRSS(n.url);return{name:n.name,active:_.length>0,responseTime:Date.now()-o}}catch{return{name:n.name,active:!1,responseTime:Date.now()-o}}});return(await Promise.allSettled(l)).forEach(n=>{n.status==="fulfilled"&&r.push(n.value)}),r}async getDataQualityAlerts(){const r=await this.loadFightersData(),a=[];r.forEach(s=>{(!s.height_inches||s.height_inches===0)&&a.push({type:"missing_data",fighter:s.Fighter,field:"height_inches",description:"Missing height information",severity:"medium"}),(!s.Birth_Date||s.Birth_Date==="")&&a.push({type:"missing_data",fighter:s.Fighter,field:"Birth_Date",description:"Missing birth date",severity:"low"}),s.Birth_Date&&new Date(s.Birth_Date)>new Date&&a.push({type:"invalid_data",fighter:s.Fighter,field:"Birth_Date",description:"Future birth date",severity:"high"}),s.height_inches&&(s.height_inches<50||s.height_inches>90)&&a.push({type:"invalid_data",fighter:s.Fighter,field:"height_inches",description:"Unusual height value",severity:"medium"})});const l=new Map;return r.forEach(s=>{const n=s.Fighter.toLowerCase().trim();l.has(n)||l.set(n,[]),l.get(n).push(s.Fighter)}),l.forEach((s,n)=>{s.length>1&&a.push({type:"duplicate",fighter:s.join(", "),description:"Potential duplicate fighters",severity:"high"})}),a.slice(0,50)}}const Je=new ta;var aa=S('<div class="division-item svelte-1p3994o"><span class="division-name svelte-1p3994o"> </span> <span class="division-count svelte-1p3994o"> </span></div>'),sa=S('<!> <span class="status-label svelte-1p3994o"> </span>',1),ia=S('<div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Fecha Exacta:</span> <span class="info-value svelte-1p3994o"> </span></div>'),ra=S('<div class="missing-fighter-item svelte-1p3994o"><span class="fighter-name svelte-1p3994o"> </span></div>'),na=S('<div class="more-missing-indicator svelte-1p3994o"> </div>'),va=S('<div class="missing-pictures-section svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores Sin Fotos <span class="missing-count svelte-1p3994o"> </span></h4> <div class="missing-pictures-grid svelte-1p3994o"><!> <!></div></div>'),la=S('<div class="overview-stats svelte-1p3994o"><div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Total Luchadores</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #10b981"> </div> <div class="stat-label svelte-1p3994o">Activos</div> <div class="stat-description svelte-1p3994o">Con peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #f59e0b"> </div> <div class="stat-label svelte-1p3994o">Inactivos</div> <div class="stat-description svelte-1p3994o">Sin peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Calidad de Datos</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Fotos Completas</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div></div> <div class="divisions-breakdown svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores por División</h4> <div class="divisions-grid svelte-1p3994o"></div></div> <div class="dataset-info svelte-1p3994o"><div class="info-header svelte-1p3994o"><h4 class="svelte-1p3994o">Información del Dataset</h4> <div class="status-indicator svelte-1p3994o"><!></div></div> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Última Actualización:</span> <span class="info-value svelte-1p3994o"> </span></div> <!> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Tiempo Transcurrido:</span> <span class="info-value svelte-1p3994o"> </span></div></div> <!> <div class="quality-progress svelte-1p3994o"><div class="progress-header svelte-1p3994o"><span class="svelte-1p3994o">Integridad de Datos</span> <span class="svelte-1p3994o"> </span></div> <div class="progress-bar svelte-1p3994o"><div class="progress-fill svelte-1p3994o"></div></div></div> <div class="maintenance-legend svelte-1p3994o"><div class="legend-title svelte-1p3994o">Leyenda de Estados del Dataset:</div> <div class="legend-items svelte-1p3994o"><div class="legend-item svelte-1p3994o"><!> <span>Actualizado (&lt; 7 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Necesita Atención (7-30 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Desactualizado (> 30 días)</span></div></div></div>',1);function oa(Q,r){Te(r,!0);let a=te(null),l=te(!0),s=te(void 0);async function n(){p(l,!0),p(s,void 0);try{p(a,await Je.getDatasetOverview(),!0)}catch(v){p(s,v instanceof Error?v.message:"Failed to load dataset overview",!0),console.error("Dataset overview error:",v)}finally{p(l,!1)}}it(n);function o(v){return v>=90?"#10b981":v>=70?"#f59e0b":"#ef4444"}function _(v){return v>=90?"Excelente":v>=80?"Bueno":v>=70?"Regular":"Necesita Mejoras"}function x(v){if(!v)return"Desconocido";const A=new Date().getTime()-v.getTime(),m=Math.floor(A/(1e3*60*60*24));return m===0?"Hoy":m===1?"Ayer":m<7?`hace ${m} días`:m<30?`hace ${Math.floor(m/7)} semanas`:m<365?`hace ${Math.floor(m/30)} meses`:`hace ${Math.floor(m/365)} años`}function M(v){return v>=95?"#10b981":v>=85?"#f59e0b":v>=70?"#fb923c":"#ef4444"}function F(v){return v>=95?"Excelente":v>=85?"Bueno":v>=70?"Regular":"Necesita Trabajo"}function c(v){switch(v){case"current":return"#10b981";case"warning":return"#f59e0b";case"outdated":return"#ef4444";default:return"#6b7280"}}function g(v){switch(v){case"current":return"Actualizado";case"warning":return"Necesita Atención";case"outdated":return"Desactualizado";default:return"Desconocido"}}function d(v){switch(v){case"current":return Oe;case"warning":return Qe;case"outdated":return at;default:return Oe}}function y(v){return v===-1?"Desconocido":v===0?"Hoy":v===1?"Ayer":v<7?`hace ${v} días`:v<30?`hace ${Math.floor(v/7)} semanas`:v<365?`hace ${Math.floor(v/30)} meses`:`hace ${Math.floor(v/365)} años`}rt(Q,{title:"Resumen del Dataset",get icon(){return $t},get loading(){return e(l)},get error(){return e(s)},className:"dataset-overview-widget",children:(v,D)=>{var A=ne(),m=O(A);{var G=q=>{var P=la(),N=O(P),V=t(N),h=t(V),k=t(h),T=i(V,2),ue=t(T),Se=t(ue),ke=i(T,2),ve=t(ke),z=t(ve),H=i(ke,2),le=t(H),oe=t(le),De=i(le,4),fe=t(De),xe=t(fe),$e=i(H,2),ge=t($e),b=t(ge),w=i(ge,4),$=t(w),I=t($),j=i(N,2),U=i(t(j),2);qe(U,21,()=>Object.entries(e(a).fightersByDivision).sort((K,ee)=>ee[1]-K[1]),Ne,(K,ee)=>{var ie=E(()=>At(e(ee),2));let pe=()=>e(ie)[0],_e=()=>e(ie)[1];var Le=aa(),ce=t(Le),ye=t(ce),Ce=i(ce,2),we=t(Ce);C(()=>{u(ye,pe()),u(we,_e())}),f(K,Le)});var B=i(j,2),R=t(B),ae=i(t(R),2),se=t(ae);{var me=K=>{const ee=E(()=>d(e(a).maintenanceStatus.status));var ie=sa(),pe=O(ie);{let ce=E(()=>c(e(a).maintenanceStatus.status));He(pe,()=>e(ee),(ye,Ce)=>{Ce(ye,{size:18,get color(){return e(ce)}})})}var _e=i(pe,2),Le=t(_e);C((ce,ye)=>{re(_e,`color: ${ce??""}`),u(Le,ye)},[()=>c(e(a).maintenanceStatus.status),()=>g(e(a).maintenanceStatus.status)]),f(K,ie)};L(se,K=>{e(a).maintenanceStatus&&K(me)})}var de=i(R,2),X=i(t(de),2),he=t(X),Y=i(de,2);{var W=K=>{var ee=ia(),ie=i(t(ee),2),pe=t(ie);C(_e=>u(pe,_e),[()=>e(a).lastUpdate.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]),f(K,ee)};L(Y,K=>{e(a).lastUpdate&&K(W)})}var J=i(Y,2),Z=i(t(J),2),be=t(Z),Ae=i(B,2);{var Ue=K=>{var ee=va(),ie=t(ee),pe=i(t(ie)),_e=t(pe),Le=i(ie,2),ce=t(Le);qe(ce,17,()=>e(a).missingPictures.fighters,Ne,(we,Ie)=>{var Re=ra(),Ze=t(Re),et=t(Ze);C(()=>u(et,e(Ie))),f(we,Re)});var ye=i(ce,2);{var Ce=we=>{var Ie=na(),Re=t(Ie);C(()=>u(Re,`+ ${e(a).missingPictures.count-10} más...`)),f(we,Ie)};L(ye,we=>{e(a).missingPictures.count>10&&we(Ce)})}C(()=>u(_e,`(${e(a).missingPictures.count??""})`)),f(K,ee)};L(Ae,K=>{e(a).missingPictures.count>0&&K(Ue)})}var Me=i(Ae,2),We=t(Me),Fe=i(t(We),2),Be=t(Fe),Ee=i(We,2),Ke=t(Ee),Xe=i(Me,2),Ye=i(t(Xe),2),Ve=t(Ye),mt=t(Ve);Oe(mt,{size:14,color:"#10b981"});var nt=i(Ve,2),ht=t(nt);Qe(ht,{size:14,color:"#f59e0b"});var bt=i(nt,2),yt=t(bt);at(yt,{size:14,color:"#ef4444"}),C((K,ee,ie,pe,_e,Le,ce,ye,Ce,we,Ie,Re,Ze,et,wt)=>{u(k,K),u(Se,ee),u(z,ie),re(le,`color: ${pe??""}`),u(oe,`${e(a).dataQualityScore??""}%`),re(fe,`background-color: ${_e??""}20; color: ${Le??""}`),u(xe,ce),re(ge,`color: ${ye??""}`),u(b,`${e(a).missingPictures.completionRate??""}%`),re($,`background-color: ${Ce??""}20; color: ${we??""}`),u(I,Ie),u(he,Re),re(Z,`color: ${Ze??""}`),u(be,et),u(Be,`${e(a).dataQualityScore??""}%`),re(Ke,`width: ${e(a).dataQualityScore??""}%; background-color: ${wt??""}`)},[()=>e(a).totalFighters.toLocaleString(),()=>e(a).activeFighters.toLocaleString(),()=>e(a).inactiveFighters.toLocaleString(),()=>o(e(a).dataQualityScore),()=>o(e(a).dataQualityScore),()=>o(e(a).dataQualityScore),()=>_(e(a).dataQualityScore),()=>M(e(a).missingPictures.completionRate),()=>M(e(a).missingPictures.completionRate),()=>M(e(a).missingPictures.completionRate),()=>F(e(a).missingPictures.completionRate),()=>x(e(a).lastUpdate),()=>c(e(a).maintenanceStatus.status),()=>y(e(a).maintenanceStatus.daysSinceLastUpdate),()=>o(e(a).dataQualityScore)]),f(q,P)};L(m,q=>{e(a)&&q(G)})}f(v,A)},$$slots:{default:!0}}),ze()}var da=(Q,r,a)=>p(r,e(a),!0),ca=S('<div class="missing-indicator svelte-1iuchf4"> </div>'),ua=S('<div><button class="language-button svelte-1iuchf4"><div class="language-header svelte-1iuchf4"><div class="language-info svelte-1iuchf4"><span class="language-name svelte-1iuchf4"> </span> <span class="language-code svelte-1iuchf4"> </span></div> <div class="completion-indicator"><!></div></div> <div class="completion-details svelte-1iuchf4"><div class="completion-percentage svelte-1iuchf4"> </div> <div class="completion-status svelte-1iuchf4"> </div></div> <div class="progress-bar svelte-1iuchf4"><div class="progress-fill svelte-1iuchf4"></div></div> <!></button></div>'),fa=S('<span class="missing-count svelte-1iuchf4"> </span>'),ga=S('<div class="no-missing-keys svelte-1iuchf4"><!> <span>¡Todas las traducciones están completas!</span></div>'),pa=S('<div class="missing-key-item svelte-1iuchf4"><code class="svelte-1iuchf4"> </code></div>'),_a=S('<div class="more-missing-indicator svelte-1iuchf4"> </div>'),ma=S('<div class="missing-keys-list svelte-1iuchf4"><!> <!></div>'),ha=S('<div class="missing-keys-section svelte-1iuchf4"><h4 class="svelte-1iuchf4"> <!></h4> <!></div>'),ba=S('<div class="translation-overview svelte-1iuchf4"><div class="overview-stats svelte-1iuchf4"><div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Claves Totales</div></div> <div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Idiomas</div></div></div></div> <div class="languages-status svelte-1iuchf4"><h4 class="svelte-1iuchf4">Estado por Idioma</h4> <div class="languages-grid svelte-1iuchf4"></div></div> <!>',1);function ya(Q,r){Te(r,!0);let a=te(null),l=te(!0),s=te(void 0),n=te("");async function o(){p(l,!0),p(s,void 0);try{p(a,await Je.getTranslationHealth(),!0),e(a)&&!e(n)&&e(a).languages.length>0&&p(n,e(a).languages.find(c=>c!=="en")||e(a).languages[0],!0)}catch(c){p(s,c instanceof Error?c.message:"Error al cargar estado de traducciones",!0),console.error("Translation health error:",c)}finally{p(l,!1)}}it(o);function _(c){return c>=95?"#10b981":c>=80?"#f59e0b":c>=60?"#fb923c":"#ef4444"}function x(c){return c>=95?Oe:c>=80?Qe:at}function M(c){return c>=95?"Completo":c>=80?"Casi Completo":c>=60?"En Progreso":"Incompleto"}function F(c){return{en:"Inglés",es:"Español",fr:"Francés",pt:"Portugués"}[c]||c.toUpperCase()}rt(Q,{title:"Estado de Traducciones",get icon(){return Lt},get loading(){return e(l)},get error(){return e(s)},className:"translation-health-widget",children:(c,g)=>{var d=ne(),y=O(d);{var v=D=>{var A=ba(),m=O(A),G=t(m),q=t(G),P=t(q),N=t(P),V=i(q,2),h=t(V),k=t(h),T=i(m,2),ue=i(t(T),2);qe(ue,21,()=>e(a).languages,Ne,(ve,z)=>{const H=E(()=>e(a).completionByLanguage[e(z)]),le=E(()=>e(a).missingKeysByLanguage[e(z)]?.length||0);var oe=ua();let De;var fe=t(oe);fe.__click=[da,n,z];var xe=t(fe),$e=t(xe),ge=t($e),b=t(ge),w=i(ge,2),$=t(w),I=i($e,2),j=t(I);{var U=W=>{const J=E(()=>x(e(H)));var Z=ne(),be=O(Z);{let Ae=E(()=>_(e(H)));He(be,()=>e(J),(Ue,Me)=>{Me(Ue,{size:16,get color(){return e(Ae)}})})}f(W,Z)};L(j,W=>{e(H)!==void 0&&W(U)})}var B=i(xe,2),R=t(B),ae=t(R),se=i(R,2),me=t(se),de=i(B,2),X=t(de),he=i(de,2);{var Y=W=>{var J=ca(),Z=t(J);C(()=>u(Z,`${e(le)??""} claves faltantes`)),f(W,J)};L(he,W=>{e(le)>0&&W(Y)})}C((W,J,Z,be,Ae)=>{De=st(oe,1,"language-item svelte-1iuchf4",null,De,W),u(b,J),u($,`(${e(z)??""})`),re(R,`color: ${Z??""}`),u(ae,`${e(H)??""}%`),u(me,be),re(X,`width: ${e(H)??""}%; background-color: ${Ae??""}`)},[()=>({selected:e(n)===e(z)}),()=>F(e(z)),()=>_(e(H)),()=>M(e(H)),()=>_(e(H))]),f(ve,oe)});var Se=i(T,2);{var ke=ve=>{const z=E(()=>e(a).missingKeysByLanguage[e(n)]);var H=ha(),le=t(H),oe=t(le),De=i(oe);{var fe=b=>{var w=fa(),$=t(w);C(()=>u($,`(${e(z).length??""})`)),f(b,w)};L(De,b=>{e(z).length>0&&b(fe)})}var xe=i(le,2);{var $e=b=>{var w=ga(),$=t(w);Oe($,{size:20,color:"#10b981"}),f(b,w)},ge=b=>{var w=ma(),$=t(w);qe($,17,()=>e(z).slice(0,10),Ne,(U,B)=>{var R=pa(),ae=t(R),se=t(ae);C(()=>u(se,e(B))),f(U,R)});var I=i($,2);{var j=U=>{var B=_a(),R=t(B);C(()=>u(R,`+ ${e(z).length-10} claves más...`)),f(U,B)};L(I,U=>{e(z).length>10&&U(j)})}f(b,w)};L(xe,b=>{e(z).length===0?b($e):b(ge,!1)})}C(b=>u(oe,`Claves Faltantes en ${b??""} `),[()=>F(e(n))]),f(ve,H)};L(Se,ve=>{e(n)&&e(a).missingKeysByLanguage[e(n)]&&ve(ke)})}C(ve=>{u(N,ve),u(k,e(a).languages.length)},[()=>e(a).totalKeys.toLocaleString()]),f(D,A)};L(y,D=>{e(a)&&D(v)})}f(c,d)},$$slots:{default:!0}}),ze()}_t(["click"]);async function wa(Q,r,a,l){p(r,!0);try{await a()}catch(s){p(l,s instanceof Error?s.message:"Error al ejecutar prueba de proxies",!0),console.error("Proxy test error:",s)}finally{p(r,!1)}}var Sa=S('<div class="service-item svelte-1rmb815"><div class="service-header svelte-1rmb815"><div class="service-info svelte-1rmb815"><div class="service-name svelte-1rmb815"> </div> <div class="service-description svelte-1rmb815"> </div></div> <div class="service-status"><!></div></div> <div class="service-details svelte-1rmb815"><div class="status-info svelte-1rmb815"><span class="status-label svelte-1rmb815"> </span> <span class="response-time svelte-1rmb815"> </span></div> <div class="status-indicator svelte-1rmb815"><div class="indicator-bar svelte-1rmb815"><div class="indicator-fill svelte-1rmb815"></div></div></div></div></div>'),Da=S('<div class="summary-stat svelte-1rmb815"><div class="summary-value svelte-1rmb815"> </div> <div class="summary-label svelte-1rmb815">Fuentes Activas</div></div> <div class="summary-progress svelte-1rmb815"><div class="progress-header svelte-1rmb815"><span class="svelte-1rmb815">Disponibilidad RSS</span> <span class="svelte-1rmb815"> </span></div> <div class="progress-bar svelte-1rmb815"><div class="progress-fill svelte-1rmb815"></div></div></div>',1),xa=S('<div class="feed-item svelte-1rmb815"><div class="feed-status"><!></div> <div class="feed-info svelte-1rmb815"><span class="feed-name svelte-1rmb815"> </span> <span class="feed-time svelte-1rmb815"> </span></div></div>'),$a=S('<div class="status-overview svelte-1rmb815"><div class="test-action svelte-1rmb815"><button><!> </button></div></div> <div class="services-section svelte-1rmb815"><h4 class="svelte-1rmb815">Proxies habilitados</h4> <div class="services-grid svelte-1rmb815"></div></div> <div class="news-feeds-section svelte-1rmb815"><h4 class="svelte-1rmb815">Fuentes de Noticias RSS</h4> <div class="feeds-summary svelte-1rmb815"><!></div> <div class="feeds-grid svelte-1rmb815"></div></div> <div class="connection-legend svelte-1rmb815"><div class="legend-title svelte-1rmb815">Leyenda de Estados:</div> <div class="legend-items svelte-1rmb815"><div class="legend-item svelte-1rmb815"><!> <span>Conectado (&lt; 1s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Lento (1-3s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Sin Conexión</span></div></div></div>',1);function Aa(Q,r){Te(r,!0);let a=te(null),l=te(null),s=te(!0),n=te(void 0),o=te(!1);async function _(){p(s,!0),p(n,void 0);try{p(a,await Je.testProxiesStatus(),!0),p(l,await Je.testRSSFeedsStatus(),!0)}catch(g){p(n,g instanceof Error?g.message:"Error al probar estado de proxies",!0),console.error("Proxy status error:",g)}finally{p(s,!1)}}it(_);function x(g,d=0){return g?d>0&&d<1e3?"#10b981":d>=1e3&&d<3e3?"#f59e0b":"#fb923c":"#ef4444"}function M(g){return g?ot:dt}function F(g,d=0){return g?d===-1?"Error":d===0?"Conectado":d<500?"Rápido":d<1e3?"Normal":d<3e3?"Lento":"Muy Lento":"Sin Conexión"}function c(g){return g===-1?"Error":g===0?"-":`${g}ms`}rt(Q,{title:"Estado de Conexiones",get icon(){return Ft},get loading(){return e(s)},get error(){return e(n)},onRefresh:_,className:"proxy-status-widget",children:(g,d)=>{var y=ne(),v=O(y);{var D=A=>{var m=$a(),G=O(m),q=t(G),P=t(q);let N;P.__click=[wa,o,_,n];var V=t(P);{let b=E(()=>e(o)?"spinning":"");Ct(V,{size:16,get class(){return e(b)}})}var h=i(V),k=i(G,2),T=i(t(k),2);qe(T,21,()=>e(a),Ne,(b,w)=>{const $=E(()=>e(w).active),I=E(()=>e(w).responseTime||0);var j=Sa(),U=t(j),B=t(U),R=t(B),ae=t(R),se=i(R,2),me=t(se),de=i(B,2),X=t(de);{var he=Fe=>{const Be=E(()=>M(e($)));var Ee=ne(),Ke=O(Ee);{let Xe=E(()=>x(e($),e(I)));He(Ke,()=>e(Be),(Ye,Ve)=>{Ve(Ye,{size:18,get color(){return e(Xe)}})})}f(Fe,Ee)};L(X,Fe=>{e($)!==void 0&&Fe(he)})}var Y=i(U,2),W=t(Y),J=t(W),Z=t(J),be=i(J,2),Ae=t(be),Ue=i(W,2),Me=t(Ue),We=t(Me);C((Fe,Be,Ee,Ke)=>{u(ae,e(w).name),u(me,e(w).name),re(J,`color: ${Fe??""}`),u(Z,Be),u(Ae,Ee),re(We,`width: ${e($)?"100%":"0%"}; background-color: ${Ke??""}`)},[()=>x(e($),e(I)),()=>F(e($),e(I)),()=>c(e(I)),()=>x(e($),e(I))]),f(b,j)});var ue=i(k,2),Se=i(t(ue),2),ke=t(Se);{var ve=b=>{const w=E(()=>e(l).length),$=E(()=>e(l).filter(({active:Y})=>Y).length),I=E(()=>e(w)>0?Math.round(e($)/e(w)*100):0);var j=Da(),U=O(j),B=t(U),R=t(B),ae=i(U,2),se=t(ae),me=i(t(se),2),de=t(me),X=i(se,2),he=t(X);C(Y=>{u(R,`${e($)??""}/${e(w)??""}`),u(de,`${e(I)??""}%`),re(he,`width: ${e(I)??""}%; background-color: ${Y??""}`)},[()=>x(e(I)>=80,0)]),f(b,j)};L(ke,b=>{e(l)&&b(ve)})}var z=i(Se,2);qe(z,21,()=>e(l)??[],Ne,(b,w)=>{const $=E(()=>e(w).responseTime);var I=xa(),j=t(I),U=t(j);{var B=X=>{const he=E(()=>M(e(w).active));var Y=ne(),W=O(Y);{let J=E(()=>x(e(w).active,e($)));He(W,()=>e(he),(Z,be)=>{be(Z,{size:14,get color(){return e(J)}})})}f(X,Y)};L(U,X=>{e(w).name&&X(B)})}var R=i(j,2),ae=t(R),se=t(ae),me=i(ae,2),de=t(me);C(X=>{u(se,e(w).name),u(de,X)},[()=>c(e($))]),f(b,I)});var H=i(ue,2),le=i(t(H),2),oe=t(le),De=t(oe);ot(De,{size:14,color:"#10b981"});var fe=i(oe,2),xe=t(fe);Qe(xe,{size:14,color:"#f59e0b"});var $e=i(fe,2),ge=t($e);dt(ge,{size:14,color:"#ef4444"}),C(b=>{N=st(P,1,"test-all-btn svelte-1rmb815",null,N,b),P.disabled=e(o),u(h,` ${e(o)?"Probando...":"Probar Todas las Conexiones"}`)},[()=>({testing:e(o)})]),f(A,m)};L(v,A=>{e(a)&&A(D)})}f(g,y)},$$slots:{default:!0}}),ze()}_t(["click"]);var La=S('<div class="admin-dashboard svelte-10d68cq"><div class="dashboard-header svelte-10d68cq"><div class="header-content svelte-10d68cq"><div class="header-title svelte-10d68cq"><!> <div class="title-text svelte-10d68cq"><h1 class="svelte-10d68cq">Panel de Administración</h1> <p class="svelte-10d68cq">Monitoreo y mantenimiento del dataset UFC Radar</p></div></div> <div class="header-info svelte-10d68cq"><div class="current-time svelte-10d68cq"> </div> <div class="status-badge svelte-10d68cq"><!> <span class="svelte-10d68cq">Acceso Autorizado</span></div></div></div></div> <div class="dashboard-content svelte-10d68cq"><div class="widgets-grid svelte-10d68cq"><div class="widget-section overview-section svelte-10d68cq"><!></div> <div class="widget-section translations-section svelte-10d68cq"><!></div> <div class="widget-section proxy-section svelte-10d68cq"><!></div></div></div> <div class="dashboard-footer svelte-10d68cq"><div class="footer-content svelte-10d68cq"><div class="footer-info svelte-10d68cq"><span class="svelte-10d68cq">UFC Radar Admin Dashboard</span> <span class="svelte-10d68cq">•</span> <span class="svelte-10d68cq">Versión 1.0</span></div> <div class="footer-warning svelte-10d68cq"><!> <span class="svelte-10d68cq">Panel interno - Solo para uso del equipo</span></div></div></div></div>');function Fa(Q,r){Te(r,!0);let a=te(Pt(new Date));setInterval(()=>{p(a,new Date,!0)},6e4);function l(T){return T.toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}var s=La(),n=t(s),o=t(n),_=t(o),x=t(_);kt(x,{size:32});var M=i(_,2),F=t(M),c=t(F),g=i(F,2),d=t(g);ct(d,{size:16});var y=i(n,2),v=t(y),D=t(v),A=t(D);oa(A,{});var m=i(D,2),G=t(m);ya(G,{});var q=i(m,2),P=t(q);Aa(P,{});var N=i(y,2),V=t(N),h=i(t(V),2),k=t(h);ct(k,{size:14}),C(T=>u(c,T),[()=>l(e(a))]),f(Q,s),ze()}function Ea(Q,r){Te(r,!1);const[a,l]=qt(),s=()=>ut(Wt,"$currentPath",a),n=()=>ut(Vt,"$isAuthenticated",a);Mt(()=>(s(),n(),Ge),()=>{s()===Pe.ADMIN_DASHBOARD&&!n()?Ge.navigate(Pe.ADMIN_LOGIN):s()===Pe.ADMIN_LOGIN&&n()&&Ge.navigate(Pe.ADMIN_DASHBOARD)}),Et(),pt();var o=ne(),_=O(o);{var x=F=>{gt(F,{})},M=F=>{var c=ne(),g=O(c);{var d=v=>{Fa(v,{})},y=v=>{gt(v,{})};L(g,v=>{n()?v(d):v(y,!1)},!0)}f(F,c)};L(_,F=>{s(),It(Pe),Rt(()=>s()===Pe.ADMIN_LOGIN)?F(x):F(M,!1)})}f(Q,o),ze(),l()}export{Ea as default};
