import{ad as Be,am as Ee,an as Pe,ao as De}from"./lucide-DhWK0f18.js";const ti=["Ofensiva Golpes","Defensiva Golpes","Ofensiva Derribos","Defensiva Derribos","Control","Amenaza Final"],ni=["Distancia","Adaptabilidad","Temple","Decisiones","Ritmo","Fintas"];function Ae(e){const i=Number(e.Sig_Strikes_Landed)||0,t=Number(e.Sig_Strikes_Thrown)||0,s=Number(e.Sig_Strikes_Absorbed)||0,n=Number(e.significant_strikes_attempted_against)||0,o=Number(e.Takedowns_Successful)||0,a=Number(e.Takedowns_Attempted)||0,r=Number(e.Takedowns_Defended)||0,c=Number(e.takedowns_attempted_against)||0,l=Number(e.Control_Time_Seconds)||0,d=Number(e.Time_Controlled_Seconds)||0,h=Number(e.Number_of_Fights_36m)||1,g=Number(e.win_ko)||0,p=Number(e.win_tko)||0,m=Number(e.win_sub)||0;let f=t>0?i/t*100:0,u=n>0?(n-s)/n*100:85,T=a>0?o/a*100:45,y=c>0?r/c*100:85,v=l+d>0?l/(l+d)*100:50,k=h>0?(g+p+m)/h*100:0;const _={STR_OFF:f,STR_DEF:u,TD_OFF:T,TD_DEF:y,CTRL:v,FIN_THREAT:k};return{STR_OFF:_.STR_OFF>100?100:Math.round(_.STR_OFF),STR_DEF:_.STR_DEF>100?100:Math.round(_.STR_DEF),TD_OFF:_.TD_OFF>100?100:Math.round(_.TD_OFF),TD_DEF:_.TD_DEF>100?100:Math.round(_.TD_DEF),CTRL:_.CTRL>100?100:Math.round(_.CTRL),FIN_THREAT:_.FIN_THREAT>100?100:Math.round(_.FIN_THREAT)}}function Ce(e,i){const t=e.Sig_Strikes_Landed||0,s=e.Sig_Strikes_Thrown||0,n=e.Sig_Strikes_Absorbed||0,o=e.significant_strikes_attempted_against||0,a=e.Takedowns_Defended||0,r=e.takedowns_attempted_against||0,c=e.Fight_Duration_Seconds||1,l=e.win||0,d=e.loss||0,h=e.draws||0,g=e.win_ko||0,p=e.win_tko||0,m=e.win_sub||0,f=e.Knockdowns||0,u=e.Knockdowns_Received||0,T=c/60,y=l+d+h||1,v=T>0?t/(T*y):0,k=s>0?t/s*100:0,_=o>0?n/o*100:0,F=r>0?a/r*100:0,A=l/y,P=(g+p+m)/y*100,R=e.reach_inches||70,N=e.height_inches||70,D=R-N,C=Math.min(Math.max(D-2,0),10)*4,O=t-n,Q=O>0?Math.min(O*.3,40):Math.max(O*.2,-20),j=40+C+Q,J=Math.round(Math.min(Math.max(j,15),85)),b=(_+F)/2-n/Math.max(y,1),K=Math.max(b*.8,0),B=T*y,Y=B>10?Math.min((B-10)*2,25):0,V=y-u,X=Math.min(V*3,20),ee=40+K+Y+X,Z=Math.round(Math.min(Math.max(ee,20),85)),ie=Math.min(A*.4,.4),I=((g>0?1:0)+(p>0?1:0)+(m>0?1:0))/3*.15;let M=0;i.isTriple?M=.25:i.isDual?M=.15:M=-.1;const se=ie+I+M,te=Math.round(Math.min(Math.max(se*100,5),95)),W=A>P/100?Math.min((A-P/100)*50,25):0,x=e.Takedowns_Attempted>0?e.Takedowns_Successful/e.Takedowns_Attempted*30:15,ne=e.Control_Time_Seconds||0,oe=e.Time_Controlled_Seconds||0,E=ne-oe,ae=E>0?Math.min(E*.15,20):Math.max(E*.1,-15),$=35+W+x+ae,re=Math.round(Math.min(Math.max($,15),85)),U=s-n,pe=U>0?Math.min(U*.25,30):0,L=T*y,ce=L<8?Math.min((8-L)*5,25):L>12?Math.max((12-L)*2,-15):10,le=v>3?Math.min((v-3)*8,20):v*6,me=35+pe+ce+le,de=Math.round(Math.min(Math.max(me,15),85)),H=s>0?k/100:0,we=H>.5?Math.min((H-.5)*80,30):0,ue=f-u,Me=ue>0?Math.min(ue*15,25):Math.max(ue*5,-15),Se=E>60?Math.min((E-60)*.1,15):0,Re=35+we+Me+Se,Ne=Math.round(Math.min(Math.max(Re,15),85));return{distance:J,adaptability:te,composure:Z,decisions:re,rhythm:de,feints:Ne}}class be{constructor(i){this.metrics=this.calculateMetrics(i)}calculateMetrics(i){const t=i.win||0,s=i.loss||0,n=i.draws||0,o=t+s+n,a=i.win_ko||0,r=i.win_tko||0,c=i.win_sub||0,l=i.Knockdowns||0,d=i.Knockdowns_Received||0,h=s===0&&t>0,g=o>0?t/o:0,p=a+r+c,m=o>0?p/o*100:0,f=d>0?l/d:l+1,u=i.Fight_Duration_Seconds>0?i.Fight_Duration_Seconds/60:15;return{isUndefeated:h,wins:t,losses:s,winRate:g,finishRate:m,totalFights:i.Number_of_Fights_36m||o,knockdowns:l,knockdownsReceived:d,knockdownRatio:f,subWins:c,koTkoWins:a+r,avgFightTime:u,isEliteFinisher:m>70&&o>=4,isSubmissionSpecialist:c>=3&&h,isKnockoutArtist:a+r>=3&&l>d+2}}getStrikingOffenseBonuses(){const i=this.metrics;return i.isUndefeated&&i.isEliteFinisher?{primary:i.isKnockoutArtist?1.44:1.25,secondary:1.15,additive:8}:i.isUndefeated&&i.finishRate>50?{primary:1.18,secondary:1.1,additive:5}:i.isUndefeated&&i.totalFights>=3?{primary:1.12,secondary:1.05,additive:3}:i.winRate>.85&&i.totalFights>=5?{primary:1.08,secondary:1.03,additive:2}:{primary:1,secondary:1,additive:0}}getDefensiveBonuses(){const i=this.metrics;return i.winRate===1&&i.totalFights>=4?{primary:1.15,secondary:1.1,additive:4}:i.winRate>.9&&i.totalFights>=4?{primary:1.08,secondary:1.05,additive:2}:{primary:1,secondary:1,additive:0}}getFinishingBonuses(){const i=this.metrics;return i.isUndefeated&&i.isEliteFinisher?{primary:i.isSubmissionSpecialist?1.68:1.4,secondary:1.2,additive:15}:i.isUndefeated&&i.finishRate>50?{primary:1.3,secondary:1.15,additive:10}:i.isUndefeated&&i.totalFights>=3?{primary:1.2,secondary:1.1,additive:6}:{primary:1,secondary:1,additive:0}}getControlBonuses(){const i=this.metrics;return i.isSubmissionSpecialist?{primary:1.25,secondary:1.15,additive:8}:i.isUndefeated&&i.totalFights>=4?{primary:1.1,secondary:1.05,additive:3}:{primary:1,secondary:1,additive:0}}getVolumeBonuses(){const i=this.metrics;if(i.isUndefeated&&i.isEliteFinisher){let t=1.4,s=30;return i.isKnockoutArtist&&(t*=1.15,s+=12),i.isSubmissionSpecialist&&(t*=1.18,s+=15),{primary:Math.min(t,1.8),secondary:1.18,additive:Math.min(s,50)}}else{if(i.isUndefeated&&i.finishRate>50)return{primary:1.25,secondary:1.12,additive:20};if(i.isUndefeated&&i.totalFights>=3)return{primary:1.15,secondary:1.08,additive:15}}return{primary:1,secondary:1,additive:0}}getEliteClassification(){const i=this.metrics;return i.isUndefeated&&i.isEliteFinisher?i.isKnockoutArtist&&i.isSubmissionSpecialist?"Complete Dominator":i.isKnockoutArtist?"Knockout Artist":i.isSubmissionSpecialist?"Submission Specialist":"Elite Finisher":i.isUndefeated&&i.finishRate>50?"Undefeated Finisher":i.isUndefeated?"Undefeated Prospect":i.winRate>.85&&i.totalFights>=6?"Elite Veteran":"Standard Fighter"}getMetrics(){return{...this.metrics}}}const je={ANT:{description:"Avanza con presión caótica y volumen alto, forzando intercambios hasta quebrar al rival.",favoriteZone:"Centro → Zona de Decisión",strengths:"Explosividad y poder de KO y presión",weaknesses:"Defensa irregular y castigable en zona intermedia"},AT:{description:"Combina presión técnica con setups precisos, domina el ritmo y corta la jaula para imponer orden.",favoriteZone:"Centro del octágono (Búsqueda)",strengths:"Dictar ritmo y cortar la jaula",weaknesses:"Vulnerable a contraataques en zona intermedia"},PNT:{description:"Prioriza la supervivencia, absorbe castigo y busca desgastar al rival hasta el fallo.",favoriteZone:"Zona de Decisión (pegado a la jaula)",strengths:"Durabilidad extrema y absorción de castigo",weaknesses:"Baja iniciativa ofensiva"},PT:{description:"Se mantiene paciente, contragolpea con precisión quirúrgica y aprovecha cada error.",favoriteZone:"Zona Intermedia (Acción)",strengths:"Timing perfecto y lectura del oponente",weaknesses:"Bajo volumen y riesgo en decisiones cerradas"},"ANT+AT":{description:"Inicia con caos agresivo y remata con ajustes técnicos para cerrar intercambios.",favoriteZone:"Centro → Zona de Decisión → Centro del octágono (Búsqueda)",strengths:"Explosividad y presión con poder + Dictar ritmo y cortar la jaula",weaknesses:"Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia"},"AT+ANT":{description:"Alterna entre setups técnicos y ráfagas caóticas, manteniendo presión constante.",favoriteZone:"Centro del octágono",strengths:"Setups precisos con explosiones de volumen",weaknesses:"Desgaste por mantener doble intensidad"},"AT+PNT":{description:"Usa fundamentos técnicos para protegerse y contraatacar con control defensivo.",favoriteZone:"Centro → Decisión",strengths:"Desgaste sistemático del oponente",weaknesses:"Menor fluidez ofensiva"},"AT+PT":{description:"Combina paciencia con precisión, elige momentos exactos para ejecutar con limpieza.",favoriteZone:"Centro ↔ Intermedia",strengths:"Control técnico y contraataque letal",weaknesses:"Puede quedar atrapado entre estilos"},"PNT+AT":{description:"Bloquea el avance rival y responde con técnica disciplinada en ráfagas controladas.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda)",strengths:"Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula",weaknesses:"Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia"},"PT+AT":{description:"Oscila entre pasividad calculada y explosiones técnicas para romper ritmos.",favoriteZone:"Zona Intermedia (Acción) → Centro del octágono (Búsqueda)",strengths:"Timing y lectura del oponente + Dictar ritmo y cortar la jaula",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia"},"ANT+PNT":{description:"Explosivo y resistente, apuesta por intercambios desordenados hasta vencer.",favoriteZone:"Centro → Decisión",strengths:"Volumen caótico sostenido",weaknesses:"Alto castigo recibido"},"ANT+PT":{description:"Genera caos ofensivo y encuentra momentos técnicos para castigar en el retroceso.",favoriteZone:"Centro ↔ Intermedia",strengths:"Presión cuando detecta debilidad, paciencia cuando no",weaknesses:"Irregularidad en transiciones"},"PNT+ANT":{description:"Se refugia en la resistencia y contraataca con brotes de agresividad salvaje.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión",strengths:"Durabilidad y absorción de castigo + Explosividad y presión con poder",weaknesses:"Baja iniciativa ofensiva y Defensa irregular en intercambios"},"PT+ANT":{description:"Defiende con precisión hasta hallar huecos para embestidas agresivas.",favoriteZone:"Zona Intermedia (Acción) → Centro → Zona de Decisión",strengths:"Timing y lectura del oponente + Explosividad y presión con poder",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios"},"PNT+PT":{description:"Resiste inmóvil y frena el avance rival, atrayéndolo a un combate de desgaste.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción)",strengths:"Durabilidad y absorción de castigo + Timing y lectura del oponente",weaknesses:"Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas"},"PT+PNT":{description:"Un muro defensivo que absorbe presión y neutraliza ataques con paciencia férrea.",favoriteZone:"Intermedia → Decisión",strengths:"Negación total del juego ofensivo rival",weaknesses:"Menor iniciativa ofensiva"},"ANT+AT+PNT":{description:"Domina el octágono con agresividad y bloqueos defensivos impenetrables.",favoriteZone:"Centro → Zona de Decisión → Centro del octágono (Búsqueda) → Zona de Decisión (pegado a la jaula)",strengths:"Explosividad y presión con poder + Dictar ritmo y cortar la jaula + Durabilidad y absorción de castigo",weaknesses:"Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia y Baja iniciativa ofensiva"},"ANT+AT+PT":{description:"Desata agresión caótica y la adapta con recursos técnicos y control puntual.",favoriteZone:"Centro → Zona de Decisión → Centro del octágono (Búsqueda) → Zona Intermedia (Acción)",strengths:"Explosividad y presión con poder + Dictar ritmo y cortar la jaula + Timing y lectura del oponente",weaknesses:"Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia y Bajo volumen; riesgo en decisiones cerradas"},"ANT+PT+AT":{description:"Ataca sin aviso, alternando caos, paciencia y técnica quirúrgica.",favoriteZone:"Centro → Zona de Decisión → Zona Intermedia (Acción) → Centro del octágono (Búsqueda)",strengths:"Explosividad y presión con poder + Timing y lectura del oponente + Dictar ritmo y cortar la jaula",weaknesses:"Defensa irregular en intercambios y Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia"},"AT+ANT+PNT":{description:"Presiona con técnica y caos, mientras se mantiene sólido en defensa.",favoriteZone:"Centro → Decisión",strengths:"Presión sostenida desde múltiples ángulos",weaknesses:"Riesgo de desgaste prolongado"},"AT+ANT+PT":{description:"Planifica con setups técnicos, escala al caos y remata con precisión fría.",favoriteZone:"Centro → Intermedia",strengths:"Control técnico + explosividad + contraataque letal",weaknesses:"Exigencia táctica altísima"},"AT+PNT+ANT":{description:"Aúna ferocidad con disciplina, busca imponerse con técnica bajo presión.",favoriteZone:"Centro del octágono (Búsqueda) → Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión",strengths:"Dictar ritmo y cortar la jaula + Durabilidad y absorción de castigo + Explosividad y presión con poder",weaknesses:"Vulnerable a contraataques en zona intermedia y Baja iniciativa ofensiva y Defensa irregular en intercambios"},"AT+PNT+PT":{description:"Defiende con firmeza y responde con ráfagas calculadas de técnica.",favoriteZone:"Centro del octágono (Búsqueda) → Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción)",strengths:"Dictar ritmo y cortar la jaula + Durabilidad y absorción de castigo + Timing y lectura del oponente",weaknesses:"Vulnerable a contraataques en zona intermedia y Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas"},"AT+PT+ANT":{description:"Convierte pausas en ofensivas fluidas, dominando el tempo.",favoriteZone:"Centro del octágono (Búsqueda) → Zona Intermedia (Acción) → Centro → Zona de Decisión",strengths:"Dictar ritmo y cortar la jaula + Timing y lectura del oponente + Explosividad y presión con poder",weaknesses:"Vulnerable a contraataques en zona intermedia y Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios"},"AT+PT+PNT":{description:"Combina técnica y resistencia con paciencia, minimizando riesgos.",favoriteZone:"Centro → Intermedia → Decisión",strengths:"Versatilidad total",weaknesses:"Puede diluir identidad ofensiva"},"ANT+PNT+AT":{description:"Combina técnica y resistencia con paciencia, minimizando riesgos.",favoriteZone:"Centro → Zona de Decisión → Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda)",strengths:"Explosividad y presión con poder + Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula",weaknesses:"Defensa irregular en intercambios y Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia"},"PNT+ANT+AT":{description:"Renace en cada intercambio, alternando furia, defensa y ajustes técnicos.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión → Centro del octágono (Búsqueda)",strengths:"Durabilidad y absorción de castigo + Explosividad y presión con poder + Dictar ritmo y cortar la jaula",weaknesses:"Baja iniciativa ofensiva y Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia"},"PNT+AT+ANT":{description:"Resiste bajo presión y responde con disciplina y agresión organizada.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda) → Centro → Zona de Decisión",strengths:"Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula + Explosividad y presión con poder",weaknesses:"Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia y Defensa irregular en intercambios"},"PNT+AT+PT":{description:"Controla con bloqueos y aprovecha cada resquicio para marcar ritmo.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda) → Zona Intermedia (Acción)",strengths:"Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula + Timing y lectura del oponente",weaknesses:"Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia y Bajo volumen; riesgo en decisiones cerradas"},"PNT+PT+AT":{description:"Combina resistencia y control para marcar el compás de la pelea.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción) → Centro del octágono (Búsqueda)",strengths:"Durabilidad y absorción de castigo + Timing y lectura del oponente + Dictar ritmo y cortar la jaula",weaknesses:"Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia"},"PT+ANT+AT":{description:"Teje un plan dinámico alternando defensa, caos y precisión técnica.",favoriteZone:"Zona Intermedia (Acción) → Centro → Zona de Decisión → Centro del octágono (Búsqueda)",strengths:"Timing y lectura del oponente + Explosividad y presión con poder + Dictar ritmo y cortar la jaula",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios y Vulnerable a contraataques en zona intermedia"},"PT+AT+ANT":{description:"Atrapa al rival en un ritmo sofocante, cerrando espacios con precisión.",favoriteZone:"Zona Intermedia (Acción) → Centro del octágono (Búsqueda) → Centro → Zona de Decisión",strengths:"Timing y lectura del oponente + Dictar ritmo y cortar la jaula + Explosividad y presión con poder",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia y Defensa irregular en intercambios"},"PT+AT+PNT":{description:"Defiende con férrea disciplina y responde con estallidos precisos.",favoriteZone:"Zona Intermedia (Acción) → Centro del octágono (Búsqueda) → Zona de Decisión (pegado a la jaula)",strengths:"Timing y lectura del oponente + Dictar ritmo y cortar la jaula + Durabilidad y absorción de castigo",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Vulnerable a contraataques en zona intermedia y Baja iniciativa ofensiva"},"PT+PNT+AT":{description:"Se protege en defensa, espera con calma y ejecuta ataques técnicos puntuales.",favoriteZone:"Zona Intermedia (Acción) → Zona de Decisión (pegado a la jaula) → Centro del octágono (Búsqueda)",strengths:"Timing y lectura del oponente + Durabilidad y absorción de castigo + Dictar ritmo y cortar la jaula",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Baja iniciativa ofensiva y Vulnerable a contraataques en zona intermedia"},"ANT+PNT+PT":{description:"Un torbellino de agresión que combina resistencia con caos continuo.",favoriteZone:"Centro → Zona de Decisión → Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción)",strengths:"Explosividad y presión con poder + Durabilidad y absorción de castigo + Timing y lectura del oponente",weaknesses:"Defensa irregular en intercambios y Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas"},"ANT+PT+PNT":{description:"Combina caos ofensivo con dureza y paciencia para desgastar al rival.",favoriteZone:"Centro → Intermedia → Decisión",strengths:"Robar rounds con trucos de oficio",weaknesses:"Menor consistencia en intercambios limpios"},"PNT+ANT+PT":{description:"Aguanta golpes y responde con ataques pesados y directos.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión → Zona Intermedia (Acción)",strengths:"Durabilidad y absorción de castigo + Explosividad y presión con poder + Timing y lectura del oponente",weaknesses:"Baja iniciativa ofensiva y Defensa irregular en intercambios y Bajo volumen; riesgo en decisiones cerradas"},"PNT+PT+ANT":{description:"Alterna defensa, caos y paciencia, creando presión constante e impredecible.",favoriteZone:"Zona de Decisión (pegado a la jaula) → Zona Intermedia (Acción) → Centro → Zona de Decisión",strengths:"Durabilidad y absorción de castigo + Timing y lectura del oponente + Explosividad y presión con poder",weaknesses:"Baja iniciativa ofensiva y Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios"},"PT+ANT+PNT":{description:"Se nutre del castigo, avanza ferozmente y nunca retrocede.",favoriteZone:"Zona Intermedia (Acción) → Centro → Zona de Decisión → Zona de Decisión (pegado a la jaula)",strengths:"Timing y lectura del oponente + Explosividad y presión con poder + Durabilidad y absorción de castigo",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Defensa irregular en intercambios y Baja iniciativa ofensiva"},"PT+PNT+ANT":{description:"Imperturbable bajo ataque, se protege y responde con agresión inesperada.",favoriteZone:"Zona Intermedia (Acción) → Zona de Decisión (pegado a la jaula) → Centro → Zona de Decisión",strengths:"Timing y lectura del oponente + Durabilidad y absorción de castigo + Explosividad y presión con poder",weaknesses:"Bajo volumen; riesgo en decisiones cerradas y Baja iniciativa ofensiva y Defensa irregular en intercambios"}};function Ze(e){return je[e]||{description:"Arquetipo en desarrollo",favoriteZone:"Variable",strengths:"En análisis",weaknesses:"En análisis"}}function Ie(e,i){let t=null,s=null;if(xe(e))t="AT",s=S[t];else{const re=i.map(H=>fe(H)),U=Math.round(q(re)),L=fe(e)>=U?"A":"P",ce=i.map(he),le=Math.round(q(ce)),de=he(e)>=le?"T":"NT";t=`${L}${de}`,s=S[t]}const n=i.map(_e),o=Math.round(q(n)),a=Math.min(...n),r=Math.max(...n),c=(a+o)/2,l=(o+r)/2,d=_e(e),h=d>=o?"A":"P";let g="Muy Bajo";d>=l?g="Muy Alto":d>=o?g="Medio-Alto":d>=c&&(g="Medio-Bajo");const p=i.map(G),m=Math.round(q(p)),f=Math.min(...p),u=Math.max(...p),T=(f+m)/2,y=(m+u)/2,v=G(e),k=v>=m?"T":"NT";let _="Muy Bajo";v>=y?_="Muy Alto":v>=m?_="Medio-Alto":v>=T&&(_="Muy Bajo");let F=g==="Muy Alto"&&_==="Medio-Bajo"||g==="Medio-Alto"&&_==="Muy Alto"||g==="Medio-Bajo"&&_==="Medio-Alto"||g==="Muy Bajo"&&_==="Muy Bajo";const A=`${h}${k}`,P=S[A];F=F&&t!==A;const R=i.map(Te),N=Math.round(q(R)),D=Math.min(...R),C=Math.max(...R),O=(D+N)/2,Q=(N+C)/2,j=Te(e),J=j>=N?"A":"P";let b="Muy Bajo";j>=Q?b="Muy Alto":j>=N?b="Medio-Alto":j>=O&&(b="Medio-Bajo");const K=i.map(ve),B=Math.round(q(K)),Y=Math.min(...K),V=Math.max(...K),X=(Y+B)/2,ee=(B+V)/2,Z=ve(e),ie=Z>=B?"T":"NT";let w="Muy Bajo";Z>=ee?w="Muy Alto":Z>=B?w="Medio-Alto":Z>=X&&(w="Muy Bajo");let I=b==="Muy Bajo"&&w==="Medio-Bajo"||b==="Medio-Bajo"&&w==="Muy Alto"||b==="Medio-Alto"&&w==="Medio-Alto"||b==="Muy Alto"&&w==="Muy Bajo";const M=`${J}${ie}`,se=S[M];I=I&&![t,A].includes(M);const te=`${s}${F?P:""}${I?se:""}`,W=`${t}${F?`+${A}`:""}${I?`+${M}`:""}`,x=Ze(W),ne=x.description,oe=x.favoriteZone,E=x.strengths,ae=x.weaknesses,$=W.split("+").length;return{combinedRole:W,inTransition:$>1,isDual:$===2,isTriple:$===3,archetypeEmojis:te,description:ne,favoriteZone:oe,strengths:E,weaknesses:ae}}function fe(e){const i=e.Sig_Strikes_Thrown||0,t=e.Takedowns_Attempted||0,s=e.Sub_Attempts||0,n=e.Control_Time_Seconds||0,a=(e.Fight_Duration_Seconds||1)/60,r=a>0?n/a:0,c=30,l=.25,d=r>c?6:7,h=r/d,g=i+t+s+h,p=a>0?g/a:0,m=he(e),f=G(e);let u=p*.35+m*.35+f*.3;const T=n/(i+n+1);if(T>l*1.5&&r>c*1.2){const k=Math.max(0,r/c-1),_=Math.max(0,T/l-1),F=(k+_)*2.5;u+=F}if(m>60){const k=1+(m-60)/200;u*=k}if(a<6&&f>60){const k=(6-a)/6*(f/100)*10;u+=k}const v=new be(e).getVolumeBonuses();return u=(u+v.additive)*v.primary,Math.round(u*100)/100}function he(e){const i=e.Sig_Strikes_Landed||0,t=e.Sig_Strikes_Thrown||0,s=e.Takedowns_Successful||0,n=e.Takedowns_Attempted||0,a=G(e)>50,r=a?.9:.85,c=a?.1:.15,l=t>0?i/t*100:0,d=n>0?s/n*100:0;let h=0;if(t>0&&n>0)h=l*r+d*c;else if(t>0)h=l;else if(n>0)h=d;else return 50;const g=e.loss_ko||0,p=e.loss_tko||0,m=e.loss_sub||0,f=e.Knockdowns_Received||0,u=e.Number_of_Fights_36m,T=u>0?(g+p+m)/u:0,y=u>0?f/u:0,v=(e.Fight_Duration_Seconds||300)/60,k=e.significant_strikes_attempted_against>0?(e.significant_strikes_attempted_against-e.Sig_Strikes_Absorbed)/e.significant_strikes_attempted_against:.6,F=v>8&&k>.6?.6:1,A=Math.min(T*1*F,.45),P=Math.min(y*.4*F,.15),R=Math.min(A+P,.55),D=new be(e).getStrikingOffenseBonuses();if(h=(h+D.additive)*D.primary,h=h*(1-R),h>55){const C=(h-55)/45*10;h+=C}return Math.min(Math.round(h),100)}function G(e){const i=e.win||0,t=e.loss||0,s=e.draws||0,n=e.win_ko||0,o=e.win_tko||0,a=e.win_sub||0,r=i+t+s;if(r===0)return 0;let c=(n+o+a)/r*100;const l=n+o+a,d=r>0?i/r:0,h=e.Fight_Duration_Seconds>0?e.Fight_Duration_Seconds/60:15;if(h<8&&c>30){const u=Math.min((8-h)*2,8);c+=u}const g=(n>0?1:0)+(o>0?1:0)+(a>0?1:0);if(g>=2&&l>=3){const u=g*2;c+=u}const p=r>0?(n+o)/r*100:0;if(p>40){const u=Math.min((p-40)*.15,6);c+=u}const m=r>0?a/r*100:0,f=r>0?e.Sub_Attempts/r:0;if(m>20||f>1.5){const u=Math.min(m*.1+f,4);c+=u}if(d>.85&&r>=5){const u=Math.min((d-.85)*20,3);c+=u}if(e.reach_inches>72&&e.height_inches>70){const u=Math.min((e.reach_inches-72)*.1,2);c+=u}return Math.min(c,100)}function _e(e){const i=e.Knockdowns||0,t=e.Knockdowns_Received||0,s=e.Number_of_Fights_36m||1,o=(i+t)/s;let a=(1-Math.exp(-o*1.5))*100;const r=e.win||0;e.loss;const c=e.win_ko||0,l=e.win_tko||0,d=t>0?i/t:i+1;if(i>t&&i>0){const u=Math.min(d*4,12);a+=u}const h=c+l;if(h>0&&s>0){const u=h/s,T=Math.min(u*15,10);a+=T}const g=s>0?e.Sig_Strikes_Thrown/s:0;if(g>100&&i>s*.3){const u=Math.min((g-100)*.03,5);a+=u}const p=s>0?e.Sig_Strikes_Absorbed/s:0,m=s>0?r/s:0;if(p>80&&m>.7&&t<s){const u=Math.min((p-80)*.02,3);a+=u}const f=s>0?(c+l+e.win_sub)/s:0;if(f>.4&&i>=s*.2){const u=Math.min(f*8,6);a+=u}return Math.min(Math.ceil(a*100)/100,100)}function Te(e){const t=(e.Fight_Duration_Seconds||0)/60;return Math.round(t*100)/100}function ve(e){const i=e.Control_Time_Seconds||0,t=e.Time_Controlled_Seconds||0,s=e.Number_of_Fights_36m||1,n=(i+t)/s,o=e.Fight_Duration_Seconds||300,a=n/o*100;return Math.min(Math.round(a*100)/100,100)}const q=e=>{const i=[...e].sort((s,n)=>s-n),t=Math.floor(i.length/2);return i.length%2!==0?i[t]:(i[t-1]+i[t])/2};function xe(e){const{win:i,loss:t,Number_of_Fights_36m:s}=e;if(s<3)return!1;const n=s>0?i/s:0,o=G(e)/100,a=(e.Fight_Duration_Seconds||300)/60,r=(t||0)===0&&i>0,c=Ae(e),l=(c.STR_DEF+c.TD_DEF)/2,d=[],h=n>=.75&&o>=.6&&a<=8;d.push(h);const g=r&&i>=5&&(o>=.4||l>=75)&&a<=10;d.push(g);const p=i>0?(e.win_ko+e.win_tko)/i:0,m=(e.Knockdowns_Received||0)>0?(e.Knockdowns||0)/(e.Knockdowns_Received||1):(e.Knockdowns||0)+1,f=n>=.7&&p>=.5&&m>=2&&c.STR_DEF>=70;d.push(f);const u=e.Sig_Strikes_Thrown>0?e.Sig_Strikes_Landed/e.Sig_Strikes_Thrown:0,T=e.Takedowns_Attempted>0?e.Takedowns_Successful/e.Takedowns_Attempted:0,y=n>=.8&&u>=.45&&(T>=.4||e.Takedowns_Attempted<3)&&l>=70&&o>=.35;d.push(y);const v=s>=6,k=e.Sig_Strikes_Absorbed/Math.max(e.Number_of_Fights_36m,1)<60,_=v&&n>=.85&&k&&(o>=.3||l>=80);return d.push(_),d.some(A=>A)}function Le(e){return Math.round(Object.values(e).reduce((i,t)=>i+t,0)/6)}function qe(e){const i=e.win||0,t=e.loss||0,s=e.Number_of_Fights_36m||0,n=(e.win_ko||0)+(e.win_tko||0)+(e.win_sub||0),a=(e.Career_Record||"0-0-0").split("-"),r=parseInt(a[0])||0,c=parseInt(a[1])||0,l=r+c;let d=0;return s>=4&&i>=4&&t===0&&l>=15?d=12:s>=4&&i>=3&&t<=1&&l>=12?d=10:s>=3&&i>=3&&l>=20&&r>=15?d=8:s>=3&&i>=2&&t<=1&&n>=2?d=6:s>=3&&i>=2&&l>=10&&(d=4),d}function Oe(e,i,t){const s=Object.values(e).reduce((a,r)=>a+r,0)/6,n=Object.values(i).reduce((a,r)=>a+r,0)/6;let o=Math.round(s*.6+n*.4);if(t){const a=t.win||0,r=(t.win_ko||0)+(t.win_tko||0)+(t.win_sub||0),l=(a>0?r/a:0)*8;o+=l;const d=qe(t);if(o+=d,t.Number_of_Fights_36m<3)o=Math.min(o,65);else if(t.Number_of_Fights_36m===3){o=Math.min(o,70);const h=t.win||0,g=t.loss||0,p=t.draws||0,m=h+g+p,f=(t.Career_Record||"0-0-0").split("-").reduce((u,T)=>u+parseInt(T)||0,0);if(m>=3&&f>=8){const u=h/m;u>=.9?o+=6:u>=.8?o+=4:u>=.7&&(o+=2)}}else if(t.Number_of_Fights_36m>=4){const h=t.win||0,g=t.loss||0,p=t.draws||0,m=h+g+p;if(m>=4){const f=h/m;f>=.9?o+=12:f>=.8?o+=8:f>=.7?o+=5:f>=.6&&(o+=2)}}}return Math.max(0,Math.min(100,Math.round(o)))}function Ke(e){return Math.round(Object.values(e).reduce((i,t)=>i+t,0)/6)}function ge(e){return e<25?1:e<35?1.5:e<45?2:e<55?2.5:e<65?3:e<75?3.5:e<85?4:e<95?4.5:5}function We(e,i){if(i===0)return ge(e);let t;i<5?t=.7+i*.06:t=Math.min(1.6,1+(i-5)*.12);const s=e*t;return ge(s)}function $e(e){const i=e.trim().split(`
`),t=i[0].split(",").map(n=>n.replace(/"/g,"").trim()),s=[];for(let n=1;n<i.length;n++){const o=ze(i[n]);if(o.length!==t.length){console.warn(`Línea ${n+1} tiene ${o.length} campos, esperados ${t.length}`);continue}const a={};t.forEach((c,l)=>{a[c]=o[l]});const r=Ge(a);r&&s.push(r)}return s}function ze(e){const i=[];let t="",s=!1;for(let n=0;n<e.length;n++){const o=e[n];o==='"'?s=!s:o===","&&!s?(i.push(t.trim()),t=""):t+=o}return i.push(t.trim()),i}function Ge(e){try{const i=e.Division,t=e.Fighter;if(!i||!t)return null;const s=t.replace(/"/g,"");return{id:e.ufcstats_url&&e.ufcstats_url.split("/").pop()||"",Fighter:s,cleanName:Ye(s),Division:i,Career_Record:e.Career_Record||"",Sig_Strikes_Thrown:parseFloat(e.Sig_Strikes_Thrown)||0,Sig_Strikes_Landed:parseFloat(e.Sig_Strikes_Landed)||0,Sig_Strikes_Absorbed:parseFloat(e.Sig_Strikes_Absorbed)||0,Takedowns_Attempted:parseFloat(e.Takedowns_Attempted)||0,Takedowns_Successful:parseFloat(e.Takedowns_Successful)||0,Takedowns_Defended:parseFloat(e.Takedowns_Defended)||0,Sub_Attempts:parseFloat(e.Sub_Attempts)||0,Sub_Attempts_Defended:parseFloat(e.Sub_Attempts_Defended)||0,Knockdowns:parseFloat(e.Knockdowns)||0,Knockdowns_Received:parseFloat(e.Knockdowns_Received)||0,Control_Time_Seconds:parseFloat(e.Control_Time_Seconds)||0,Time_Controlled_Seconds:parseFloat(e.Time_Controlled_Seconds)||0,height_inches:parseFloat(e.height_inches)||0,reach_inches:parseFloat(e.reach_inches)||0,win:parseFloat(e.win)||0,loss:parseFloat(e.loss)||0,draws:parseFloat(e.draws)||0,win_ko:parseFloat(e.win_ko)||0,win_tko:parseFloat(e.win_tko)||0,win_sub:parseFloat(e.win_sub)||0,win_decision:parseFloat(e.win_decision)||0,loss_ko:parseFloat(e.loss_ko)||0,loss_tko:parseFloat(e.loss_tko)||0,loss_sub:parseFloat(e.loss_sub)||0,loss_decision:parseFloat(e.loss_decision)||0,Fight_Duration_Seconds:parseFloat(e.Fight_Duration_Seconds)||1,significant_strikes_attempted_against:parseFloat(e.significant_strikes_attempted_against)||0,takedowns_attempted_against:parseFloat(e.takedowns_attempted_against)||0,takedowns_allowed:parseFloat(e.takedowns_allowed)||0,submission_attempts_against:parseFloat(e.submission_attempts_against)||0,Number_of_Fights_36m:parseFloat(e.Number_of_Fights_36m)||0,Dates_36m:e.Dates_36m||"",picture_url:e.picture_url||"",ufcstats_url:e.ufcstats_url||""}}catch(i){return console.error("Error procesando luchador:",e.Fighter||e.Name,i),null}}async function Ue(e){const i=await fetch(e);if(!i.ok)throw new Error(`No se pudo cargar ${e}: ${i.status}`);return await i.text()}class He{constructor(){this.allRawFightersArr=[],this.allRawFightersDataMap=new Map,this.allRawFightersByDivision=new Map,this.processedFightersMap=new Map,this.processedFighters=[],this.knownDivisions=new Set,this.cacheKey="ufc_radar_fighters_cache",this.cacheExpiryHours=24,this.fightersProcessed=!1}saveToLocalStorage(i){try{localStorage.setItem(this.cacheKey,JSON.stringify(i))}catch(t){console.warn("Failed to save data to localStorage:",t)}}loadFromLocalStorage(){try{const i=localStorage.getItem(this.cacheKey);if(!i)return null;const t=JSON.parse(i),n=Date.now()-t.timestamp,o=this.cacheExpiryHours*60*60*1e3;return n>o?(localStorage.removeItem(this.cacheKey),null):t}catch(i){return console.warn("Failed to load data from localStorage:",i),localStorage.removeItem(this.cacheKey),null}}populateFromCache(i){this.allRawFightersArr=i.allRawFightersArr,this.allRawFightersDataMap.clear(),this.allRawFightersArr.forEach(t=>{this.allRawFightersDataMap.set(t.Fighter,t)}),this.allRawFightersByDivision.clear(),Object.entries(i.allRawFightersByDivision).forEach(([t,s])=>{this.allRawFightersByDivision.set(t,s)}),this.knownDivisions.clear(),i.knownDivisions.forEach(t=>{this.knownDivisions.add(t)}),this.processedFighters=[],this.processedFightersMap.clear(),this.allRawFightersByDivision.forEach((t,s)=>{t.forEach(n=>{const o=this.getFighterAppData(n,t);o&&(this.processedFighters.push(o),this.processedFightersMap.set(o.nameWithNickname,o))})}),this.processedFighters.sort((t,s)=>s.stars!==t.stars?s.stars-t.stars:s.overall-t.overall)}async loadFightersFromCSV(){if(this.allRawFightersDataMap.size>0&&this.fightersProcessed)return{allRawFightersArr:this.allRawFightersArr,allRawFightersDataMap:this.allRawFightersDataMap,allRawFightersByDivision:this.allRawFightersByDivision,processedFightersMap:this.processedFightersMap,processedFighters:this.processedFighters};const i=this.loadFromLocalStorage();if(i&&this.fightersProcessed)return console.log("Loading fighters from localStorage cache"),this.populateFromCache(i),{allRawFightersArr:this.allRawFightersArr,allRawFightersDataMap:this.allRawFightersDataMap,allRawFightersByDivision:this.allRawFightersByDivision,processedFightersMap:this.processedFightersMap,processedFighters:this.processedFighters};try{const t=await Ue("data/ALL_DIVISIONS_DATA_WITH_URLS.csv");this.allRawFightersArr=$e(t),this.allRawFightersArr.forEach(a=>{this.allRawFightersDataMap.has(a.Fighter)||this.allRawFightersDataMap.set(a.Fighter,a),this.allRawFightersByDivision.has(a.Division)?this.allRawFightersByDivision.get(a?.Division)?.push(a):this.allRawFightersByDivision.set(a.Division,[a])}),this.allRawFightersByDivision.forEach((a,r)=>{a.forEach(c=>{const l=this.getFighterAppData(c,a);l&&(this.processedFighters.push(l),this.processedFightersMap.set(l.nameWithNickname,l))})}),this.processedFighters.forEach(a=>{const r=Je(a.rawData.Dates_36m);if(r.length>0){const c=[];r.forEach(l=>{const d=this.getFighterById(l.fighterId);d&&l.result&&c.push({opponent:{overall:d.overall},result:l.result,method:void 0,monthsAgo:l.monthsAgo})}),a.oppTierScore=ii(c)}else a.oppTierScore=0}),this.processedFighters.forEach(a=>{a.stars=We(a.overall,a.oppTierScore)}),this.processedFighters.sort((a,r)=>r.stars!==a.stars?r.stars-a.stars:r.overall-a.overall);const s=new Map,n=new Map;this.processedFighters.forEach(a=>{s.set(a.nameWithNickname,a.stars),n.set(a.nameWithNickname,a.overall)}),this.allRawFightersArr.sort((a,r)=>{const c=s.get(a.Fighter)??0,l=s.get(r.Fighter)??0,d=n.get(a.Fighter)??0,h=n.get(r.Fighter)??0;return l!==c?l-c:h-d}),this.allRawFightersByDivision.forEach((a,r)=>{a.sort((c,l)=>{const d=s.get(c.Fighter)??0,h=s.get(l.Fighter)??0,g=n.get(c.Fighter)??0,p=n.get(l.Fighter)??0;return h!==d?h-d:p-g})}),this.knownDivisions.clear(),this.allRawFightersArr.forEach(a=>{const r=a.Division.toLowerCase();this.knownDivisions.add(r),this.knownDivisions.add(r.replace(/ /g,"_")),this.knownDivisions.add(r.replace(/women's\s+/g,"w_")),this.knownDivisions.add(r.replace(/w_/g,"women's "))});const o={timestamp:Date.now(),allRawFightersArr:this.allRawFightersArr,allRawFightersByDivision:Object.fromEntries(this.allRawFightersByDivision),knownDivisions:Array.from(this.knownDivisions)};return this.saveToLocalStorage(o),console.log("Saved fighters data to localStorage cache"),this.fightersProcessed=!0,{allRawFightersArr:this.allRawFightersArr,allRawFightersDataMap:this.allRawFightersDataMap,allRawFightersByDivision:this.allRawFightersByDivision,processedFightersMap:this.processedFightersMap,processedFighters:this.processedFighters}}catch(t){return console.error("Error loading fighters:",t),{allRawFightersArr:this.allRawFightersArr,allRawFightersDataMap:this.allRawFightersDataMap,allRawFightersByDivision:this.allRawFightersByDivision,processedFightersMap:this.processedFightersMap,processedFighters:this.processedFighters}}}calculateSyntheticFighter(i,t){return this.getFighterAppData(i,t)}getFighterAppData(i,t){try{const s=Ae(i),n=Ie(i,t),o=Ce(i,n),a=Oe(s,o,i),r=ge(a);return{id:i.id,name:i.cleanName,nameWithNickname:i.Fighter,division:i.Division,career_record:i.Career_Record||"TBD",pictureUrl:i.picture_url||"",ufcstats_url:i.ufcstats_url||"",fightRadar:s,iqRadar:o,archetype:n,stars:r,performance:Le(s),overall:a,fightIQ:Ke(o),oppTierScore:0,rawData:i}}catch(s){return console.error("Error procesando luchador:",i.Fighter,s),null}}async getDashboardStats(){const i=this.allRawFightersArr,t=i.filter(p=>p.Number_of_Fights_36m>0),s=i.filter(p=>p.Number_of_Fights_36m===0),n={};i.forEach(p=>{const m=p.Division||"Catchweight";n[m]=(n[m]||0)+1});const o=t.length>0?t.reduce((p,m)=>p+m.Number_of_Fights_36m,0)/t.length:0,a=i.filter(p=>p.Number_of_Fights_36m>0).sort((p,m)=>m.Number_of_Fights_36m-p.Number_of_Fights_36m).slice(0,10),c=i.filter(p=>!p.picture_url||p.picture_url.trim()==="").length,l=i.length>0?Math.round(c/i.length*100*10)/10:0,d=await this.getArchetypeBreakdown(this.processedFighters),h=await this.getTopRatedFighters(this.processedFighters),g=await this.getTop100Fighters(this.processedFighters);return{totalFighters:i.length,activeFighters:t.length,inactiveFighters:s.length,divisionBreakdown:n,avgFightsLast36m:Math.round(o*10)/10,recentActivity:a,missingPictureCount:c,missingPictureRatio:l,archetypeBreakdown:d,topRatedFighters:h,top100Fighters:g}}async searchFighters(i,t=20){const s=this.allRawFightersArr,n=i.toLowerCase(),o=n.replace(/ /g,"_"),a=n.replace(/women's\s+/g,"w_"),r=n.replace(/w_/g,"women's "),c=this.knownDivisions.has(n)||this.knownDivisions.has(o)||this.knownDivisions.has(a)||this.knownDivisions.has(r),l=s.filter(d=>{const h=d.Fighter.toLowerCase(),g=d.Division.toLowerCase();return c?g===n||g===o||g===a||g===r:Fe(h).includes(Fe(n))||g.includes(n)||g.includes(o)||g.includes(a)||g.includes(r)});return c?l:l.slice(0,t)}async getArchetypeBreakdown(i){const t={single:0,dual:0,triple:0,total:0};return i.forEach(({archetype:s})=>{s.isTriple?t.triple++:s.isDual?t.dual++:t.single++,t.total++}),{single:t.single,dual:t.dual,triple:t.triple,total:t.total}}async getTopRatedFighters(i){const t=[],s=i.reduce((n,o)=>{const a=o.division;return n[a]||(n[a]=[]),n[a].push(o),n},{});for(const[n,o]of Object.entries(s)){let a=null;for(const r of o)try{const c={name:r.name,nameWithNickname:r.nameWithNickname,division:n,stars:r.stars,overall:r.overall,record:r.career_record,archetypeDisplay:z(r.archetype),activity:r.rawData.Number_of_Fights_36m||0};(!a||c.stars>a.stars||c.stars===a.stars&&c.overall>a.overall||c.stars===a.stars&&c.overall===a.overall&&c.activity>a.activity)&&(a=c)}catch(c){console.warn(`Error processing fighter ranking for ${r.name}:`,c)}a&&t.push(a)}return t.sort((n,o)=>o.stars!==n.stars?o.stars-n.stars:o.overall!==n.overall?o.overall-n.overall:o.activity-n.activity)}async getTop100Fighters(i){const t=[];for(const s of i)try{t.push({name:s.name,nameWithNickname:s.nameWithNickname,division:s.division,stars:s.stars,overall:s.overall,record:s.career_record,archetypeDisplay:z(s.archetype),activity:s.rawData.Number_of_Fights_36m||0})}catch(n){console.warn(`Error processing fighter ranking for ${s.name}:`,n)}return t.sort((s,n)=>n.stars!==s.stars?n.stars-s.stars:n.overall!==s.overall?n.overall-s.overall:n.activity-s.activity).slice(0,100)}async getFightersByArchetypeType(i="all"){const t=[];for(const s of this.processedFighters)try{const n=z(s.archetype);(i==="all"||i==="single"&&!s.archetype.inTransition||i==="dual"&&s.archetype.isDual||i==="triple"&&s.archetype.isTriple)&&t.push({name:s.name,nameWithNickname:s.nameWithNickname,division:s.division,stars:s.stars,overall:s.overall,record:s.career_record,archetypeDisplay:n,activity:s.rawData.Number_of_Fights_36m||0})}catch(n){console.warn(`Error processing fighter for archetype filter ${s.name}:`,n)}return t.sort((s,n)=>n.stars!==s.stars?n.stars-s.stars:n.overall!==s.overall?n.overall-s.overall:n.activity-s.activity)}async getFightersByExactArchetype(i="all"){const t=[];for(const s of this.processedFighters)try{const n=z(s.archetype);(i==="all"||s.archetype.combinedRole===i)&&t.push({name:s.name,nameWithNickname:s.nameWithNickname,division:s.division,stars:s.stars,overall:s.overall,record:s.career_record,archetypeDisplay:n,activity:s.rawData.Number_of_Fights_36m||0})}catch(n){console.warn(`Error processing fighter for exact archetype filter ${s.name}:`,n)}return t.sort((s,n)=>n.stars!==s.stars?n.stars-s.stars:n.overall!==s.overall?n.overall-s.overall:n.activity-s.activity)}async getAvailableArchetypes(){const i=new Set,t=[];t.push({value:"all",label:"All Fighters",iconComponent:Be},{value:"single",label:"Single Role",iconComponent:Ee},{value:"dual",label:"Dual Role",iconComponent:Pe},{value:"triple",label:"Triple Role",iconComponent:De});for(const n of this.processedFighters)i.add(n.archetype.combinedRole);const s=Array.from(i).sort();for(const n of s){const o=this.processedFighters.find(a=>a.archetype.combinedRole===n);if(o){const a=z(o.archetype);t.push({value:n,label:`${a.label} ${n} (${a.name})`})}}return t}async getFightersByFilter(i){return["all","single","dual","triple"].includes(i)?this.getFightersByArchetypeType(i):this.getFightersByExactArchetype(i)}getRawFighterDataById(i){return this.allRawFightersArr.find(s=>s.id===i)||null}getFighterById(i){return this.processedFighters.find(s=>s.id===i)||null}}const ye=new He,S={AT:"🔴",ANT:"🟡",PT:"🔵",PNT:"🟢"},ke={AT:"El Estratega",ANT:"El Depredador",PT:"El Francotirador",PNT:"El Escudo"},Qe={"ANT+AT":"El Vendaval","AT+ANT":"El Huracán","AT+PNT":"El Guardián","AT+PT":"El Cirujano","PNT+AT":"El Bastión Técnico","PT+AT":"El Maestro del Pulso","ANT+PNT":"La Bestia","ANT+PT":"El Castigador","PNT+ANT":"El Feral","PT+ANT":"El Demoledor Silencioso","PNT+PT":"El Ancla","PT+PNT":"La Muralla","ANT+AT+PNT":"El Coloso del Centro","ANT+AT+PT":"El Estratega Salvaje","ANT+PNT+AT":"","ANT+PT+AT":"El Incursor","AT+ANT+PNT":"El Inquebrantable","AT+ANT+PT":"El Arquitecto del Caos","AT+PNT+ANT":"El León Técnico","AT+PNT+PT":"El Guerrero del Muro","AT+PT+ANT":"El Alquimista del Ritmo","AT+PT+PNT":"El Sabio de Hierro","PNT+ANT+AT":"El Fénix del Caos","PNT+AT+ANT":"El Legionario","PNT+AT+PT":"El Centinela de Acero","PNT+PT+AT":"El Bastión del Ritmo","PT+ANT+AT":"El Constructor del Combate","PT+AT+ANT":"El Estrangulador Táctico","PT+AT+PNT":"El Táctico Blindado","PT+PNT+AT":"El Monje de la Jaula","ANT+PNT+PT":"El Ciclón Imparable","ANT+PT+PNT":"El Gladiador Salvaje","PNT+ANT+PT":"El Martillo de Hierro","PNT+PT+ANT":"El Coloso Salvaje","PT+ANT+PNT":"El Bárbaro del Octágono","PT+PNT+ANT":"El Titán Silencioso"};function z(e){if(!e)return{type:"loading",label:"⭕",name:"Analizando...",tooltip:"Calculando arquetipo..."};const i=[],t=e.combinedRole.split("+"),[s,n,o]=t;[s,n,o].filter(r=>!!r).forEach(r=>{const c=ke[r],l=S[r];i.push(`${l} ${c}`)}),e.inTransition&&i.push("En transición");const a=i.join(`
`);return{type:e.isTriple?"triple":e.isDual?"dual":"single",label:`${S[s]}${n?S[n]:""}${o?S[o]:""}`,name:e.inTransition?Qe[e.combinedRole]:ke[s],tooltip:a}}function oi(e,i){if(i.length===0)throw new Error(`No fighters data provided for division: ${e}`);const t=i.length,s=i.reduce((n,o)=>(n.Sig_Strikes_Thrown+=o.Sig_Strikes_Thrown,n.Sig_Strikes_Landed+=o.Sig_Strikes_Landed,n.Sig_Strikes_Absorbed+=o.Sig_Strikes_Absorbed,n.Takedowns_Attempted+=o.Takedowns_Attempted,n.Takedowns_Successful+=o.Takedowns_Successful,n.Takedowns_Defended+=o.Takedowns_Defended,n.Sub_Attempts+=o.Sub_Attempts,n.Sub_Attempts_Defended+=o.Sub_Attempts_Defended,n.Knockdowns+=o.Knockdowns,n.Knockdowns_Received+=o.Knockdowns_Received,n.Control_Time_Seconds+=o.Control_Time_Seconds,n.Time_Controlled_Seconds+=o.Time_Controlled_Seconds,n.height_inches+=o.height_inches,n.reach_inches+=o.reach_inches,n.win+=o.win,n.loss+=o.loss,n.draws+=o.draws,n.win_ko+=o.win_ko,n.win_tko+=o.win_tko,n.win_sub+=o.win_sub,n.win_decision+=o.win_decision,n.loss_ko+=o.loss_ko,n.loss_tko+=o.loss_tko,n.loss_sub+=o.loss_sub,n.loss_decision+=o.loss_decision,n.Fight_Duration_Seconds+=o.Fight_Duration_Seconds,n.significant_strikes_attempted_against+=o.significant_strikes_attempted_against,n.takedowns_attempted_against+=o.takedowns_attempted_against,n.takedowns_allowed+=o.takedowns_allowed,n.submission_attempts_against+=o.submission_attempts_against,n.Number_of_Fights_36m+=o.Number_of_Fights_36m,n),{Sig_Strikes_Thrown:0,Sig_Strikes_Landed:0,Sig_Strikes_Absorbed:0,Takedowns_Attempted:0,Takedowns_Successful:0,Takedowns_Defended:0,Sub_Attempts:0,Sub_Attempts_Defended:0,Knockdowns:0,Knockdowns_Received:0,Control_Time_Seconds:0,Time_Controlled_Seconds:0,height_inches:0,reach_inches:0,win:0,loss:0,draws:0,win_ko:0,win_tko:0,win_sub:0,win_decision:0,loss_ko:0,loss_tko:0,loss_sub:0,loss_decision:0,Fight_Duration_Seconds:0,significant_strikes_attempted_against:0,takedowns_attempted_against:0,takedowns_allowed:0,submission_attempts_against:0,Number_of_Fights_36m:0});return{id:"",Fighter:`${e} Average`,cleanName:`${e} Average`,Division:e,Career_Record:"",Sig_Strikes_Thrown:s.Sig_Strikes_Thrown/t,Sig_Strikes_Landed:s.Sig_Strikes_Landed/t,Sig_Strikes_Absorbed:s.Sig_Strikes_Absorbed/t,Takedowns_Attempted:s.Takedowns_Attempted/t,Takedowns_Successful:s.Takedowns_Successful/t,Takedowns_Defended:s.Takedowns_Defended/t,Sub_Attempts:s.Sub_Attempts/t,Sub_Attempts_Defended:s.Sub_Attempts_Defended/t,Knockdowns:s.Knockdowns/t,Knockdowns_Received:s.Knockdowns_Received/t,Control_Time_Seconds:s.Control_Time_Seconds/t,Time_Controlled_Seconds:s.Time_Controlled_Seconds/t,height_inches:s.height_inches/t,reach_inches:s.reach_inches/t,win:s.win/t,loss:s.loss/t,draws:s.draws/t,win_ko:s.win_ko/t,win_tko:s.win_tko/t,win_sub:s.win_sub/t,win_decision:s.win_decision/t,loss_ko:s.loss_ko/t,loss_tko:s.loss_tko/t,loss_sub:s.loss_sub/t,loss_decision:s.loss_decision/t,Fight_Duration_Seconds:s.Fight_Duration_Seconds/t,significant_strikes_attempted_against:s.significant_strikes_attempted_against/t,takedowns_attempted_against:s.takedowns_attempted_against/t,takedowns_allowed:s.takedowns_allowed/t,submission_attempts_against:s.submission_attempts_against/t,Number_of_Fights_36m:s.Number_of_Fights_36m/t,Dates_36m:"",picture_url:"",ufcstats_url:""}}function Fe(e){return!e||typeof e!="string"?"":e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g,"").trim()}function ai(e){return!e||typeof e!="string"?"":e.replace(/W_/g,"Women's ").replace(/_/g," ")}function Je(e){if(!e||e==="N/A")return[];const i=e.split(",").map(s=>s.trim()).filter(s=>s),t=new Date;return i.map(s=>{let n,o,a,r="";if(s.includes(":")){const m=s.split(":"),f=m[0];r=m[1]||"";let u="";if(m.length>=3&&(u=m[2]),f.includes("-")){const[T,y,v]=f.split("-");n=y,o=v,a=new Date(parseInt(v),parseInt(y)-1,parseInt(T))}else[n,o]=f.split("/"),a=new Date(2e3+parseInt(o),parseInt(n)-1);u&&(r+=`|${u}`)}else[n,o]=s.split("/"),a=new Date(2e3+parseInt(o),parseInt(n)-1);let c="",l=r;if(r.includes("|")){const m=r.split("|");l=m[0],c=m[1]}if(!n||!o)return{original:s,monthsAgo:0,fighterId:l,fighter:ye.getFighterById(l),dateString:s,result:c||void 0};const d=t.getTime()-a.getTime(),h=Math.floor(d/(1e3*60*60*24*30.44)),g=String(n).padStart(2,"0"),p=o.length===4?o.slice(2):o;return{original:`${g}/${p}`,monthsAgo:Math.max(0,h),fighterId:l,fighter:ye.getFighterById(l),dateString:`${g}/${p}`,result:c||void 0}}).sort((s,n)=>s.monthsAgo-n.monthsAgo)}function Ye(e){return!e||typeof e!="string"?"":e.replace(/\s*\([^)]*\)\s*/g,"").trim()}function Ve(e){return e>=85?"ELITE":e>=75?"CONTENDER":e>=65?"SOLID":e>=50?"MEDIOCRE":"TERRIBLE"}const Xe={ELITE:{W:10,L:7,D:8,NC:0},CONTENDER:{W:8,L:5,D:6,NC:0},SOLID:{W:6,L:3,D:4,NC:0},MEDIOCRE:{W:4,L:1,D:2,NC:0},TERRIBLE:{W:2,L:0,D:1,NC:0}};function ei(e,i){if(e!=="W"||!i)return 1;switch(i.toUpperCase()){case"KO":case"TKO":case"KO/TKO":return 1.3;case"SUB":case"SUBMISSION":return 1.2;case"DEC":case"DECISION":return 1;default:return 1}}function ii(e){if(!e||e.length===0)return 0;let i=0,t=0;if(e.forEach(o=>{if(!o.opponent||typeof o.opponent.overall!="number")return;const a=Ve(o.opponent.overall),r=Xe[a]?.[o.result]??0,c=ei(o.result,o.method),l=r*c;i+=l,t++}),t===0)return 0;const s=i/t,n=Math.max(0,Math.min(10,s));return Math.round(n*100)/100}export{ye as a,oi as b,ai as c,ti as d,Fe as e,Ue as f,z as g,Je as h,ni as i,ze as p};
