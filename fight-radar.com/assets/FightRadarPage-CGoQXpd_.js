import{g as yi,p as Ye,l as X,h as u,m as y,j as B,o as e,k as Ti,n as wi,f as P,H as Ne,$ as Wi,i as te,c as s,q as c,Z as $i,t as q,E as ye,s as He,b as m,r as Di,u as xi,x as $e,z as n,B as f,A as fi,_ as Mt,v as oi,K as ii,L as si,V as Ii,a0 as St,a1 as bi,y as pi,a2 as Ct,a as Kt,a3 as Pt,a4 as Lt,a5 as et,a6 as it,T as Ki,G as Ot,C as tt,U as Ai,w as Nt,N as ki,a7 as Vi}from"./lucide-BZTUuGOE.js";import{H as Bt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Et,U as Wt}from"./UpcomingFights-DEfZy-f5.js";import{$ as Mi,A as gi,n as at,a as $t,v as It,g as vi,b as At,u as _i,c as Vt}from"./index-D4vXW_ta.js";import{c as Si,g as Hi,f as mi,a as Ht,b as qi,p as Gi,d as Ui,e as ji}from"./fighters_service-ptCZH-GL.js";import{R as qt,a as zi}from"./RadarChart-TSlFilAt.js";import{f as Yi,a as Qi,F as Gt}from"./unit_conversion-0vvkMi-G.js";import"./highcharts-DyRVWUji.js";var Ut=P('<img class="svelte-gkl5a1"/>'),jt=P('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),zt=P("<!> <span> </span>",1),Yt=P("<span> </span>"),Qt=P('<img class="svelte-gkl5a1"/>'),Xt=P('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Zt=P('<button type="button"><!> <span> </span></button>'),Jt=P('<div class="no-results svelte-gkl5a1"> </div>'),ea=P('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ia=P('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Xi(G,i){yi(i,!1);const[a,g]=xi(),d=()=>fi(Mi,"$_",a),t=y(),l=y();let r=Ye(i,"id",8),b=Ye(i,"placeholder",8,""),h=Ye(i,"disabled",8,!0),k=Ye(i,"options",24,()=>[]),I=Ye(i,"selectedValue",12,""),j=Ye(i,"onSelectionChange",8,void 0),T=Ye(i,"onOpenStateChange",8,void 0),Y=Ye(i,"shouldOpen",8,!1),H=y(!1),F=y(),Z=y(),U=y(""),re=y(!1);function L(){h()||(u(H,!e(H)),e(H)&&setTimeout(()=>e(Z)?.focus(),0))}function _(A){I(A.value),u(U,""),u(H,!1),j()&&j()(A.value,A)}function V(A){const ne=A.target;u(U,ne.value)}function O(A){A.key==="Enter"&&e(l).length>0?(_(e(l)[0]),A.preventDefault()):A.key==="Escape"&&(u(U,""),u(H,!1))}function ae(A){e(F)&&!e(F).contains(A.target)&&(u(H,!1),u(U,""))}function J(A){A.key==="Escape"&&u(H,!1)}X(()=>(B(k()),B(I())),()=>{u(t,k().find(A=>A.value===I()))}),X(()=>(B(Y()),e(re),B(h()),e(Z)),()=>{Y()&&!e(re)&&!h()?(u(re,!0),u(H,!0),setTimeout(()=>e(Z)?.focus(),0)):Y()||u(re,!1)}),X(()=>(B(T()),e(H)),()=>{T()&&T()(e(H))}),X(()=>(e(U),B(k()),Si),()=>{u(l,e(U)?k().filter(A=>Si(A.label.toLowerCase()).includes(Si(e(U).toLowerCase()))):k())}),Ti(),wi();var E=ia();Ne("click",Wi,ae),Ne("keydown",Wi,J);var C=s(E);let $;var se=s(C),Q=s(se);{var Ke=A=>{var ne=zt(),Fe=$e(ne);{var Pe=oe=>{var ue=Ut();q(()=>{ye(ue,"src",(e(t),n(()=>e(t).imageUrl))),ye(ue,"alt",(e(t),n(()=>e(t).label)))}),m(oe,ue)},qe=oe=>{var ue=oi(),Ge=$e(ue);{var Ae=We=>{var Te=jt(),Se=s(Te);Ii(Se,()=>e(t).iconComponent,(he,ee)=>{ee(he,{size:16})}),m(We,Te)};te(Ge,We=>{e(t),n(()=>e(t)?.iconComponent)&&We(Ae)},!0)}m(oe,ue)};te(Fe,oe=>{e(t),n(()=>e(t)?.imageUrl)?oe(Pe):oe(qe,!1)})}var Ie=c(Fe,2),Ee=s(Ie);q(()=>f(Ee,(e(t),n(()=>e(t).label)))),m(A,ne)},Ue=A=>{var ne=Yt(),Fe=s(ne);q(Pe=>f(Fe,Pe),[()=>(B(b()),d(),n(()=>b()||d()("common.select_option")))]),m(A,ne)};te(Q,A=>{e(t)?A(Ke):A(Ue,!1)})}var x=c(se,2);let ve;var Me=c(C,2);{var Be=A=>{var ne=ea(),Fe=s(ne),Pe=s(Fe);$i(Pe,Te=>u(Z,Te),()=>e(Z));var qe=c(Fe,2),Ie=s(qe);let Ee;var oe=s(Ie),ue=s(oe),Ge=c(Ie,2);{var Ae=Te=>{var Se=oi(),he=$e(Se);ii(he,1,()=>e(l),si,(ee,ge)=>{var Ve=Zt();let je;var Xe=s(Ve);{var ze=S=>{var de=Qt();q(()=>{ye(de,"src",(e(ge),n(()=>e(ge).imageUrl))),ye(de,"alt",(e(ge),n(()=>e(ge).label)))}),Ne("error",de,Le=>{Le.currentTarget.style.display="none"}),m(S,de)},ni=S=>{var de=oi(),Le=$e(de);{var Je=ei=>{var li=Xt(),hi=s(li);Ii(hi,()=>e(ge).iconComponent,(v,p)=>{p(v,{size:16})}),m(ei,li)};te(Le,ei=>{e(ge),n(()=>e(ge)?.iconComponent)&&ei(Je)},!0)}m(S,de)};te(Xe,S=>{e(ge),n(()=>e(ge)?.imageUrl)?S(ze):S(ni,!1)})}var Ze=c(Xe,2),ri=s(Ze);q(S=>{je=He(Ve,1,"dropdown-item svelte-gkl5a1",null,je,S),f(ri,(e(ge),n(()=>e(ge).label)))},[()=>({selected:I()===e(ge).value})]),Ne("click",Ve,()=>_(e(ge))),m(ee,Ve)}),m(Te,Se)},We=Te=>{var Se=oi(),he=$e(Se);{var ee=ge=>{var Ve=Jt(),je=s(Ve);q(()=>f(je,`No se encontraron resultados para "${e(U)??""}"`)),m(ge,Ve)};te(he,ge=>{e(U)&&ge(ee)},!0)}m(Te,Se)};te(Ge,Te=>{e(l),n(()=>e(l).length>0)?Te(Ae):Te(We,!1)})}q((Te,Se,he)=>{ye(Pe,"placeholder",Te),ye(qe,"id",`dropdown-options-${r()??""}`),Ee=He(Ie,1,"dropdown-item svelte-gkl5a1",null,Ee,Se),f(ue,he)},[()=>(d(),n(()=>d()("common.search")||"Search...")),()=>({selected:I()===""}),()=>(B(b()),d(),n(()=>b()||d()("common.select_option")))]),Mt(Pe,()=>e(U),Te=>u(U,Te)),Ne("input",Pe,V),Ne("keydown",Pe,O),Ne("click",Ie,()=>_({value:"",label:b(),imageUrl:""})),m(A,ne)};te(Me,A=>{e(H)&&A(Be)})}$i(E,A=>u(F,A),()=>e(F)),q((A,ne)=>{ye(E,"id",r()),$=He(C,1,"dropdown-button svelte-gkl5a1",null,$,A),C.disabled=h(),ye(C,"aria-expanded",e(H)),ye(C,"aria-controls",`dropdown-options-${r()??""}`),ve=He(x,1,"dropdown-arrow svelte-gkl5a1",null,ve,ne)},[()=>({disabled:h(),open:e(H)}),()=>({rotated:e(H)})]),Ne("click",C,L),m(G,E),Di(),g()}function Ci(G,i){if(i()){gi.trackFighterCardCTA(i().nameWithNickname,"view_profile");const a=`/data-center/fighter-details?fighter=${encodeURIComponent(i().nameWithNickname)}`;at(a)}}function ta(G,i){u(i,!e(i))}var aa=P('<img class="fighter-image svelte-1cmiluv"/> <div class="fighter-placeholder svelte-1cmiluv" style="display: none;">Picture Unavailable</div>',1),sa=P('<div class="fighter-placeholder svelte-1cmiluv">Picture Unavailable</div>'),na=P('<span class="division-ranking champion svelte-1cmiluv" title="Champion"><!></span>'),oa=P('<span class="division-ranking ranked svelte-1cmiluv"> </span>'),ra=(G,i)=>G.key==="Enter"&&i(),la=P('<div class="stat-item role-disc-clickable svelte-1cmiluv" role="button" tabindex="0"><span class="stat-label svelte-1cmiluv">ROLE-DISC:</span> <span><div class="role-emojis svelte-1cmiluv"> </div> <div class="role-name svelte-1cmiluv"> </div></span></div>'),ha=P('<div class="archetype-fields svelte-1cmiluv"><div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value description svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value favorite-zone svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value strengths svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value weaknesses svelte-1cmiluv"> </div></div></div>'),da=P('<hr class="archetype-divider svelte-1cmiluv"/> <div class="archetype-container svelte-1cmiluv"><div class="archetype-section svelte-1cmiluv"><button type="button" class="archetype-section-title svelte-1cmiluv"><span><!></span> </button> <!></div></div>',1),ca=P('<div class="fighter-header svelte-1cmiluv"><div class="header-actions svelte-1cmiluv"><!> <button type="button" class="fighter-detail-cta svelte-1cmiluv" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1cmiluv"><div class="fighter-image-container svelte-1cmiluv"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1cmiluv"><div class="fighter-name svelte-1cmiluv"> </div></button> <div class="fighter-division-container svelte-1cmiluv"><span class="fighter-division svelte-1cmiluv"> </span> <!></div> <div class="star-rating svelte-1cmiluv"><div class="stars-container svelte-1cmiluv"></div></div> <div class="fighter-stats svelte-1cmiluv"><!> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value career-record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span><!></span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value height svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value reach svelte-1cmiluv"> </span></div></div> <!>',1),va=P('<div class="empty-card svelte-1cmiluv"><div class="empty-message svelte-1cmiluv"> </div></div>'),ua=P('<div class="fighter-card svelte-1cmiluv"><!></div> <!>',1);function Zi(G,i){yi(i,!1);const[a,g]=xi(),d=()=>fi(Mi,"$_",a),t=y(),l=y(),r=y(),b=y();let h=Ye(i,"fighter",8,null),k=Ye(i,"id",8,""),I=y(!1),j=y(!1);function T(){u(I,!0)}function Y(){u(I,!1)}X(()=>d(),()=>{u(t,_=>{if(!_||!_.startsWith("@ARCHETYPE_"))return _;let V="",O="";if(_.includes("_DESCRIPTION"))V=_.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),O="description";else if(_.includes("_FAVORITE_ZONE"))V=_.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),O="favorite_zone";else if(_.includes("_STRENGTHS"))V=_.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),O="strengths";else if(_.includes("_WEAKNESSES"))V=_.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),O="weaknesses";else{const E=_.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!E)return _;V=E[1],O=E[2].toLowerCase()}const ae=`archetype_data.${V}.${O}`,J=d()(ae);return _.includes("_WEAKNESSES"),J!==ae?J:_})}),X(()=>(B(h()),Hi),()=>{u(l,h()?Hi(h().archetype):null)}),X(()=>(B(h()),Yi),()=>{u(r,h()?.rawData.height_inches?Yi(h().rawData.height_inches):"-")}),X(()=>(B(h()),Qi),()=>{u(b,h()?.rawData.reach_inches?Qi(h().rawData.reach_inches):"-")}),Ti(),wi();var H=ua(),F=$e(H),Z=s(F);{var U=_=>{var V=ca(),O=$e(V),ae=s(O),J=s(ae);Gt(J,{get fighterFullName(){return B(h()),n(()=>h().name)},size:"large"});var E=c(J,2);E.__click=[Ci,h];var C=s(E);St(C,{size:16});var $=c(ae,2);$.__click=[Ci,h];var se=s($),Q=s(se);{var Ke=w=>{var o=aa(),D=$e(o);q(()=>{ye(D,"src",(B(h()),n(()=>h().pictureUrl))),ye(D,"alt",`${B(h()),n(()=>h().name)??""} fighter profile picture`)}),Ne("error",D,N=>{N.currentTarget.style.display="none";const z=N.currentTarget.nextElementSibling;z&&(z.style.display="block")}),m(w,o)},Ue=w=>{var o=sa();m(w,o)};te(Q,w=>{B(h()),n(()=>h().pictureUrl)?w(Ke):w(Ue,!1)})}var x=c(O,2);x.__click=[Ci,h];var ve=s(x),Me=s(ve),Be=c(x,2),A=s(Be),ne=s(A),Fe=c(A,2);{var Pe=w=>{var o=oi(),D=$e(o);{var N=K=>{var M=na(),W=s(M);Pt(W,{size:16}),m(K,M)},z=K=>{var M=oa(),W=s(M);q(()=>{ye(M,"title",`Division Ranking #${B(h()),n(()=>h().rawData.division_ranking)??""}`),f(W,`#${B(h()),n(()=>h().rawData.division_ranking)??""}`)}),m(K,M)};te(D,K=>{B(h()),n(()=>h().rawData.division_ranking==="0")?K(N):K(z,!1)})}m(w,o)};te(Fe,w=>{B(h()),n(()=>h().rawData.division_ranking!==void 0&&h().rawData.division_ranking!=="")&&w(Pe)})}var qe=c(Be,2),Ie=s(qe),Ee=c(qe,2),oe=s(Ee);{var ue=w=>{var o=la();o.__click=T,o.__keydown=[ra,T];var D=s(o),N=c(D,2),z=s(N),K=s(z),M=c(z,2),W=s(M);q((le,me)=>{ye(o,"aria-label",le),ye(D,"title",me),He(N,1,`stat-value role-indicator archetype-dots archetype-${e(l),n(()=>e(l).type)??""}`,"svelte-1cmiluv"),ye(N,"title",(e(l),n(()=>e(l).tooltip))),f(K,(e(l),n(()=>e(l).label))),f(W,(e(l),n(()=>e(l).name)))},[()=>(d(),n(()=>d()("role_disc_modal.open_modal_aria_label"))),()=>(d(),n(()=>d()("role_disc_modal.archetype_tooltip")))]),m(w,o)};te(oe,w=>{e(l)&&w(ue)})}var Ge=c(oe,2),Ae=s(Ge),We=s(Ae),Te=c(Ae,2),Se=s(Te),he=c(Ge,2),ee=s(he),ge=s(ee),Ve=c(ee,2),je=s(Ve),Xe=c(he,2),ze=s(Xe),ni=s(ze),Ze=c(ze,2);let ri;var S=s(Ze);{var de=w=>{var o=pi();q(()=>f(o,`+${B(h()),n(()=>h().streak)??""}W`)),m(w,o)},Le=w=>{var o=oi(),D=$e(o);{var N=K=>{var M=pi();q(()=>f(M,`${B(h()),n(()=>h().streak)??""}L`)),m(K,M)},z=K=>{var M=pi("-");m(K,M)};te(D,K=>{B(h()),n(()=>h().streak<0)?K(N):K(z,!1)},!0)}m(w,o)};te(S,w=>{B(h()),n(()=>h().streak>0)?w(de):w(Le,!1)})}var Je=c(Xe,2),ei=s(Je),li=s(ei),hi=c(ei,2),v=s(hi),p=c(Je,2),R=s(p),ie=s(R),we=c(R,2),ke=s(we),Oe=c(Ee,2);{var Ce=w=>{var o=da(),D=c($e(o),2),N=s(D),z=s(N);z.__click=[ta,j];var K=s(z);let M;var W=s(K);Ct(W,{size:20});var le=c(K),me=c(z,2);{var Re=fe=>{var _e=ha(),ce=s(_e),xe=s(ce),De=s(xe),pe=s(De);Lt(pe,{size:18});var Qe=c(De,2),ti=s(Qe),ai=c(xe,2),di=s(ai),ui=c(ce,2),Ri=s(ui),Pi=s(Ri),st=s(Pi);et(st,{size:18});var nt=c(Pi,2),ot=s(nt),rt=c(Ri,2),lt=s(rt),Li=c(ui,2),Oi=s(Li),Ni=s(Oi),ht=s(Ni);it(ht,{size:18});var dt=c(Ni,2),ct=s(dt),vt=c(Oi,2),ut=s(vt),gt=c(Li,2),Bi=s(gt),Ei=s(Bi),ft=s(Ei);Ki(ft,{size:18});var _t=c(Ei,2),pt=s(_t),mt=c(Bi,2),bt=s(mt);q((yt,Tt,wt,Dt,Rt,kt,Ft,xt)=>{f(ti,yt),f(di,Tt),f(ot,wt),f(lt,Dt),f(ct,Rt),f(ut,kt),f(pt,Ft),f(bt,xt)},[()=>(d(),n(()=>d()("archetype.tactical_description"))),()=>(e(t),B(h()),n(()=>e(t)(h().archetype.description))),()=>(d(),n(()=>d()("archetype.preferred_zone"))),()=>(e(t),B(h()),n(()=>e(t)(h().archetype.favoriteZone))),()=>(d(),n(()=>d()("archetype.strengths"))),()=>(e(t),B(h()),n(()=>e(t)(h().archetype.strengths))),()=>(d(),n(()=>d()("archetype.weaknesses"))),()=>(e(t),B(h()),n(()=>e(t)(h().archetype.weaknesses)))]),m(fe,_e)};te(me,fe=>{e(j)&&fe(Re)})}q((fe,_e)=>{ye(z,"aria-expanded",e(j)),M=He(K,1,"archetype-caret svelte-1cmiluv",null,M,fe),f(le,` ${_e??""}`)},[()=>({expanded:e(j)}),()=>(d(),n(()=>d()("archetype.analysis_title")))]),m(w,o)};te(Oe,w=>{B(h()),n(()=>h().archetype)&&w(Ce)})}q((w,o,D,N,z,K,M,W,le,me,Re,fe)=>{ye(E,"aria-label",`View detailed fighter profile for ${B(h()),n(()=>h().nameWithNickname)??""}`),f(Me,(B(h()),n(()=>h().name))),f(ne,w),bi(Ie,`--fill-width: ${B(h()),n(()=>h().stars*20)??""}%`),ye(Ae,"title",o),f(We,`${D??""}:`),f(Se,(B(h()),n(()=>h().career_record))),ye(ee,"title",N),f(ge,`${z??""}:`),f(je,(B(h()),n(()=>h().record_36m))),ye(ze,"title",K),f(ni,`${M??""}:`),ri=He(Ze,1,"stat-value streak svelte-1cmiluv",null,ri,W),ye(ei,"title",le),f(li,`${me??""}:`),f(v,e(r)),ye(R,"title",Re),f(ie,`${fe??""}:`),f(ke,e(b))},[()=>(B(mi),B(h()),n(()=>mi(h().division||""))),()=>(d(),n(()=>d()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(d(),n(()=>d()("fighter_profile.career_record"))),()=>(d(),n(()=>d()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(d(),n(()=>d()("fighter_profile.record_36m"))),()=>(d(),n(()=>d()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(d(),n(()=>d()("fighter_profile.streak"))),()=>({"streak-win":h().streak>0,"streak-loss":h().streak<0}),()=>(d(),n(()=>d()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(d(),n(()=>d()("fighter_profile.height"))),()=>(d(),n(()=>d()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(d(),n(()=>d()("fighter_profile.reach")))]),m(_,V)},re=_=>{var V=va(),O=s(V),ae=s(O);q(J=>f(ae,J),[()=>(d(),n(()=>d()("fight_radar.select_fighter_stats")))]),m(_,V)};te(Z,_=>{h()?_(U):_(re,!1)})}var L=c(F,2);qt(L,{get isOpen(){return e(I)},$$events:{close:Y}}),q(()=>ye(F,"id",k())),m(G,H),Di(),g()}Kt(["click","keydown"]);function ga(G){const i=G.filter(r=>(r.type===be.VICTORY_METHOD||r.type===be.WINNER_AND_METHOD)&&(r.prediction.toLowerCase().includes("decision")||r.predictionKey?.toLowerCase().includes("decision")));if(i.length===0)return G;const a=G.filter(r=>{if(r.type!==be.DURATION)return!1;const b=r.prediction.toLowerCase(),h=r.predictionKey?.toLowerCase()||"";return b.includes("under")||h.includes("under")});if(a.length===0)return G;const g=[...i,...a],d=Math.max(...g.map(r=>r.confidence)),t=g.find(r=>r.confidence===d);if(!t)return G;const l=new Set(g.map(r=>r.id));return G.filter(r=>!l.has(r.id)||r.id===t.id)}function fa(G){const i=G.filter(l=>l.type===be.VICTORY_METHOD||l.type===be.WINNER_AND_METHOD),a=G.filter(l=>l.type===be.FIGHT_PROPS);if(i.length===0||a.length===0)return G;const d=i.reduce((l,r)=>r.confidence>l.confidence?r:l).prediction.toLowerCase(),t=new Set;for(const l of a){const r=(l.prediction||"").toLowerCase(),b=(l.predictionKey||"").toLowerCase();(d.includes("ko")||d.includes("tko"))&&(r.includes("submission")||r.includes("ground control")||b.includes("submission")||b.includes("ground_control"))&&t.add(l.id),d.includes("submission")&&(r.includes("standing exchange")&&!r.includes("ground")||b.includes("standing_exchange")&&!b.includes("ground"))&&t.add(l.id),d.includes("decision")&&(r.includes("first round finish")||r.includes("gone in 60")||b.includes("first_round_finish")||b.includes("gone_in_60"))&&t.add(l.id)}return G.filter(l=>!t.has(l.id))}function _a(G){const i=G.filter(d=>d.type===be.DURATION),a=G.filter(d=>d.type===be.FIGHT_PROPS);if(i.length===0||a.length===0)return G;const g=new Set;for(const d of i){const t=(d.prediction||"").toLowerCase(),l=(d.predictionKey||"").toLowerCase(),r=t.includes("under 2.5")||l.includes("under_2_5"),b=t.includes("over 3.5")||l.includes("over_3_5");for(const h of a){const k=(h.prediction||"").toLowerCase(),I=(h.predictionKey||"").toLowerCase();r&&((k.includes("over 100 strikes")||I.includes("over_100_strikes"))&&g.add(h.id),(k.includes("goes to distance")||I.includes("goes_to_distance"))&&g.add(h.id)),b&&(k.includes("first round")||k.includes("gone in 60")||I.includes("first_round")||I.includes("gone_in_60"))&&g.add(h.id)}}return G.filter(d=>!g.has(d.id))}function Ji(G){let i=[...G];return i=ga(i),i=fa(i),i=_a(i),i}const pa={W_Strawweight:{finishBias:-.07195121951219513,koVsSubBias:-.1865853658536585,sampleSize:82,stats:{decisionRate:.6219512195121951,finishRate:.3780487804878049,koRate:.17073170731707318,submissionRate:.2073170731707317}},Bantamweight:{finishBias:-.07411347517730499,koVsSubBias:-.11453900709219858,sampleSize:141,stats:{decisionRate:.624113475177305,finishRate:.375886524822695,koRate:.20567375886524822,submissionRate:.1702127659574468}},Lightweight:{finishBias:.07777777777777778,koVsSubBias:.08611111111111108,sampleSize:144,stats:{decisionRate:.4722222222222222,finishRate:.5277777777777778,koRate:.3819444444444444,submissionRate:.14583333333333334}},W_Bantamweight:{finishBias:-.09705882352941175,koVsSubBias:-.11078431372549019,sampleSize:51,stats:{decisionRate:.6470588235294118,finishRate:.35294117647058826,koRate:.19607843137254902,submissionRate:.1568627450980392}},W_Flyweight:{finishBias:-.20862068965517241,koVsSubBias:-.14999999999999997,sampleSize:58,stats:{decisionRate:.7586206896551724,finishRate:.2413793103448276,koRate:.1206896551724138,submissionRate:.1206896551724138}},Middleweight:{finishBias:.1653846153846154,koVsSubBias:.1405982905982906,sampleSize:117,stats:{decisionRate:.38461538461538464,finishRate:.6153846153846154,koRate:.452991452991453,submissionRate:.1623931623931624}},Featherweight:{finishBias:.07892561983471075,koVsSubBias:-.017768595041322305,sampleSize:121,stats:{decisionRate:.47107438016528924,finishRate:.5289256198347108,koRate:.3305785123966942,submissionRate:.19834710743801653}},Flyweight:{finishBias:.07500000000000001,koVsSubBias:-.15,sampleSize:80,stats:{decisionRate:.475,finishRate:.525,koRate:.2625,submissionRate:.2625}},Welterweight:{finishBias:.14199999999999996,koVsSubBias:.17,sampleSize:125,stats:{decisionRate:.408,finishRate:.592,koRate:.456,submissionRate:.136}},Heavyweight:{finishBias:.0007042253521126751,koVsSubBias:.047183098591549316,sampleSize:71,stats:{decisionRate:.5492957746478874,finishRate:.4507042253521127,koRate:.323943661971831,submissionRate:.1267605633802817}},Light_Heavyweight:{finishBias:.18636363636363634,koVsSubBias:.18333333333333335,sampleSize:66,stats:{decisionRate:.36363636363636365,finishRate:.6363636363636364,koRate:.48484848484848486,submissionRate:.15151515151515152}}};var be=(G=>(G.MONEYLINE="moneyline",G.VICTORY_METHOD="victory_method",G.WINNER_AND_METHOD="winner_and_method",G.DURATION="duration",G.GOES_TO_DECISION="goes_to_decision",G.GONE_IN_60="gone_in_60",G.FIGHT_PROPS="fight_props",G.KEY_FACTORS="key_factors",G.TRENDS="trends",G.NO_PREDICTION="no_prediction",G))(be||{}),Fi=(G=>(G.HIGH="high",G.MEDIUM="medium",G.LOW="low",G))(Fi||{});class ci{constructor(){this.config={finishLikelihoodThreshold:35.5,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:1,predatorVsDefensiveBonus:2.5,bothFinishersMultiplier:1.2,bothFinishersThreshold:45,loserDecisionRateWeight:.05,decisionRateBonus:-2,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:34,strOffGapMedThreshold:24,strOffGapLowThreshold:16,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:34,ctrlGapMedThreshold:24,ctrlGapLowThreshold:14,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:34,tdOffGapMedThreshold:24,tdOffGapLowThreshold:14,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,unexpectedKOStrLandedThreshold:4.5,unexpectedKOStrAbsorbedThreshold:4.5,unexpectedKOKnockdownThreshold:1,unexpectedKOThreatThreshold:25,unexpectedKOBoost:5,earlyFinishScoreThreshold:30,durationSkillGapWeight:.04,durationFinishRateWeight:.1,durationVulnerabilityWeight:.15,durationAvgTimeWeight:.5,underBonusBase:25,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:44,durationBothLowFinishThreshold:24,durationPaceAsymmetryThreshold:3.5,durationPaceAsymmetryPenalty:1.5,durationUnderSkillGapBonus:15,durationUnderLoserVulnBonus:12,durationUnderWinnerFinishBonus:8,durationUnderComboBonus:10,durationUnderExtreme:15,durationUnderSkillGapExtreme:15,durationUnderFinishRateExtreme:12,durationUnderLoserVulnExtreme:12,oppTierWeight:11.5,oppTierNeutral:.53,winRateWeightNormal:.35,winRateWeightHigh:.3,winRateWeightLow:.3,winRateHighThreshold:70,winRateLowThreshold:30,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:1,agePenaltyPhase3Rate:3.5,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1,damageMultiplier2KO:1.1,damageMultiplier3KO:1.7,damageMultiplier4KO:1.55,damageMultiplier5PlusKO:1.5,relativeAgeThreshold:7,relativeAgeAdjustRate:1.7,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:.12,heightAdvantageWeight:.05,reachDiffThreshold:2,heightDiffThreshold:2,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:23,inactivityPenaltyRate:1.6,inactivityMaxPenalty:.23,activityBonusThreshold:7,activityBonus:4,amplificationEnabled:!0,amplificationThreshold:15,amplificationRate:.45,minProbability:15,maxProbability:88,decisionProbabilityBase:65,decisionLowFinishAdjust:0,goesToDecisionMaxProb:88,decisionBaseMax:85,koMaxProb:89,subMaxProb:76,decisionMinFloor:81,methodOppTierWeight:4,methodDecisionRateFinisherThreshold:7,methodDecisionRateFinisherBonus:10,methodHighPaceMinFights:3,methodHighPaceMinFinish:38,methodHighPaceMaxFinish:60,methodStyleStrengthThreshold:51,methodLoserVulnThreshold:25,methodStrongFinisherWinnerThreshold:65,methodStrongFinisherLoserThreshold:35,decisionCapHighFinishThreshold:61,decisionCapPenaltyBase:4,decisionCapPenaltyScale:2,decisionCapPenaltyDivisor:8,decisionCapMedFinishThreshold:45,decisionCapMedPenalty:3,decisionCapLowFinishThreshold:37,decisionCapLowPenalty:0,divisionMinSampleSize:26,divisionThreatDiffThreshold:2,divisionPreferenceThreshold:14,divisionTiebreakerBoost:2,koThreatComponent:.25,subThreatComponent:.25,koLoserVulnThreshold:38,koWinnerRateThreshold:48,koWinnerComboThreshold:67,koLoserComboThreshold:32,subLoserVulnThreshold:19,subWinnerRateThreshold:35,subWinnerComboThreshold:41,subLoserComboThreshold:15,durationOppTierWeight:3.5,defaultFightDuration:900,extremeFinishWinnerThreshold1:70,extremeFinishLoserThreshold1:50,extremeFinishSkillGap1:12,extremeFinishWinnerThreshold2:80,extremeFinishLoserThreshold2:40,extremeFinishSkillGap3:15,extremeFinishWinnerThreshold3:60,under15ScoreThreshold:55,under15WinProbThreshold:68,under15WinnerTimeThreshold:6,under15LoserTimeThreshold:8,under15SkillGapThreshold:8,under15InitialCap:75,under15SkillGapExtreme:15,under15FinishRateExtreme:72,under15VulnExtreme:40,under15FinalCap:82,under15RelaxedEarlyFinishThreshold:48,under15RelaxedWinProbThreshold:52,under25FinishThreshold1:60,under25LoserFinishThreshold1:40,under25KOThreshold:60,under25AvgTimeThreshold:8,under25WinnerTimeThreshold:8,under25LoserTimeThreshold:8.5,under25WinProbMin:48,under25InitialCap:76,under25SkillGapThreshold:10,under25VulnThreshold:45,under25WinnerFinishThreshold:65,under25ComboWinnerThreshold:50,under25ComboLoserThreshold:35,under25FinalCap:87,over15BaseProbability:40,over15HighThreatThreshold:38,over15HighThreatValue:50,over15MedThreatLowThreshold:32,over15MedThreatHighThreshold:38,over15MedThreatValue:66,over15LowThreatThreshold:25,over15LowThreatValue:61,over15VeryLowThreatThreshold:18,over15VeryLowThreatValue:79,over15FinisherThreshold:43,over15FinisherPenalty:11,over15DecisionThreshold:62,over15DecisionBoost:21,over15DualDecisionThreshold1:15,over15DualDecisionThreshold2:25,over15DualDecisionBoost:12,over15LongTimeThreshold:8.5,over15LongTimeBoost:10,over15MinProbability:53,over15MaxProbability:85,over15FinishLikelihoodPenaltyThreshold:32,over15FinishLikelihoodPenaltyAmount:11,over35DecisionThreshold1:30,over35DecisionThreshold2:30,over35AvgTimeThreshold:8,over35LowFinishThreshold:20,over35LongTimeThreshold:8.5,over35BaseProbability:55,over35PureDecisionThreshold:15,over35PureDecisionValue:68,over35ExtremeDecisionThreshold:10,over35ExtremeDecisionValue:72,over35LongMinProbability:70,over35LongDecisionThreshold:20,over35LongDecisionBoost:8,over35LongDecisionCap:80,over35FinishPenaltyThreshold1:20,over35FinishPenalty1:5,over35FinishPenaltyThreshold2:30,over35FinishPenalty2:8,over35MinProbability:50,over35MaxProbability:82,physicalAdvantageReachThreshold:4,physicalAdvantageHeightThreshold:4,activityPeriodMonths:48,activityThresholdFights:3,defaultWinProbability:49,reachAnalysisThreshold:2,activityDifferenceThreshold:2,highWinRateThreshold:73,strugglingWinRateThreshold:55,estimatedCareerStartAge:16,estimatedFightsPerYear:3,grapplerTakedownThreshold:43,grapplerSubmissionThreshold:35,strikerKOThreshold:31,strikerTakedownMax:10,dominantGrapplerThreshold:55,weightedMetricLoserImpact:.55,firstRoundFinishThreshold:3,subAttemptsOverThreshold:2.2,finishRateFirstRoundThreshold:67,doubleKnockdownThreshold:.3,groundControlTakedownThreshold:15,strikeVolumeThreshold:120,standingExchangeTakedownMax:3,divisionBlendFinishLikelihood:0,divisionBlendKOThreat:0,divisionBlendSubThreat:.09,decisionToKOBiasReduction:0,decisionToKOStrLandedThreshold:5,decisionToKOKnockdownThreshold:.3,koToDecisionBiasReduction:0,koToDecisionLoserDecisionRateThreshold:45,koToDecisionLowKOThreatThreshold:34,decisionToSubBiasReduction:0,decisionToSubCtrlGapThreshold:9,decisionToSubTDGapThreshold:5,subToDecisionBiasReduction:6,subToDecisionLoserDecisionRateThreshold:48,subToDecisionLowSubThreatThreshold:20,predatorFinishRateThreshold:40,predatorVulnerabilityThreshold:35,methodThreatDiffThreshold:3,methodStyleDiffThreshold:2,koThreatMultiplier:.25,koComboWinnerRateThreshold:50,koComboLoserVulnThreshold:31,durationFinishRateThreshold:62,durationTakedownRateThreshold:18,durationStrikeVolumeThreshold:136,durationLowTakedownThreshold:4,subThreatMultiplier:.25,subComboWinnerRateThreshold:50,subComboLoserVulnThreshold:30,winnerReachDiffThreshold:1,winnerExperienceGapThreshold:1,winnerAgePrimeStart:25,winnerAgePrimeEnd:31,winnerYearsAfterPrimeModerate:3,winnerYearsAfterPrimeSevere:8,h2hRecentVictoryMonths:38,h2hRecentVictoryPenalty:15,h2hRecencyWeight:.5}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}static{this.divisionCoefficients=null}static loadDivisionCoefficients(){return this.divisionCoefficients?this.divisionCoefficients:(this.divisionCoefficients=new Map(Object.entries(pa)),this.divisionCoefficients)}generateBetCards(i,a,g=!1,d=3){const t=[],r=i.rawData.Number_of_Fights_36m||0,b=a.rawData.Number_of_Fights_36m||0;if(r<3||b<3)return[this.createNoPredictionCard("insufficient_fights",i,a,r,b)];if(i.division!==a.division)return[this.createNoPredictionCard("different_divisions",i,a)];const h=this.calculateWinProbability(i,a);if(g&&h.probability<ci.MIN_MEDIUM_CONFIDENCE){const F=h.winner===i?h.probability:100-h.probability,Z=100-F;t.push(this.createNoPredictionCard("low_moneyline_confidence",i,a,void 0,void 0,F,Z))}else t.push(this.createMoneylineCard(h));const k=this.predictMethodGivenWinner(i,a,h,d),I=this.predictTotalRounds(i,a,h,d),j=this.generateFightProps(i,a,h,d),T=this.analyzeKeyFactors(i,a),Y=this.analyzeTrends(i,a);t.push(this.createVictoryMethodCard(k));const H=this.predictWinnerAndMethod(h,k);return t.push(H),t.push(this.createTotalRoundsCard(I)),t.push(this.createFightPropsCard(j)),t.push(this.createKeyFactorsCard(T)),t.push(this.createTrendsCard(Y)),this.hasHighConfidencePredictions(t)||t.push(this.createNoPredictionCard("low_confidence")),g?this.sortBetCardsByPriority(this.filterByConfidence(Ji(t))):this.sortBetCardsByPriority(Ji(t))}filterByConfidence(i){return i.filter(a=>a.type==="key_factors"||a.type==="trends"||a.type==="no_prediction"?!0:a.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(i,a){const g=(i.rawData.reach_inches||0)-(a.rawData.reach_inches||0),d=(i.rawData.height_inches||0)-(a.rawData.height_inches||0);let t=0,l=0;return g>=this.config.physicalAdvantageReachThreshold?t+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025):g<=-this.config.physicalAdvantageReachThreshold&&(l+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025)),d>=this.config.physicalAdvantageHeightThreshold?t+=Math.min(Math.abs(d)*this.config.heightAdvantageWeight,.015):d<=-this.config.physicalAdvantageHeightThreshold&&(l+=Math.min(Math.abs(d)*this.config.heightAdvantageWeight,.015)),{f1Advantage:t,f2Advantage:l}}checkRecentH2H(i,a){if(!i.rawData.Dates_36m||!a.rawData.Dates_36m)return{loserRecentlyBeatWinner:!1,winnerRecentlyBeatLoser:!1};const g=i.id,d=a.id,t=i.name.toLowerCase(),l=a.name.toLowerCase(),r=t.split(" ")[0],b=l.split(" ")[0],h=i.rawData.Dates_36m?i.rawData.Dates_36m.split(","):[],k=a.rawData.Dates_36m?a.rawData.Dates_36m.split(","):[],I=new Date().getTime(),j=this.config.h2hRecentVictoryMonths*30*24*60*60*1e3,T=(F,Z,U,re)=>{const L=F.toLowerCase();return L===Z||L===U||L===re||L.includes(re)};let Y=!1;for(const F of h){if(!F||F.trim().length===0)continue;const Z=F.trim().split(":");if(Z.length<3)continue;const U=Z[0],re=Z[1],L=Z[2];if(T(re,d,l,b)&&L.toUpperCase()==="W"){const _=this.parseUFCDate(U);if(_&&I-_.getTime()<j){Y=!0;break}}}let H=!1;for(const F of k){if(!F||F.trim().length===0)continue;const Z=F.trim().split(":");if(Z.length<3)continue;const U=Z[0],re=Z[1],L=Z[2];if(T(re,g,t,r)&&L.toUpperCase()==="W"){const _=this.parseUFCDate(U);if(_&&I-_.getTime()<j){H=!0;break}}}return{loserRecentlyBeatWinner:H,winnerRecentlyBeatLoser:Y}}parseUFCDate(i){const a=i.split("-");if(a.length!==3)return null;const g=parseInt(a[0],10),d=parseInt(a[1],10),t=parseInt(a[2],10);return isNaN(g)||isNaN(d)||isNaN(t)?null:new Date(t,d-1,g)}calculateWinProbability(i,a){const g=this.config.oppTierNeutral,d=this.config.oppTierWeight;let t=i.overall+(i.oppTierScore-g)*d,l=a.overall+(a.oppTierScore-g)*d;const r=this.calculatePhysicalAdvantage(i,a);t*=1+r.f1Advantage,l*=1+r.f2Advantage,t*=this.calculateAgeImpact(i),l*=this.calculateAgeImpact(a);const b=this.getInactiveMonths(i),h=this.getInactiveMonths(a);if(b>=this.config.inactivityThreshold){const Q=Math.min((b-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);t*=1-Q}if(h>=this.config.inactivityThreshold){const Q=Math.min((h-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);l*=1-Q}const k=this.getFightsInPeriod(i,18),I=this.getFightsInPeriod(a,18);k>=this.config.activityBonusThreshold&&(t*=1+this.config.activityBonus),I>=this.config.activityBonusThreshold&&(l*=1+this.config.activityBonus);const j=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,T=a.rawData.Number_of_Fights_36m>0?a.rawData.win/a.rawData.Number_of_Fights_36m*100:0,Y=this.calculateMomentum(i),H=this.calculateMomentum(a);t*=1+Y,l*=1+H;let F=this.config.winRateWeightNormal,Z=this.config.winRateWeightNormal;j>=this.config.winRateHighThreshold?F=this.config.winRateWeightHigh:j<this.config.winRateLowThreshold&&(F=this.config.winRateWeightLow),T>=this.config.winRateHighThreshold?Z=this.config.winRateWeightHigh:T<this.config.winRateLowThreshold&&(Z=this.config.winRateWeightLow);const U=t+j*F,re=l+T*Z,L=this.calculateAge(i),_=this.calculateAge(a),V=L-_;let O=U,ae=re;if(Math.abs(V)>=this.config.relativeAgeThreshold){const Q=Math.min(Math.abs(V)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);V>0?(O=U*(1-Q),ae=re*(1+Q)):(O=U*(1+Q),ae=re*(1-Q))}const J=Math.abs(O-ae);if(J>this.config.amplificationThreshold){const Q=1+(J-this.config.amplificationThreshold)*this.config.amplificationRate;O>ae?O*=Q:ae*=Q}const E=O+ae;let C=E>0?Math.round(O/E*100):50,$=E>0?Math.round(ae/E*100):50;const se=this.checkRecentH2H(i,a);if(se.loserRecentlyBeatWinner){const Q=C*this.config.h2hRecentVictoryPenalty/100,Ke=C*(1-this.config.h2hRecencyWeight)+(C-Q)*this.config.h2hRecencyWeight;C=Math.round(Ke),$=100-C}if(se.winnerRecentlyBeatLoser){const Q=C*this.config.h2hRecentVictoryPenalty/100,Ke=C*(1-this.config.h2hRecencyWeight)+(C+Q)*this.config.h2hRecencyWeight;C=Math.round(Ke),$=100-C}if(C=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,C)),$=100-C,C>$){let Q=this.getWinReasoningKey(i,a,j,T);return{winner:i,probability:C,reasoningKey:Q,adjustedScore1:O,adjustedScore2:ae}}else{let Q=this.getWinReasoningKey(a,i,T,j);return{winner:a,probability:$,reasoningKey:Q,adjustedScore1:ae,adjustedScore2:O}}}predictWinnerAndMethod(i,a){let g=i.probability/100*(a.probability/100)*100;const d=i.winner,t=a.method,l=a.methodKey,r=d.name,b=`combat_analysis.winner_and_method.${l.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:r,predictionKey:b,confidence:Math.round(g),confidenceLevel:this.getConfidenceLevel(g),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:d.name,method:t,methodKey:b,winnerProb:i.probability,methodProb:a.probability,compositeProb:g},priority:2.5}}predictMethodGivenWinner(i,a,g,d=3){const t=g.winner,l=t===i?a:i,r=ci.loadDivisionCoefficients(),b=t.division,h=r.get(b),k=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,I=l.overall+(l.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,j=Math.abs(k-I),T=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,Y=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,H=t===i?T:Y,F=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,Z=a.rawData.Number_of_Fights_36m>0?a.rawData.win_kotko/a.rawData.Number_of_Fights_36m*100:0,U=t===i?F:Z,re=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,L=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0,_=t===i?re:L,V=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_kotko/l.rawData.Number_of_Fights_36m*100:0,O=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_sub/l.rawData.Number_of_Fights_36m*100:0,ae=V+O,J=ae,E=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_decision/l.rawData.Number_of_Fights_36m*100:0;let C=j*this.config.skillGapWeight+H*this.config.finishRateWeight+ae*this.config.vulnerabilityWeight;const $=E*this.config.loserDecisionRateWeight/10;C-=$,E<this.config.methodDecisionRateFinisherThreshold&&(C+=this.config.methodDecisionRateFinisherBonus);const se=U>_&&V>O,Q=_>U&&O>V;(se||Q)&&(C+=this.config.methodMatchBonus),t.rawData.Number_of_Fights_36m>=this.config.methodHighPaceMinFights&&H>=this.config.methodHighPaceMinFinish&&H<=this.config.methodHighPaceMaxFinish&&(C+=this.config.highPaceFinishBonus),Math.max(U,_)>this.config.methodStyleStrengthThreshold&&ae>this.config.methodLoserVulnThreshold&&(C+=this.config.styleStrengthBonus),H>this.config.methodStrongFinisherWinnerThreshold&&J>this.config.methodStrongFinisherLoserThreshold&&(C+=this.config.finisherVsVulnerableBonus);const x=t.archetype?.combinedRole||"",ve=l.archetype?.combinedRole||"",Me=x.includes("AT")||x.includes("ANT"),Be=ve.includes("PT")||ve.includes("PNT");Me&&Be&&H>this.config.predatorFinishRateThreshold&&ae>this.config.predatorVulnerabilityThreshold&&(C+=this.config.predatorVsDefensiveBonus);const A=l===i?T:Y,ne=Math.min(H,A),Fe=Math.max(H,A);if(ne>this.config.bothFinishersThreshold&&Fe>this.config.bothFinishersThreshold&&(C*=this.config.bothFinishersMultiplier),h&&h.sampleSize>=this.config.divisionMinSampleSize&&this.config.divisionBlendFinishLikelihood>0){const S=h.stats.finishRate*100;C=C*(1-this.config.divisionBlendFinishLikelihood)+S*this.config.divisionBlendFinishLikelihood}const Pe=t.rawData.Sig_Strikes_Landed/((t.rawData.Fight_Duration_Seconds||600)/60)||0,qe=t.rawData.Knockdowns/((t.rawData.Fight_Duration_Seconds||600)/900)||0;Pe>this.config.decisionToKOStrLandedThreshold&&qe>this.config.decisionToKOKnockdownThreshold&&(C+=this.config.decisionToKOBiasReduction);const Ie=t.fightRadar.CTRL-l.fightRadar.CTRL,Ee=t.fightRadar.TD_OFF-l.fightRadar.TD_OFF;if(Ie>this.config.decisionToSubCtrlGapThreshold&&Ee>this.config.decisionToSubTDGapThreshold&&(C+=this.config.decisionToSubBiasReduction),C<this.config.finishLikelihoodThreshold){let S=Math.min(Math.round(100-C),this.config.decisionBaseMax),de=this.config.decisionBaseMax;if(ne>this.config.decisionCapHighFinishThreshold){const hi=this.config.decisionCapPenaltyBase+(ne-this.config.decisionCapHighFinishThreshold)/this.config.decisionCapPenaltyDivisor*this.config.decisionCapPenaltyScale;de=Math.max(de-hi,this.config.decisionMinFloor)}else ne>this.config.decisionCapMedFinishThreshold?de=Math.max(de-this.config.decisionCapMedPenalty,this.config.decisionMinFloor+4):ne>this.config.decisionCapLowFinishThreshold&&(de=Math.max(de-this.config.decisionCapLowPenalty,this.config.decisionMinFloor+2));const Le=t.rawData.Sig_Strikes_Landed/((t.rawData.Fight_Duration_Seconds||600)/60)||0,Je=t.rawData.Knockdowns/((t.rawData.Fight_Duration_Seconds||600)/900)||0;Le>this.config.decisionToKOStrLandedThreshold&&Je>this.config.decisionToKOKnockdownThreshold&&(S-=this.config.decisionToKOBiasReduction);const ei=t.fightRadar.CTRL-l.fightRadar.CTRL,li=t.fightRadar.TD_OFF-l.fightRadar.TD_OFF;return ei>this.config.decisionToSubCtrlGapThreshold&&li>this.config.decisionToSubTDGapThreshold&&(S-=this.config.decisionToSubBiasReduction),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(S,de),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:T,finishRate2:Y}}let oe=U*this.config.koThreatWinnerWeight+V*this.config.koThreatLoserWeight,ue=_*this.config.subThreatWinnerWeight+O*this.config.subThreatLoserWeight;if(h&&h.sampleSize>=this.config.divisionMinSampleSize){if(this.config.divisionBlendKOThreat>0){const S=h.stats.koRate*100;oe=oe*(1-this.config.divisionBlendKOThreat)+S*this.config.divisionBlendKOThreat}if(this.config.divisionBlendSubThreat>0){const S=h.stats.submissionRate*100;ue=ue*(1-this.config.divisionBlendSubThreat)+S*this.config.divisionBlendSubThreat}}if(h&&h.sampleSize>=this.config.divisionMinSampleSize){const S=Math.abs(oe-ue),de=h.stats.koRate*100,Le=h.stats.submissionRate*100,Je=de-Le;S<this.config.divisionThreatDiffThreshold&&Math.abs(Je)>this.config.divisionPreferenceThreshold&&(Je>0?oe+=this.config.divisionTiebreakerBoost:ue+=this.config.divisionTiebreakerBoost)}const Ge=O-V;Ge>this.config.subVulnDiffHighThreshold?ue+=this.config.subVulnDiffHighBonus:Ge>this.config.subVulnDiffMedThreshold&&(ue+=this.config.subVulnDiffMedBonus);const Ae=V-O;Ae>this.config.koVulnDiffHighThreshold?oe+=this.config.koVulnDiffHighBonus:Ae>this.config.koVulnDiffMedThreshold&&(oe+=this.config.koVulnDiffMedBonus);const We=t.fightRadar.STR_OFF-l.fightRadar.STR_OFF;if(We>this.config.strOffGapLowThreshold){const S=We>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:We>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;oe+=S}const Te=t.fightRadar.CTRL-l.fightRadar.CTRL;if(Te>this.config.ctrlGapLowThreshold){const S=Te>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:Te>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;ue+=S}const Se=t.fightRadar.TD_OFF-l.fightRadar.TD_OFF;if(Se>this.config.tdOffGapLowThreshold){const S=Se>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:Se>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;ue+=S}const he=t.rawData.Fight_Duration_Seconds||600,ee=l.rawData.Fight_Duration_Seconds||600,ge=t.rawData.Sig_Strikes_Landed/(he/60)||0,Ve=l.rawData.Sig_Strikes_Absorbed/(ee/60)||0,je=t.rawData.Knockdowns/(he/900)||0;ge>this.config.unexpectedKOStrLandedThreshold&&Ve>this.config.unexpectedKOStrAbsorbedThreshold&&je>this.config.unexpectedKOKnockdownThreshold&&oe<this.config.unexpectedKOThreatThreshold&&(oe+=this.config.unexpectedKOBoost);const Xe=U>_&&V>O,ze=_>U&&O>V,ni=Math.abs(oe-ue),Ze=Math.abs(U-_);if(ni<this.config.methodThreatDiffThreshold?Ze<this.config.methodStyleDiffThreshold?V>O:Xe&&!ze||oe>ue&&!ze:oe>ue){let S=Math.round(C+oe*this.config.koThreatMultiplier);return j>10&&(S+=this.config.koSkillGapBonus),V>30&&(S+=this.config.koLoserVulnBonus),U>50&&(S+=this.config.koWinnerRateBonus),U>this.config.koComboWinnerRateThreshold&&V>this.config.koComboLoserVulnThreshold&&(S+=this.config.koComboBonus),Xe&&U>this.config.koMethodMatchWinnerThreshold&&V>this.config.koMethodMatchLoserThreshold&&(S+=this.config.koMethodMatchBonus),E>this.config.koToDecisionLoserDecisionRateThreshold&&oe<this.config.koToDecisionLowKOThreatThreshold&&(S-=this.config.koToDecisionBiasReduction),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(S,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:T,finishRate2:Y}}else{let S=Math.min(Math.round(C+ue*this.config.subThreatMultiplier),this.config.subMaxProb);return j>10&&(S+=this.config.subSkillGapBonus),O>24&&(S+=this.config.subLoserVulnBonus),_>40&&(S+=this.config.subWinnerRateBonus),_>this.config.subComboWinnerRateThreshold&&O>this.config.subComboLoserVulnThreshold&&(S+=this.config.subComboBonus),ze&&_>this.config.subMethodMatchWinnerThreshold&&O>this.config.subMethodMatchLoserThreshold&&(S+=this.config.subMethodMatchBonus),E>this.config.subToDecisionLoserDecisionRateThreshold&&ue<this.config.subToDecisionLowSubThreatThreshold&&(S-=this.config.subToDecisionBiasReduction),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(S,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:T,finishRate2:Y}}}predictTotalRounds(i,a,g,d=3){const t=g.winner,l=t===i?a:i,r=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.durationOppTierWeight,b=l.overall+(l.oppTierScore-this.config.oppTierNeutral)*this.config.durationOppTierWeight,h=Math.abs(r-b),k=(i.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,I=(a.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,j=t===i?k:I,T=t===i?I:k,Y=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,H=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,F=t===i?Y:H,Z=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,U=a.rawData.Number_of_Fights_36m>0?a.rawData.win_kotko/a.rawData.Number_of_Fights_36m*100:0,re=t===i?Z:U,L=l.rawData.Number_of_Fights_36m>0?(l.rawData.loss_kotko+l.rawData.loss_sub)/l.rawData.Number_of_Fights_36m*100:0;let _=h*this.config.durationSkillGapWeight+F*this.config.durationFinishRateWeight+L*this.config.durationVulnerabilityWeight+(15-Math.min(j,15))*this.config.durationAvgTimeWeight*10;L>this.config.durationLoserVulnThreshold&&(_+=this.config.loserVulnBonus),Y<this.config.durationBothLowFinishThreshold&&H<this.config.durationBothLowFinishThreshold&&(_-=this.config.decisionFighterPenalty);const V=i.rawData.Number_of_Fights_36m,O=a.rawData.Number_of_Fights_36m;Math.abs(V-O)>=this.config.durationPaceAsymmetryThreshold&&Math.min(V,O)<=2&&(_-=this.config.durationPaceAsymmetryPenalty);const J=(k+I)/2,E=[],C=F>this.config.extremeFinishWinnerThreshold1&&L>this.config.extremeFinishLoserThreshold1&&h>this.config.extremeFinishSkillGap1||F>this.config.extremeFinishWinnerThreshold2&&L>this.config.extremeFinishLoserThreshold2||h>this.config.extremeFinishSkillGap3&&F>this.config.extremeFinishWinnerThreshold3;if(_>this.config.under15ScoreThreshold&&g.probability>this.config.under15WinProbThreshold&&C||j<this.config.under15WinnerTimeThreshold&&T<this.config.under15LoserTimeThreshold&&h>this.config.under15SkillGapThreshold||_>this.config.under15RelaxedEarlyFinishThreshold&&g.probability>this.config.under15RelaxedWinProbThreshold){let $=Math.min(Math.round(_+this.config.durationUnderExtreme),this.config.under15InitialCap);h>this.config.under15SkillGapExtreme&&($+=this.config.durationUnderSkillGapExtreme),F>this.config.under15FinishRateExtreme&&($+=this.config.durationUnderFinishRateExtreme),L>this.config.under15VulnExtreme&&($+=this.config.durationUnderLoserVulnExtreme);const se=Math.min($,this.config.under15FinalCap);E.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:se,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:j})}if(d===5){const $=F>this.config.under25FinishThreshold1&&L>this.config.under25LoserFinishThreshold1||re>this.config.under25KOThreshold&&j<this.config.under25AvgTimeThreshold,se=j<this.config.under25WinnerTimeThreshold&&T<this.config.under25LoserTimeThreshold;if(_>this.config.earlyFinishScoreThreshold&&g.probability>this.config.under25WinProbMin||$){let Q=Math.min(Math.round(_+this.config.underBonusBase),this.config.under25InitialCap);h>this.config.under25SkillGapThreshold&&(Q+=this.config.durationUnderSkillGapBonus),L>this.config.under25VulnThreshold&&(Q+=this.config.durationUnderLoserVulnBonus),F>this.config.under25WinnerFinishThreshold&&(Q+=this.config.durationUnderWinnerFinishBonus),F>this.config.under25ComboWinnerThreshold&&L>this.config.under25ComboLoserThreshold&&(Q+=this.config.durationUnderComboBonus);const Ke=Math.min(Q,this.config.under25FinalCap);se&&E.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Ke,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:j})}}if(d===3){let $=this.config.over15BaseProbability;_>this.config.over15HighThreatThreshold&&($=this.config.over15HighThreatValue),_>this.config.over15MedThreatLowThreshold&&_<=this.config.over15MedThreatHighThreshold&&($=this.config.over15MedThreatValue),_<this.config.over15LowThreatThreshold&&($=this.config.over15LowThreatValue),_<this.config.over15VeryLowThreatThreshold&&($=this.config.over15VeryLowThreatValue),F>this.config.over15FinisherThreshold&&($-=this.config.over15FinisherPenalty),F<this.config.over15DecisionThreshold&&($+=this.config.over15DecisionBoost),F<this.config.over15DualDecisionThreshold1&&L<this.config.over15DualDecisionThreshold2&&($+=this.config.over15DualDecisionBoost),J>this.config.over15LongTimeThreshold&&($=Math.min($+this.config.over15LongTimeBoost,this.config.over15MaxProbability)),_>this.config.over15FinishLikelihoodPenaltyThreshold&&($-=this.config.over15FinishLikelihoodPenaltyAmount);const se=Math.min(Math.max(Math.round($),this.config.over15MinProbability),this.config.over15MaxProbability);E.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:se,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:J})}if(d===5){let $=this.config.over15BaseProbability;_>this.config.over15HighThreatThreshold&&($=this.config.over15HighThreatValue),_>this.config.over15MedThreatLowThreshold&&_<=this.config.over15MedThreatHighThreshold&&($=this.config.over15MedThreatValue),_<this.config.over15LowThreatThreshold&&($=this.config.over15LowThreatValue),_<this.config.over15VeryLowThreatThreshold&&($=this.config.over15VeryLowThreatValue),F>this.config.over15FinisherThreshold&&($-=this.config.over15FinisherPenalty),F<this.config.over15DecisionThreshold&&($+=this.config.over15DecisionBoost),F<this.config.over15DualDecisionThreshold1&&L<this.config.over15DualDecisionThreshold2&&($+=this.config.over15DualDecisionBoost);const se=Math.min(Math.max(Math.round($),this.config.over15MinProbability),this.config.over15MaxProbability);E.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:se,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:J});const Q=F<this.config.over35DecisionThreshold1&&L<this.config.over35DecisionThreshold2&&J>this.config.over35AvgTimeThreshold,Ke=_<this.config.over35LowFinishThreshold,Ue=J>this.config.over35LongTimeThreshold;if(Q||Ke||Ue){let x=this.config.over35BaseProbability;F<this.config.over35PureDecisionThreshold&&L<this.config.over35PureDecisionThreshold&&(x=this.config.over35PureDecisionValue),F<this.config.over35ExtremeDecisionThreshold&&L<this.config.over35ExtremeDecisionThreshold&&(x=this.config.over35ExtremeDecisionValue),Ue&&(x=Math.max(x,this.config.over35LongMinProbability),F<this.config.over35LongDecisionThreshold&&L<this.config.over35LongDecisionThreshold&&(x=Math.min(x+this.config.over35LongDecisionBoost,this.config.over35LongDecisionCap))),_>this.config.over35FinishPenaltyThreshold1&&(x-=this.config.over35FinishPenalty1),_>this.config.over35FinishPenaltyThreshold2&&(x-=this.config.over35FinishPenalty2);const ve=Math.min(Math.max(Math.round(x),this.config.over35MinProbability),this.config.over35MaxProbability);E.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:ve,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:J})}}return E.sort(($,se)=>se.probability-$.probability),E[0]}generateFightProps(i,a,g,d=3){const t=this.calculateBettingMetrics(i,a,g);this.hasDominantGrappler(i,a),this.isStrikerWar(i,a);const l=6;return t.f1SubRate+t.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:t}:t.weightedFinishRate&&t.weightedFinishRate>this.config.durationFinishRateThreshold&&t.weightedAvgFightTime&&t.weightedAvgFightTime<l?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:t}:t.f1KnockdownRate>.6&&t.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:t}:t.f1TakedownRate>this.config.durationTakedownRateThreshold||t.f2TakedownRate>this.config.durationTakedownRateThreshold?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:t}:t.f1StrikeVolume>this.config.durationStrikeVolumeThreshold&&t.f2StrikeVolume>this.config.durationStrikeVolumeThreshold?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:t}:t.f1TakedownRate<this.config.durationLowTakedownThreshold&&t.f2TakedownRate<this.config.durationLowTakedownThreshold?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:t}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:t}}analyzeKeyFactors(i,a){const g=[],d=i.rawData.reach_inches||0,t=a.rawData.reach_inches||0,l=Math.abs(d-t);if(l>this.config.winnerReachDiffThreshold){const T=d>t?i.name||"Fighter 1":a.name||"Fighter 2";g.push({label:"combat_analysis.key_factors.reach_advantage",value:`${T} +${l}"`,type:"advantage"})}const r=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0,b=a.rawData.Sig_Strikes_Thrown>0?Math.round(a.rawData.Sig_Strikes_Landed/a.rawData.Sig_Strikes_Thrown*100):0;g.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${i.name||"F1"}: ${r}% vs ${a.name||"F2"}: ${b}%`,type:"comparison"});const h=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85,k=a.rawData.takedowns_attempted_against>0?Math.round(a.rawData.Takedowns_Defended/a.rawData.takedowns_attempted_against*100):85;g.push({label:"combat_analysis.key_factors.takedown_defense",value:`${i.name||"F1"}: ${h}% vs ${a.name||"F2"}: ${k}%`,type:"comparison"});const I=i.rawData.Number_of_Fights_36m||0,j=a.rawData.Number_of_Fights_36m||0;if(Math.abs(I-j)>this.config.winnerExperienceGapThreshold){const T=I>j?i.name||"Fighter 1":a.name||"Fighter 2",Y=Math.max(I,j),H=Math.min(I,j);g.push({label:"combat_analysis.key_factors.higher_activity",value:`${T}: ${Y} vs ${H} fights`,type:"advantage"})}return g}analyzeTrends(i,a){const g=[],d=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0,t=a.rawData.Number_of_Fights_36m>0?Math.round(a.rawData.win/a.rawData.Number_of_Fights_36m*100):0;d>=75?g.push({type:"positive",text:`${i.name||"Fighter 1"} has ${d}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 1",winRate:d},fighter:i.name}):d<50&&g.push({type:"negative",text:`${i.name||"Fighter 1"} struggling at ${d}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 1",winRate:d},fighter:i.name}),t>=75?g.push({type:"positive",text:`${a.name||"Fighter 2"} has ${t}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:a.name||"Fighter 2",winRate:t},fighter:a.name}):t<50&&g.push({type:"negative",text:`${a.name||"Fighter 2"} struggling at ${t}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:a.name||"Fighter 2",winRate:t},fighter:a.name});const l=(i.rawData.Fight_Duration_Seconds||900)/60,r=(a.rawData.Fight_Duration_Seconds||900)/60,b=(l+r)/2;return g.push({type:"neutral",text:`Combined average fight time: ${b.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:b.toFixed(1)}}),g}calculateMomentum(i){const a=i.streak;if(a===0)return 0;const g=Math.abs(a);return a>0?g>=3?this.config.winStreak3PlusBonus:g>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:g>=3?-this.config.loseStreak3PlusPenalty:g>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(i){return i===0?1:i===1?this.config.damageMultiplier1KO:i===2?this.config.damageMultiplier2KO:i===3?this.config.damageMultiplier3KO:i===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(i){const a=this.calculateAge(i),d={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[i.division]||32,t=i.rawData.loss_kotko||0,l=this.calculateDamageMultiplier(t),r=(a-d)*l;if(r<=0)return 1;let b=0;return r<=5?b=r*this.config.agePenaltyPhase1Rate:r<=10?b=5*this.config.agePenaltyPhase1Rate+(r-5)*this.config.agePenaltyPhase2Rate:b=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(r-10)*this.config.agePenaltyPhase3Rate,b=Math.min(b,this.config.agePenaltyMaxCap),1-b}calculateAge(i){if(i.age&&i.age>0)return i.age;if(i.birthDate||i.rawData.Birth_Date){const t=i.birthDate||i.rawData.Birth_Date,l=new Date(t);if(!isNaN(l.getTime())){const r=new Date;let b=r.getFullYear()-l.getFullYear();const h=r.getMonth()-l.getMonth();return(h<0||h===0&&r.getDate()<l.getDate())&&b--,b}}const a=25,g=2.5,d=i.rawData.Number_of_Fights_36m||0;return Math.round(a+d/g)}getInactiveMonths(i){const a=i.rawData.Number_of_Fights_36m||0;return a>=3?0:a>=2?6:a>=1?12:24}getFightsInPeriod(i,a){const g=a/36;return Math.round((i.rawData.Number_of_Fights_36m||0)*g)}getWeightedMetric(i,a,g,d,t=.5){const l=g.probability/100,r=1-l;return g.winner===d?i*l+a*r*t:a*l+i*r*t}getFighterStyle(i){const a=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,g=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,d=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0;return a>15||g>25?"grappler":d>30&&a<10?"striker":"balanced"}hasDominantGrappler(i,a){const g=this.getFighterStyle(i),d=this.getFighterStyle(a),t=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,l=a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0;return g==="grappler"&&t>20||d==="grappler"&&l>20}isStrikerWar(i,a){return this.getFighterStyle(i)==="striker"&&this.getFighterStyle(a)==="striker"}calculateBettingMetrics(i,a,g){const d=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,t=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,l=(i.rawData.Fight_Duration_Seconds||900)/60,r=(a.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f2KnockdownRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Knockdowns/a.rawData.Number_of_Fights_36m:0,f1StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:a.rawData.Sig_Strikes_Thrown||0,f1SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f2SubRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Sub_Attempts/a.rawData.Number_of_Fights_36m:0,f1FinishRate:d,f2FinishRate:t,avgFightTime:(l+r)/2,weightedFinishRate:g?this.getWeightedMetric(d,t,g,i,.5):void 0,weightedAvgFightTime:g?this.getWeightedMetric(l,r,g,i,1):void 0}}getWinReasoningKey(i,a,g,d){return i.overall>a.overall+20?"combat_analysis.reasoning.significant_rating_advantage":i.performance>a.performance+10?"combat_analysis.reasoning.significant_performance_advantage":i.fightIQ>a.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":g>d+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(i){return i>=ci.MIN_HIGH_CONFIDENCE?"high":i>=ci.MIN_MEDIUM_CONFIDENCE?"medium":(i>=ci.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(i){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:i.winner.name||"Unknown Fighter",confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{adjustedScore1:i.adjustedScore1,adjustedScore2:i.adjustedScore2},priority:1}}createVictoryMethodCard(i){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:i.method,predictionKey:i.methodKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{method:i.method,finishRate1:i.finishRate1,finishRate2:i.finishRate2},priority:2}}createTotalRoundsCard(i){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:i.prediction,predictionKey:i.predictionKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{avgTime:i.avgTime},priority:3}}createFightPropsCard(i){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:i.prop,predictionKey:i.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{value:i.value,valueKey:i.valueKey,metrics:i.metrics},priority:7}}createKeyFactorsCard(i){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:i},priority:8}}createTrendsCard(i){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:i},priority:9}}createNoPredictionCard(i,a,g,d,t,l,r){if(i==="insufficient_fights"&&a&&g){const b=(d||0)<=2,h=(t||0)<=2;let k="";return b&&h?k=`Both fighters have insufficient fight data: ${a.name} (${d} fights) and ${g.name} (${t} fights). Minimum 3 fights required for accurate predictions.`:b?k=`${a.name} has insufficient fight data (${d} fights). Minimum 3 fights required for accurate predictions.`:h&&(k=`${g.name} has insufficient fight data (${t} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:k,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:d,fighter2Fights:t}}}if(i==="different_divisions"&&a&&g)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${a.name} competes in ${a.division} while ${g.name} competes in ${g.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:a.division,fighter2Division:g.division}};if(i==="low_moneyline_confidence"&&a&&g){const b=l||0,h=r||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${a.name} ${b.toFixed(1)}% vs ${g.name} ${h.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:a.name,fighter2Name:g.name,fighter1Probability:b,fighter2Probability:h}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(i){return i.some(a=>(a.type==="moneyline"||a.type==="victory_method"||a.type==="duration"||a.type==="winner_and_method"||a.type==="fight_props")&&a.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(i){return i.sort((a,g)=>a.priority-g.priority)}}const ma=new ci;var ba=P('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),ya=P('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ta=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),wa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Da=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ra=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),ka=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Fa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),xa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ma=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Sa=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ca=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ka=P('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Pa=P('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),La=P('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Oa=P("<div><!></div>"),Na=P('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),Ba=P('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function Ea(G,i){yi(i,!1);const[a,g]=xi(),d=()=>fi($t,"$locale",a),t=()=>fi(Mi,"$_",a),l=y(),r=y(),b=y(),h=y(),k=y(),I=y(),j=y(),T=y(),Y=y(),H=y(),F=y(),Z=y(),U=y(),re=y(),L=y(),_=y(),V=y(),O=y(),ae=Ot();let J=Ye(i,"fighter1",8,null),E=Ye(i,"fighter2",8,null),C=Ye(i,"scheduledRounds",8,3);function $(Me){ae("roundsChanged",Me)}function se(Me,Be){return Me.filter(A=>A.type===Be)}function Q(Me){switch(Me){case Fi.HIGH:return"high-confidence";case Fi.MEDIUM:return"medium-confidence";case Fi.LOW:return"low-confidence";default:return""}}let Ke=d();X(()=>(B(J()),B(E())),()=>{u(l,J()&&E())}),X(()=>(e(l),B(J()),B(E()),B(C())),()=>{u(r,e(l)?ma.generateBetCards(J(),E(),!0,C()):[])}),X(()=>(e(l),B(J()),B(E()),e(r),gi),()=>{e(l)&&J()&&E()&&e(r).length>0&&gi.trackBettingAnalysis(J().name,E().name)}),X(()=>(e(r),be),()=>{u(b,se(e(r),be.MONEYLINE))}),X(()=>(e(r),be),()=>{u(h,se(e(r),be.VICTORY_METHOD))}),X(()=>(e(r),be),()=>{u(k,se(e(r),be.WINNER_AND_METHOD))}),X(()=>(e(r),be),()=>{u(I,se(e(r),be.DURATION))}),X(()=>(e(r),be),()=>{u(j,se(e(r),be.GOES_TO_DECISION))}),X(()=>(e(r),be),()=>{u(T,se(e(r),be.GONE_IN_60))}),X(()=>(e(r),be),()=>{u(Y,se(e(r),be.FIGHT_PROPS))}),X(()=>(e(r),be),()=>{u(H,se(e(r),be.KEY_FACTORS))}),X(()=>(e(r),be),()=>{u(F,se(e(r),be.TRENDS))}),X(()=>(e(r),be),()=>{u(Z,se(e(r),be.NO_PREDICTION))}),X(()=>(e(b),e(h),e(k),e(I),e(j),e(T)),()=>{u(U,e(b).length+e(h).length+e(k).length+e(I).length+e(j).length+e(T).length)}),X(()=>e(U),()=>{u(re,e(U)>0)}),X(()=>e(re),()=>{u(L,e(re)?0:1)}),X(()=>(e(Y),e(H),e(F)),()=>{u(_,e(Y).length+e(H).length+e(F).length)}),X(()=>(e(U),e(L),e(_)),()=>{u(V,e(U)+e(L)+e(_))}),X(()=>d(),()=>{d()!==Ke&&Ke&&window.location.reload()}),X(()=>e(l),()=>{u(O,e(l))}),Ti(),wi();var Ue=oi(),x=$e(Ue);{var ve=Me=>{var Be=Ba(),A=s(Be),ne=s(A),Fe=s(ne),Pe=s(Fe);it(Pe,{size:32});var qe=c(Fe),Ie=c(ne,4),Ee=s(Ie),oe=c(A,2),ue=s(oe),Ge=s(ue),Ae=s(Ge),We=c(Ge,2),Te=s(We),Se=c(We,2),he=s(Se),ee=c(ue,4),ge=s(ee),Ve=s(ge),je=c(ge,2),Xe=s(je),ze=c(je,2),ni=s(ze),Ze=c(oe,2);{var ri=w=>{var o=ba(),D=s(o),N=s(D),z=c(D,2),K=s(z),M=c(K,2);q(W=>{f(N,`${W??""}:`),He(K,1,`rounds-btn ${C()===3?"active":""}`,"svelte-1v78qb8"),He(M,1,`rounds-btn ${C()===5?"active":""}`,"svelte-1v78qb8")},[()=>(t(),n(()=>t()("fight_radar.scheduled_rounds")))]),Ne("click",K,()=>$(3)),Ne("click",M,()=>$(5)),m(w,o)};te(Ze,w=>{e(U)>0&&w(ri)})}var S=c(Ze,2);let de;var Le=s(S);ii(Le,1,()=>e(Z),si,(w,o)=>{var D=ya(),N=s(D),z=s(N);Ki(z,{size:16,style:"display: inline; margin-right: 0.25rem;"});var K=c(z),M=c(N,2),W=s(M),le=s(W),me=c(W,2),Re=s(me),fe=c(M,2),_e=s(fe);q((ce,xe,De,pe)=>{f(K,` ${ce??""}`),f(le,xe),f(Re,De),f(_e,pe)},[()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.confidence_threshold"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey,{values:e(o).metadata||{}})))]),m(w,D)});var Je=c(Le,2);ii(Je,1,()=>e(b),si,(w,o)=>{var D=Ta(),N=s(D),z=s(N),K=c(N,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,De)=>{He(D,1,`bet-card moneyline ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,(e(o),n(()=>e(o).prediction))),f(me,`${e(o),n(()=>e(o).confidence)??""}% ${xe??""}`),f(fe,De)},[()=>(e(o),n(()=>Q(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(w,D)});var ei=c(Je,2);ii(ei,1,()=>e(h),si,(w,o)=>{var D=wa(),N=s(D),z=s(N),K=c(N,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,De,pe)=>{He(D,1,`bet-card method-victory ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,xe),f(me,`${e(o),n(()=>e(o).confidence)??""}% ${De??""}`),f(fe,pe)},[()=>(e(o),n(()=>Q(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(w,D)});var li=c(ei,2);ii(li,1,()=>e(k),si,(w,o)=>{var D=Da(),N=s(D),z=s(N),K=c(N,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,De,pe)=>{He(D,1,`bet-card winner-and-method ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,`${e(o),n(()=>e(o).prediction)??""}
              ${xe??""}`),f(me,`${e(o),n(()=>e(o).confidence)??""}% ${De??""}`),f(fe,pe)},[()=>(e(o),n(()=>Q(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):"")),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(w,D)});var hi=c(li,2);ii(hi,1,()=>e(I),si,(w,o)=>{var D=Fa(),N=s(D),z=s(N),K=c(N,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re),_e=c(Re,2);{var ce=De=>{var pe=Ra(),Qe=s(pe);q(ti=>f(Qe,ti),[()=>(t(),e(o),n(()=>t()(e(o).explanationKey)))]),m(De,pe)},xe=De=>{var pe=oi(),Qe=$e(pe);{var ti=ai=>{var di=ka(),ui=s(di);q(()=>f(ui,(e(o),n(()=>e(o).explanation)))),m(ai,di)};te(Qe,ai=>{e(o),n(()=>e(o).explanation)&&ai(ti)},!0)}m(De,pe)};te(_e,De=>{e(o),n(()=>e(o).explanationKey)?De(ce):De(xe,!1)})}q((De,pe,Qe,ti,ai)=>{He(D,1,`bet-card total-rounds ${De??""}`,"svelte-1v78qb8"),f(z,pe),f(W,Qe),f(me,`${e(o),n(()=>e(o).confidence)??""}% ${ti??""}`),f(fe,ai)},[()=>(e(o),n(()=>Q(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(w,D)});var v=c(hi,2);ii(v,1,()=>e(j),si,(w,o)=>{var D=xa(),N=s(D),z=s(N),K=c(N,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,De,pe)=>{He(D,1,`bet-card decision-type ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,xe),f(me,`${e(o),n(()=>e(o).confidence)??""}% ${De??""}`),f(fe,pe)},[()=>(e(o),n(()=>Q(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(w,D)});var p=c(v,2);ii(p,1,()=>e(T),si,(w,o)=>{var D=Ma(),N=s(D),z=s(N),K=c(N,2),M=s(K),W=s(M),le=c(M,2),me=s(le),Re=c(K,2),fe=s(Re);q((_e,ce,xe,De,pe)=>{He(D,1,`bet-card gone-in-60 ${_e??""}`,"svelte-1v78qb8"),f(z,ce),f(W,xe),f(me,`${e(o),n(()=>e(o).confidence)??""}% ${De??""}`),f(fe,pe)},[()=>(e(o),n(()=>Q(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(w,D)});var R=c(p,2);ii(R,1,()=>e(Y),si,(w,o)=>{var D=Ka(),N=s(D),z=s(N);et(z,{size:16,style:"display: inline; margin-right: 0.25rem;"});var K=c(z),M=c(N,2),W=s(M),le=s(W),me=c(W,2),Re=s(me),fe=c(M,2),_e=s(fe),ce=c(fe,2);{var xe=pe=>{var Qe=Sa(),ti=s(Qe);q(ai=>f(ti,ai),[()=>(t(),e(o),n(()=>t()(e(o).explanationKey)))]),m(pe,Qe)},De=pe=>{var Qe=oi(),ti=$e(Qe);{var ai=di=>{var ui=Ca(),Ri=s(ui);q(()=>f(Ri,(e(o),n(()=>e(o).explanation)))),m(di,ui)};te(ti,di=>{e(o),n(()=>e(o).explanation)&&di(ai)},!0)}m(pe,Qe)};te(ce,pe=>{e(o),n(()=>e(o).explanationKey)?pe(xe):pe(De,!1)})}q((pe,Qe,ti,ai,di)=>{f(K,` ${pe??""}`),f(le,Qe),f(Re,`${ti??""}: ${ai??""}`),f(_e,di)},[()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.value"))),()=>(e(o),t(),n(()=>e(o).metadata?.valueKey?t()(e(o).metadata.valueKey):e(o).metadata?.value||"N/A")),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(w,D)});var ie=c(R,2);ii(ie,1,()=>e(H),si,(w,o)=>{var D=La(),N=s(D),z=s(N),K=c(N,2);ii(K,5,()=>(e(o),n(()=>e(o).metadata?.factors||[])),si,(M,W)=>{var le=Pa(),me=s(le),Re=s(me),fe=c(me,2),_e=s(fe);q(ce=>{f(Re,ce),f(_e,(e(W),n(()=>e(W).value)))},[()=>(t(),e(W),n(()=>t()(e(W).label)))]),m(M,le)}),q(M=>f(z,M),[()=>(t(),e(o),n(()=>t()(e(o).titleKey)))]),m(w,D)});var we=c(ie,2);ii(we,1,()=>e(F),si,(w,o)=>{var D=Na(),N=s(D),z=s(N),K=c(N,2);ii(K,5,()=>(e(o),n(()=>e(o).metadata?.trends||[])),si,(M,W)=>{var le=Oa(),me=s(le);{var Re=_e=>{var ce=pi();q(xe=>f(ce,xe),[()=>(t(),e(W),n(()=>t()(e(W).textKey,{values:e(W).params||{}})))]),m(_e,ce)},fe=_e=>{var ce=pi();q(()=>f(ce,(e(W),n(()=>e(W).text)))),m(_e,ce)};te(me,_e=>{e(W),n(()=>e(W).textKey)?_e(Re):_e(fe,!1)})}q(()=>He(le,1,`trend-item ${e(W),n(()=>e(W).type)??""}`,"svelte-1v78qb8")),m(M,le)}),q(M=>f(z,M),[()=>(t(),e(o),n(()=>t()(e(o).titleKey)))]),m(w,D)});var ke=c(S,2),Oe=s(ke),Ce=s(Oe);q((w,o,D,N)=>{f(qe,` ${w??""}`),f(Ee,o),f(Ae,(B(J()),n(()=>J().name))),f(Te,`${B(J()),n(()=>J().rawData.win)??""}-${B(J()),n(()=>J().rawData.loss)??""}-${B(J()),n(()=>J().rawData.draws)??""}`),f(he,(B(J()),n(()=>J().archetype.archetypeEmojis))),f(Ve,(B(E()),n(()=>E().name))),f(Xe,`${B(E()),n(()=>E().rawData.win)??""}-${B(E()),n(()=>E().rawData.loss)??""}-${B(E()),n(()=>E().rawData.draws)??""}`),f(ni,(B(E()),n(()=>E().archetype.archetypeEmojis))),de=He(S,1,"betting-grid svelte-1v78qb8",null,de,D),f(Ce,`* ${N??""}`)},[()=>(t(),n(()=>t()("combat_analysis.fight_analysis"))),()=>(t(),n(()=>t()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(V)<=3}),()=>(t(),n(()=>t()("combat_analysis.disclaimer")))]),m(Me,Be)};te(x,Me=>{e(O)&&Me(ve)})}m(G,Ue),Di(),g()}var Wa=P('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),$a=P('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Ia=P('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Aa=P('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),Va=P('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Ha=P('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),qa=P('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Ga=P('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Ua=P('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function ja(G,i){yi(i,!1);const a=y(),g=y(),d=y(),t=y();let l=Ye(i,"channelId",8),r=y([]),b=y(!0),h=y(null),k=y(0),I=y(!1),j=y(null),T=y(!0);function Y(){e(r).length!==0&&(u(T,!0),Ai(k),e(k)>=e(r).length*2&&setTimeout(()=>{u(T,!1),u(k,e(r).length),setTimeout(()=>{u(T,!0)},50)},400))}function H(){e(r).length!==0&&(u(T,!0),Ai(k,-1),e(k)<e(r).length&&setTimeout(()=>{u(T,!1),u(k,e(r).length*2-1),setTimeout(()=>{u(T,!0)},50)},400))}function F(x){u(j,x)}let Z=0,U=0,re=0,L=!1,_=!1,V=y(0),O=0;const ae=40;function J(x){e(I)&&(Z=x.touches[0].clientX,U=x.touches[0].clientY,re=Z,L=!0,_=!1,u(T,!1),O=e(k),u(V,0))}function E(x){if(!e(I)||!L)return;const ve=x.touches[0].clientX,Me=x.touches[0].clientY,Be=Math.abs(ve-Z),A=Math.abs(Me-U);if(!_)if(Be>ae&&Be>A)_=!0;else if(A>Be&&A>10){L=!1,_=!1,u(T,!0),u(V,0);return}else return;if(_){re=ve;const ne=re-Z,Fe=x.currentTarget instanceof HTMLElement?x.currentTarget.clientWidth:window.innerWidth;u(V,-(ne/Fe)*100),x.preventDefault()}}function C(){if(!e(I)||!L)return;L=!1,_=!1,u(T,!0);const x=Z-re;Math.abs(x)>50?x>0?u(k,O+1):u(k,O-1):Math.abs(e(V))>40?u(k,O+(e(V)>0?1:-1)):u(k,O),e(k)>=e(r).length*2?setTimeout(()=>{u(T,!1),u(k,e(r).length),setTimeout(()=>{u(T,!0)},50)},400):e(k)<e(r).length&&setTimeout(()=>{u(T,!1),u(k,e(r).length*2-1),setTimeout(()=>{u(T,!0)},50)},400),u(V,0),Z=0,U=0,re=0}function $(){const x=window.innerWidth;u(I,x<768)}tt(()=>($(),window.addEventListener("resize",$),(async()=>{try{const x=await It.fetchVideosByChannelId(l(),!0);x.length===0?u(h,"No se encontraron videos para este canal"):(u(r,x),console.log(`Loaded ${e(r).length} videos from channel ${l()}`))}catch(x){console.error("Error fetching videos:",x),u(h,"Error al cargar los videos")}finally{u(b,!1)}})(),()=>{window.removeEventListener("resize",$)})),X(()=>e(I),()=>{u(a,e(I)?1:window.innerWidth>=1024?4:3)}),X(()=>(e(I),e(a)),()=>{u(g,e(I)?80:100/e(a))}),X(()=>e(I),()=>{u(d,e(I)?10:0)}),X(()=>e(r),()=>{u(t,e(r).length>0?[...e(r).map((x,ve)=>({...x,_key:`prev-${ve}`})),...e(r).map((x,ve)=>({...x,_key:`curr-${ve}`})),...e(r).map((x,ve)=>({...x,_key:`next-${ve}`}))]:[])}),X(()=>(e(r),e(k)),()=>{e(r).length>0&&e(k)===0&&u(k,e(r).length)}),Ti(),wi();var se=Ua(),Q=s(se);{var Ke=x=>{var ve=Wa();m(x,ve)},Ue=x=>{var ve=oi(),Me=$e(ve);{var Be=ne=>{var Fe=$a(),Pe=s(Fe),qe=s(Pe);q(()=>f(qe,e(h))),m(ne,Fe)},A=ne=>{var Fe=oi(),Pe=$e(Fe);{var qe=Ie=>{var Ee=Ga(),oe=s(Ee);{var ue=he=>{var ee=Ia();Ne("click",ee,H),m(he,ee)};te(oe,he=>{e(r),n(()=>e(r).length>1)&&he(ue)})}var Ge=c(oe,2),Ae=s(Ge);let We;ii(Ae,5,()=>e(t),he=>he._key,(he,ee)=>{var ge=Ha(),Ve=s(ge);{var je=S=>{var de=Aa(),Le=s(de);q(()=>{ye(Le,"src",`${e(ee),n(()=>e(ee).embedUrl)??""}?autoplay=1`),ye(Le,"title",(e(ee),n(()=>e(ee).title)))}),m(S,de)},Xe=S=>{var de=Va(),Le=s(de);q(()=>{ye(de,"aria-label",`Reproducir ${e(ee),n(()=>e(ee).title)??""}`),ye(Le,"src",(e(ee),n(()=>e(ee).thumbnailUrl))),ye(Le,"alt",(e(ee),n(()=>e(ee).title)))}),Ne("click",de,()=>F(e(ee)._key)),m(S,de)};te(Ve,S=>{e(j),e(ee),n(()=>e(j)===e(ee)._key)?S(je):S(Xe,!1)})}var ze=c(Ve,2),ni=s(ze),Ze=s(ni),ri=s(Ze);q(()=>{bi(ge,`flex: 0 0 ${e(I)?"80%":100/e(a)+"%"}`),ye(ni,"href",(e(ee),n(()=>e(ee).watchUrl))),f(ri,(e(ee),n(()=>e(ee).title)))}),m(he,ge)});var Te=c(Ge,2);{var Se=he=>{var ee=qa();Ne("click",ee,Y),m(he,ee)};te(Te,he=>{e(r),n(()=>e(r).length>1)&&he(Se)})}q(he=>{We=He(Ae,1,"videos-track svelte-18xx8u1",null,We,he),bi(Ae,`transform: translateX(-${e(k)*e(g)-e(d)+e(V)}%)`)},[()=>({"no-transition":!e(T)})]),Ne("touchstart",Ee,J),Ne("touchmove",Ee,E),Ne("touchend",Ee,C),m(Ie,Ee)};te(Pe,Ie=>{e(r),n(()=>e(r).length>0)&&Ie(qe)},!0)}m(ne,Fe)};te(Me,ne=>{e(h)?ne(Be):ne(A,!1)},!0)}m(x,ve)};te(Q,x=>{e(b)?x(Ke):x(Ue,!1)})}m(G,se),Di()}var za=P('<div class="loading svelte-1ibyju2" id="loading"><div class="loading-content svelte-1ibyju2"><div class="spinner svelte-1ibyju2"></div> <p class="svelte-1ibyju2"> </p></div></div>'),Ya=P('<button class="share-fight-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1ibyju2"></path></svg> </button>'),Qa=P('<div class="action-buttons-section svelte-1ibyju2"><!> <button class="clear-radars-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1ibyju2"></path></svg> </button></div>'),Xa=P('<div class="controls svelte-1ibyju2"><div class="fighter-selectors svelte-1ibyju2"><div class="control-group svelte-1ibyju2"><label for="fighter1-select" class="svelte-1ibyju2"> </label> <div id="fighter1-container-select" class="svelte-1ibyju2"><!></div></div> <div class="vs-divider svelte-1ibyju2">VS</div> <div class="control-group svelte-1ibyju2"><label for="fighter2-select" class="svelte-1ibyju2"> </label> <div id="fighter2-container-select" class="svelte-1ibyju2"><!></div></div></div> <!></div>'),Za=P('<div class="division-disclaimer svelte-1ibyju2"><div class="disclaimer-title svelte-1ibyju2"><!> <strong class="svelte-1ibyju2"> </strong></div> <div class="disclaimer-text svelte-1ibyju2"> </div></div>'),Ja=P('<div class="fighter-info svelte-1ibyju2"><div id="fighter1-container" class="svelte-1ibyju2"><!></div> <div id="fighter2-container" class="svelte-1ibyju2"><!></div></div>'),es=P('<div class="radar-container svelte-1ibyju2"><div id="fight-radar-container" class="svelte-1ibyju2"><!></div> <div id="iq-radar-container" class="svelte-1ibyju2"><!></div></div>'),is=P('<hr class="section-divider svelte-1ibyju2"/> <!> <div class="view-calendar-link svelte-1ibyju2"><button class="calendar-link-btn svelte-1ibyju2"> </button></div>',1),ts=P('<hr class="section-divider svelte-1ibyju2"/> <!>',1),as=P('<div class="fight-radar-app svelte-1ibyju2"><div class="container svelte-1ibyju2"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function us(G,i){yi(i,!1);const[a,g]=xi(),d=()=>fi(ae,"$urlSearchParams",a),t=()=>fi(Mi,"$_",a),l=y(),r=y(),b=y(),h=y(),k=y(),I=y(),j=y(),T=y(),Y=y(),H=y(),F=y(),Z=y();let U=Ye(i,"isDarkMode",8,!0),re=Ye(i,"toggleTheme",8,()=>{}),L=y(new Map),_=y(new Map),V=y([]),O=y(new Map);const ae=Nt(vi());function J(v,p){const R=`fighter${p}`;_i({[R]:v}),ae.set(vi())}function E(v){_i({rounds:v.toString()}),ae.set(vi())}let C=y(!1),$=y(!1),se=y(!1),Q=y(!1),Ke=y(!1),Ue=y(!1),x=y(!1),ve=y(!1),Me=!1;tt(()=>{window.Highcharts=Bt,ae.set(vi());const v=At(()=>{ae.set(vi())});return Be(),v});async function Be(){try{u(C,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:p,processedFightersMap:R,processedFighters:ie}=await Ht.loadFightersFromCSV();u(L,v),u(O,p),u(_,R),u(V,ie),u($,!0)}catch(v){console.error("Error loading data:",v)}finally{u(C,!1)}}function A(v=[]){return v.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:ne(p)}))}function ne(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:Fe(v.division)?"no_photo_female.png":"no_photo_male.png"}function Fe(v){return!!(v&&v.startsWith("W_"))}function Pe(v){if(J(v,1),!(!Me&&d().has("rounds"))){const R=e(L).get(v),ie=e(r)?e(L).get(e(r)):null;R&&R.division_ranking==="0"||ie&&ie.division_ranking==="0"?E(5):(_i({rounds:""}),ae.set(vi()))}Me=!0,v&&!e(r)&&(u(ve,!1),setTimeout(()=>{u(ve,!0),setTimeout(()=>{u(ve,!1)},50)},100))}function qe(v){if(J(v,2),!d().has("rounds")){const R=e(l)?e(L).get(e(l)):null,ie=e(L).get(v);R&&R.division_ranking==="0"||ie&&ie.division_ranking==="0"?E(5):(_i({rounds:""}),ae.set(vi()))}v&&!e(l)&&(u(x,!1),setTimeout(()=>{u(x,!0),setTimeout(()=>{u(x,!1)},50)},100))}function Ie(v){u(Ke,v)}function Ee(v){u(Ue,v)}function oe(){gi.trackCleanRadars(),_i({fighter1:"",fighter2:"",rounds:""}),ae.set(vi())}function ue(){if(!e(l)||!e(r))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";gi.trackFightShare(e(l),e(r),v);const p=Vt("/",{fighter1:e(l),fighter2:e(r)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(r)} - Fight-Radar`,text:`Compara las estadsticas de ${e(l)} vs ${e(r)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Ge("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Ge(v){const p=document.createElement("div");p.className="notification",p.textContent=v,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function Ae(v,p,R){const ie=[];return v&&ie.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&ie.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),R&&ie.push({name:R.name,data:[R.fightRadar.STR_OFF,R.fightRadar.STR_DEF,R.fightRadar.TD_OFF,R.fightRadar.TD_DEF,R.fightRadar.CTRL,R.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ie}function We(v,p,R){const ie=[];return v&&ie.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&ie.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),R&&ie.push({name:R.name,data:[R.iqRadar.distance,R.iqRadar.adaptability,R.iqRadar.composure,R.iqRadar.decisions,R.iqRadar.rhythm,R.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ie}function Te(v){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[R,ie,we]=v.combinedRole.split("+")??["AT"];let ke=[[R,100]];if(ie&&we?ke=[[R,33],[ie,34],[we,33]]:ie?ke=[[R,50],[ie,50]]:we&&(ke=[[R,60],[we,40]]),ke.length===1){const[Oe,Ce]=ke[0],w=Math.min(Ce,70);return`linear-gradient(135deg, ${p[Oe]} 0%, ${p[Oe]} ${w}%, var(--card-bg) 100%)`}else{const Oe=ke.reduce((D,[,N])=>D+N,0);let Ce=[],w=0;return ke.forEach(([D,N],z)=>{const K=N/Oe*85,M=p[D];z===0&&Ce.push(`${M} ${w}%`),w+=K,z===ke.length-1?(Ce.push(`${M} ${w}%`),Ce.push("var(--card-bg) 100%")):Ce.push(`${M} ${w}%`)}),`linear-gradient(135deg, ${Ce.join(", ")})`}}X(()=>d(),()=>{u(l,d().get("fighter1")||"")}),X(()=>d(),()=>{u(r,d().get("fighter2")||"")}),X(()=>d(),()=>{u(b,d().get("rounds")==="5"?5:3)}),X(()=>(e(Ke),e(Ue)),()=>{u(h,e(Ke)||e(Ue))}),X(()=>(e(V),e(r)),()=>{u(k,A(e(V)).filter(v=>v.value!==e(r)))}),X(()=>(e(V),e(l)),()=>{u(I,A(e(V)).filter(v=>v.value!==e(l)))}),X(()=>(e(l),e(r),e(L),e(O),qi),()=>{u(j,(()=>{if(!e(l)||!e(r))return null;const v=e(L).get(e(l)),p=e(L).get(e(r));if(!v||!p)return null;if(v.Division===p.Division){const R=v.Division;if(e(O).has(R))return qi(R,e(O).get(R))}return null})())}),X(()=>(e(l),e(_)),()=>{u(T,e(l)?e(_).get(e(l))??null:null)}),X(()=>(e(r),e(_)),()=>{u(Y,e(r)?e(_).get(e(r))??null:null)}),X(()=>(e(j),e(l),e(r),e(L),e(O),Gi),()=>{u(H,(()=>{if(!e(j)||!e(l)||!e(r))return null;const v=e(L).get(e(l));return!v||!e(O).has(v.Division)?null:Gi(e(j),e(O).get(v.Division))})())}),X(()=>(e(T),e(Y),e(H)),()=>{u(F,Ae(e(T)??null,e(Y)??null,e(H)??null))}),X(()=>(e(T),e(Y),e(H)),()=>{u(Z,We(e(T),e(Y),e(H)))}),X(()=>(e(C),e(L),e(l),e(r),gi),()=>{const v=!e(C)&&e(L).size>0&&e(L).has(e(l))&&e(L).has(e(r));u(se,!!(e(l)&&e(r)&&v)),u(Q,!!(e(l)&&e(r)&&v)),e(l)&&e(r)&&v&&gi.trackFighterComparison(e(l),e(r))}),Ti(),wi();var Se=as(),he=s(Se),ee=s(he);Et(ee,{showThemeToggle:!0,get isDarkMode(){return U()},get toggleTheme(){return re()}});var ge=c(ee,2);{var Ve=v=>{var p=za(),R=s(p),ie=c(s(R),2),we=s(ie);q(ke=>f(we,ke),[()=>(t(),n(()=>t()("fight_radar.loading_data")))]),m(v,p)};te(ge,v=>{e(C)&&v(Ve)})}var je=c(ge,2);{var Xe=v=>{var p=Xa(),R=s(p),ie=s(R),we=s(ie),ke=s(we),Oe=c(we,2),Ce=s(Oe);{let W=ki(()=>(t(),n(()=>t()("common.select_fighter"))));Xi(Ce,{id:"fighter1-select",get placeholder(){return e(W)},disabled:!1,get options(){return e(k)},get selectedValue(){return e(l)},onSelectionChange:Pe,onOpenStateChange:Ie,get shouldOpen(){return e(x)}})}var w=c(ie,4),o=s(w),D=s(o),N=c(o,2),z=s(N);{let W=ki(()=>(t(),n(()=>t()("common.select_fighter"))));Xi(z,{id:"fighter2-select",get placeholder(){return e(W)},disabled:!1,get options(){return e(I)},get selectedValue(){return e(r)},onSelectionChange:qe,onOpenStateChange:Ee,get shouldOpen(){return e(ve)}})}var K=c(R,2);{var M=W=>{var le=Qa(),me=s(le);{var Re=ce=>{var xe=Ya(),De=c(s(xe));q(pe=>f(De,` ${pe??""}`),[()=>(t(),n(()=>t()("fight_radar.share_fight")))]),Ne("click",xe,ue),m(ce,xe)};te(me,ce=>{e(l)&&e(r)&&ce(Re)})}var fe=c(me,2),_e=c(s(fe));q(ce=>f(_e,` ${ce??""}`),[()=>(t(),n(()=>t()("fight_radar.clear_radars")))]),Ne("click",fe,oe),m(W,le)};te(K,W=>{(e(l)||e(r))&&W(M)})}q((W,le)=>{f(ke,`${W??""}:`),f(D,`${le??""}:`)},[()=>(t(),n(()=>t()("common.fighter_1"))),()=>(t(),n(()=>t()("common.fighter_2")))]),m(v,p)};te(je,v=>{e($)&&v(Xe)})}var ze=c(je,2);{var ni=v=>{var p=oi(),R=$e(p);{var ie=we=>{var ke=Za(),Oe=s(ke),Ce=s(Oe);Ki(Ce,{size:20,class:"disclaimer-icon"});var w=c(Ce,2),o=s(w),D=c(Oe,2),N=s(D);q((z,K)=>{f(o,z),f(N,K)},[()=>(t(),n(()=>t()("fight_radar.cross_division_title"))),()=>(t(),B(mi),e(T),e(Y),n(()=>t()("fight_radar.cross_division_text",{values:{division1:mi(e(T).rawData.Division),division2:mi(e(Y).rawData.Division)}})))]),m(we,ke)};te(R,we=>{e(T),e(Y),n(()=>e(T)?.rawData&&e(Y)?.rawData&&e(T).rawData.Division!==e(Y).rawData.Division)&&we(ie)})}m(v,p)};te(ze,v=>{e(l)&&e(r)&&e(se)&&v(ni)})}var Ze=c(ze,2);{var ri=v=>{var p=Ja(),R=s(p),ie=s(R);Zi(ie,{get fighter(){return e(T)},id:"fighter1-info"});var we=c(R,2),ke=s(we);Zi(ke,{get fighter(){return e(Y)},id:"fighter2-info"}),q((Oe,Ce)=>{bi(R,`background: ${Oe??""}`),bi(we,`background: ${Ce??""}`)},[()=>(e(T),n(()=>e(T)?Te(e(T).archetype):"var(--card-bg)")),()=>(e(Y),n(()=>e(Y)?Te(e(Y).archetype):"var(--card-bg)"))]),m(v,p)};te(Ze,v=>{e(se)&&v(ri)})}var S=c(Ze,2);{var de=v=>{var p=es(),R=s(p),ie=s(R);Vi(ie,()=>(e(l),e(r),e(F),n(()=>`${e(l)}-${e(r)}-${e(F).length}`)),Oe=>{{let Ce=ki(()=>(B(Ui),n(Ui)));zi(Oe,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(Ce)},get series(){return e(F)},isIQRadar:!1})}});var we=c(R,2),ke=s(we);Vi(ke,()=>(e(l),e(r),e(Z),n(()=>`${e(l)}-${e(r)}-${e(Z).length}`)),Oe=>{{let Ce=ki(()=>(B(ji),n(ji)));zi(Oe,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(Ce)},get series(){return e(Z)},isIQRadar:!0})}}),m(v,p)};te(S,v=>{e(Q),e(F),n(()=>e(Q)&&e(F).length>0)&&v(de)})}var Le=c(S,2);Ea(Le,{get fighter1(){return e(T)},get fighter2(){return e(Y)},get scheduledRounds(){return e(b)},$$events:{roundsChanged:v=>E(v.detail)}});var Je=c(Le,2);{var ei=v=>{var p=is(),R=c($e(p),2);Wt(R,{limit:2});var ie=c(R,2),we=s(ie),ke=s(we);q(Oe=>f(ke,`${Oe??""} `),[()=>(t(),n(()=>t()("banner.view_calendar")))]),Ne("click",we,()=>at("/calendar")),m(v,p)};te(Je,v=>{!e(l)&&!e(r)&&!e(h)&&v(ei)})}var li=c(he,2);{var hi=v=>{var p=ts(),R=c($e(p),2);ja(R,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),m(v,p)};te(li,v=>{!e(l)&&!e(r)&&!e(h)&&v(hi)})}m(G,Se),Di(),g()}export{us as default};
