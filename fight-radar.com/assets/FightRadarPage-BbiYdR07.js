import{q as gt,p as je,l as H,C as b,z as C,r as T,A as e,h as wt,j as ut,f as R,m as Ye,$ as Nt,i as Y,c as r,u as d,S as Mt,t as K,B as we,s as Ee,b as f,o as pt,I as mt,n as Ue,x as n,y as _,J as vt,T as _a,k as ot,D as He,E as We,Q as $t,U as ha,V as Ct,W as xt,Y as ga,Z as zt,_ as Bt,a0 as Kt,a as ua,a1 as pa,w as ma,F as ya,K as ft,a2 as Ot}from"./lucide-CFoebsfS.js";import{H as fa}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ba}from"./Header-BlFPMJQR.js";import{$ as yt,n as qt,A as _t,a as wa,g as ht,b as Da,u as Et,c as xa}from"./index-Cs46oOKh.js";import{c as kt,g as It,f as ka,a as At,p as Lt,b as Ft,d as Pt,e as Ht}from"./fighters_service-B76OG7kh.js";import{R as Fa,a as Wt}from"./RadarChart-BcjIv8TZ.js";import{F as Ra}from"./FindYoutubeHighlights-CWAHTT-Y.js";import"./highcharts-DyRVWUji.js";var Ca=R('<img class="svelte-gkl5a1"/>'),Ka=R('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Sa=R("<!> <span> </span>",1),Ta=R("<span> </span>"),Na=R('<img class="svelte-gkl5a1"/>'),Ma=R('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),$a=R('<button type="button"><!> <span> </span></button>'),Oa=R('<div class="no-results svelte-gkl5a1"> </div>'),Ea=R('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),Ia=R('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Ut(j,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(yt,"$_",i),a=C(),l=C();let h=je(t,"id",8),g=je(t,"placeholder",8,""),v=je(t,"disabled",8,!0),p=je(t,"options",24,()=>[]),y=je(t,"selectedValue",12,""),D=je(t,"onSelectionChange",8,void 0),I=C(!1),A=C(),ae=C(),te=C("");function fe(){v()||(b(I,!e(I)),e(I)&&setTimeout(()=>e(ae)?.focus(),0))}function G($){y($.value),b(te,""),b(I,!1),D()&&D()($.value,$)}function X($){const pe=$.target;b(te,pe.value)}function x($){$.key==="Enter"&&e(l).length>0?(G(e(l)[0]),$.preventDefault()):$.key==="Escape"&&(b(te,""),b(I,!1))}function N($){e(A)&&!e(A).contains($.target)&&(b(I,!1),b(te,""))}function M($){$.key==="Escape"&&b(I,!1)}H(()=>(T(p()),T(y())),()=>{b(a,p().find($=>$.value===y()))}),H(()=>(e(te),T(p()),kt),()=>{b(l,e(te)?p().filter($=>kt($.label.toLowerCase()).includes(kt(e(te).toLowerCase()))):p())}),wt(),ut();var se=Ia();Ye("click",Nt,N),Ye("keydown",Nt,M);var Q=r(se);let ue;var k=r(Q),oe=r(k);{var xe=$=>{var pe=Sa(),Ce=Ue(pe);{var ke=Ke=>{var $e=Ca();K(()=>{we($e,"src",(e(a),n(()=>e(a).imageUrl))),we($e,"alt",(e(a),n(()=>e(a).label)))}),f(Ke,$e)},ze=Ke=>{var $e=ot(),Qe=Ue($e);{var et=Ae=>{var ce=Ka(),Fe=r(ce);$t(Fe,()=>e(a).iconComponent,(Ge,qe)=>{qe(Ge,{size:16})}),f(Ae,ce)};Y(Qe,Ae=>{e(a),n(()=>e(a)?.iconComponent)&&Ae(et)},!0)}f(Ke,$e)};Y(Ce,Ke=>{e(a),n(()=>e(a)?.imageUrl)?Ke(ke):Ke(ze,!1)})}var Ve=d(Ce,2),Be=r(Ve);K(()=>_(Be,(e(a),n(()=>e(a).label)))),f($,pe)},Ie=$=>{var pe=Ta(),Ce=r(pe);K(ke=>_(Ce,ke),[()=>(T(g()),o(),n(()=>g()||o()("common.select_option")))]),f($,pe)};Y(oe,$=>{e(a)?$(xe):$(Ie,!1)})}var lt=d(k,2);let rt;var st=d(Q,2);{var dt=$=>{var pe=Ea(),Ce=r(pe),ke=r(Ce);Mt(ke,ce=>b(ae,ce),()=>e(ae));var ze=d(Ce,2),Ve=r(ze);let Be;var Ke=r(Ve),$e=r(Ke),Qe=d(Ve,2);{var et=ce=>{var Fe=ot(),Ge=Ue(Fe);He(Ge,1,()=>e(l),We,(qe,de)=>{var Se=$a();let Ze;var tt=r(Se);{var nt=O=>{var q=Na();K(()=>{we(q,"src",(e(de),n(()=>e(de).imageUrl))),we(q,"alt",(e(de),n(()=>e(de).label)))}),Ye("error",q,ie=>{ie.currentTarget.style.display="none"}),f(O,q)},u=O=>{var q=ot(),ie=Ue(q);{var me=ne=>{var De=Ma(),Oe=r(De);$t(Oe,()=>e(de).iconComponent,(Le,Pe)=>{Pe(Le,{size:16})}),f(ne,De)};Y(ie,ne=>{e(de),n(()=>e(de)?.iconComponent)&&ne(me)},!0)}f(O,q)};Y(tt,O=>{e(de),n(()=>e(de)?.imageUrl)?O(nt):O(u,!1)})}var m=d(tt,2),F=r(m);K(O=>{Ze=Ee(Se,1,"dropdown-item svelte-gkl5a1",null,Ze,O),_(F,(e(de),n(()=>e(de).label)))},[()=>({selected:y()===e(de).value})]),Ye("click",Se,()=>G(e(de))),f(qe,Se)}),f(ce,Fe)},Ae=ce=>{var Fe=ot(),Ge=Ue(Fe);{var qe=de=>{var Se=Oa(),Ze=r(Se);K(()=>_(Ze,`No se encontraron resultados para "${e(te)??""}"`)),f(de,Se)};Y(Ge,de=>{e(te)&&de(qe)},!0)}f(ce,Fe)};Y(Qe,ce=>{e(l),n(()=>e(l).length>0)?ce(et):ce(Ae,!1)})}K((ce,Fe,Ge)=>{we(ke,"placeholder",ce),we(ze,"id",`dropdown-options-${h()??""}`),Be=Ee(Ve,1,"dropdown-item svelte-gkl5a1",null,Be,Fe),_($e,Ge)},[()=>(o(),n(()=>o()("common.search")||"Search...")),()=>({selected:y()===""}),()=>(T(g()),o(),n(()=>g()||o()("common.select_option")))]),_a(ke,()=>e(te),ce=>b(te,ce)),Ye("input",ke,X),Ye("keydown",ke,x),Ye("click",Ve,()=>G({value:"",label:g(),imageUrl:""})),f($,pe)};Y(st,$=>{e(I)&&$(dt)})}Mt(se,$=>b(A,$),()=>e(A)),K(($,pe)=>{we(se,"id",h()),ue=Ee(Q,1,"dropdown-button svelte-gkl5a1",null,ue,$),Q.disabled=v(),we(Q,"aria-expanded",e(I)),we(Q,"aria-controls",`dropdown-options-${h()??""}`),rt=Ee(lt,1,"dropdown-arrow svelte-gkl5a1",null,rt,pe)},[()=>({disabled:v(),open:e(I)}),()=>({rotated:e(I)})]),Ye("click",Q,fe),f(j,se),pt(),c()}function Rt(j,t){if(t()){const i=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;qt(i)}}var Aa=R('<img class="fighter-image svelte-1gw86rr"/> <div class="fighter-placeholder svelte-1gw86rr" style="display: none;">Picture Unavailable</div>',1),La=R('<div class="fighter-placeholder svelte-1gw86rr">Picture Unavailable</div>'),Pa=(j,t)=>j.key==="Enter"&&t(),Ha=R('<div class="stat-item role-disc-clickable svelte-1gw86rr" role="button" tabindex="0"><span class="stat-label svelte-1gw86rr">ROLE-DISC:</span> <span><div class="role-emojis svelte-1gw86rr"> </div> <div class="role-name svelte-1gw86rr"> </div></span></div>'),Wa=R('<hr class="archetype-divider svelte-1gw86rr"/> <div class="archetype-container svelte-1gw86rr"><div class="archetype-section svelte-1gw86rr"><h3 class="archetype-section-title svelte-1gw86rr"> </h3> <div class="archetype-fields svelte-1gw86rr"><div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value description svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value favorite-zone svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value strengths svelte-1gw86rr"> </div></div> <div class="archetype-field svelte-1gw86rr"><div class="archetype-field-header svelte-1gw86rr"><span class="archetype-icon svelte-1gw86rr"><!></span> <div class="archetype-field-label svelte-1gw86rr"> </div></div> <div class="archetype-field-value weaknesses svelte-1gw86rr"> </div></div></div></div></div>',1),Ua=R('<div class="fighter-header svelte-1gw86rr"><div class="header-actions svelte-1gw86rr"><!> <button type="button" class="fighter-detail-cta svelte-1gw86rr" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1gw86rr"><div class="fighter-image-container svelte-1gw86rr"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1gw86rr"><div class="fighter-name svelte-1gw86rr"> </div></button> <div class="star-rating svelte-1gw86rr"><div class="stars-container svelte-1gw86rr"></div></div> <div class="fighter-stats svelte-1gw86rr"><!> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value career-record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value record svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span><!></span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value height svelte-1gw86rr"> </span></div> <div class="stat-item svelte-1gw86rr"><span class="stat-label svelte-1gw86rr"> </span> <span class="stat-value reach svelte-1gw86rr"> </span></div></div> <!>',1),Va=R('<div class="empty-card svelte-1gw86rr"><div class="empty-message svelte-1gw86rr"> </div></div>'),Ga=R('<div class="fighter-card svelte-1gw86rr"><!></div> <!>',1);function Vt(j,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(yt,"$_",i),a=C(),l=C(),h=C(),g=C();let v=je(t,"fighter",8,null),p=je(t,"id",8,""),y=C(!1);function D(){b(y,!0)}function I(){b(y,!1)}H(()=>o(),()=>{b(a,x=>{if(!x||!x.startsWith("@ARCHETYPE_"))return x;let N="",M="";if(x.includes("_DESCRIPTION"))N=x.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),M="description";else if(x.includes("_FAVORITE_ZONE"))N=x.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),M="favorite_zone";else if(x.includes("_STRENGTHS"))N=x.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),M="strengths";else if(x.includes("_WEAKNESSES"))N=x.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),M="weaknesses";else{const ue=x.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!ue)return x;N=ue[1],M=ue[2].toLowerCase()}const se=`archetype_data.${N}.${M}`,Q=o()(se);return x.includes("_WEAKNESSES"),Q!==se?Q:x})}),H(()=>(T(v()),It),()=>{b(l,v()?It(v().archetype):null)}),H(()=>T(v()),()=>{b(h,v()?.rawData.height_inches?Math.floor(v().rawData.height_inches/12)+"'"+v().rawData.height_inches%12+'"':"-")}),H(()=>T(v()),()=>{b(g,v()?.rawData.reach_inches?v().rawData.reach_inches+'"':"-")}),wt(),ut();var A=Ga(),ae=Ue(A),te=r(ae);{var fe=x=>{var N=Ua(),M=Ue(N),se=r(M),Q=r(se);Ra(Q,{get fighterFullName(){return T(v()),n(()=>v().nameWithNickname)},size:"large"});var ue=d(Q,2);ue.__click=[Rt,v];var k=r(ue);ha(k,{size:16});var oe=d(se,2);oe.__click=[Rt,v];var xe=r(oe),Ie=r(xe);{var lt=z=>{var re=Aa(),Re=Ue(re);K(()=>{we(Re,"src",(T(v()),n(()=>v().pictureUrl))),we(Re,"alt",`${T(v()),n(()=>v().name)??""} fighter profile picture`)}),Ye("error",Re,Te=>{Te.currentTarget.style.display="none";const L=Te.currentTarget.nextElementSibling;L&&(L.style.display="block")}),f(z,re)},rt=z=>{var re=La();f(z,re)};Y(Ie,z=>{T(v()),n(()=>v().pictureUrl)?z(lt):z(rt,!1)})}var st=d(M,2);st.__click=[Rt,v];var dt=r(st),$=r(dt),pe=d(st,2),Ce=r(pe),ke=d(pe,2),ze=r(ke);{var Ve=z=>{var re=Ha();re.__click=D,re.__keydown=[Pa,D];var Re=r(re),Te=d(Re,2),L=r(Te),s=r(L),w=d(L,2),S=r(w);K((Z,U)=>{we(re,"aria-label",Z),we(Re,"title",U),Ee(Te,1,`stat-value role-indicator archetype-dots archetype-${e(l),n(()=>e(l).type)??""}`,"svelte-1gw86rr"),we(Te,"title",(e(l),n(()=>e(l).tooltip))),_(s,(e(l),n(()=>e(l).label))),_(S,(e(l),n(()=>e(l).name)))},[()=>(o(),n(()=>o()("role_disc_modal.open_modal_aria_label"))),()=>(o(),n(()=>o()("role_disc_modal.archetype_tooltip")))]),f(z,re)};Y(ze,z=>{e(l)&&z(Ve)})}var Be=d(ze,2),Ke=r(Be),$e=r(Ke),Qe=d(Ke,2),et=r(Qe),Ae=d(Be,2),ce=r(Ae),Fe=r(ce),Ge=d(ce,2),qe=r(Ge),de=d(Ae,2),Se=r(de),Ze=r(Se),tt=d(Se,2);let nt;var u=r(tt);{var m=z=>{var re=xt();K(()=>_(re,`+${T(v()),n(()=>v().streak)??""}W`)),f(z,re)},F=z=>{var re=ot(),Re=Ue(re);{var Te=s=>{var w=xt();K(()=>_(w,`${T(v()),n(()=>v().streak)??""}L`)),f(s,w)},L=s=>{var w=xt("-");f(s,w)};Y(Re,s=>{T(v()),n(()=>v().streak<0)?s(Te):s(L,!1)},!0)}f(z,re)};Y(u,z=>{T(v()),n(()=>v().streak>0)?z(m):z(F,!1)})}var O=d(de,2),q=r(O),ie=r(q),me=d(q,2),ne=r(me),De=d(O,2),Oe=r(De),Le=r(Oe),Pe=d(Oe,2),Je=r(Pe),at=d(ke,2);{var it=z=>{var re=Wa(),Re=d(Ue(re),2),Te=r(Re),L=r(Te),s=r(L),w=d(L,2),S=r(w),Z=r(S),U=r(Z),W=r(U);ga(W,{size:18});var ee=d(U,2),J=r(ee),ve=d(Z,2),be=r(ve),_e=d(S,2),he=r(_e),ye=r(he),P=r(ye);zt(P,{size:18});var B=d(ye,2),V=r(B),E=d(he,2),le=r(E),Ne=d(_e,2),Me=r(Ne),Xe=r(Me),ct=r(Xe);Bt(ct,{size:18});var Dt=d(Xe,2),Yt=r(Dt),jt=d(Me,2),Qt=r(jt),Zt=d(Ne,2),St=r(Zt),Tt=r(St),Jt=r(Tt);Kt(Jt,{size:18});var Xt=d(Tt,2),ea=r(Xt),ta=d(St,2),aa=r(ta);K((ia,ra,sa,na,oa,la,da,va,ca)=>{_(s,ia),_(J,ra),_(be,sa),_(V,na),_(le,oa),_(Yt,la),_(Qt,da),_(ea,va),_(aa,ca)},[()=>(o(),n(()=>o()("archetype.analysis_title"))),()=>(o(),n(()=>o()("archetype.tactical_description"))),()=>(e(a),T(v()),n(()=>e(a)(v().archetype.description))),()=>(o(),n(()=>o()("archetype.preferred_zone"))),()=>(e(a),T(v()),n(()=>e(a)(v().archetype.favoriteZone))),()=>(o(),n(()=>o()("archetype.strengths"))),()=>(e(a),T(v()),n(()=>e(a)(v().archetype.strengths))),()=>(o(),n(()=>o()("archetype.weaknesses"))),()=>(e(a),T(v()),n(()=>e(a)(v().archetype.weaknesses)))]),f(z,re)};Y(at,z=>{T(v()),n(()=>v().archetype)&&z(it)})}K((z,re,Re,Te,L,s,w,S,Z,U,W)=>{we(ue,"aria-label",`View detailed fighter profile for ${T(v()),n(()=>v().nameWithNickname)??""}`),_($,(T(v()),n(()=>v().name))),Ct(Ce,`--fill-width: ${T(v()),n(()=>v().stars*20)??""}%`),we(Ke,"title",z),_($e,`${re??""}:`),_(et,(T(v()),n(()=>v().career_record))),we(ce,"title",Re),_(Fe,`${Te??""}:`),_(qe,(T(v()),n(()=>v().record_36m))),we(Se,"title",L),_(Ze,`${s??""}:`),nt=Ee(tt,1,"stat-value streak svelte-1gw86rr",null,nt,w),we(q,"title",S),_(ie,`${Z??""}:`),_(ne,e(h)),we(Oe,"title",U),_(Le,`${W??""}:`),_(Je,e(g))},[()=>(o(),n(()=>o()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(o(),n(()=>o()("fighter_profile.career_record"))),()=>(o(),n(()=>o()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(o(),n(()=>o()("fighter_profile.record_36m"))),()=>(o(),n(()=>o()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(o(),n(()=>o()("fighter_profile.streak"))),()=>({"streak-win":v().streak>0,"streak-loss":v().streak<0}),()=>(o(),n(()=>o()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(o(),n(()=>o()("fighter_profile.height"))),()=>(o(),n(()=>o()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(o(),n(()=>o()("fighter_profile.reach")))]),f(x,N)},G=x=>{var N=Va(),M=r(N),se=r(M);K(Q=>_(se,Q),[()=>(o(),n(()=>o()("fight_radar.select_fighter_stats")))]),f(x,N)};Y(te,x=>{v()?x(fe):x(G,!1)})}var X=d(ae,2);Fa(X,{get isOpen(){return e(y)},$$events:{close:I}}),K(()=>we(ae,"id",p())),f(j,A),pt(),c()}ua(["click","keydown"]);var za=R('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function Ba(j,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(yt,"$_",i);function a(){qt("/calendar")}ut();var l=za(),h=r(l),g=r(h),v=r(g),p=r(v);pa(p,{size:24,style:"display: inline; margin-right: 0.5rem;"});var y=d(p),D=d(v,2),I=r(D),A=d(g,2),ae=r(A);K((te,fe,G)=>{_(y,` ${te??""}`),_(I,fe),_(ae,G)},[()=>o()("banner.new_functionality"),()=>o()("banner.explore_calendar"),()=>o()("banner.view_calendar")]),Ye("click",A,a),f(j,l),pt(),c()}var ge=(j=>(j.FIGHT_WINNER="fight_winner",j.METHOD_OF_VICTORY="method_of_victory",j.WINNER_AND_ROUND="winner_and_round",j.TOTAL_ROUNDS="total_rounds",j.SPECIFIC_FINISH_METHOD="specific_finish_method",j.GOES_TO_DECISION="goes_to_decision",j.DISTANCE_YES_NO="distance_yes_no",j.GONE_IN_60="gone_in_60",j.FIGHT_PROPS="fight_props",j.KEY_FACTORS="key_factors",j.TRENDS="trends",j.NO_PREDICTION="no_prediction",j))(ge||{}),bt=(j=>(j.HIGH="high",j.MEDIUM="medium",j.LOW="low",j))(bt||{});class qa{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=60,this.MIN_LOW_CONFIDENCE=50}generateBetCards(t,i){const c=[],o=this.calculateWinProbability(t,i),a=this.predictMethodOfVictory(t,i,o),l=this.predictTotalRounds(t,i,o),h=this.predictRoundBetting(t,i,o),g=this.generateFightProps(t,i,o),v=this.analyzeKeyFactors(t,i),p=this.analyzeTrends(t,i);return c.push(this.createMoneylineCard(o)),a.probability>=this.MIN_MEDIUM_CONFIDENCE&&c.push(this.createMethodOfVictoryCard(a)),l.probability>=this.MIN_MEDIUM_CONFIDENCE&&c.push(this.createTotalRoundsCard(l)),h.probability>=this.MIN_HIGH_CONFIDENCE&&c.push(this.createRoundBettingCard(h)),c.push(this.createFightPropsCard(g)),c.push(this.createKeyFactorsCard(v)),c.push(this.createTrendsCard(p)),this.hasHighConfidencePredictions(c)||c.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(c)}validatePredictions(t){const i=this.filterByConfidence(t);return this.resolveContradictions(i)}filterByConfidence(t){return t.filter(i=>i.type==="key_factors"||i.type==="trends"||i.type==="no_prediction"||i.type==="fight_winner"?!0:i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}resolveContradictions(t){let i=[...t];return i=this.resolveOverUnderContradictions(i),i=this.resolveMethodVsDurationContradictions(i),i=this.resolveMethodVsPropsContradictions(i),i=this.resolveDurationVsPropsContradictions(i),i}resolveMethodVsDurationContradictions(t){const i=t.find(p=>p.type==="method_of_victory"&&(p.prediction.toLowerCase().includes("decision")||p.predictionKey?.toLowerCase().includes("decision")));if(!i)return t;const c=t.filter(p=>{if(p.type!=="total_rounds")return!1;const y=p.prediction.toLowerCase(),D=p.predictionKey?.toLowerCase()||"";return y.includes("under")||D.includes("under")}),o=t.filter(p=>{if(p.type!=="winner_and_round")return!1;const y=p.prediction.toLowerCase(),D=p.predictionKey?.toLowerCase()||"";return y.includes("round 1")||y.includes("round 2")||D.includes("round_1")||D.includes("round_2")}),a=[...c,...o];if(a.length===0)return t;const l=[i,...a],h=Math.max(...l.map(p=>p.confidence)),g=l.find(p=>p.confidence===h);if(!g)return t;const v=new Set(l.map(p=>p.id));return t.filter(p=>!v.has(p.id)||p.id===g.id)}resolveOverUnderContradictions(t){const i=t.filter(a=>a.type==="total_rounds");if(i.length<=1)return t;const c=new Map;for(const a of i){const l=a.prediction.toLowerCase(),h=a.predictionKey?.toLowerCase()||"",g=l.match(/(\d+\.5)/)||h.match(/(\d+)_5/);if(g){const v=g[1].replace("_5",".5");c.has(v)||c.set(v,[]),c.get(v).push(a)}}const o=new Set;for(const[a,l]of c)if(l.length>1){const h=l.some(v=>v.prediction.toLowerCase().includes("over")||v.predictionKey?.toLowerCase().includes("over")),g=l.some(v=>v.prediction.toLowerCase().includes("under")||v.predictionKey?.toLowerCase().includes("under"));if(h&&g){const p=l.sort((y,D)=>D.confidence-y.confidence)[0];for(const y of l)y.id!==p.id&&o.add(y.id)}}return t.filter(a=>!o.has(a.id))}resolveMethodVsPropsContradictions(t){const i=t.find(l=>l.type==="method_of_victory"),c=t.filter(l=>l.type==="fight_props");if(!i||c.length===0)return t;const o=i.prediction.toLowerCase(),a=new Set;for(const l of c){const h=(l.prediction||"").toLowerCase(),g=(l.predictionKey||"").toLowerCase();(o.includes("ko")||o.includes("tko"))&&(h.includes("submission")||h.includes("ground control")||g.includes("submission")||g.includes("ground_control"))&&a.add(l.id),o.includes("submission")&&(h.includes("standing exchange")&&!h.includes("ground")||g.includes("standing_exchange")&&!g.includes("ground"))&&a.add(l.id),o.includes("decision")&&(h.includes("first round finish")||h.includes("gone in 60")||g.includes("first_round_finish")||g.includes("gone_in_60"))&&a.add(l.id)}return t.filter(l=>!a.has(l.id))}resolveDurationVsPropsContradictions(t){const i=t.filter(a=>a.type==="total_rounds"),c=t.filter(a=>a.type==="fight_props");if(i.length===0||c.length===0)return t;const o=new Set;for(const a of i){const l=(a.prediction||"").toLowerCase(),h=(a.predictionKey||"").toLowerCase(),g=l.includes("under 2.5")||h.includes("under_2_5"),v=l.includes("over 3.5")||h.includes("over_3_5");for(const p of c){const y=(p.prediction||"").toLowerCase(),D=(p.predictionKey||"").toLowerCase();g&&((y.includes("over 100 strikes")||D.includes("over_100_strikes"))&&o.add(p.id),(y.includes("goes to distance")||D.includes("goes_to_distance"))&&o.add(p.id)),v&&(y.includes("first round")||y.includes("gone in 60")||D.includes("first_round")||D.includes("gone_in_60"))&&o.add(p.id)}}return t.filter(a=>!o.has(a.id))}calculateWinProbability(t,i){let c=t.overall+(t.oppTierScore-5)*3,o=i.overall+(i.oppTierScore-5)*3;c*=this.calculateAgeImpact(t),o*=this.calculateAgeImpact(i);const a=this.getInactiveMonths(t),l=this.getInactiveMonths(i);if(a>=18){const k=Math.min((a-18)*.005,.25);c*=1-k}if(l>=18){const k=Math.min((l-18)*.005,.25);o*=1-k}const h=this.getFightsInPeriod(t,18),g=this.getFightsInPeriod(i,18);h>=3&&(c*=1.05),g>=3&&(o*=1.05);const v=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,p=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,y=this.calculateMomentum(t),D=this.calculateMomentum(i);c*=1+y,o*=1+D;let I=.35,A=.35;v>=75?I=.4:v<50&&(I=.3),p>=75?A=.4:p<50&&(A=.3);const ae=c+v*I,te=o+p*A,fe=this.calculateAge(t),G=this.calculateAge(i),X=fe-G;let x=ae,N=te;if(Math.abs(X)>=5){const k=Math.min(Math.abs(X)*.005,.03);X>0?(x=ae*(1-k),N=te*(1+k)):(x=ae*(1+k),N=te*(1-k))}const M=Math.abs(x-N);if(M>15){const k=1+(M-15)*.015;x>N?x*=k:N*=k}const se=x+N;let Q=se>0?Math.round(x/se*100):50,ue=se>0?Math.round(N/se*100):50;if(Q=Math.max(15,Math.min(88,Q)),ue=100-Q,Q>ue){let k=this.getWinReasoningKey(t,i,v,p);return{winner:t,probability:Q,reasoning:k,adjustedScore1:x,adjustedScore2:N}}else{let k=this.getWinReasoningKey(i,t,p,v);return{winner:i,probability:ue,reasoning:k,adjustedScore1:N,adjustedScore2:x}}}predictMethodOfVictory(t,i,c){const o=c.winner,a=o===t?i:t,l=o.overall+(o.oppTierScore-5)*3,h=a.overall+(a.oppTierScore-5)*3,g=Math.abs(l-h),v=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,p=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,y=o===t?v:p,D=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,I=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,A=o===t?D:I,ae=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,te=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,fe=o===t?ae:te,G=a.rawData.Number_of_Fights_36m>0?(a.rawData.loss_ko+a.rawData.loss_tko)/a.rawData.Number_of_Fights_36m*100:0,X=a.rawData.Number_of_Fights_36m>0?a.rawData.loss_sub/a.rawData.Number_of_Fights_36m*100:0,x=G+X,N=g*.34+y*.4+x*.26;if(N<34||c.probability<63&&y<29)return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(Math.round(100-N),85),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:v,finishRate2:p};const M=A*.57+G*.43000000000000005,se=fe*.61+X*.39,Q=A>fe&&G>X,ue=fe>A&&X>G;if(M>se){let k=Math.min(Math.round(N+M*.32),80);return g>10&&(k+=5),G>30&&(k+=5),Q&&A>22&&G>18&&(k+=7),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(k,85),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:v,finishRate2:p}}else{let k=Math.min(Math.round(N+se*.32),75);return g>10&&(k+=5),X>24&&(k+=5),ue&&fe>20&&X>15&&(k+=7),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(k,85),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:v,finishRate2:p}}}predictTotalRounds(t,i,c){const o=c.winner,a=o===t?i:t,l=o.overall+(o.oppTierScore-5)*3,h=a.overall+(a.oppTierScore-5)*3,g=Math.abs(l-h),v=(t.rawData.Fight_Duration_Seconds||900)/60,p=(i.rawData.Fight_Duration_Seconds||900)/60,y=o===t?v:p,D=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,I=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,A=o===t?D:I,ae=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,te=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,fe=o===t?ae:te,G=a.rawData.Number_of_Fights_36m>0?(a.rawData.loss_ko+a.rawData.loss_tko+a.rawData.loss_sub)/a.rawData.Number_of_Fights_36m*100:0,X=g*.25+A*.4+G*.25+(15-Math.min(y,15))*.1*10;if(X>40||A>53&&y<9.5||fe>53&&y<8.5){let M=Math.min(Math.round(X+18),75);return g>10&&(M+=5),G>45&&(M+=5),A>65&&(M+=5),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(M,82),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:y}}const x=(v+p)/2,N=(D+I)/2;if(N<15&&x>14.5){let M=Math.min(Math.round(100-N),72);return{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.min(M,75),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:x}}else{let M=67;return X>38&&(M=58),X>32&&X<=38&&(M=63),X<25&&(M=73),X<18&&(M=76),A>60&&(M-=5),A<20&&(M+=5),{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.min(Math.max(Math.round(M),52),78),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:x}}}generateFightProps(t,i,c){const o=this.calculateBettingMetrics(t,i,c);return this.hasDominantGrappler(t,i),this.isStrikerWar(t,i),o.f1SubRate+o.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:o}:o.weightedFinishRate&&o.weightedFinishRate>60&&o.weightedAvgFightTime&&o.weightedAvgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:o}:o.f1KnockdownRate>.6&&o.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:o}:o.f1TakedownRate>15||o.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:o}:o.f1StrikeVolume>120&&o.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:o}:o.f1TakedownRate<5&&o.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:o}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:o}}predictRoundBetting(t,i,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60,g=this.getWeightedMetric(o,a,c,t,.5),v=this.getWeightedMetric(l,h,c,t,1);return g>60&&v<5?{prediction:"Round 1",predictionKey:"betting_markets.round_1",probability:Math.round(Math.min(g+15,85)),reasoning:"betting_markets.reasoning.early_explosive_finish",explanationKey:"betting_markets.explanations.round_1_finish",avgTime:v}:g>40&&v<8?{prediction:"Round 2",predictionKey:"betting_markets.round_2",probability:Math.round(Math.min(g+10,80)),reasoning:"betting_markets.reasoning.second_round_finish",explanationKey:"betting_markets.explanations.round_2_finish",avgTime:v}:{prediction:"Goes to Decision",predictionKey:"betting_markets.goes_to_decision",probability:Math.round(Math.max(100-g,20)),reasoning:"betting_markets.reasoning.likely_decision",explanationKey:"betting_markets.explanations.goes_to_decision",avgTime:v}}calculateEarlyFinishRate(t){const i=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,c=(t.rawData.Fight_Duration_Seconds||900)/60;return i>40&&c<4?i*.8:i>25&&c<6?i*.6:i*.3}analyzeKeyFactors(t,i){const c=[],o=t.rawData.reach_inches||0,a=i.rawData.reach_inches||0,l=Math.abs(o-a);if(l>2){const I=o>a?t.name||"Fighter 1":i.name||"Fighter 2";c.push({label:"combat_analysis.key_factors.reach_advantage",value:`${I} +${l}"`,type:"advantage"})}const h=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,g=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0;c.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${h}% vs ${i.name||"F2"}: ${g}%`,type:"comparison"});const v=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,p=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85;c.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${v}% vs ${i.name||"F2"}: ${p}%`,type:"comparison"});const y=t.rawData.Number_of_Fights_36m||0,D=i.rawData.Number_of_Fights_36m||0;if(Math.abs(y-D)>2){const I=y>D?t.name||"Fighter 1":i.name||"Fighter 2",A=Math.max(y,D),ae=Math.min(y,D);c.push({label:"combat_analysis.key_factors.higher_activity",value:`${I}: ${A} vs ${ae} fights`,type:"advantage"})}return c}analyzeTrends(t,i){const c=[],o=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,a=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0;o>=75?c.push({type:"positive",text:`${t.name||"Fighter 1"} has ${o}% win rate`,fighter:t.name}):o<50&&c.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${o}% win rate`,fighter:t.name}),a>=75?c.push({type:"positive",text:`${i.name||"Fighter 2"} has ${a}% win rate`,fighter:i.name}):a<50&&c.push({type:"negative",text:`${i.name||"Fighter 2"} struggling at ${a}% win rate`,fighter:i.name});const l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60,g=(l+h)/2;return c.push({type:"neutral",text:`Combined average fight time: ${g.toFixed(1)} minutes`}),c}calculateMomentum(t){const i=t.streak;if(i===0)return 0;const c=Math.abs(i);return i>0?c>=3?.08:c>=2?.05:.02:c>=3?-.08:c>=2?-.05:-.02}calculateDamageMultiplier(t){return t===0?1:t===1?1.1:t===2?1.25:t===3?1.4:t===4?1.6:1.8}calculateAgeImpact(t){const i=this.calculateAge(t),o={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,a=(t.rawData.loss_ko||0)+(t.rawData.loss_tko||0),l=this.calculateDamageMultiplier(a),h=(i-o)*l;if(h<=0)return 1;let g=0;return h<=5?g=h*.01:h<=10?g=.05+(h-5)*.015:g=.125+(h-10)*.02,g=Math.min(g,.3),1-g}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const a=t.birthDate||t.rawData.Birth_Date,l=new Date(a);if(!isNaN(l.getTime())){const h=new Date;let g=h.getFullYear()-l.getFullYear();const v=h.getMonth()-l.getMonth();return(v<0||v===0&&h.getDate()<l.getDate())&&g--,g}}const i=25,c=2.5,o=t.rawData.Number_of_Fights_36m||0;return Math.round(i+o/c)}getInactiveMonths(t){const i=t.rawData.Number_of_Fights_36m||0;return i>=3?0:i>=2?6:i>=1?12:24}getFightsInPeriod(t,i){const c=i/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*c)}hasBodyShotThreat(t,i){const c=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0,o=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0;return c>40||o>40}hasGroundControlThreat(t,i){const c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0;return c>25||o>25}hasExplosiveStyle(t,i){const c=(t.rawData.Fight_Duration_Seconds||900)/60,o=(i.rawData.Fight_Duration_Seconds||900)/60;return c<5||o<5}getWeightedMetric(t,i,c,o,a=.5){const l=c.probability/100,h=1-l;return c.winner===o?t*l+i*h*a:i*l+t*h*a}getFighterStyle(t){const i=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,c=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko)/t.rawData.Number_of_Fights_36m*100:0;return i>15||c>25?"grappler":o>30&&i<10?"striker":"balanced"}hasDominantGrappler(t,i){const c=this.getFighterStyle(t),o=this.getFighterStyle(i),a=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,l=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0;return c==="grappler"&&a>20||o==="grappler"&&l>20}isStrikerWar(t,i){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(i)==="striker"}calculateBettingMetrics(t,i,c){const o=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_ko+t.rawData.win_tko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,a=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,l=(t.rawData.Fight_Duration_Seconds||900)/60,h=(i.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f1FinishRate:o,f2FinishRate:a,avgFightTime:(l+h)/2,weightedFinishRate:c?this.getWeightedMetric(o,a,c,t,.5):void 0,weightedAvgFightTime:c?this.getWeightedMetric(l,h,c,t,1):void 0}}getWinReasoningKey(t,i,c,o){return t.overall>i.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>i.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>i.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":c>o+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=this.MIN_HIGH_CONFIDENCE?"high":t>=this.MIN_MEDIUM_CONFIDENCE?"medium":(t>=this.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"fight_winner",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:1}}createMethodOfVictoryCard(t){return{id:"method-of-victory",type:"method_of_victory",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,metadata:{finishRate1:t.finishRate1,finishRate2:t.finishRate2,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"total_rounds",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createRoundBettingCard(t){return{id:"round-betting",type:"winner_and_round",category:"secondary",title:"Round Betting",titleKey:"betting_markets.round_betting",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:4}}createMethodAndRoundCard(t){const i=t.probability||70;return{id:"method-and-round",type:"winner_and_round",category:"secondary",title:"Method & Round",titleKey:"betting_markets.method_and_round",prediction:t.prop,predictionKey:t.propKey,confidence:i,confidenceLevel:this.getConfidenceLevel(i),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:5}}createDecisionTypeCard(t){return{id:"decision-type",type:"distance_yes_no",category:"secondary",title:"Decision Type",titleKey:"betting_markets.decision_type",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:6}}createGoneIn60Card(t){return{id:"gone-in-60",type:"gone_in_60",category:"prop",title:"Gone in 60 Seconds",titleKey:"betting_markets.gone_in_60_title",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoning:t.reasoning,reasoningKey:t.reasoning,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime,impliedOdds:this.calculateImpliedOdds(t.probability)},priority:7}}calculateImpliedOdds(t){if(t<=0)return"N/A";if(t>=100)return"Even";const i=100/t;if(i>=2){const c=(i-1)*100;return`+${Math.round(c)}`}else{const c=-100/(i-1);return`${Math.round(c)}`}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(i=>(i.type==="fight_winner"||i.type==="method_of_victory"||i.type==="total_rounds"||i.type==="winner_and_round"||i.type==="fight_props")&&i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((i,c)=>i.priority-c.priority)}}const Gt=new qa;var Ya=R('<div class="implied-odds svelte-1lytxch"> </div>'),ja=R('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="winner-name svelte-1lytxch"> </div> <div class="confidence svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Qa=R('<div class="implied-odds svelte-1lytxch"> </div>'),Za=R('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method svelte-1lytxch"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),Ja=R('<div class="implied-odds svelte-1lytxch"> </div>'),Xa=R('<div class="bet-explanation svelte-1lytxch"> </div>'),ei=R('<div class="bet-explanation svelte-1lytxch"> </div>'),ti=R('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="rounds"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),ai=R('<div class="implied-odds svelte-1lytxch"> </div>'),ii=R('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="round"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),ri=R('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="method-round-combo"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),si=R('<div class="implied-odds svelte-1lytxch"> </div>'),ni=R('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="decision"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),oi=R('<div class="implied-odds svelte-1lytxch"> </div>'),li=R('<div><div class="bet-type svelte-1lytxch"> </div> <div class="bet-prediction svelte-1lytxch"><div class="gone-60"> </div> <div class="probability svelte-1lytxch"> </div> <!></div> <div class="reasoning svelte-1lytxch"> </div></div>'),di=R('<div class="bet-card no-predictions svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="no-pred-title svelte-1lytxch"> </div> <div class="no-pred-subtitle svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div></div>'),vi=R('<div class="bet-explanation svelte-1lytxch"> </div>'),ci=R('<div class="bet-explanation svelte-1lytxch"> </div>'),_i=R('<div class="bet-card fight-props svelte-1lytxch"><div class="bet-type svelte-1lytxch"><!> </div> <div class="bet-prediction svelte-1lytxch"><div class="prop svelte-1lytxch"> </div> <div class="value svelte-1lytxch"> </div></div> <div class="reasoning svelte-1lytxch"> </div> <!></div>'),hi=R('<div class="stat-item svelte-1lytxch"><span class="stat-label svelte-1lytxch"> </span> <span class="stat-value svelte-1lytxch"> </span></div>'),gi=R('<div class="bet-card stats svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="key-stats svelte-1lytxch"></div></div>'),ui=R("<div> </div>"),pi=R('<div class="bet-card trends svelte-1lytxch"><div class="bet-type svelte-1lytxch"> </div> <div class="trend-list svelte-1lytxch"></div></div>'),mi=R('<div class="fight-best-bets svelte-1lytxch"><div class="header svelte-1lytxch"><h2 class="title svelte-1lytxch"><span class="icon svelte-1lytxch"><!></span> </h2> <hr class="title-divider svelte-1lytxch"/> <div class="subtitle svelte-1lytxch"> </div></div> <div class="matchup-header svelte-1lytxch"><div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div> <div class="vs-divider svelte-1lytxch"><span>VS</span></div> <div class="fighter-preview svelte-1lytxch"><div class="fighter-name svelte-1lytxch"> </div> <div class="fighter-record svelte-1lytxch"> </div> <div class="fighter-archetype svelte-1lytxch"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1lytxch"><small class="svelte-1lytxch"> </small></div></div>');function yi(j,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(wa,"$locale",i),a=()=>vt(yt,"$_",i),l=C(),h=C(),g=C(),v=C(),p=C(),y=C(),D=C(),I=C(),A=C(),ae=C(),te=C(),fe=C(),G=C(),X=C(),x=C(),N=C(),M=C(),se=C(),Q=C(),ue=C();let k=je(t,"fighter1",8,null),oe=je(t,"fighter2",8,null);function xe($,pe){return $.filter(Ce=>Ce.type===pe)}function Ie($){switch($){case bt.HIGH:return"high-confidence";case bt.MEDIUM:return"medium-confidence";case bt.LOW:return"low-confidence";default:return""}}let lt=o();H(()=>(T(k()),T(oe())),()=>{b(l,k()&&oe())}),H(()=>(e(l),T(k()),T(oe())),()=>{b(h,e(l)?Gt.generateBetCards(k(),oe()):[])}),H(()=>e(h),()=>{b(g,Gt.validatePredictions(e(h)))}),H(()=>(e(l),T(k()),T(oe()),e(g),_t),()=>{e(l)&&k()&&oe()&&e(g).length>0&&_t.trackBettingAnalysis(k().name,oe().name)}),H(()=>(e(g),ge),()=>{b(v,xe(e(g),ge.FIGHT_WINNER))}),H(()=>(e(g),ge),()=>{b(p,xe(e(g),ge.METHOD_OF_VICTORY))}),H(()=>(e(g),ge),()=>{b(y,xe(e(g),ge.TOTAL_ROUNDS))}),H(()=>(e(g),ge),()=>{b(D,xe(e(g),ge.WINNER_AND_ROUND))}),H(()=>(e(g),ge),()=>{b(I,xe(e(g),ge.DISTANCE_YES_NO))}),H(()=>(e(g),ge),()=>{b(A,xe(e(g),ge.GOES_TO_DECISION))}),H(()=>(e(g),ge),()=>{b(ae,xe(e(g),ge.GONE_IN_60))}),H(()=>(e(g),ge),()=>{b(te,xe(e(g),ge.FIGHT_PROPS))}),H(()=>(e(g),ge),()=>{b(fe,xe(e(g),ge.KEY_FACTORS))}),H(()=>(e(g),ge),()=>{b(G,xe(e(g),ge.TRENDS))}),H(()=>(e(g),ge),()=>{b(X,xe(e(g),ge.NO_PREDICTION))}),H(()=>(e(v),e(p),e(y),e(D),e(I),e(A),e(ae)),()=>{b(x,e(v).length+e(p).length+e(y).length+e(D).length+e(I).length+e(A).length+e(ae).length)}),H(()=>e(x),()=>{b(N,e(x)>0)}),H(()=>e(N),()=>{b(M,e(N)?0:1)}),H(()=>(e(te),e(fe),e(G)),()=>{b(se,e(te).length+e(fe).length+e(G).length)}),H(()=>(e(x),e(M),e(se)),()=>{b(Q,e(x)+e(M)+e(se))}),H(()=>o(),()=>{o()!==lt&&lt&&window.location.reload()}),H(()=>e(l),()=>{b(ue,e(l))}),wt(),ut();var rt=ot(),st=Ue(rt);{var dt=$=>{var pe=mi(),Ce=r(pe),ke=r(Ce),ze=r(ke),Ve=r(ze);Bt(Ve,{size:32});var Be=d(ze),Ke=d(ke,4),$e=r(Ke),Qe=d(Ce,2),et=r(Qe),Ae=r(et),ce=r(Ae),Fe=d(Ae,2),Ge=r(Fe),qe=d(Fe,2),de=r(qe),Se=d(et,4),Ze=r(Se),tt=r(Ze),nt=d(Ze,2),u=r(nt),m=d(nt,2),F=r(m),O=d(Qe,2);let q;var ie=r(O);He(ie,1,()=>e(v),We,(L,s)=>{var w=ja(),S=r(w),Z=r(S),U=d(S,2),W=r(U),ee=r(W),J=d(W,2),ve=r(J),be=d(J,2);{var _e=P=>{var B=Ya(),V=r(B);K(E=>_(V,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(P,B)};Y(be,P=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&P(_e)})}var he=d(U,2),ye=r(he);K((P,B,V,E)=>{Ee(w,1,`bet-card moneyline ${P??""}`,"svelte-1lytxch"),_(Z,B),_(ee,(e(s),n(()=>e(s).prediction))),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${V??""}`),_(ye,E)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var me=d(ie,2);He(me,1,()=>e(p),We,(L,s)=>{var w=Za(),S=r(w),Z=r(S),U=d(S,2),W=r(U),ee=r(W),J=d(W,2),ve=r(J),be=d(J,2);{var _e=P=>{var B=Qa(),V=r(B);K(E=>_(V,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(P,B)};Y(be,P=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&P(_e)})}var he=d(U,2),ye=r(he);K((P,B,V,E,le)=>{Ee(w,1,`bet-card method-victory ${P??""}`,"svelte-1lytxch"),_(Z,B),_(ee,V),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(ye,le)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var ne=d(me,2);He(ne,1,()=>e(y),We,(L,s)=>{var w=ti(),S=r(w),Z=r(S),U=d(S,2),W=r(U),ee=r(W),J=d(W,2),ve=r(J),be=d(J,2);{var _e=E=>{var le=Ja(),Ne=r(le);K(Me=>_(Ne,`${Me??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(E,le)};Y(be,E=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&E(_e)})}var he=d(U,2),ye=r(he),P=d(he,2);{var B=E=>{var le=Xa(),Ne=r(le);K(Me=>_(Ne,Me),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),f(E,le)},V=E=>{var le=ot(),Ne=Ue(le);{var Me=Xe=>{var ct=ei(),Dt=r(ct);K(()=>_(Dt,(e(s),n(()=>e(s).explanation)))),f(Xe,ct)};Y(Ne,Xe=>{e(s),n(()=>e(s).explanation)&&Xe(Me)},!0)}f(E,le)};Y(P,E=>{e(s),n(()=>e(s).explanationKey)?E(B):E(V,!1)})}K((E,le,Ne,Me,Xe)=>{Ee(w,1,`bet-card total-rounds ${E??""}`,"svelte-1lytxch"),_(Z,le),_(ee,Ne),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${Me??""}`),_(ye,Xe)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var De=d(ne,2);He(De,1,()=>e(D),We,(L,s)=>{var w=ii(),S=r(w),Z=r(S),U=d(S,2),W=r(U),ee=r(W),J=d(W,2),ve=r(J),be=d(J,2);{var _e=P=>{var B=ai(),V=r(B);K(E=>_(V,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(P,B)};Y(be,P=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&P(_e)})}var he=d(U,2),ye=r(he);K((P,B,V,E,le)=>{Ee(w,1,`bet-card round-betting ${P??""}`,"svelte-1lytxch"),_(Z,B),_(ee,V),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(ye,le)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var Oe=d(De,2);He(Oe,1,()=>e(I),We,(L,s)=>{var w=ri(),S=r(w),Z=r(S),U=d(S,2),W=r(U),ee=r(W),J=d(W,2),ve=r(J),be=d(U,2),_e=r(be);K((he,ye,P,B,V)=>{Ee(w,1,`bet-card method-round ${he??""}`,"svelte-1lytxch"),_(Z,ye),_(ee,P),_(ve,B),_(_e,V)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var Le=d(Oe,2);He(Le,1,()=>e(A),We,(L,s)=>{var w=ni(),S=r(w),Z=r(S),U=d(S,2),W=r(U),ee=r(W),J=d(W,2),ve=r(J),be=d(J,2);{var _e=P=>{var B=si(),V=r(B);K(E=>_(V,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(P,B)};Y(be,P=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&P(_e)})}var he=d(U,2),ye=r(he);K((P,B,V,E,le)=>{Ee(w,1,`bet-card decision-type ${P??""}`,"svelte-1lytxch"),_(Z,B),_(ee,V),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(ye,le)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var Pe=d(Le,2);He(Pe,1,()=>e(ae),We,(L,s)=>{var w=li(),S=r(w),Z=r(S),U=d(S,2),W=r(U),ee=r(W),J=d(W,2),ve=r(J),be=d(J,2);{var _e=P=>{var B=oi(),V=r(B);K(E=>_(V,`${E??""} ${e(s),n(()=>e(s).metadata.impliedOdds)??""}`),[()=>(a(),n(()=>a()("betting_markets.odds")))]),f(P,B)};Y(be,P=>{e(s),n(()=>e(s).metadata?.impliedOdds)&&P(_e)})}var he=d(U,2),ye=r(he);K((P,B,V,E,le)=>{Ee(w,1,`bet-card gone-in-60 ${P??""}`,"svelte-1lytxch"),_(Z,B),_(ee,V),_(ve,`${e(s),n(()=>e(s).confidence)??""}% ${E??""}`),_(ye,le)},[()=>(e(s),n(()=>Ie(e(s).confidenceLevel))),()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.probability"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var Je=d(Pe,2);He(Je,1,()=>e(X),We,(L,s)=>{var w=di(),S=r(w),Z=r(S);Kt(Z,{size:16,style:"display: inline; margin-right: 0.25rem;"});var U=d(Z),W=d(S,2),ee=r(W),J=r(ee),ve=d(ee,2),be=r(ve),_e=d(W,2),he=r(_e);K((ye,P,B,V)=>{_(U,` ${ye??""}`),_(J,P),_(be,B),_(he,V)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.confidence_threshold"))),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var at=d(Je,2);He(at,1,()=>e(te),We,(L,s)=>{var w=_i(),S=r(w),Z=r(S);zt(Z,{size:16,style:"display: inline; margin-right: 0.25rem;"});var U=d(Z),W=d(S,2),ee=r(W),J=r(ee),ve=d(ee,2),be=r(ve),_e=d(W,2),he=r(_e),ye=d(_e,2);{var P=V=>{var E=vi(),le=r(E);K(Ne=>_(le,Ne),[()=>(a(),e(s),n(()=>a()(e(s).explanationKey)))]),f(V,E)},B=V=>{var E=ot(),le=Ue(E);{var Ne=Me=>{var Xe=ci(),ct=r(Xe);K(()=>_(ct,(e(s),n(()=>e(s).explanation)))),f(Me,Xe)};Y(le,Me=>{e(s),n(()=>e(s).explanation)&&Me(Ne)},!0)}f(V,E)};Y(ye,V=>{e(s),n(()=>e(s).explanationKey)?V(P):V(B,!1)})}K((V,E,le,Ne,Me)=>{_(U,` ${V??""}`),_(J,E),_(be,`${le??""}: ${Ne??""}`),_(he,Me)},[()=>(a(),e(s),n(()=>a()(e(s).titleKey))),()=>(e(s),a(),n(()=>e(s).predictionKey?a()(e(s).predictionKey):e(s).prediction)),()=>(a(),n(()=>a()("combat_analysis.value"))),()=>(e(s),a(),n(()=>e(s).metadata?.valueKey?a()(e(s).metadata.valueKey):e(s).metadata?.value||"N/A")),()=>(a(),e(s),n(()=>a()(e(s).reasoningKey)))]),f(L,w)});var it=d(at,2);He(it,1,()=>e(fe),We,(L,s)=>{var w=gi(),S=r(w),Z=r(S),U=d(S,2);He(U,5,()=>(e(s),n(()=>e(s).metadata?.factors||[])),We,(W,ee)=>{var J=hi(),ve=r(J),be=r(ve),_e=d(ve,2),he=r(_e);K(ye=>{_(be,ye),_(he,(e(ee),n(()=>e(ee).value)))},[()=>(a(),e(ee),n(()=>a()(e(ee).label)))]),f(W,J)}),K(W=>_(Z,W),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),f(L,w)});var z=d(it,2);He(z,1,()=>e(G),We,(L,s)=>{var w=pi(),S=r(w),Z=r(S),U=d(S,2);He(U,5,()=>(e(s),n(()=>e(s).metadata?.trends||[])),We,(W,ee)=>{var J=ui(),ve=r(J);K(()=>{Ee(J,1,`trend-item ${e(ee),n(()=>e(ee).type)??""}`,"svelte-1lytxch"),_(ve,(e(ee),n(()=>e(ee).text)))}),f(W,J)}),K(W=>_(Z,W),[()=>(a(),e(s),n(()=>a()(e(s).titleKey)))]),f(L,w)});var re=d(O,2),Re=r(re),Te=r(Re);K((L,s,w,S)=>{_(Be,` ${L??""}`),_($e,s),_(ce,(T(k()),n(()=>k().name))),_(Ge,`${T(k()),n(()=>k().rawData.win)??""}-${T(k()),n(()=>k().rawData.loss)??""}-${T(k()),n(()=>k().rawData.draws)??""}`),_(de,(T(k()),n(()=>k().archetype.archetypeEmojis))),_(tt,(T(oe()),n(()=>oe().name))),_(u,`${T(oe()),n(()=>oe().rawData.win)??""}-${T(oe()),n(()=>oe().rawData.loss)??""}-${T(oe()),n(()=>oe().rawData.draws)??""}`),_(F,(T(oe()),n(()=>oe().archetype.archetypeEmojis))),q=Ee(O,1,"betting-grid svelte-1lytxch",null,q,w),_(Te,`* ${S??""}`)},[()=>(a(),n(()=>a()("combat_analysis.fight_analysis"))),()=>(a(),n(()=>a()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(Q)<=3}),()=>(a(),n(()=>a()("combat_analysis.disclaimer")))]),f($,pe)};Y(st,$=>{e(ue)&&$(dt)})}f(j,rt),pt(),c()}var fi=R('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),bi=R('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),wi=R('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),Di=R('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),xi=R('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),ki=R('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),Fi=R('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),Ri=R('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function Ii(j,t){gt(t,!1);const[i,c]=mt(),o=()=>vt(M,"$urlSearchParams",i),a=()=>vt(yt,"$_",i),l=C(),h=C(),g=C(),v=C(),p=C(),y=C(),D=C(),I=C(),A=C(),ae=C();let te=je(t,"isDarkMode",8,!0),fe=je(t,"toggleTheme",8,()=>{}),G=C(new Map),X=C(new Map),x=C(),N=C(new Map);const M=ma(ht());function se(u,m){const F=`fighter${m}`;Et({[F]:u}),M.set(ht())}let Q=C(!1),ue=C(!1),k=C(!1),oe=C(!1);ya(()=>{window.Highcharts=fa,M.set(ht());const u=Da(()=>{M.set(ht())});return xe(),u});async function xe(){try{b(Q,!0);const{allRawFightersDataMap:u,allRawFightersByDivision:m,processedFightersMap:F,processedFighters:O}=await ka.loadFightersFromCSV();b(G,u),b(N,m),b(X,F),b(x,O),b(ue,!0)}catch(u){console.error("Error loading data:",u)}finally{b(Q,!1)}}function Ie(u=[]){return u.map(m=>({value:m.nameWithNickname,label:m.name,imageUrl:lt(m)}))}function lt(u){return u.pictureUrl&&u.pictureUrl!==""?u.pictureUrl:rt(u.division)?"no_photo_female.png":"no_photo_male.png"}function rt(u){return!!(u&&u.startsWith("W_"))}function st(u){se(u,1)}function dt(u){se(u,2)}function $(){_t.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(l)||"none",fighter2:e(h)||"none"}),Et({fighter1:"",fighter2:""}),M.set(ht())}function pe(){if(!e(l)||!e(h))return;const u=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";_t.trackFightShare(e(l),e(h),u);const m=xa("/",{fighter1:e(l),fighter2:e(h)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(h)} - Fight Radar`,text:`Compara las estadísticas de ${e(l)} vs ${e(h)}`,url:m}).catch(console.error):navigator.clipboard.writeText(m).then(()=>{Ce("¡Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",m)})}function Ce(u){const m=document.createElement("div");m.className="notification",m.textContent=u,m.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(m),setTimeout(()=>{m.style.opacity="1",m.style.transform="translateY(0)"},10),setTimeout(()=>{m.style.opacity="0",m.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(m)},300)},3e3)}function ke(u,m,F){const O=[];return u&&O.push({name:u.name,data:[u.fightRadar.STR_OFF,u.fightRadar.STR_DEF,u.fightRadar.TD_OFF,u.fightRadar.TD_DEF,u.fightRadar.CTRL,u.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),m&&O.push({name:m.name,data:[m.fightRadar.STR_OFF,m.fightRadar.STR_DEF,m.fightRadar.TD_OFF,m.fightRadar.TD_DEF,m.fightRadar.CTRL,m.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),F&&O.push({name:F.name,data:[F.fightRadar.STR_OFF,F.fightRadar.STR_DEF,F.fightRadar.TD_OFF,F.fightRadar.TD_DEF,F.fightRadar.CTRL,F.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),O}function ze(u,m,F){const O=[];return u&&O.push({name:u.name,data:[u.iqRadar.distance,u.iqRadar.adaptability,u.iqRadar.composure,u.iqRadar.decisions,u.iqRadar.rhythm,u.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),m&&O.push({name:m.name,data:[m.iqRadar.distance,m.iqRadar.adaptability,m.iqRadar.composure,m.iqRadar.decisions,m.iqRadar.rhythm,m.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),F&&O.push({name:F.name,data:[F.iqRadar.distance,F.iqRadar.adaptability,F.iqRadar.composure,F.iqRadar.decisions,F.iqRadar.rhythm,F.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),O}function Ve(u){const m={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[F,O,q]=u.combinedRole.split("+")??["AT"];let ie=[[F,100]];if(O&&q?ie=[[F,33],[O,34],[q,33]]:O?ie=[[F,50],[O,50]]:q&&(ie=[[F,60],[q,40]]),ie.length===1){const[me,ne]=ie[0],De=Math.min(ne,70);return`linear-gradient(135deg, ${m[me]} 0%, ${m[me]} ${De}%, var(--card-bg) 100%)`}else{const me=ie.reduce((Le,[,Pe])=>Le+Pe,0);let ne=[],De=0;return ie.forEach(([Le,Pe],Je)=>{const at=Pe/me*85,it=m[Le];Je===0&&ne.push(`${it} ${De}%`),De+=at,Je===ie.length-1?(ne.push(`${it} ${De}%`),ne.push("var(--card-bg) 100%")):ne.push(`${it} ${De}%`)}),`linear-gradient(135deg, ${ne.join(", ")})`}}H(()=>o(),()=>{b(l,o().get("fighter1")||"")}),H(()=>o(),()=>{b(h,o().get("fighter2")||"")}),H(()=>(e(x),e(h)),()=>{b(g,Ie(e(x)).filter(u=>u.value!==e(h)))}),H(()=>(e(x),e(l)),()=>{b(v,Ie(e(x)).filter(u=>u.value!==e(l)))}),H(()=>(e(l),e(h),e(G),e(N),At),()=>{b(p,(()=>{if(!e(l)||!e(h))return null;const u=e(G).get(e(l)),m=e(G).get(e(h));if(!u||!m)return null;if(u.Division===m.Division){const F=u.Division;if(e(N).has(F))return At(F,e(N).get(F))}return null})())}),H(()=>(e(l),e(X)),()=>{b(y,e(l)?e(X).get(e(l))??null:null)}),H(()=>(e(h),e(X)),()=>{b(D,e(h)?e(X).get(e(h))??null:null)}),H(()=>(e(p),e(l),e(h),e(G),e(N),Lt),()=>{b(I,(()=>{if(!e(p)||!e(l)||!e(h))return null;const u=e(G).get(e(l));return!u||!e(N).has(u.Division)?null:Lt(e(p),e(N).get(u.Division))})())}),H(()=>(e(y),e(D),e(I)),()=>{b(A,ke(e(y)??null,e(D)??null,e(I)??null))}),H(()=>(e(y),e(D),e(I)),()=>{b(ae,ze(e(y),e(D),e(I)))}),H(()=>(e(Q),e(G),e(l),e(h),_t),()=>{const u=!e(Q)&&e(G).size>0&&e(G).has(e(l))&&e(G).has(e(h));b(k,!!(e(l)&&e(h)&&u)),b(oe,!!(e(l)&&e(h)&&u)),e(l)&&e(h)&&u&&_t.trackFighterComparison(e(l),e(h))}),wt(),ut();var Be=Ri(),Ke=r(Be),$e=r(Ke);ba($e,{showThemeToggle:!0,get isDarkMode(){return te()},get toggleTheme(){return fe()}});var Qe=d($e,2);{var et=u=>{var m=fi(),F=r(m),O=d(r(F),2),q=r(O);K(ie=>_(q,ie),[()=>(a(),n(()=>a()("fight_radar.loading_data")))]),f(u,m)};Y(Qe,u=>{e(Q)&&u(et)})}var Ae=d(Qe,2);{var ce=u=>{var m=Di(),F=r(m),O=r(F),q=r(O),ie=r(q),me=d(q,2),ne=r(me);{let z=ft(()=>(a(),n(()=>a()("common.select_fighter"))));Ut(ne,{id:"fighter1-select",get placeholder(){return e(z)},disabled:!1,get options(){return e(g)},get selectedValue(){return e(l)},onSelectionChange:st})}var De=d(O,4),Oe=r(De),Le=r(Oe),Pe=d(Oe,2),Je=r(Pe);{let z=ft(()=>(a(),n(()=>a()("common.select_fighter"))));Ut(Je,{id:"fighter2-select",get placeholder(){return e(z)},disabled:!1,get options(){return e(v)},get selectedValue(){return e(h)},onSelectionChange:dt})}var at=d(F,2);{var it=z=>{var re=wi(),Re=r(re);{var Te=w=>{var S=bi(),Z=d(r(S));K(U=>_(Z,` ${U??""}`),[()=>(a(),n(()=>a()("fight_radar.share_fight")))]),Ye("click",S,pe),f(w,S)};Y(Re,w=>{e(l)&&e(h)&&w(Te)})}var L=d(Re,2),s=d(r(L));K(w=>_(s,` ${w??""}`),[()=>(a(),n(()=>a()("fight_radar.clear_radars")))]),Ye("click",L,$),f(z,re)};Y(at,z=>{(e(l)||e(h))&&z(it)})}K((z,re)=>{_(ie,`${z??""}:`),_(Le,`${re??""}:`)},[()=>(a(),n(()=>a()("common.fighter_1"))),()=>(a(),n(()=>a()("common.fighter_2")))]),f(u,m)};Y(Ae,u=>{e(ue)&&u(ce)})}var Fe=d(Ae,2);{var Ge=u=>{var m=ot(),F=Ue(m);{var O=q=>{var ie=xi(),me=r(ie),ne=r(me);Kt(ne,{size:20,class:"disclaimer-icon"});var De=d(ne,2),Oe=r(De),Le=d(me,2),Pe=r(Le);K((Je,at)=>{_(Oe,Je),_(Pe,at)},[()=>(a(),n(()=>a()("fight_radar.cross_division_title"))),()=>(a(),T(Ft),e(y),e(D),n(()=>a()("fight_radar.cross_division_text",{values:{division1:Ft(e(y).rawData.Division),division2:Ft(e(D).rawData.Division)}})))]),f(q,ie)};Y(F,q=>{e(y),e(D),n(()=>e(y)?.rawData&&e(D)?.rawData&&e(y).rawData.Division!==e(D).rawData.Division)&&q(O)})}f(u,m)};Y(Fe,u=>{e(l)&&e(h)&&e(k)&&u(Ge)})}var qe=d(Fe,2);{var de=u=>{var m=ki(),F=r(m),O=r(F);Vt(O,{get fighter(){return e(y)},id:"fighter1-info"});var q=d(F,2),ie=r(q);Vt(ie,{get fighter(){return e(D)},id:"fighter2-info"}),K((me,ne)=>{Ct(F,`background: ${me??""}`),Ct(q,`background: ${ne??""}`)},[()=>(e(y),n(()=>e(y)?Ve(e(y).archetype):"var(--card-bg)")),()=>(e(D),n(()=>e(D)?Ve(e(D).archetype):"var(--card-bg)"))]),f(u,m)};Y(qe,u=>{e(k)&&u(de)})}var Se=d(qe,2);{var Ze=u=>{var m=Fi(),F=r(m),O=r(F);Ot(O,()=>(e(l),e(h),e(A),n(()=>`${e(l)}-${e(h)}-${e(A).length}`)),me=>{{let ne=ft(()=>(T(Pt),n(Pt)));Wt(me,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(ne)},get series(){return e(A)},isIQRadar:!1})}});var q=d(F,2),ie=r(q);Ot(ie,()=>(e(l),e(h),e(ae),n(()=>`${e(l)}-${e(h)}-${e(ae).length}`)),me=>{{let ne=ft(()=>(T(Ht),n(Ht)));Wt(me,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(ne)},get series(){return e(ae)},isIQRadar:!0})}}),f(u,m)};Y(Se,u=>{e(oe),e(A),n(()=>e(oe)&&e(A).length>0)&&u(Ze)})}var tt=d(Se,2);yi(tt,{get fighter1(){return e(y)},get fighter2(){return e(D)}});var nt=d(tt,2);Ba(nt,{}),f(j,Be),pt(),c()}export{Ii as default};
