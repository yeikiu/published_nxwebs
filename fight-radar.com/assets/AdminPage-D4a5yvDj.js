import{q as Te,j as _t,f as y,az as xt,c as t,u as i,i as D,A as e,z as Ge,t as k,T as ot,m as tt,b as u,o as Be,C as p,_ as Qe,y as c,av as Dt,a as st,p as lt,s as it,k as ve,n as O,Q as We,a3 as At,aA as C,aB as $t,F as rt,aC as te,O as kt,D as qe,E as Ne,aD as He,aE as at,V as ne,aF as Lt,aG as Ft,aH as Pt,aI as Ct,aJ as dt,X as ct,aK as Mt,aL as Rt,ac as ut,l as ft,J as gt,h as It,r as Et,x as qt,I as Nt}from"./lucide-qo0zz29p.js";import{r as zt,R as Fe,s as Je,P as Tt,N as Bt,V as Ut,p as Kt,m as Ot,t as Ht}from"./index-Ba7Iv2yV.js";import{f as Qt,h as mt}from"./helpers-CRH_m501.js";import"./highcharts-DyRVWUji.js";var Wt=y('<div class="error-message svelte-apfh6f"><span class="error-icon svelte-apfh6f"><!></span> </div>'),Vt=y('<div class="spinner svelte-apfh6f"></div> Logging in...',1),jt=y('<div class="login-container svelte-apfh6f"><div class="login-card svelte-apfh6f"><div class="login-header svelte-apfh6f"><div class="lock-icon svelte-apfh6f"><!></div> <h1 class="svelte-apfh6f">Admin Login</h1> <p class="svelte-apfh6f">Access the fighter management dashboard</p></div> <form class="login-form svelte-apfh6f"><div class="form-group svelte-apfh6f"><label for="username" class="svelte-apfh6f">Username</label> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-apfh6f"/></div> <div class="form-group svelte-apfh6f"><label for="password" class="svelte-apfh6f">Password</label> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-apfh6f"/></div> <!> <button type="submit" class="login-btn svelte-apfh6f"><!></button> <div class="demo-info svelte-apfh6f"><small class="svelte-apfh6f">Demo credentials: <strong class="svelte-apfh6f">demo</strong> / <strong class="svelte-apfh6f">test</strong></small></div></form></div></div>');function pt(H,n){Te(n,!1);let a=Ge(""),v=Ge(""),s=Ge(!1),r=Ge("");async function g(_){if(_.preventDefault(),!e(a)||!e(v)){p(r,"Please enter both username and password");return}p(s,!0),p(r,"");try{console.log("Attempting login with:",e(a),e(v));const $=await zt.login(e(a),e(v));console.log("Login result:",$),$?(console.log("Login successful, navigating to:",Fe.ADMIN_DASHBOARD),Je.navigate(Fe.ADMIN_DASHBOARD)):p(r,"Invalid credentials. Try demo:test")}catch($){console.error("Login error:",$),p(r,"Login failed. Please try again.")}finally{p(s,!1)}}function h(){p(r,"")}_t();var A=jt(),I=t(A),L=t(I),d=t(L),m=t(d);xt(m,{size:48});var l=i(L,2),w=t(l),o=i(t(w),2),V=i(w,2),E=i(t(V),2),f=i(V,2);{var F=_=>{var $=Wt(),q=t($),ae=t(q);Qe(ae,{size:18});var oe=i(q);k(()=>c(oe,` ${e(r)??""}`)),u(_,$)};D(f,_=>{e(r)&&_(F)})}var M=i(f,2),P=t(M);{var j=_=>{var $=Vt();u(_,$)},R=_=>{var $=Dt("Login");u(_,$)};D(P,_=>{e(s)?_(j):_(R,!1)})}k(()=>{o.disabled=e(s),E.disabled=e(s),M.disabled=e(s)}),ot(o,()=>e(a),_=>p(a,_)),tt("input",o,h),ot(E,()=>e(v),_=>p(v,_)),tt("input",E,h),tt("submit",l,g),u(H,A),Be()}var Gt=y('<button class="refresh-btn svelte-1kbkmxv" title="Refresh data"><!></button>'),Jt=y('<div class="loading-spinner svelte-1kbkmxv"><div class="spinner svelte-1kbkmxv"></div> <span>Loading...</span></div>'),Xt=y('<div class="error-state svelte-1kbkmxv"><span class="error-icon svelte-1kbkmxv">⚠️</span> <p class="error-message svelte-1kbkmxv"> </p></div>'),Yt=y('<div><div class="widget-header svelte-1kbkmxv"><div class="widget-title svelte-1kbkmxv"><!> <h3 class="svelte-1kbkmxv"> </h3></div> <!></div> <div class="widget-content svelte-1kbkmxv"><!></div></div>');function nt(H,n){let a=lt(n,"loading",3,!1),v=lt(n,"className",3,"");var s=Yt();let r;var g=t(s),h=t(g),A=t(h);{var I=f=>{const F=C(()=>n.icon);var M=ve(),P=O(M);We(P,()=>e(F),(j,R)=>{R(j,{size:18})}),u(f,M)};D(A,f=>{n.icon&&f(I)})}var L=i(A,2),d=t(L),m=i(h,2);{var l=f=>{var F=Gt();F.__click=function(...P){n.onRefresh?.apply(this,P)};var M=t(F);{let P=C(()=>a()?"spinning":"");At(M,{size:16,get class(){return e(P)}})}k(()=>F.disabled=a()),u(f,F)};D(m,f=>{n.onRefresh&&f(l)})}var w=i(g,2),o=t(w);{var V=f=>{var F=Jt();u(f,F)},E=f=>{var F=ve(),M=O(F);{var P=R=>{var _=Xt(),$=i(t(_),2),q=t($);k(()=>c(q,n.error)),u(R,_)},j=R=>{var _=ve(),$=O(_);{var q=ae=>{var oe=ve(),xe=O(oe);$t(xe,()=>n.children),u(ae,oe)};D($,ae=>{n.children&&ae(q)},!0)}u(R,_)};D(M,R=>{n.error?R(P):R(j,!1)},!0)}u(f,F)};D(o,f=>{a()?f(V):f(E,!1)})}k(f=>{r=it(s,1,`widget-card ${v()??""}`,"svelte-1kbkmxv",r,f),c(d,n.title)},[()=>({loading:a()})]),u(H,s)}st(["click"]);class Zt{constructor(){this.localeCache={}}async loadFightersData(){try{const{allRawFightersArr:n}=await Qt.loadFightersFromCSV();return n}catch(n){return console.error("Failed to load fighters data:",n),[]}}async getDatasetOverview(){const n=await this.loadFightersData(),a=await mt("data/ALL_DIVISIONS_DATA_WITH_URLS.csv"),v={};n.forEach(l=>{const w=l.Division||"Unknown";v[w]=(v[w]||0)+1});const s=n.filter(l=>l.Number_of_Fights_36m&&l.Number_of_Fights_36m>0).length,r=n.length-s;let g=0;n.forEach(l=>{let w=0;l.Fighter&&l.Fighter.trim()!==""&&(w+=1),l.Division&&l.Division.trim()!==""&&(w+=1),l.Career_Record&&l.Career_Record.trim()!==""&&(w+=1),l.picture_url&&l.picture_url.trim()!==""&&(w+=1),g+=w/4});const h=n.length>0?g/n.length*100:0,A=n.filter(l=>!l.picture_url||l.picture_url.trim()===""),I=A.length,L=n.length>0?Math.round((n.length-I)/n.length*100):100;let d=0,m="current";if(a.lastModified){const w=new Date().getTime()-a.lastModified.getTime();d=Math.floor(w/(1e3*60*60*24)),d<=7?m="current":d<=30?m="warning":m="outdated"}else m="outdated",d=-1;return{totalFighters:n.length,activeFighters:s,inactiveFighters:r,fightersByDivision:v,lastUpdate:a.lastModified,dataQualityScore:Math.round(h),missingPictures:{count:I,completionRate:L,fighters:A.map(l=>l.Fighter||"Unknown").slice(0,10)},maintenanceStatus:{status:m,daysSinceLastUpdate:d}}}async getMissingPicturesData(){const n=await this.loadFightersData(),a=n.filter(s=>!s.picture_url||s.picture_url.trim()===""),v=n.length>0?(n.length-a.length)/n.length*100:0;return{count:a.length,fighters:a.map(s=>s.Fighter).slice(0,20),completionRate:Math.round(v)}}async getMaintenanceStatus(){const a=(await mt("data/ALL_DIVISIONS_DATA_WITH_URLS.csv")).lastModified;let v=0,s="current";if(a){const g=new Date().getTime()-a.getTime();v=Math.floor(g/(1e3*60*60*24)),v<=7?s="current":v<=30?s="warning":s="outdated"}else s="outdated",v=-1;return{lastDatasetUpdate:a,status:s,daysSinceLastUpdate:v}}async getTranslationHealth(){const n=["en","es","fr","pt"],a={},v={};try{for(const r of n)try{const h=await(await fetch(`/src/lib/i18n/locales/${r}.json`)).json();this.localeCache[r]=h}catch(g){console.warn(`Failed to load locale ${r}:`,g),a[r]=["Failed to load locale file"],v[r]=0}const s=this.getAllKeys(this.localeCache.en||{});return n.forEach(r=>{if(r==="en"){a[r]=[],v[r]=100;return}const g=this.getAllKeys(this.localeCache[r]||{}),h=s.filter(A=>!g.includes(A));a[r]=h,v[r]=s.length>0?Math.round((s.length-h.length)/s.length*100):0}),{languages:n,totalKeys:s.length,missingKeysByLanguage:a,completionByLanguage:v}}catch(s){return console.error("Failed to check translation health:",s),n.forEach(r=>{a[r]=["Error loading translations"],v[r]=0}),{languages:n,totalKeys:0,missingKeysByLanguage:a,completionByLanguage:v}}}getAllKeys(n,a=""){let v=[];for(const s in n){const r=a?`${a}.${s}`:s;typeof n[s]=="object"&&n[s]!==null&&!Array.isArray(n[s])?v=v.concat(this.getAllKeys(n[s],r)):v.push(r)}return v.sort()}async testProxiesStatus(){const n=[],a=Tt.proxyConfigs.map(async s=>{const r=Date.now();try{const g=await fetch(s.url+encodeURIComponent("https://www.githubstatus.com/history.rss"),{headers:s.headers||{}});return{name:s.name,active:g.ok,responseTime:Date.now()-r}}catch{return{name:s.name,active:!1,responseTime:Date.now()-r}}});return(await Promise.allSettled(a)).forEach(s=>{s.status==="fulfilled"&&n.push(s.value)}),n}async testRSSFeedsStatus(){const n=[],v=[...Bt.rssSources,...Ut.videoSources].map(async r=>{const g=Date.now();try{const h=await Kt.fetchRSS(r.url);return{name:r.name,active:h.length>0,responseTime:Date.now()-g}}catch{return{name:r.name,active:!1,responseTime:Date.now()-g}}});return(await Promise.allSettled(v)).forEach(r=>{r.status==="fulfilled"&&n.push(r.value)}),n}async getDataQualityAlerts(){const n=await this.loadFightersData(),a=[];n.forEach(s=>{(!s.height_inches||s.height_inches===0)&&a.push({type:"missing_data",fighter:s.Fighter,field:"height_inches",description:"Missing height information",severity:"medium"}),(!s.Birth_Date||s.Birth_Date==="")&&a.push({type:"missing_data",fighter:s.Fighter,field:"Birth_Date",description:"Missing birth date",severity:"low"}),s.Birth_Date&&new Date(s.Birth_Date)>new Date&&a.push({type:"invalid_data",fighter:s.Fighter,field:"Birth_Date",description:"Future birth date",severity:"high"}),s.height_inches&&(s.height_inches<50||s.height_inches>90)&&a.push({type:"invalid_data",fighter:s.Fighter,field:"height_inches",description:"Unusual height value",severity:"medium"})});const v=new Map;return n.forEach(s=>{const r=s.Fighter.toLowerCase().trim();v.has(r)||v.set(r,[]),v.get(r).push(s.Fighter)}),v.forEach((s,r)=>{s.length>1&&a.push({type:"duplicate",fighter:s.join(", "),description:"Potential duplicate fighters",severity:"high"})}),a.slice(0,50)}}const ze=new Zt;var ea=y('<div class="division-item svelte-1p3994o"><span class="division-name svelte-1p3994o"> </span> <span class="division-count svelte-1p3994o"> </span></div>'),ta=y('<!> <span class="status-label svelte-1p3994o"> </span>',1),aa=y('<div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Fecha Exacta:</span> <span class="info-value svelte-1p3994o"> </span></div>'),sa=y('<div class="missing-fighter-item svelte-1p3994o"><span class="fighter-name svelte-1p3994o"> </span></div>'),ia=y('<div class="more-missing-indicator svelte-1p3994o"> </div>'),ra=y('<div class="missing-pictures-section svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores Sin Fotos <span class="missing-count svelte-1p3994o"> </span></h4> <div class="missing-pictures-grid svelte-1p3994o"><!> <!></div></div>'),na=y('<div class="overview-stats svelte-1p3994o"><div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Total Luchadores</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #10b981"> </div> <div class="stat-label svelte-1p3994o">Activos</div> <div class="stat-description svelte-1p3994o">Con peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o" style="color: #f59e0b"> </div> <div class="stat-label svelte-1p3994o">Inactivos</div> <div class="stat-description svelte-1p3994o">Sin peleas en 36 meses</div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Calidad de Datos</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div> <div class="stat-item svelte-1p3994o"><div class="stat-value svelte-1p3994o"> </div> <div class="stat-label svelte-1p3994o">Fotos Completas</div> <div class="quality-indicator svelte-1p3994o"><div class="quality-badge svelte-1p3994o"> </div></div></div></div> <div class="divisions-breakdown svelte-1p3994o"><h4 class="svelte-1p3994o">Luchadores por División</h4> <div class="divisions-grid svelte-1p3994o"></div></div> <div class="dataset-info svelte-1p3994o"><div class="info-header svelte-1p3994o"><h4 class="svelte-1p3994o">Información del Dataset</h4> <div class="status-indicator svelte-1p3994o"><!></div></div> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Última Actualización:</span> <span class="info-value svelte-1p3994o"> </span></div> <!> <div class="info-item svelte-1p3994o"><span class="info-label svelte-1p3994o">Tiempo Transcurrido:</span> <span class="info-value svelte-1p3994o"> </span></div></div> <!> <div class="quality-progress svelte-1p3994o"><div class="progress-header svelte-1p3994o"><span class="svelte-1p3994o">Integridad de Datos</span> <span class="svelte-1p3994o"> </span></div> <div class="progress-bar svelte-1p3994o"><div class="progress-fill svelte-1p3994o"></div></div></div> <div class="maintenance-legend svelte-1p3994o"><div class="legend-title svelte-1p3994o">Leyenda de Estados del Dataset:</div> <div class="legend-items svelte-1p3994o"><div class="legend-item svelte-1p3994o"><!> <span>Actualizado (&lt; 7 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Necesita Atención (7-30 días)</span></div> <div class="legend-item svelte-1p3994o"><!> <span>Desactualizado (> 30 días)</span></div></div></div>',1);function va(H,n){Te(n,!0);let a=te(null),v=te(!0),s=te(void 0);async function r(){p(v,!0),p(s,void 0);try{p(a,await ze.getDatasetOverview(),!0)}catch(o){p(s,o instanceof Error?o.message:"Failed to load dataset overview",!0),console.error("Dataset overview error:",o)}finally{p(v,!1)}}rt(r);function g(o){return o>=90?"#10b981":o>=70?"#f59e0b":"#ef4444"}function h(o){return o>=90?"Excelente":o>=80?"Bueno":o>=70?"Regular":"Necesita Mejoras"}function A(o){if(!o)return"Desconocido";const E=new Date().getTime()-o.getTime(),f=Math.floor(E/(1e3*60*60*24));return f===0?"Hoy":f===1?"Ayer":f<7?`hace ${f} días`:f<30?`hace ${Math.floor(f/7)} semanas`:f<365?`hace ${Math.floor(f/30)} meses`:`hace ${Math.floor(f/365)} años`}function I(o){return o>=95?"#10b981":o>=85?"#f59e0b":o>=70?"#fb923c":"#ef4444"}function L(o){return o>=95?"Excelente":o>=85?"Bueno":o>=70?"Regular":"Necesita Trabajo"}function d(o){switch(o){case"current":return"#10b981";case"warning":return"#f59e0b";case"outdated":return"#ef4444";default:return"#6b7280"}}function m(o){switch(o){case"current":return"Actualizado";case"warning":return"Necesita Atención";case"outdated":return"Desactualizado";default:return"Desconocido"}}function l(o){switch(o){case"current":return He;case"warning":return Qe;case"outdated":return at;default:return He}}function w(o){return o===-1?"Desconocido":o===0?"Hoy":o===1?"Ayer":o<7?`hace ${o} días`:o<30?`hace ${Math.floor(o/7)} semanas`:o<365?`hace ${Math.floor(o/30)} meses`:`hace ${Math.floor(o/365)} años`}nt(H,{title:"Resumen del Dataset",get icon(){return kt},get loading(){return e(v)},get error(){return e(s)},className:"dataset-overview-widget",children:(o,V)=>{var E=ve(),f=O(E);{var F=M=>{var P=na(),j=O(P),R=t(j),_=t(R),$=t(_),q=i(R,2),ae=t(q),oe=t(ae),xe=i(q,2),le=t(xe),T=t(le),Q=i(xe,2),de=t(Q),ce=t(de),De=i(de,4),ge=t(De),Ae=t(ge),$e=i(Q,2),me=t($e),b=t(me),S=i(me,4),x=t(S),N=t(x),G=i(j,2),B=i(t(G),2);qe(B,21,()=>Object.entries(e(a).fightersByDivision).sort((K,ee)=>ee[1]-K[1]),Ne,(K,ee)=>{var re=C(()=>Lt(e(ee),2));let pe=()=>e(re)[0],_e=()=>e(re)[1];var Le=ea(),fe=t(Le),we=t(fe),Ce=i(fe,2),Se=t(Ce);k(()=>{c(we,pe()),c(Se,_e())}),u(K,Le)});var U=i(G,2),z=t(U),se=i(t(z),2),ie=t(se);{var he=K=>{const ee=C(()=>l(e(a).maintenanceStatus.status));var re=ta(),pe=O(re);{let fe=C(()=>d(e(a).maintenanceStatus.status));We(pe,()=>e(ee),(we,Ce)=>{Ce(we,{size:18,get color(){return e(fe)}})})}var _e=i(pe,2),Le=t(_e);k((fe,we)=>{ne(_e,`color: ${fe??""}`),c(Le,we)},[()=>d(e(a).maintenanceStatus.status),()=>m(e(a).maintenanceStatus.status)]),u(K,re)};D(ie,K=>{e(a).maintenanceStatus&&K(he)})}var ue=i(z,2),X=i(t(ue),2),be=t(X),Y=i(ue,2);{var W=K=>{var ee=aa(),re=i(t(ee),2),pe=t(re);k(_e=>c(pe,_e),[()=>e(a).lastUpdate.toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]),u(K,ee)};D(Y,K=>{e(a).lastUpdate&&K(W)})}var J=i(Y,2),Z=i(t(J),2),ye=t(Z),ke=i(U,2);{var Ue=K=>{var ee=ra(),re=t(ee),pe=i(t(re)),_e=t(pe),Le=i(re,2),fe=t(Le);qe(fe,17,()=>e(a).missingPictures.fighters,Ne,(Se,Ie)=>{var Ee=sa(),Ze=t(Ee),et=t(Ze);k(()=>c(et,e(Ie))),u(Se,Ee)});var we=i(fe,2);{var Ce=Se=>{var Ie=ia(),Ee=t(Ie);k(()=>c(Ee,`+ ${e(a).missingPictures.count-10} más...`)),u(Se,Ie)};D(we,Se=>{e(a).missingPictures.count>10&&Se(Ce)})}k(()=>c(_e,`(${e(a).missingPictures.count??""})`)),u(K,ee)};D(ke,K=>{e(a).missingPictures.count>0&&K(Ue)})}var Me=i(ke,2),Ve=t(Me),Pe=i(t(Ve),2),Ke=t(Pe),Re=i(Ve,2),Oe=t(Re),Xe=i(Me,2),Ye=i(t(Xe),2),je=t(Ye),ht=t(je);He(ht,{size:14,color:"#10b981"});var vt=i(je,2),bt=t(vt);Qe(bt,{size:14,color:"#f59e0b"});var yt=i(vt,2),wt=t(yt);at(wt,{size:14,color:"#ef4444"}),k((K,ee,re,pe,_e,Le,fe,we,Ce,Se,Ie,Ee,Ze,et,St)=>{c($,K),c(oe,ee),c(T,re),ne(de,`color: ${pe??""}`),c(ce,`${e(a).dataQualityScore??""}%`),ne(ge,`background-color: ${_e??""}20; color: ${Le??""}`),c(Ae,fe),ne(me,`color: ${we??""}`),c(b,`${e(a).missingPictures.completionRate??""}%`),ne(x,`background-color: ${Ce??""}20; color: ${Se??""}`),c(N,Ie),c(be,Ee),ne(Z,`color: ${Ze??""}`),c(ye,et),c(Ke,`${e(a).dataQualityScore??""}%`),ne(Oe,`width: ${e(a).dataQualityScore??""}%; background-color: ${St??""}`)},[()=>e(a).totalFighters.toLocaleString(),()=>e(a).activeFighters.toLocaleString(),()=>e(a).inactiveFighters.toLocaleString(),()=>g(e(a).dataQualityScore),()=>g(e(a).dataQualityScore),()=>g(e(a).dataQualityScore),()=>h(e(a).dataQualityScore),()=>I(e(a).missingPictures.completionRate),()=>I(e(a).missingPictures.completionRate),()=>I(e(a).missingPictures.completionRate),()=>L(e(a).missingPictures.completionRate),()=>A(e(a).lastUpdate),()=>d(e(a).maintenanceStatus.status),()=>w(e(a).maintenanceStatus.daysSinceLastUpdate),()=>g(e(a).dataQualityScore)]),u(M,P)};D(f,M=>{e(a)&&M(F)})}u(o,E)},$$slots:{default:!0}}),Be()}var oa=(H,n,a)=>p(n,e(a),!0),la=y('<div class="missing-indicator svelte-1iuchf4"> </div>'),da=y('<div><button class="language-button svelte-1iuchf4"><div class="language-header svelte-1iuchf4"><div class="language-info svelte-1iuchf4"><span class="language-name svelte-1iuchf4"> </span> <span class="language-code svelte-1iuchf4"> </span></div> <div class="completion-indicator"><!></div></div> <div class="completion-details svelte-1iuchf4"><div class="completion-percentage svelte-1iuchf4"> </div> <div class="completion-status svelte-1iuchf4"> </div></div> <div class="progress-bar svelte-1iuchf4"><div class="progress-fill svelte-1iuchf4"></div></div> <!></button></div>'),ca=y('<span class="missing-count svelte-1iuchf4"> </span>'),ua=y('<div class="no-missing-keys svelte-1iuchf4"><!> <span>¡Todas las traducciones están completas!</span></div>'),fa=y('<div class="missing-key-item svelte-1iuchf4"><code class="svelte-1iuchf4"> </code></div>'),ga=y('<div class="more-missing-indicator svelte-1iuchf4"> </div>'),ma=y('<div class="missing-keys-list svelte-1iuchf4"><!> <!></div>'),pa=y('<div class="missing-keys-section svelte-1iuchf4"><h4 class="svelte-1iuchf4"> <!></h4> <!></div>'),_a=y('<div class="translation-overview svelte-1iuchf4"><div class="overview-stats svelte-1iuchf4"><div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Claves Totales</div></div> <div class="stat-item svelte-1iuchf4"><div class="stat-value svelte-1iuchf4"> </div> <div class="stat-label svelte-1iuchf4">Idiomas</div></div></div></div> <div class="languages-status svelte-1iuchf4"><h4 class="svelte-1iuchf4">Estado por Idioma</h4> <div class="languages-grid svelte-1iuchf4"></div></div> <!>',1);function ha(H,n){Te(n,!0);let a=te(null),v=te(!0),s=te(void 0),r=te("");async function g(){p(v,!0),p(s,void 0);try{p(a,await ze.getTranslationHealth(),!0),e(a)&&!e(r)&&e(a).languages.length>0&&p(r,e(a).languages.find(d=>d!=="en")||e(a).languages[0],!0)}catch(d){p(s,d instanceof Error?d.message:"Error al cargar estado de traducciones",!0),console.error("Translation health error:",d)}finally{p(v,!1)}}rt(g);function h(d){return d>=95?"#10b981":d>=80?"#f59e0b":d>=60?"#fb923c":"#ef4444"}function A(d){return d>=95?He:d>=80?Qe:at}function I(d){return d>=95?"Completo":d>=80?"Casi Completo":d>=60?"En Progreso":"Incompleto"}function L(d){return{en:"Inglés",es:"Español",fr:"Francés",pt:"Portugués"}[d]||d.toUpperCase()}nt(H,{title:"Estado de Traducciones",get icon(){return Ft},get loading(){return e(v)},get error(){return e(s)},className:"translation-health-widget",children:(d,m)=>{var l=ve(),w=O(l);{var o=V=>{var E=_a(),f=O(E),F=t(f),M=t(F),P=t(M),j=t(P),R=i(M,2),_=t(R),$=t(_),q=i(f,2),ae=i(t(q),2);qe(ae,21,()=>e(a).languages,Ne,(le,T)=>{const Q=C(()=>e(a).completionByLanguage[e(T)]),de=C(()=>e(a).missingKeysByLanguage[e(T)]?.length||0);var ce=da();let De;var ge=t(ce);ge.__click=[oa,r,T];var Ae=t(ge),$e=t(Ae),me=t($e),b=t(me),S=i(me,2),x=t(S),N=i($e,2),G=t(N);{var B=W=>{const J=C(()=>A(e(Q)));var Z=ve(),ye=O(Z);{let ke=C(()=>h(e(Q)));We(ye,()=>e(J),(Ue,Me)=>{Me(Ue,{size:16,get color(){return e(ke)}})})}u(W,Z)};D(G,W=>{e(Q)!==void 0&&W(B)})}var U=i(Ae,2),z=t(U),se=t(z),ie=i(z,2),he=t(ie),ue=i(U,2),X=t(ue),be=i(ue,2);{var Y=W=>{var J=la(),Z=t(J);k(()=>c(Z,`${e(de)??""} claves faltantes`)),u(W,J)};D(be,W=>{e(de)>0&&W(Y)})}k((W,J,Z,ye,ke)=>{De=it(ce,1,"language-item svelte-1iuchf4",null,De,W),c(b,J),c(x,`(${e(T)??""})`),ne(z,`color: ${Z??""}`),c(se,`${e(Q)??""}%`),c(he,ye),ne(X,`width: ${e(Q)??""}%; background-color: ${ke??""}`)},[()=>({selected:e(r)===e(T)}),()=>L(e(T)),()=>h(e(Q)),()=>I(e(Q)),()=>h(e(Q))]),u(le,ce)});var oe=i(q,2);{var xe=le=>{const T=C(()=>e(a).missingKeysByLanguage[e(r)]);var Q=pa(),de=t(Q),ce=t(de),De=i(ce);{var ge=b=>{var S=ca(),x=t(S);k(()=>c(x,`(${e(T).length??""})`)),u(b,S)};D(De,b=>{e(T).length>0&&b(ge)})}var Ae=i(de,2);{var $e=b=>{var S=ua(),x=t(S);He(x,{size:20,color:"#10b981"}),u(b,S)},me=b=>{var S=ma(),x=t(S);qe(x,17,()=>e(T).slice(0,10),Ne,(B,U)=>{var z=fa(),se=t(z),ie=t(se);k(()=>c(ie,e(U))),u(B,z)});var N=i(x,2);{var G=B=>{var U=ga(),z=t(U);k(()=>c(z,`+ ${e(T).length-10} claves más...`)),u(B,U)};D(N,B=>{e(T).length>10&&B(G)})}u(b,S)};D(Ae,b=>{e(T).length===0?b($e):b(me,!1)})}k(b=>c(ce,`Claves Faltantes en ${b??""} `),[()=>L(e(r))]),u(le,Q)};D(oe,le=>{e(r)&&e(a).missingKeysByLanguage[e(r)]&&le(xe)})}k(le=>{c(j,le),c($,e(a).languages.length)},[()=>e(a).totalKeys.toLocaleString()]),u(V,E)};D(w,V=>{e(a)&&V(o)})}u(d,l)},$$slots:{default:!0}}),Be()}st(["click"]);async function ba(H,n,a,v,s){p(n,!0);try{p(a,await ze.testProxiesStatus(),!0),p(v,await ze.testRSSFeedsStatus(),!0),console.log({rssStatus:e(v).find(({name:r})=>r==="MMA Mania")})}catch(r){p(s,r instanceof Error?r.message:"Error al ejecutar prueba de proxies",!0),console.error("Proxy test error:",r)}finally{p(n,!1)}}var ya=y('<div class="service-item svelte-1rmb815"><div class="service-header svelte-1rmb815"><div class="service-info svelte-1rmb815"><div class="service-name svelte-1rmb815"> </div> <div class="service-description svelte-1rmb815"> </div></div> <div class="service-status"><!></div></div> <div class="service-details svelte-1rmb815"><div class="status-info svelte-1rmb815"><span class="status-label svelte-1rmb815"> </span> <span class="response-time svelte-1rmb815"> </span></div> <div class="status-indicator svelte-1rmb815"><div class="indicator-bar svelte-1rmb815"><div class="indicator-fill svelte-1rmb815"></div></div></div></div></div>'),wa=y('<div class="summary-stat svelte-1rmb815"><div class="summary-value svelte-1rmb815"> </div> <div class="summary-label svelte-1rmb815">Fuentes Activas</div></div> <div class="summary-progress svelte-1rmb815"><div class="progress-header svelte-1rmb815"><span class="svelte-1rmb815">Disponibilidad RSS</span> <span class="svelte-1rmb815"> </span></div> <div class="progress-bar svelte-1rmb815"><div class="progress-fill svelte-1rmb815"></div></div></div>',1),Sa=y('<div class="feed-item svelte-1rmb815"><div class="feed-status"><!></div> <div class="feed-info svelte-1rmb815"><span class="feed-name svelte-1rmb815"> </span> <span class="feed-time svelte-1rmb815"> </span></div></div>'),xa=y('<div class="status-overview svelte-1rmb815"><div class="test-action svelte-1rmb815"><button><!> </button></div></div> <div class="services-section svelte-1rmb815"><h4 class="svelte-1rmb815">Proxies habilitados</h4> <div class="services-grid svelte-1rmb815"></div></div> <div class="news-feeds-section svelte-1rmb815"><h4 class="svelte-1rmb815">Fuentes de Noticias RSS</h4> <div class="feeds-summary svelte-1rmb815"><!></div> <div class="feeds-grid svelte-1rmb815"></div></div> <div class="connection-legend svelte-1rmb815"><div class="legend-title svelte-1rmb815">Leyenda de Estados:</div> <div class="legend-items svelte-1rmb815"><div class="legend-item svelte-1rmb815"><!> <span>Conectado (&lt; 1s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Lento (1-3s)</span></div> <div class="legend-item svelte-1rmb815"><!> <span>Sin Conexión</span></div></div></div>',1);function Da(H,n){Te(n,!0);let a=te(null),v=te(null),s=te(!0),r=te(void 0),g=te(!1);async function h(){p(s,!0),p(r,void 0);try{p(a,await ze.testProxiesStatus(),!0),p(v,await ze.testRSSFeedsStatus(),!0)}catch(m){p(r,m instanceof Error?m.message:"Error al probar estado de proxies",!0),console.error("Proxy status error:",m)}finally{p(s,!1)}}rt(h);function A(m,l=0){return m?l>0&&l<1e3?"#10b981":l>=1e3&&l<3e3?"#f59e0b":"#fb923c":"#ef4444"}function I(m){return m?dt:ct}function L(m,l=0){return m?l===-1?"Error":l===0?"Conectado":l<500?"Rápido":l<1e3?"Normal":l<3e3?"Lento":"Muy Lento":"Sin Conexión"}function d(m){return m===-1?"Error":m===0?"-":`${m}ms`}nt(H,{title:"Estado de Conexiones",get icon(){return Pt},get loading(){return e(s)},get error(){return e(r)},onRefresh:h,className:"proxy-status-widget",children:(m,l)=>{var w=ve(),o=O(w);{var V=E=>{var f=xa(),F=O(f),M=t(F),P=t(M);let j;P.__click=[ba,g,a,v,r];var R=t(P);{let b=C(()=>e(g)?"spinning":"");Ct(R,{size:16,get class(){return e(b)}})}var _=i(R),$=i(F,2),q=i(t($),2);qe(q,21,()=>e(a),Ne,(b,S)=>{const x=C(()=>e(S).active),N=C(()=>e(S).responseTime||0);var G=ya(),B=t(G),U=t(B),z=t(U),se=t(z),ie=i(z,2),he=t(ie),ue=i(U,2),X=t(ue);{var be=Pe=>{const Ke=C(()=>I(e(x)));var Re=ve(),Oe=O(Re);{let Xe=C(()=>A(e(x),e(N)));We(Oe,()=>e(Ke),(Ye,je)=>{je(Ye,{size:18,get color(){return e(Xe)}})})}u(Pe,Re)};D(X,Pe=>{e(x)!==void 0&&Pe(be)})}var Y=i(B,2),W=t(Y),J=t(W),Z=t(J),ye=i(J,2),ke=t(ye),Ue=i(W,2),Me=t(Ue),Ve=t(Me);k((Pe,Ke,Re,Oe)=>{c(se,e(S).name),c(he,e(S).name),ne(J,`color: ${Pe??""}`),c(Z,Ke),c(ke,Re),ne(Ve,`width: ${e(x)?"100%":"0%"}; background-color: ${Oe??""}`)},[()=>A(e(x),e(N)),()=>L(e(x),e(N)),()=>d(e(N)),()=>A(e(x),e(N))]),u(b,G)});var ae=i($,2),oe=i(t(ae),2),xe=t(oe);{var le=b=>{const S=C(()=>e(v).length),x=C(()=>e(v).filter(({active:Y})=>Y).length),N=C(()=>e(S)>0?Math.round(e(x)/e(S)*100):0);var G=wa(),B=O(G),U=t(B),z=t(U),se=i(B,2),ie=t(se),he=i(t(ie),2),ue=t(he),X=i(ie,2),be=t(X);k(Y=>{c(z,`${e(x)??""}/${e(S)??""}`),c(ue,`${e(N)??""}%`),ne(be,`width: ${e(N)??""}%; background-color: ${Y??""}`)},[()=>A(e(N)>=80,0)]),u(b,G)};D(xe,b=>{e(v)&&b(le)})}var T=i(oe,2);qe(T,21,()=>e(v)??[],Ne,(b,S)=>{const x=C(()=>e(S).responseTime);var N=Sa(),G=t(N),B=t(G);{var U=X=>{const be=C(()=>I(e(S).active));var Y=ve(),W=O(Y);{let J=C(()=>A(e(S).active,e(x)));We(W,()=>e(be),(Z,ye)=>{ye(Z,{size:14,get color(){return e(J)}})})}u(X,Y)};D(B,X=>{e(S).name&&X(U)})}var z=i(G,2),se=t(z),ie=t(se),he=i(se,2),ue=t(he);k(X=>{c(ie,e(S).name),c(ue,X)},[()=>d(e(x))]),u(b,N)});var Q=i(ae,2),de=i(t(Q),2),ce=t(de),De=t(ce);dt(De,{size:14,color:"#10b981"});var ge=i(ce,2),Ae=t(ge);Qe(Ae,{size:14,color:"#f59e0b"});var $e=i(ge,2),me=t($e);ct(me,{size:14,color:"#ef4444"}),k(b=>{j=it(P,1,"test-all-btn svelte-1rmb815",null,j,b),P.disabled=e(g),c(_,` ${e(g)?"Probando...":"Probar Todas las Conexiones"}`)},[()=>({testing:e(g)})]),u(E,f)};D(o,E=>{e(a)&&E(V)})}u(m,w)},$$slots:{default:!0}}),Be()}st(["click"]);var Aa=y('<div class="admin-dashboard svelte-10d68cq"><div class="dashboard-header svelte-10d68cq"><div class="header-content svelte-10d68cq"><div class="header-title svelte-10d68cq"><!> <div class="title-text svelte-10d68cq"><h1 class="svelte-10d68cq">Panel de Administración</h1> <p class="svelte-10d68cq">Monitoreo y mantenimiento del dataset UFC Radar</p></div></div> <div class="header-info svelte-10d68cq"><div class="current-time svelte-10d68cq"> </div> <div class="status-badge svelte-10d68cq"><!> <span class="svelte-10d68cq">Acceso Autorizado</span></div></div></div></div> <div class="dashboard-content svelte-10d68cq"><div class="widgets-grid svelte-10d68cq"><div class="widget-section overview-section svelte-10d68cq"><!></div> <div class="widget-section translations-section svelte-10d68cq"><!></div> <div class="widget-section proxy-section svelte-10d68cq"><!></div></div></div> <div class="dashboard-footer svelte-10d68cq"><div class="footer-content svelte-10d68cq"><div class="footer-info svelte-10d68cq"><span class="svelte-10d68cq">UFC Radar Admin Dashboard</span> <span class="svelte-10d68cq">•</span> <span class="svelte-10d68cq">Versión 1.0</span></div> <div class="footer-warning svelte-10d68cq"><!> <span class="svelte-10d68cq">Panel interno - Solo para uso del equipo</span></div></div></div></div>');function $a(H,n){Te(n,!0);let a=te(Mt(new Date));setInterval(()=>{p(a,new Date,!0)},6e4);function v(q){return q.toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}var s=Aa(),r=t(s),g=t(r),h=t(g),A=t(h);Rt(A,{size:32});var I=i(h,2),L=t(I),d=t(L),m=i(L,2),l=t(m);ut(l,{size:16});var w=i(r,2),o=t(w),V=t(o),E=t(V);va(E,{});var f=i(V,2),F=t(f);ha(F,{});var M=i(f,2),P=t(M);Da(P,{});var j=i(w,2),R=t(j),_=i(t(R),2),$=t(_);ut($,{size:14}),k(q=>c(d,q),[()=>v(e(a))]),u(H,s),Be()}function Ca(H,n){Te(n,!1);const[a,v]=Nt(),s=()=>gt(Ot,"$currentPath",a),r=()=>gt(Ht,"$isAuthenticated",a);ft(()=>(s(),r()),()=>{console.log("AdminPage - currentPath:",s(),"isAuthenticated:",r())}),ft(()=>(s(),r(),Je),()=>{s()===Fe.ADMIN_DASHBOARD&&!r()?(console.log("Redirecting to login - user not authenticated"),Je.navigate(Fe.ADMIN_LOGIN)):s()===Fe.ADMIN_LOGIN&&r()&&(console.log("Redirecting to dashboard - user already authenticated"),Je.navigate(Fe.ADMIN_DASHBOARD))}),It(),_t();var g=ve(),h=O(g);{var A=L=>{pt(L,{})},I=L=>{var d=ve(),m=O(d);{var l=o=>{$a(o,{})},w=o=>{pt(o,{})};D(m,o=>{r()?o(l):o(w,!1)},!0)}u(L,d)};D(h,L=>{s(),Et(Fe),qt(()=>s()===Fe.ADMIN_LOGIN)?L(A):L(I,!1)})}u(H,g),Be(),v()}export{Ca as default};
