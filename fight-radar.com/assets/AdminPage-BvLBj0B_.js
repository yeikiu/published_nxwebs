import{m as U,g as Z,f as S,ao as W,c as e,n as d,i as I,q as i,x as L,t as k,a6 as E,k as P,a as u,l as C,v as c,Q as X,u as Y,ah as ee,ap as B,aq as ae,Z as se,z as G,F as H,A as te,G as T,h as $,L as ie,I as re,E as le}from"./lucide-D52IJH6s.js";import{h as ne,R as f,r as w,e as ve,i as oe}from"./index-DZiSq87N.js";var de=S('<div class="error-message svelte-apfh6f"><span class="error-icon svelte-apfh6f"><!></span> </div>'),ce=S('<div class="spinner svelte-apfh6f"></div> Logging in...',1),fe=S('<div class="login-container svelte-apfh6f"><div class="login-card svelte-apfh6f"><div class="login-header svelte-apfh6f"><div class="lock-icon svelte-apfh6f"><!></div> <h1 class="svelte-apfh6f">Admin Login</h1> <p class="svelte-apfh6f">Access the fighter management dashboard</p></div> <form class="login-form svelte-apfh6f"><div class="form-group svelte-apfh6f"><label for="username" class="svelte-apfh6f">Username</label> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-apfh6f"/></div> <div class="form-group svelte-apfh6f"><label for="password" class="svelte-apfh6f">Password</label> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-apfh6f"/></div> <!> <button type="submit" class="login-btn svelte-apfh6f"><!></button> <div class="demo-info svelte-apfh6f"><small class="svelte-apfh6f">Demo credentials: <strong class="svelte-apfh6f">demo</strong> / <strong class="svelte-apfh6f">test</strong></small></div></form></div></div>');function q(A,g){U(g,!1);let n=L(""),v=L(""),a=L(!1),s=L("");async function p(t){if(t.preventDefault(),!i(n)||!i(v)){c(s,"Please enter both username and password");return}c(a,!0),c(s,"");try{console.log("Attempting login with:",i(n),i(v));const l=await ne.login(i(n),i(v));console.log("Login result:",l),l?(console.log("Login successful, navigating to:",f.ADMIN_DASHBOARD),w.navigate(f.ADMIN_DASHBOARD)):c(s,"Invalid credentials. Try demo:test")}catch(l){console.error("Login error:",l),c(s,"Login failed. Please try again.")}finally{c(a,!1)}}function h(){c(s,"")}Z();var m=fe(),b=e(m),r=e(b),_=e(r),N=e(_);W(N,{size:48});var D=d(r,2),y=e(D),o=d(e(y),2),R=d(y,2),M=d(e(R),2),x=d(R,2);{var F=t=>{var l=de(),z=e(l),K=e(z);X(K,{size:18});var V=d(z);k(()=>Y(V,` ${i(s)??""}`)),u(t,l)};I(x,t=>{i(s)&&t(F)})}var O=d(x,2),Q=e(O);{var j=t=>{var l=ce();u(t,l)},J=t=>{var l=ee("Login");u(t,l)};I(Q,t=>{i(a)?t(j):t(J,!1)})}k(()=>{o.disabled=i(a),M.disabled=i(a),O.disabled=i(a)}),E(o,()=>i(n),t=>c(n,t)),P("input",o,h),E(M,()=>i(v),t=>c(v,t)),P("input",M,h),P("submit",D,p),u(A,m),C()}var pe=S('<div class="admin-dummy-container svelte-smv2i9"><div class="banner-container svelte-smv2i9"><div class="banner-icon svelte-smv2i9"><!></div> <h1 class="banner-title svelte-smv2i9">Server-Side Dashboard</h1> <p class="banner-subtitle svelte-smv2i9">This will be a powerful admin dashboard</p> <div class="features-preview svelte-smv2i9"><div class="feature-card svelte-smv2i9"><!> <span class="svelte-smv2i9">Advanced Security</span></div> <div class="feature-card svelte-smv2i9"><!> <span class="svelte-smv2i9">Real-time Analytics</span></div> <div class="feature-card svelte-smv2i9"><!> <span class="svelte-smv2i9">Server Management</span></div></div> <div class="coming-soon svelte-smv2i9"><span class="coming-soon-text svelte-smv2i9">Coming Soonâ„¢</span></div></div></div>');function me(A){var g=pe(),n=e(g),v=e(n),a=e(v);B(a,{size:64});var s=d(v,6),p=e(s),h=e(p);ae(h,{size:24});var m=d(p,2),b=e(m);se(b,{size:24});var r=d(m,2),_=e(r);B(_,{size:24}),u(A,g)}function he(A,g){U(g,!1);const[n,v]=le(),a=()=>H(ve,"$currentPath",n),s=()=>H(oe,"$isAuthenticated",n);G(()=>(a(),s()),()=>{console.log("AdminPage - currentPath:",a(),"isAuthenticated:",s())}),G(()=>(a(),s(),w),()=>{a()===f.ADMIN_DASHBOARD&&!s()?(console.log("Redirecting to login - user not authenticated"),w.navigate(f.ADMIN_LOGIN)):a()===f.ADMIN_LOGIN&&s()&&(console.log("Redirecting to dashboard - user already authenticated"),w.navigate(f.ADMIN_DASHBOARD))}),te(),Z();var p=T(),h=$(p);{var m=r=>{q(r,{})},b=r=>{var _=T(),N=$(_);{var D=o=>{me(o)},y=o=>{q(o,{})};I(N,o=>{s()?o(D):o(y,!1)},!0)}u(r,_)};I(h,r=>{a(),ie(f),re(()=>a()===f.ADMIN_LOGIN)?r(m):r(b,!1)})}u(A,p),C(),v()}export{he as default};
