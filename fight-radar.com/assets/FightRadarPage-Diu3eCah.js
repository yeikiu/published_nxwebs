import{g as bi,p as Qe,l as V,h as g,m as R,j as x,o as e,k as yi,n as wi,f as M,H as Ee,$ as Wi,i as ae,c as a,q as d,Z as $i,t as W,E as ye,s as Ae,b,r as Ti,u as ki,x as qe,z as n,B as u,A as fi,_ as jt,v as ni,K as ii,L as si,V as zi,a0 as Bt,a1 as mi,y as _i,a2 as Et,a as Nt,a3 as Ot,a4 as Wt,a5 as it,a6 as tt,T as Ci,G as $t,C as at,U as qi,w as zt,N as Di,a7 as Ii}from"./lucide-BZTUuGOE.js";import{H as qt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as It,U as Vt}from"./UpcomingFights-Btto6lX1.js";import{$ as xi,A as vi,n as st,a as At,v as Ht,g as di,b as Gt,u as ui,c as Ut}from"./index-DlYYUIAG.js";import{c as Mi,g as Vi,f as pi,a as Yt,b as Ai,p as Hi,d as Gi,e as Ui}from"./fighters_service-Ch3L-1q7.js";import{R as Qt,a as Yi}from"./RadarChart-KJV6kbUZ.js";import{f as Qi,a as Xi,F as Xt}from"./unit_conversion--gH5SulZ.js";import"./highcharts-DyRVWUji.js";var Zt=M('<img class="svelte-gkl5a1"/>'),Jt=M('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),ea=M("<!> <span> </span>",1),ia=M("<span> </span>"),ta=M('<img class="svelte-gkl5a1"/>'),aa=M('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),sa=M('<button type="button"><!> <span> </span></button>'),na=M('<div class="no-results svelte-gkl5a1"> </div>'),oa=M('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ra=M('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Zi($,i){bi(i,!1);const[s,f]=ki(),r=()=>fi(xi,"$_",s),t=R(),h=R();let o=Qe(i,"id",8),w=Qe(i,"placeholder",8,""),c=Qe(i,"disabled",8,!0),y=Qe(i,"options",24,()=>[]),C=Qe(i,"selectedValue",12,""),H=Qe(i,"onSelectionChange",8,void 0),F=Qe(i,"onOpenStateChange",8,void 0),D=Qe(i,"shouldOpen",8,!1),z=R(!1),X=R(),L=R(),q=R(""),P=R(!1);function S(){c()||(g(z,!e(z)),e(z)&&setTimeout(()=>e(L)?.focus(),0))}function T(j){C(j.value),g(q,""),g(z,!1),H()&&H()(j.value,j)}function O(j){const me=j.target;g(q,me.value)}function G(j){j.key==="Enter"&&e(h).length>0?(T(e(h)[0]),j.preventDefault()):j.key==="Escape"&&(g(q,""),g(z,!1))}function N(j){e(X)&&!e(X).contains(j.target)&&(g(z,!1),g(q,""))}function U(j){j.key==="Escape"&&g(z,!1)}V(()=>(x(y()),x(C())),()=>{g(t,y().find(j=>j.value===C()))}),V(()=>(x(D()),e(P),x(c()),e(L)),()=>{D()&&!e(P)&&!c()?(g(P,!0),g(z,!0),setTimeout(()=>e(L)?.focus(),0)):D()||g(P,!1)}),V(()=>(x(F()),e(z)),()=>{F()&&F()(e(z))}),V(()=>(e(q),x(y()),Mi),()=>{g(h,e(q)?y().filter(j=>Mi(j.label.toLowerCase()).includes(Mi(e(q).toLowerCase()))):y())}),yi(),wi();var _=ra();Ee("click",Wi,N),Ee("keydown",Wi,U);var Z=a(_);let de;var Te=a(Z),ue=a(Te);{var we=j=>{var me=ea(),ve=qe(me);{var fe=xe=>{var Ke=Zt();W(()=>{ye(Ke,"src",(e(t),n(()=>e(t).imageUrl))),ye(Ke,"alt",(e(t),n(()=>e(t).label)))}),b(xe,Ke)},Ie=xe=>{var Ke=ni(),Ue=qe(Ke);{var Ve=Ye=>{var De=Jt(),Be=a(De);zi(Be,()=>e(t).iconComponent,(_e,Y)=>{Y(_e,{size:16})}),b(Ye,De)};ae(Ue,Ye=>{e(t),n(()=>e(t)?.iconComponent)&&Ye(Ve)},!0)}b(xe,Ke)};ae(ve,xe=>{e(t),n(()=>e(t)?.imageUrl)?xe(fe):xe(Ie,!1)})}var We=d(ve,2),Se=a(We);W(()=>u(Se,(e(t),n(()=>e(t).label)))),b(j,me)},Ne=j=>{var me=ia(),ve=a(me);W(fe=>u(ve,fe),[()=>(x(w()),r(),n(()=>w()||r()("common.select_option")))]),b(j,me)};ae(ue,j=>{e(t)?j(we):j(Ne,!1)})}var m=d(Te,2);let A;var Oe=d(Z,2);{var je=j=>{var me=oa(),ve=a(me),fe=a(ve);$i(fe,De=>g(L,De),()=>e(L));var Ie=d(ve,2),We=a(Ie);let Se;var xe=a(We),Ke=a(xe),Ue=d(We,2);{var Ve=De=>{var Be=ni(),_e=qe(Be);ii(_e,1,()=>e(h),si,(Y,be)=>{var $e=sa();let Je;var se=a($e);{var Ce=Me=>{var Pe=ta();W(()=>{ye(Pe,"src",(e(be),n(()=>e(be).imageUrl))),ye(Pe,"alt",(e(be),n(()=>e(be).label)))}),Ee("error",Pe,He=>{He.currentTarget.style.display="none"}),b(Me,Pe)},Xe=Me=>{var Pe=ni(),He=qe(Pe);{var oi=ai=>{var ri=aa(),li=a(ri);zi(li,()=>e(be).iconComponent,(v,p)=>{p(v,{size:16})}),b(ai,ri)};ae(He,ai=>{e(be),n(()=>e(be)?.iconComponent)&&ai(oi)},!0)}b(Me,Pe)};ae(se,Me=>{e(be),n(()=>e(be)?.imageUrl)?Me(Ce):Me(Xe,!1)})}var ei=d(se,2),ti=a(ei);W(Me=>{Je=Ae($e,1,"dropdown-item svelte-gkl5a1",null,Je,Me),u(ti,(e(be),n(()=>e(be).label)))},[()=>({selected:C()===e(be).value})]),Ee("click",$e,()=>T(e(be))),b(Y,$e)}),b(De,Be)},Ye=De=>{var Be=ni(),_e=qe(Be);{var Y=be=>{var $e=na(),Je=a($e);W(()=>u(Je,`No se encontraron resultados para "${e(q)??""}"`)),b(be,$e)};ae(_e,be=>{e(q)&&be(Y)},!0)}b(De,Be)};ae(Ue,De=>{e(h),n(()=>e(h).length>0)?De(Ve):De(Ye,!1)})}W((De,Be,_e)=>{ye(fe,"placeholder",De),ye(Ie,"id",`dropdown-options-${o()??""}`),Se=Ae(We,1,"dropdown-item svelte-gkl5a1",null,Se,Be),u(Ke,_e)},[()=>(r(),n(()=>r()("common.search")||"Search...")),()=>({selected:C()===""}),()=>(x(w()),r(),n(()=>w()||r()("common.select_option")))]),jt(fe,()=>e(q),De=>g(q,De)),Ee("input",fe,O),Ee("keydown",fe,G),Ee("click",We,()=>T({value:"",label:w(),imageUrl:""})),b(j,me)};ae(Oe,j=>{e(z)&&j(je)})}$i(_,j=>g(X,j),()=>e(X)),W((j,me)=>{ye(_,"id",o()),de=Ae(Z,1,"dropdown-button svelte-gkl5a1",null,de,j),Z.disabled=c(),ye(Z,"aria-expanded",e(z)),ye(Z,"aria-controls",`dropdown-options-${o()??""}`),A=Ae(m,1,"dropdown-arrow svelte-gkl5a1",null,A,me)},[()=>({disabled:c(),open:e(z)}),()=>({rotated:e(z)})]),Ee("click",Z,S),b($,_),Ti(),f()}function Si($,i){if(i()){vi.trackFighterCardCTA(i().nameWithNickname,"view_profile");const s=`/data-center/fighter-details?fighter=${encodeURIComponent(i().nameWithNickname)}`;st(s)}}function la($,i){g(i,!e(i))}var ha=M('<img class="fighter-image svelte-1wjjcz3"/> <div class="fighter-placeholder svelte-1wjjcz3" style="display: none;">Picture Unavailable</div>',1),ca=M('<div class="fighter-placeholder svelte-1wjjcz3">Picture Unavailable</div>'),da=M('<span class="division-ranking champion svelte-1wjjcz3" title="Champion"><!></span>'),va=M('<span class="division-ranking ranked svelte-1wjjcz3"> </span>'),ga=($,i)=>$.key==="Enter"&&i(),fa=M('<div class="stat-item role-disc-clickable svelte-1wjjcz3" role="button" tabindex="0"><span class="stat-label svelte-1wjjcz3">ROLE-DISC:</span> <span><div class="role-emojis svelte-1wjjcz3"> </div> <div class="role-name svelte-1wjjcz3"> </div></span></div>'),ua=M('<div class="archetype-fields svelte-1wjjcz3"><div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value description svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value favorite-zone svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value strengths svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value weaknesses svelte-1wjjcz3"> </div></div></div>'),_a=M('<hr class="archetype-divider svelte-1wjjcz3"/> <div class="archetype-container svelte-1wjjcz3"><div class="archetype-section svelte-1wjjcz3"><button type="button" class="archetype-section-title svelte-1wjjcz3"><span><!></span> </button> <!></div></div>',1),pa=M('<div class="fighter-header svelte-1wjjcz3"><div class="header-actions svelte-1wjjcz3"><!> <button type="button" class="fighter-detail-cta svelte-1wjjcz3" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1wjjcz3"><div class="fighter-image-container svelte-1wjjcz3"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1wjjcz3"><div class="fighter-name svelte-1wjjcz3"> </div></button> <div class="fighter-division-container svelte-1wjjcz3"><span class="fighter-division svelte-1wjjcz3"> </span> <!></div> <div class="star-rating svelte-1wjjcz3"><div class="stars-container svelte-1wjjcz3"></div></div> <div class="fighter-stats svelte-1wjjcz3"><!> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value career-record svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value record svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span><!></span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value height svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value reach svelte-1wjjcz3"> </span></div></div> <!>',1),ma=M('<div class="empty-card svelte-1wjjcz3"><div class="empty-message svelte-1wjjcz3"> </div></div>'),ba=M('<div class="fighter-card svelte-1wjjcz3"><!></div> <!>',1);function Ji($,i){bi(i,!1);const[s,f]=ki(),r=()=>fi(xi,"$_",s),t=R(),h=R(),o=R(),w=R();let c=Qe(i,"fighter",8,null),y=Qe(i,"id",8,""),C=R(!1),H=R(!1);function F(){g(C,!0)}function D(){g(C,!1)}V(()=>r(),()=>{g(t,T=>{if(!T||!T.startsWith("@ARCHETYPE_"))return T;let O="",G="";if(T.includes("_DESCRIPTION"))O=T.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),G="description";else if(T.includes("_FAVORITE_ZONE"))O=T.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),G="favorite_zone";else if(T.includes("_STRENGTHS"))O=T.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),G="strengths";else if(T.includes("_WEAKNESSES"))O=T.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),G="weaknesses";else{const _=T.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!_)return T;O=_[1],G=_[2].toLowerCase()}const N=`archetype_data.${O}.${G}`,U=r()(N);return T.includes("_WEAKNESSES"),U!==N?U:T})}),V(()=>(x(c()),Vi),()=>{g(h,c()?Vi(c().archetype):null)}),V(()=>(x(c()),Qi),()=>{g(o,c()?.rawData.height_inches?Qi(c().rawData.height_inches):"-")}),V(()=>(x(c()),Xi),()=>{g(w,c()?.rawData.reach_inches?Xi(c().rawData.reach_inches):"-")}),yi(),wi();var z=ba(),X=qe(z),L=a(X);{var q=T=>{var O=pa(),G=qe(O),N=a(G),U=a(N);Xt(U,{get fighterFullName(){return x(c()),n(()=>c().name)},size:"large"});var _=d(U,2);_.__click=[Si,c];var Z=a(_);Bt(Z,{size:16});var de=d(N,2);de.__click=[Si,c];var Te=a(de),ue=a(Te);{var we=K=>{var B=ha(),oe=qe(B);W(()=>{ye(oe,"src",(x(c()),n(()=>c().pictureUrl))),ye(oe,"alt",`${x(c()),n(()=>c().name)??""} fighter profile picture`)}),Ee("error",oe,le=>{le.currentTarget.style.display="none";const ee=le.currentTarget.nextElementSibling;ee&&(ee.style.display="block")}),b(K,B)},Ne=K=>{var B=ca();b(K,B)};ae(ue,K=>{x(c()),n(()=>c().pictureUrl)?K(we):K(Ne,!1)})}var m=d(G,2);m.__click=[Si,c];var A=a(m),Oe=a(A),je=d(m,2),j=a(je),me=a(j),ve=d(j,2);{var fe=K=>{var B=ni(),oe=qe(B);{var le=I=>{var he=da(),ce=a(he);Ot(ce,{size:16}),b(I,he)},ee=I=>{var he=va(),ce=a(he);W(()=>{ye(he,"title",`Division Ranking #${x(c()),n(()=>c().rawData.division_ranking)??""}`),u(ce,`#${x(c()),n(()=>c().rawData.division_ranking)??""}`)}),b(I,he)};ae(oe,I=>{x(c()),n(()=>c().rawData.division_ranking==="0")?I(le):I(ee,!1)})}b(K,B)};ae(ve,K=>{x(c()),n(()=>c().rawData.division_ranking!==void 0&&c().rawData.division_ranking!=="")&&K(fe)})}var Ie=d(je,2),We=a(Ie),Se=d(Ie,2),xe=a(Se);{var Ke=K=>{var B=fa();B.__click=F,B.__keydown=[ga,F];var oe=a(B),le=d(oe,2),ee=a(le),I=a(ee),he=d(ee,2),ce=a(he);W((ge,Le)=>{ye(B,"aria-label",ge),ye(oe,"title",Le),Ae(le,1,`stat-value role-indicator archetype-dots archetype-${e(h),n(()=>e(h).type)??""}`,"svelte-1wjjcz3"),ye(le,"title",(e(h),n(()=>e(h).tooltip))),u(I,(e(h),n(()=>e(h).label))),u(ce,(e(h),n(()=>e(h).name)))},[()=>(r(),n(()=>r()("role_disc_modal.open_modal_aria_label"))),()=>(r(),n(()=>r()("role_disc_modal.archetype_tooltip")))]),b(K,B)};ae(xe,K=>{e(h)&&K(Ke)})}var Ue=d(xe,2),Ve=a(Ue),Ye=a(Ve),De=d(Ve,2),Be=a(De),_e=d(Ue,2),Y=a(_e),be=a(Y),$e=d(Y,2),Je=a($e),se=d(_e,2),Ce=a(se),Xe=a(Ce),ei=d(Ce,2);let ti;var Me=a(ei);{var Pe=K=>{var B=_i();W(()=>u(B,`+${x(c()),n(()=>c().streak)??""}W`)),b(K,B)},He=K=>{var B=ni(),oe=qe(B);{var le=I=>{var he=_i();W(()=>u(he,`${x(c()),n(()=>c().streak)??""}L`)),b(I,he)},ee=I=>{var he=_i("-");b(I,he)};ae(oe,I=>{x(c()),n(()=>c().streak<0)?I(le):I(ee,!1)},!0)}b(K,B)};ae(Me,K=>{x(c()),n(()=>c().streak>0)?K(Pe):K(He,!1)})}var oi=d(se,2),ai=a(oi),ri=a(ai),li=d(ai,2);let v;var p=a(li),k=d(oi,2),J=a(k),Re=a(J),Fe=d(J,2),Q=a(Fe),l=d(k,2),E=a(l),ne=a(E),pe=d(E,2),re=a(pe),ie=d(Se,2);{var te=K=>{var B=_a(),oe=d(qe(B),2),le=a(oe),ee=a(le);ee.__click=[la,H];var I=a(ee);let he;var ce=a(I);Et(ce,{size:20});var ge=d(I),Le=d(ee,2);{var Ge=ze=>{var Ze=ua(),hi=a(Ze),gi=a(hi),Ri=a(gi),nt=a(Ri);Wt(nt,{size:18});var ot=d(Ri,2),rt=a(ot),lt=d(gi,2),ht=a(lt),Pi=d(hi,2),Ki=a(Pi),Li=a(Ki),ct=a(Li);it(ct,{size:18});var dt=d(Li,2),vt=a(dt),gt=d(Ki,2),ft=a(gt),ji=d(Pi,2),Bi=a(ji),Ei=a(Bi),ut=a(Ei);tt(ut,{size:18});var _t=d(Ei,2),pt=a(_t),mt=d(Bi,2),bt=a(mt),yt=d(ji,2),Ni=a(yt),Oi=a(Ni),wt=a(Oi);Ci(wt,{size:18});var Tt=d(Oi,2),Rt=a(Tt),Dt=d(Ni,2),Ft=a(Dt);W((kt,xt,Mt,St,Ct,Pt,Kt,Lt)=>{u(rt,kt),u(ht,xt),u(vt,Mt),u(ft,St),u(pt,Ct),u(bt,Pt),u(Rt,Kt),u(Ft,Lt)},[()=>(r(),n(()=>r()("archetype.tactical_description"))),()=>(e(t),x(c()),n(()=>e(t)(c().archetype.description))),()=>(r(),n(()=>r()("archetype.preferred_zone"))),()=>(e(t),x(c()),n(()=>e(t)(c().archetype.favoriteZone))),()=>(r(),n(()=>r()("archetype.strengths"))),()=>(e(t),x(c()),n(()=>e(t)(c().archetype.strengths))),()=>(r(),n(()=>r()("archetype.weaknesses"))),()=>(e(t),x(c()),n(()=>e(t)(c().archetype.weaknesses)))]),b(ze,Ze)};ae(Le,ze=>{e(H)&&ze(Ge)})}W((ze,Ze)=>{ye(ee,"aria-expanded",e(H)),he=Ae(I,1,"archetype-caret svelte-1wjjcz3",null,he,ze),u(ge,` ${Ze??""}`)},[()=>({expanded:e(H)}),()=>(r(),n(()=>r()("archetype.analysis_title")))]),b(K,B)};ae(ie,K=>{x(c()),n(()=>c().archetype)&&K(te)})}W((K,B,oe,le,ee,I,he,ce,ge,Le,Ge,ze,Ze,hi,gi,Ri)=>{ye(_,"aria-label",`View detailed fighter profile for ${x(c()),n(()=>c().nameWithNickname)??""}`),u(Oe,(x(c()),n(()=>c().name))),u(me,K),mi(We,`--fill-width: ${x(c()),n(()=>c().stars*20)??""}%`),ye(Ve,"title",B),u(Ye,`${oe??""}:`),u(Be,(x(c()),n(()=>c().career_record))),ye(Y,"title",le),u(be,`${ee??""}:`),u(Je,(x(c()),n(()=>c().record_36m))),ye(Ce,"title",I),u(Xe,`${he??""}:`),ti=Ae(ei,1,"stat-value streak svelte-1wjjcz3",null,ti,ce),ye(ai,"title",ge),u(ri,`${Le??""}:`),v=Ae(li,1,"stat-value opp-tier svelte-1wjjcz3",null,v,Ge),u(p,`${ze??""}/10`),ye(J,"title",Ze),u(Re,`${hi??""}:`),u(Q,e(o)),ye(E,"title",gi),u(ne,`${Ri??""}:`),u(re,e(w))},[()=>(x(pi),x(c()),n(()=>pi(c().division||""))),()=>(r(),n(()=>r()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(r(),n(()=>r()("fighter_profile.career_record"))),()=>(r(),n(()=>r()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(r(),n(()=>r()("fighter_profile.record_36m"))),()=>(r(),n(()=>r()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(r(),n(()=>r()("fighter_profile.streak"))),()=>({"streak-win":c().streak>0,"streak-loss":c().streak<0}),()=>(r(),n(()=>r()("fighter_profile.opponent_tier_tooltip")||"Quality of opponents faced (0-10 scale). Higher score means tougher competition.")),()=>(r(),n(()=>r()("fighter_profile.opponent_tier"))),()=>({"opp-tier-elite":c().oppTierScore>=7,"opp-tier-strong":c().oppTierScore>=5&&c().oppTierScore<7,"opp-tier-average":c().oppTierScore>=3&&c().oppTierScore<5,"opp-tier-weak":c().oppTierScore<3}),()=>(x(c()),n(()=>c().oppTierScore.toFixed(1))),()=>(r(),n(()=>r()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(r(),n(()=>r()("fighter_profile.height"))),()=>(r(),n(()=>r()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(r(),n(()=>r()("fighter_profile.reach")))]),b(T,O)},P=T=>{var O=ma(),G=a(O),N=a(G);W(U=>u(N,U),[()=>(r(),n(()=>r()("fight_radar.select_fighter_stats")))]),b(T,O)};ae(L,T=>{c()?T(q):T(P,!1)})}var S=d(X,2);Qt(S,{get isOpen(){return e(C)},$$events:{close:D}}),W(()=>ye(X,"id",y())),b($,z),Ti(),f()}Nt(["click","keydown"]);function ya($){const i=$.filter(o=>o.type===ke.VICTORY_METHOD&&(o.prediction.toLowerCase().includes("decision")||o.predictionKey?.toLowerCase().includes("decision")));if(i.length===0)return $;const s=$.filter(o=>{if(o.type!==ke.DURATION)return!1;const w=o.prediction.toLowerCase(),c=o.predictionKey?.toLowerCase()||"";return w.includes("under")||c.includes("under")});if(s.length===0)return $;const f=[...i,...s],r=Math.max(...f.map(o=>o.confidence)),t=f.find(o=>o.confidence===r);if(!t)return $;const h=new Set(f.map(o=>o.id));return $.filter(o=>!h.has(o.id)||o.id===t.id)}function wa($){const i=$.filter(h=>h.type===ke.VICTORY_METHOD),s=$.filter(h=>h.type===ke.FIGHT_PROPS);if(i.length===0||s.length===0)return $;const r=i.reduce((h,o)=>o.confidence>h.confidence?o:h).prediction.toLowerCase(),t=new Set;for(const h of s){const o=(h.prediction||"").toLowerCase(),w=(h.predictionKey||"").toLowerCase();(r.includes("ko")||r.includes("tko"))&&(o.includes("submission")||o.includes("ground control")||w.includes("submission")||w.includes("ground_control"))&&t.add(h.id),r.includes("submission")&&(o.includes("standing exchange")&&!o.includes("ground")||w.includes("standing_exchange")&&!w.includes("ground"))&&t.add(h.id),r.includes("decision")&&(o.includes("first round finish")||o.includes("gone in 60")||w.includes("first_round_finish")||w.includes("gone_in_60"))&&t.add(h.id)}return $.filter(h=>!t.has(h.id))}function Ta($){const i=$.filter(r=>r.type===ke.DURATION),s=$.filter(r=>r.type===ke.FIGHT_PROPS);if(i.length===0||s.length===0)return $;const f=new Set;for(const r of i){const t=(r.prediction||"").toLowerCase(),h=(r.predictionKey||"").toLowerCase(),o=t.includes("under 2.5")||h.includes("under_2_5"),w=t.includes("over 3.5")||h.includes("over_3_5");for(const c of s){const y=(c.prediction||"").toLowerCase(),C=(c.predictionKey||"").toLowerCase();o&&((y.includes("over 100 strikes")||C.includes("over_100_strikes"))&&f.add(c.id),(y.includes("goes to distance")||C.includes("goes_to_distance"))&&f.add(c.id)),w&&(y.includes("first round")||y.includes("gone in 60")||C.includes("first_round")||C.includes("gone_in_60"))&&f.add(c.id)}}return $.filter(r=>!f.has(r.id))}function et($){let i=[...$];return i=ya(i),i=wa(i),i=Ta(i),i}const Ra={Bantamweight:{finishBias:-.08768115942028987,koVsSubBias:-.15,sampleSize:138,stats_3R:{sampleSize:128,decisionRate:.6328125,finishRate:.3671875,koRate:.1796875,submissionRate:.1875},stats_5R:{sampleSize:10,decisionRate:.7,finishRate:.3,koRate:.2,submissionRate:.1}},Heavyweight:{finishBias:.02058823529411763,koVsSubBias:.08529411764705885,sampleSize:68,stats_3R:{sampleSize:59,decisionRate:.6101694915254238,finishRate:.3898305084745763,koRate:.3050847457627119,submissionRate:.0847457627118644},stats_5R:{sampleSize:9,decisionRate:0,finishRate:1,koRate:.6666666666666666,submissionRate:.3333333333333333}},Light_Heavyweight:{finishBias:.17857142857142855,koVsSubBias:.16428571428571428,sampleSize:70,stats_3R:{sampleSize:65,decisionRate:.38461538461538464,finishRate:.6153846153846154,koRate:.4461538461538462,submissionRate:.16923076923076924},stats_5R:{sampleSize:5,decisionRate:.2,finishRate:.8,koRate:.8,submissionRate:0}},Middleweight:{finishBias:.13196721311475407,koVsSubBias:.13688524590163934,sampleSize:122,stats_3R:{sampleSize:104,decisionRate:.40384615384615385,finishRate:.5961538461538461,koRate:.4326923076923077,submissionRate:.16346153846153846},stats_5R:{sampleSize:18,decisionRate:.5,finishRate:.5,koRate:.4444444444444444,submissionRate:.05555555555555555}},W_Flyweight:{finishBias:-.1858490566037736,koVsSubBias:-.15,sampleSize:53,stats_3R:{sampleSize:50,decisionRate:.72,finishRate:.28,koRate:.14,submissionRate:.14},stats_5R:{sampleSize:3,decisionRate:1,finishRate:0,koRate:0,submissionRate:0}},Flyweight:{finishBias:.04382716049382712,koVsSubBias:-.10061728395061728,sampleSize:81,stats_3R:{sampleSize:70,decisionRate:.5,finishRate:.5,koRate:.2571428571428571,submissionRate:.24285714285714285},stats_5R:{sampleSize:11,decisionRate:.5454545454545454,finishRate:.45454545454545453,koRate:.36363636363636365,submissionRate:.09090909090909091}},Welterweight:{finishBias:.12258064516129036,koVsSubBias:.16451612903225807,sampleSize:124,stats_3R:{sampleSize:114,decisionRate:.42105263157894735,finishRate:.5789473684210527,koRate:.4473684210526316,submissionRate:.13157894736842105},stats_5R:{sampleSize:10,decisionRate:.5,finishRate:.5,koRate:.4,submissionRate:.1}},W_Bantamweight:{finishBias:-.12307692307692308,koVsSubBias:-.1692307692307692,sampleSize:52,stats_3R:{sampleSize:52,decisionRate:.6730769230769231,finishRate:.3269230769230769,koRate:.15384615384615385,submissionRate:.17307692307692307},stats_5R:{sampleSize:0,decisionRate:0,finishRate:0,koRate:0,submissionRate:0}},Featherweight:{finishBias:.07343749999999999,koVsSubBias:-.017187499999999994,sampleSize:128,stats_3R:{sampleSize:124,decisionRate:.47580645161290325,finishRate:.5241935483870968,koRate:.3225806451612903,submissionRate:.20161290322580644},stats_5R:{sampleSize:4,decisionRate:.5,finishRate:.5,koRate:.5,submissionRate:0}},Lightweight:{finishBias:.09014598540145985,koVsSubBias:.11277372262773724,sampleSize:137,stats_3R:{sampleSize:126,decisionRate:.4603174603174603,finishRate:.5396825396825397,koRate:.40476190476190477,submissionRate:.1349206349206349},stats_5R:{sampleSize:11,decisionRate:.45454545454545453,finishRate:.5454545454545454,koRate:.36363636363636365,submissionRate:.18181818181818182}},W_Strawweight:{finishBias:-.09000000000000002,koVsSubBias:-.21666666666666667,sampleSize:75,stats_3R:{sampleSize:72,decisionRate:.6527777777777778,finishRate:.3472222222222222,koRate:.1527777777777778,submissionRate:.19444444444444445},stats_5R:{sampleSize:3,decisionRate:.3333333333333333,finishRate:.6666666666666666,koRate:0,submissionRate:.6666666666666666}}};var ke=($=>($.MONEYLINE="moneyline",$.VICTORY_METHOD="victory_method",$.DURATION="duration",$.GOES_TO_DECISION="goes_to_decision",$.GONE_IN_60="gone_in_60",$.FIGHT_PROPS="fight_props",$.KEY_FACTORS="key_factors",$.TRENDS="trends",$.NO_PREDICTION="no_prediction",$))(ke||{}),Fi=($=>($.HIGH="high",$.MEDIUM="medium",$.LOW="low",$))(Fi||{});class ci{constructor(){this.config={finishLikelihoodThreshold:35,skillGapWeight:.04,finishRateWeight:.4,vulnerabilityWeight:.45,methodMatchBonus:7,highPaceFinishBonus:4,styleStrengthBonus:2,finisherVsVulnerableBonus:1,predatorVsDefensiveBonus:3,bothFinishersMultiplier:1.2,bothFinishersThreshold:52,loserDecisionRateWeight:.06,decisionRateBonus:-8,koThreatWinnerWeight:.45,koThreatLoserWeight:.45,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:1,koVulnDiffHighBonus:8,koVulnDiffMedBonus:0,methodFinishSkillGapBonus:6,methodFinishLoserVulnBonus:3,methodFinishWinnerRateBonus:2,methodFinishComboBonus:1,koMethodMatchBonus:17,koMethodMatchWinnerThreshold:20,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.8,subThreatLoserWeight:.5,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:6,subVulnDiffMedBonus:1,subMethodMatchBonus:6,subMethodMatchWinnerThreshold:6,subMethodMatchLoserThreshold:8,gapHighThreshold:40,gapMedThreshold:18,gapLowThreshold:20,strOffGapHighBonus:13,strOffGapMedBonus:2,strOffGapLowBonus:6,ctrlGapHighBonus:9,ctrlGapMedBonus:5,ctrlGapLowBonus:4,tdOffGapHighBonus:4,tdOffGapMedBonus:1,tdOffGapLowBonus:0,unexpectedKOStrLandedThreshold:6.5,unexpectedKOStrAbsorbedThreshold:2,unexpectedKOKnockdownThreshold:1,unexpectedKOThreatThreshold:31,unexpectedKOBoost:12,earlyFinishScoreThreshold:37,durationSkillGapWeight:.01,durationFinishRateWeight:.1,durationVulnerabilityWeight:.15,durationAvgTimeWeight:.5,underBonusBase:20,loserVulnBonus:4,decisionFighterPenalty:5,durationLoserVulnThreshold:50,durationBothLowFinishThreshold:21,durationPaceAsymmetryThreshold:5,durationPaceAsymmetryPenalty:5,durationUnderSkillGapBonus:13,durationUnderLoserVulnBonus:12,durationUnderWinnerFinishBonus:10,durationUnderComboBonus:7,durationUnderExtreme:64,durationUnderSkillGapExtreme:29,durationUnderFinishRateExtreme:15,durationUnderLoserVulnExtreme:11,oppTierWeight:7,oppTierNeutral:.55,oppTierNormPower:1,oppTierFloorStart:40,oppTierFloorScale:22,oppTierFloorMax:1,winRateWeightNormal:.35,winRateWeightExtreme:.2,winRateHighThreshold:76,winRateLowThreshold:34,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:1.1,agePenaltyPhase3Rate:5,agePenaltyMaxCap:.1,damageMultiplier1KO:1.5,damageMultiplier2KO:1.15,damageMultiplier3KO:1.75,damageMultiplier4KO:2.2,damageMultiplier5PlusKO:1.95,relativeAgeThreshold:7,relativeAgeAdjustRate:2,relativeAgeMaxAdjust:.02,momentumEnabled:!0,winStreak1Bonus:0,winStreak2Bonus:0,winStreak3PlusBonus:.04,loseStreak1Penalty:0,loseStreak2Penalty:.06,loseStreak3PlusPenalty:.03,physicalAdvantagesEnabled:!0,reachAdvantageWeight:.09,heightAdvantageWeight:.08,reachDiffThreshold:2,heightDiffThreshold:2,reachAdvantageMaxCap:0,heightAdvantageMaxCap:0,inactivityEnabled:!0,inactivityThreshold:23,inactivityPenaltyRate:.6,inactivityMaxPenalty:.22,activityBonusThreshold:6,activityBonus:2,amplificationEnabled:!0,amplificationThreshold:15,amplificationRate:.45,minProbability:22,maxProbability:80,decisionProbabilityBase:64,decisionLowFinishAdjust:0,goesToDecisionMaxProb:89,decisionBaseMax:83,koMaxProb:92,subMaxProb:82,decisionMinFloor:80,methodDecisionRateFinisherThreshold:5,methodDecisionRateFinisherBonus:10,methodHighPaceMinFights:4,methodHighPaceMinFinish:42,methodHighPaceMaxFinish:58,methodStyleStrengthThreshold:35,methodLoserVulnThreshold:25,methodStrongFinisherWinnerThreshold:45,methodStrongFinisherLoserThreshold:43,decisionCapHighFinishThreshold:54,decisionCapPenaltyBase:3,decisionCapPenaltyScale:2,decisionCapPenaltyDivisor:11,decisionCapMedFinishThreshold:50,decisionCapMedPenalty:1,decisionCapLowFinishThreshold:36,decisionCapLowPenalty:0,divisionMinSampleSize:26,divisionThreatDiffThreshold:4,divisionPreferenceThreshold:20,divisionTiebreakerBoost:2,koThreatComponent:.35,subThreatComponent:.25,defaultFightDuration:875,extremeFinishWinnerThreshold1:73,extremeFinishLoserThreshold1:40,extremeFinishSkillGap1:22,extremeFinishWinnerThreshold2:60,extremeFinishLoserThreshold2:43,extremeFinishSkillGap3:18,extremeFinishWinnerThreshold3:50,under15ScoreThreshold:55,under15WinProbThreshold:72,under15WinnerTimeThreshold:4,under15LoserTimeThreshold:6,under15SkillGapThreshold:8,under15InitialCap:70,under15SkillGapExtreme:16,under15FinishRateExtreme:78,under15VulnExtreme:50,under15FinalCap:89,under15RelaxedEarlyFinishThreshold:44,under15RelaxedWinProbThreshold:49,under25FinishThreshold1:50,under25LoserFinishThreshold1:55,under25KOThreshold:38,under25AvgTimeThreshold:6,under25WinnerTimeThreshold:10,under25LoserTimeThreshold:7,under25WinProbMin:40,under25InitialCap:80,under25SkillGapThreshold:9,under25VulnThreshold:36,under25WinnerFinishThreshold:66,under25ComboWinnerThreshold:54,under25ComboLoserThreshold:44,under25FinalCap:81,over15BaseProbability:54,over15HighThreatThreshold:34,over15HighThreatValue:57,over15MedThreatLowThreshold:23,over15MedThreatHighThreshold:39,over15MedThreatValue:62,over15LowThreatThreshold:12,over15LowThreatValue:60,over15VeryLowThreatThreshold:5,over15VeryLowThreatValue:88,over15FinisherThreshold:39,over15FinisherPenalty:8,over15DecisionThreshold:73,over15DecisionBoost:12,over15DualDecisionThreshold1:10,over15DualDecisionThreshold2:23,over15DualDecisionBoost:8,over15LongTimeThreshold:7,over15LongTimeBoost:14,over15MinProbability:32,over15MaxProbability:83,over15FinishLikelihoodPenaltyThreshold:31,over15FinishLikelihoodPenaltyAmount:10,over35DecisionThreshold1:50,over35DecisionThreshold2:68,over35AvgTimeThreshold:10,over35LowFinishThreshold:15,over35LongTimeThreshold:11,over35BaseProbability:40,over35PureDecisionThreshold:60,over35PureDecisionValue:60,over35ExtremeDecisionThreshold:90,over35ExtremeDecisionValue:59,over35LongMinProbability:33,over35LongDecisionThreshold:50,over35LongDecisionBoost:5,over35LongDecisionCap:70,over35FinishPenaltyThreshold1:43,over35FinishPenalty1:11,over35FinishPenaltyThreshold2:47,over35FinishPenalty2:6,over35MinProbability:40,over35MaxProbability:70,physicalAdvantageReachThreshold:2,physicalAdvantageHeightThreshold:2,activityPeriodMonths:45,activityThresholdFights:3,defaultWinProbability:45,reachAnalysisThreshold:2,activityDifferenceThreshold:2,highWinRateThreshold:65,strugglingWinRateThreshold:54,estimatedCareerStartAge:16,estimatedFightsPerYear:1.5,grapplerTakedownThreshold:49,grapplerSubmissionThreshold:28,strikerKOThreshold:33,strikerTakedownMax:5,dominantGrapplerThreshold:59,weightedMetricLoserImpact:.55,firstRoundFinishThreshold:3,subAttemptsOverThreshold:2.3,finishRateFirstRoundThreshold:69,doubleKnockdownThreshold:.3,groundControlTakedownThreshold:15,strikeVolumeThreshold:120,standingExchangeTakedownMax:3,divisionBlendSubThreat:.2,koToDecisionBiasReduction:0,koToDecisionLoserDecisionRateThreshold:39,koToDecisionLowKOThreatThreshold:33,subToDecisionBiasReduction:7,subToDecisionLoserDecisionRateThreshold:50,subToDecisionLowSubThreatThreshold:20,predatorFinishRateThreshold:20,predatorVulnerabilityThreshold:30,methodThreatDiffThreshold:5,methodStyleDiffThreshold:5,threatMultiplier:.35,methodFinishSkillGapThreshold:7,koLoserVulnThreshold:33,koWinnerRateThreshold:43,subLoserVulnThreshold:17,subWinnerRateThreshold:25,koComboWinnerRateThreshold:58,koComboLoserVulnThreshold:15,durationFinishRateThreshold:50,durationTakedownRateThreshold:20,durationStrikeVolumeThreshold:80,durationLowTakedownThreshold:1,subComboWinnerRateThreshold:37,subComboLoserVulnThreshold:27,winnerReachDiffThreshold:1,winnerExperienceGapThreshold:1,winnerAgePrimeStart:25,winnerAgePrimeEnd:30,winnerYearsAfterPrimeModerate:3,winnerYearsAfterPrimeSevere:8,h2hRecentVictoryMonths:46,h2hRecentVictoryPenalty:15,h2hRecencyWeight:.5,durationDivisionMinSampleSize:40,durationLoserVulnBonus:14,durationDecisionFighterPenalty:15}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}static{this.divisionCoefficients=null}static loadDivisionCoefficients(){return this.divisionCoefficients?this.divisionCoefficients:(this.divisionCoefficients=new Map(Object.entries(Ra)),this.divisionCoefficients)}generateBetCards(i,s,f=!1,r=3){const t=[],o=i.rawData.Number_of_Fights_36m||0,w=s.rawData.Number_of_Fights_36m||0;if(o<3||w<3)return[this.createNoPredictionCard("insufficient_fights",i,s,o,w)];if(i.division!==s.division)return[this.createNoPredictionCard("different_divisions",i,s)];const c=this.calculateWinProbability(i,s);if(f&&c.probability<ci.MIN_MEDIUM_CONFIDENCE){const z=c.winner===i?c.probability:100-c.probability,X=100-z;t.push(this.createNoPredictionCard("low_moneyline_confidence",i,s,void 0,void 0,z,X))}else t.push(this.createMoneylineCard(c));const y=this.predictMethodGivenWinner(i,s,c,r),C=this.predictTotalRounds(i,s,c,r),H=this.generateFightProps(i,s,c),F=this.analyzeKeyFactors(i,s),D=this.analyzeTrends(i,s);return t.push(this.createVictoryMethodCard(y)),t.push(this.createTotalRoundsCard(C)),t.push(this.createFightPropsCard(H)),t.push(this.createKeyFactorsCard(F)),t.push(this.createTrendsCard(D)),this.hasHighConfidencePredictions(t)||t.push(this.createNoPredictionCard("low_confidence")),f?this.sortBetCardsByPriority(this.filterByConfidence(et(t))):this.sortBetCardsByPriority(et(t))}filterByConfidence(i){return i.filter(s=>s.type==="key_factors"||s.type==="trends"||s.type==="no_prediction"?!0:s.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(i,s){const f=(i.rawData.reach_inches||0)-(s.rawData.reach_inches||0),r=(i.rawData.height_inches||0)-(s.rawData.height_inches||0);let t=0,h=0;return f>=this.config.physicalAdvantageReachThreshold?t+=Math.min(Math.abs(f)*this.config.reachAdvantageWeight,.025):f<=-this.config.physicalAdvantageReachThreshold&&(h+=Math.min(Math.abs(f)*this.config.reachAdvantageWeight,.025)),r>=this.config.physicalAdvantageHeightThreshold?t+=Math.min(Math.abs(r)*this.config.heightAdvantageWeight,.015):r<=-this.config.physicalAdvantageHeightThreshold&&(h+=Math.min(Math.abs(r)*this.config.heightAdvantageWeight,.015)),{f1Advantage:t,f2Advantage:h}}checkRecentH2H(i,s){if(!i.rawData.Dates_36m||!s.rawData.Dates_36m)return{loserRecentlyBeatWinner:!1,winnerRecentlyBeatLoser:!1};const f=i.id,r=s.id,t=i.name.toLowerCase(),h=s.name.toLowerCase(),o=t.split(" ")[0],w=h.split(" ")[0],c=i.rawData.Dates_36m?i.rawData.Dates_36m.split(","):[],y=s.rawData.Dates_36m?s.rawData.Dates_36m.split(","):[],C=new Date().getTime(),H=this.config.h2hRecentVictoryMonths*30*24*60*60*1e3,F=(X,L,q,P)=>{const S=X.toLowerCase();return S===L||S===q||S===P||S.includes(P)};let D=!1;for(const X of c){if(!X||X.trim().length===0)continue;const L=X.trim().split(":");if(L.length<3)continue;const q=L[0],P=L[1],S=L[2];if(F(P,r,h,w)&&S.toUpperCase()==="W"){const T=this.parseUFCDate(q);if(T&&C-T.getTime()<H){D=!0;break}}}let z=!1;for(const X of y){if(!X||X.trim().length===0)continue;const L=X.trim().split(":");if(L.length<3)continue;const q=L[0],P=L[1],S=L[2];if(F(P,f,t,o)&&S.toUpperCase()==="W"){const T=this.parseUFCDate(q);if(T&&C-T.getTime()<H){z=!0;break}}}return{loserRecentlyBeatWinner:z,winnerRecentlyBeatLoser:D}}parseUFCDate(i){const s=i.split("-");if(s.length!==3)return null;const f=parseInt(s[0],10),r=parseInt(s[1],10),t=parseInt(s[2],10);return isNaN(f)||isNaN(r)||isNaN(t)?null:new Date(t,r-1,f)}calculateWinProbability(i,s){const f=this.config.oppTierNeutral,r=this.config.oppTierWeight,t=m=>{let A=m.oppTierScore;if(!m.hasRankedOpposition){const Oe=Math.max(0,Math.min(this.config.oppTierFloorMax,(m.overall-this.config.oppTierFloorStart)/this.config.oppTierFloorScale));A=Math.max(A,Oe)}return Math.pow(Math.max(0,A),this.config.oppTierNormPower)},h=t(i),o=t(s);let w=i.overall+(h-f)*r,c=s.overall+(o-f)*r;const y=this.calculatePhysicalAdvantage(i,s);w*=1+y.f1Advantage,c*=1+y.f2Advantage,w*=this.calculateAgeImpact(i),c*=this.calculateAgeImpact(s);const C=this.getInactiveMonths(i),H=this.getInactiveMonths(s);if(C>=this.config.inactivityThreshold){const m=Math.min((C-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);w*=1-m}if(H>=this.config.inactivityThreshold){const m=Math.min((H-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);c*=1-m}const F=this.getFightsInPeriod(i,18),D=this.getFightsInPeriod(s,18);F>=this.config.activityBonusThreshold&&(w*=1+this.config.activityBonus),D>=this.config.activityBonusThreshold&&(c*=1+this.config.activityBonus);const z=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,X=s.rawData.Number_of_Fights_36m>0?s.rawData.win/s.rawData.Number_of_Fights_36m*100:0,L=this.calculateMomentum(i),q=this.calculateMomentum(s);w*=1+L,c*=1+q;let P=this.config.winRateWeightNormal,S=this.config.winRateWeightNormal;z>=this.config.winRateHighThreshold?P=this.config.winRateWeightExtreme:z<this.config.winRateLowThreshold&&(P=this.config.winRateWeightExtreme),X>=this.config.winRateHighThreshold?S=this.config.winRateWeightExtreme:X<this.config.winRateLowThreshold&&(S=this.config.winRateWeightExtreme);const T=w+z*P,O=c+X*S,G=this.calculateAge(i),N=this.calculateAge(s),U=G-N;let _=T,Z=O;if(Math.abs(U)>=this.config.relativeAgeThreshold){const m=Math.min(Math.abs(U)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);U>0?(_=T*(1-m),Z=O*(1+m)):(_=T*(1+m),Z=O*(1-m))}const de=Math.abs(_-Z);if(de>this.config.amplificationThreshold){const m=1+(de-this.config.amplificationThreshold)*this.config.amplificationRate;_>Z?_*=m:Z*=m}const Te=_+Z;let ue=Te>0?Math.round(_/Te*100):50,we=Te>0?Math.round(Z/Te*100):50;const Ne=this.checkRecentH2H(i,s);if(Ne.loserRecentlyBeatWinner){const m=ue*this.config.h2hRecentVictoryPenalty/100,A=ue*(1-this.config.h2hRecencyWeight)+(ue-m)*this.config.h2hRecencyWeight;ue=Math.round(A),we=100-ue}if(Ne.winnerRecentlyBeatLoser){const m=ue*this.config.h2hRecentVictoryPenalty/100,A=ue*(1-this.config.h2hRecencyWeight)+(ue+m)*this.config.h2hRecencyWeight;ue=Math.round(A),we=100-ue}if(ue=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,ue)),we=100-ue,ue>we){let m=this.getWinReasoningKey(i,s,z,X);return{winner:i,probability:ue,reasoningKey:m,adjustedScore1:_,adjustedScore2:Z}}else{let m=this.getWinReasoningKey(s,i,X,z);return{winner:s,probability:we,reasoningKey:m,adjustedScore1:Z,adjustedScore2:_}}}predictMethodGivenWinner(i,s,f,r=3){const t=f.winner,h=t===i?s:i,o=ci.loadDivisionCoefficients(),w=t.division,c=o.get(w),y=c?r===5?c.stats_5R:c.stats_3R:null,C=Math.abs(t.overall-h.overall),H=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,F=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,D=t===i?H:F,z=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,X=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,L=t===i?z:X,q=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,P=s.rawData.Number_of_Fights_36m>0?s.rawData.win_sub/s.rawData.Number_of_Fights_36m*100:0,S=t===i?q:P,T=h.rawData.Number_of_Fights_36m>0?h.rawData.loss_kotko/h.rawData.Number_of_Fights_36m*100:0,O=h.rawData.Number_of_Fights_36m>0?h.rawData.loss_sub/h.rawData.Number_of_Fights_36m*100:0,G=T+O,N=G,U=h.rawData.Number_of_Fights_36m>0?h.rawData.loss_decision/h.rawData.Number_of_Fights_36m*100:0;let _=C*this.config.skillGapWeight+D*this.config.finishRateWeight+G*this.config.vulnerabilityWeight;const Z=U*this.config.loserDecisionRateWeight/10;_-=Z,U<this.config.methodDecisionRateFinisherThreshold&&(_+=this.config.methodDecisionRateFinisherBonus);const de=L>S&&T>O,Te=S>L&&O>T;(de||Te)&&(_+=this.config.methodMatchBonus),t.rawData.Number_of_Fights_36m>=this.config.methodHighPaceMinFights&&D>=this.config.methodHighPaceMinFinish&&D<=this.config.methodHighPaceMaxFinish&&(_+=this.config.highPaceFinishBonus),Math.max(L,S)>this.config.methodStyleStrengthThreshold&&G>this.config.methodLoserVulnThreshold&&(_+=this.config.styleStrengthBonus),D>this.config.methodStrongFinisherWinnerThreshold&&N>this.config.methodStrongFinisherLoserThreshold&&(_+=this.config.finisherVsVulnerableBonus);const Ne=t.archetype?.combinedRole||"",m=h.archetype?.combinedRole||"",A=Ne.includes("AT")||Ne.includes("ANT"),Oe=m.includes("PT")||m.includes("PNT");A&&Oe&&D>this.config.predatorFinishRateThreshold&&G>this.config.predatorVulnerabilityThreshold&&(_+=this.config.predatorVsDefensiveBonus);const je=h===i?H:F,j=Math.min(D,je),me=Math.max(D,je);if(j>this.config.bothFinishersThreshold&&me>this.config.bothFinishersThreshold&&(_*=this.config.bothFinishersMultiplier),_<this.config.finishLikelihoodThreshold){let se=Math.min(Math.round(100-_),this.config.decisionBaseMax),Ce=this.config.decisionBaseMax;if(j>this.config.decisionCapHighFinishThreshold){const Xe=this.config.decisionCapPenaltyBase+(j-this.config.decisionCapHighFinishThreshold)/this.config.decisionCapPenaltyDivisor*this.config.decisionCapPenaltyScale;Ce=Math.max(Ce-Xe,this.config.decisionMinFloor)}else j>this.config.decisionCapMedFinishThreshold?Ce=Math.max(Ce-this.config.decisionCapMedPenalty,this.config.decisionMinFloor+4):j>this.config.decisionCapLowFinishThreshold&&(Ce=Math.max(Ce-this.config.decisionCapLowPenalty,this.config.decisionMinFloor+2));return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(se,Ce),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:H,finishRate2:F}}let ve=L*this.config.koThreatWinnerWeight+T*this.config.koThreatLoserWeight,fe=S*this.config.subThreatWinnerWeight+O*this.config.subThreatLoserWeight;if(y&&y.sampleSize>=this.config.divisionMinSampleSize&&this.config.divisionBlendSubThreat>0){const se=y.submissionRate*100;fe=fe*(1-this.config.divisionBlendSubThreat)+se*this.config.divisionBlendSubThreat}if(y&&y.sampleSize>=this.config.divisionMinSampleSize){const se=Math.abs(ve-fe),Ce=y.koRate*100,Xe=y.submissionRate*100,ei=Ce-Xe;se<this.config.divisionThreatDiffThreshold&&Math.abs(ei)>this.config.divisionPreferenceThreshold&&(ei>0?ve+=this.config.divisionTiebreakerBoost:fe+=this.config.divisionTiebreakerBoost)}const Ie=O-T;Ie>this.config.subVulnDiffHighThreshold?fe+=this.config.subVulnDiffHighBonus:Ie>this.config.subVulnDiffMedThreshold&&(fe+=this.config.subVulnDiffMedBonus);const We=T-O;We>this.config.koVulnDiffHighThreshold?ve+=this.config.koVulnDiffHighBonus:We>this.config.koVulnDiffMedThreshold&&(ve+=this.config.koVulnDiffMedBonus);const Se=t.fightRadar.STR_OFF-h.fightRadar.STR_OFF;if(Se>this.config.gapLowThreshold){const se=Se>this.config.gapHighThreshold?this.config.strOffGapHighBonus:Se>this.config.gapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;ve+=se}const xe=t.fightRadar.CTRL-h.fightRadar.CTRL;if(xe>this.config.gapLowThreshold){const se=xe>this.config.gapHighThreshold?this.config.ctrlGapHighBonus:xe>this.config.gapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;fe+=se}const Ke=t.fightRadar.TD_OFF-h.fightRadar.TD_OFF;if(Ke>this.config.gapLowThreshold){const se=Ke>this.config.gapHighThreshold?this.config.tdOffGapHighBonus:Ke>this.config.gapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;fe+=se}const Ue=t.rawData.Fight_Duration_Seconds||600,Ve=h.rawData.Fight_Duration_Seconds||600,Ye=t.rawData.Sig_Strikes_Landed/(Ue/60)||0,De=h.rawData.Sig_Strikes_Absorbed/(Ve/60)||0,Be=t.rawData.Knockdowns/(Ue/900)||0;Ye>this.config.unexpectedKOStrLandedThreshold&&De>this.config.unexpectedKOStrAbsorbedThreshold&&Be>this.config.unexpectedKOKnockdownThreshold&&ve<this.config.unexpectedKOThreatThreshold&&(ve+=this.config.unexpectedKOBoost);const _e=L>S&&T>O,Y=S>L&&O>T,be=Math.abs(ve-fe),$e=Math.abs(L-S);if(be<this.config.methodThreatDiffThreshold?$e<this.config.methodStyleDiffThreshold?T>O:_e&&!Y||ve>fe&&!Y:ve>fe){let se=Math.round(_+ve*this.config.threatMultiplier);return C>this.config.methodFinishSkillGapThreshold&&(se+=this.config.methodFinishSkillGapBonus),T>this.config.koLoserVulnThreshold&&(se+=this.config.methodFinishLoserVulnBonus),L>this.config.koWinnerRateThreshold&&(se+=this.config.methodFinishWinnerRateBonus),L>this.config.koComboWinnerRateThreshold&&T>this.config.koComboLoserVulnThreshold&&(se+=this.config.methodFinishComboBonus),_e&&L>this.config.koMethodMatchWinnerThreshold&&T>this.config.koMethodMatchLoserThreshold&&(se+=this.config.koMethodMatchBonus),U>this.config.koToDecisionLoserDecisionRateThreshold&&ve<this.config.koToDecisionLowKOThreatThreshold&&(se-=this.config.koToDecisionBiasReduction),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(se,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:H,finishRate2:F}}else{let se=Math.min(Math.round(_+fe*this.config.threatMultiplier),this.config.subMaxProb);return C>this.config.methodFinishSkillGapThreshold&&(se+=this.config.methodFinishSkillGapBonus),O>this.config.subLoserVulnThreshold&&(se+=this.config.methodFinishLoserVulnBonus),S>this.config.subWinnerRateThreshold&&(se+=this.config.methodFinishWinnerRateBonus),S>this.config.subComboWinnerRateThreshold&&O>this.config.subComboLoserVulnThreshold&&(se+=this.config.methodFinishComboBonus),Y&&S>this.config.subMethodMatchWinnerThreshold&&O>this.config.subMethodMatchLoserThreshold&&(se+=this.config.subMethodMatchBonus),U>this.config.subToDecisionLoserDecisionRateThreshold&&fe<this.config.subToDecisionLowSubThreatThreshold&&(se-=this.config.subToDecisionBiasReduction),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(se,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:H,finishRate2:F}}}predictTotalRounds(i,s,f,r=3){const t=f.winner,h=t===i?s:i,o=Math.abs(t.overall-h.overall),w=(i.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,c=(s.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,y=t===i?w:c,C=t===i?c:w,H=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,F=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,D=t===i?H:F,z=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,X=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,L=t===i?z:X,q=h.rawData.Number_of_Fights_36m>0?(h.rawData.loss_kotko+h.rawData.loss_sub)/h.rawData.Number_of_Fights_36m*100:0;let P=o*this.config.durationSkillGapWeight+D*this.config.durationFinishRateWeight+q*this.config.durationVulnerabilityWeight+(15-Math.min(y,15))*this.config.durationAvgTimeWeight*10;q>this.config.durationLoserVulnThreshold&&(P+=this.config.durationLoserVulnBonus),H<this.config.durationBothLowFinishThreshold&&F<this.config.durationBothLowFinishThreshold&&(P-=this.config.durationDecisionFighterPenalty);const S=i.rawData.Number_of_Fights_36m,T=s.rawData.Number_of_Fights_36m;Math.abs(S-T)>=this.config.durationPaceAsymmetryThreshold&&Math.min(S,T)<=2&&(P-=this.config.durationPaceAsymmetryPenalty);const G=(w+c)/2,N=[],U=D>this.config.extremeFinishWinnerThreshold1&&q>this.config.extremeFinishLoserThreshold1&&o>this.config.extremeFinishSkillGap1||D>this.config.extremeFinishWinnerThreshold2&&q>this.config.extremeFinishLoserThreshold2||o>this.config.extremeFinishSkillGap3&&D>this.config.extremeFinishWinnerThreshold3;if(P>this.config.under15ScoreThreshold&&f.probability>this.config.under15WinProbThreshold&&U||y<this.config.under15WinnerTimeThreshold&&C<this.config.under15LoserTimeThreshold&&o>this.config.under15SkillGapThreshold||P>this.config.under15RelaxedEarlyFinishThreshold&&f.probability>this.config.under15RelaxedWinProbThreshold){let _=Math.min(Math.round(P+this.config.durationUnderExtreme),this.config.under15InitialCap);o>this.config.under15SkillGapExtreme&&(_+=this.config.durationUnderSkillGapExtreme),D>this.config.under15FinishRateExtreme&&(_+=this.config.durationUnderFinishRateExtreme),q>this.config.under15VulnExtreme&&(_+=this.config.durationUnderLoserVulnExtreme);const Z=Math.min(_,this.config.under15FinalCap);N.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:Z,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:y})}if(r===5){const _=D>this.config.under25FinishThreshold1&&q>this.config.under25LoserFinishThreshold1||L>this.config.under25KOThreshold&&y<this.config.under25AvgTimeThreshold,Z=y<this.config.under25WinnerTimeThreshold&&C<this.config.under25LoserTimeThreshold;if(P>this.config.earlyFinishScoreThreshold&&f.probability>this.config.under25WinProbMin||_){let de=Math.min(Math.round(P+this.config.underBonusBase),this.config.under25InitialCap);o>this.config.under25SkillGapThreshold&&(de+=this.config.durationUnderSkillGapBonus),q>this.config.under25VulnThreshold&&(de+=this.config.durationUnderLoserVulnBonus),D>this.config.under25WinnerFinishThreshold&&(de+=this.config.durationUnderWinnerFinishBonus),D>this.config.under25ComboWinnerThreshold&&q>this.config.under25ComboLoserThreshold&&(de+=this.config.durationUnderComboBonus);const Te=Math.min(de,this.config.under25FinalCap);Z&&N.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Te,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:y})}}if(r===3){let _=this.config.over15BaseProbability;P>this.config.over15HighThreatThreshold&&(_=this.config.over15HighThreatValue),P>this.config.over15MedThreatLowThreshold&&P<=this.config.over15MedThreatHighThreshold&&(_=this.config.over15MedThreatValue),P<this.config.over15LowThreatThreshold&&(_=this.config.over15LowThreatValue),P<this.config.over15VeryLowThreatThreshold&&(_=this.config.over15VeryLowThreatValue),D>this.config.over15FinisherThreshold&&(_-=this.config.over15FinisherPenalty),D<this.config.over15DecisionThreshold&&(_+=this.config.over15DecisionBoost),D<this.config.over15DualDecisionThreshold1&&q<this.config.over15DualDecisionThreshold2&&(_+=this.config.over15DualDecisionBoost),G>this.config.over15LongTimeThreshold&&(_=Math.min(_+this.config.over15LongTimeBoost,this.config.over15MaxProbability)),P>this.config.over15FinishLikelihoodPenaltyThreshold&&(_-=this.config.over15FinishLikelihoodPenaltyAmount);const Z=Math.min(Math.max(Math.round(_),this.config.over15MinProbability),this.config.over15MaxProbability);N.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:Z,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:G})}if(r===5){let _=this.config.over15BaseProbability;P>this.config.over15HighThreatThreshold&&(_=this.config.over15HighThreatValue),P>this.config.over15MedThreatLowThreshold&&P<=this.config.over15MedThreatHighThreshold&&(_=this.config.over15MedThreatValue),P<this.config.over15LowThreatThreshold&&(_=this.config.over15LowThreatValue),P<this.config.over15VeryLowThreatThreshold&&(_=this.config.over15VeryLowThreatValue),D>this.config.over15FinisherThreshold&&(_-=this.config.over15FinisherPenalty),D<this.config.over15DecisionThreshold&&(_+=this.config.over15DecisionBoost),D<this.config.over15DualDecisionThreshold1&&q<this.config.over15DualDecisionThreshold2&&(_+=this.config.over15DualDecisionBoost);const Z=Math.min(Math.max(Math.round(_),this.config.over15MinProbability),this.config.over15MaxProbability);N.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Z,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:G});const de=D<this.config.over35DecisionThreshold1&&q<this.config.over35DecisionThreshold2&&G>this.config.over35AvgTimeThreshold,Te=P<this.config.over35LowFinishThreshold,ue=G>this.config.over35LongTimeThreshold;if(de||Te||ue){let we=this.config.over35BaseProbability;D<this.config.over35PureDecisionThreshold&&q<this.config.over35PureDecisionThreshold&&(we=this.config.over35PureDecisionValue),D<this.config.over35ExtremeDecisionThreshold&&q<this.config.over35ExtremeDecisionThreshold&&(we=this.config.over35ExtremeDecisionValue),ue&&(we=Math.max(we,this.config.over35LongMinProbability),D<this.config.over35LongDecisionThreshold&&q<this.config.over35LongDecisionThreshold&&(we=Math.min(we+this.config.over35LongDecisionBoost,this.config.over35LongDecisionCap))),P>this.config.over35FinishPenaltyThreshold1&&(we-=this.config.over35FinishPenalty1),P>this.config.over35FinishPenaltyThreshold2&&(we-=this.config.over35FinishPenalty2);const Ne=Math.min(Math.max(Math.round(we),this.config.over35MinProbability),this.config.over35MaxProbability);N.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Ne,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:G})}}return N.sort((_,Z)=>Z.probability-_.probability),N[0]}generateFightProps(i,s,f){const r=this.calculateBettingMetrics(i,s,f),t=6;return r.f1SubRate+r.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:r}:r.weightedFinishRate&&r.weightedFinishRate>this.config.durationFinishRateThreshold&&r.weightedAvgFightTime&&r.weightedAvgFightTime<t?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:r}:r.f1KnockdownRate>.6&&r.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:r}:r.f1TakedownRate>this.config.durationTakedownRateThreshold||r.f2TakedownRate>this.config.durationTakedownRateThreshold?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:r}:r.f1StrikeVolume>this.config.durationStrikeVolumeThreshold&&r.f2StrikeVolume>this.config.durationStrikeVolumeThreshold?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:r}:r.f1TakedownRate<this.config.durationLowTakedownThreshold&&r.f2TakedownRate<this.config.durationLowTakedownThreshold?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:r}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:r}}analyzeKeyFactors(i,s){const f=[],r=i.rawData.reach_inches||0,t=s.rawData.reach_inches||0,h=Math.abs(r-t);if(h>this.config.winnerReachDiffThreshold){const F=r>t?i.name||"Fighter 1":s.name||"Fighter 2";f.push({label:"combat_analysis.key_factors.reach_advantage",value:`${F} +${h}"`,type:"advantage"})}const o=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0,w=s.rawData.Sig_Strikes_Thrown>0?Math.round(s.rawData.Sig_Strikes_Landed/s.rawData.Sig_Strikes_Thrown*100):0;f.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${i.name||"F1"}: ${o}% vs ${s.name||"F2"}: ${w}%`,type:"comparison"});const c=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85,y=s.rawData.takedowns_attempted_against>0?Math.round(s.rawData.Takedowns_Defended/s.rawData.takedowns_attempted_against*100):85;f.push({label:"combat_analysis.key_factors.takedown_defense",value:`${i.name||"F1"}: ${c}% vs ${s.name||"F2"}: ${y}%`,type:"comparison"});const C=i.rawData.Number_of_Fights_36m||0,H=s.rawData.Number_of_Fights_36m||0;if(Math.abs(C-H)>this.config.winnerExperienceGapThreshold){const F=C>H?i.name||"Fighter 1":s.name||"Fighter 2",D=Math.max(C,H),z=Math.min(C,H);f.push({label:"combat_analysis.key_factors.higher_activity",value:`${F}: ${D} vs ${z} fights`,type:"advantage"})}return f}analyzeTrends(i,s){const f=[],r=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0,t=s.rawData.Number_of_Fights_36m>0?Math.round(s.rawData.win/s.rawData.Number_of_Fights_36m*100):0;r>=75?f.push({type:"positive",text:`${i.name||"Fighter 1"} has ${r}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 1",winRate:r},fighter:i.name}):r<50&&f.push({type:"negative",text:`${i.name||"Fighter 1"} struggling at ${r}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 1",winRate:r},fighter:i.name}),t>=75?f.push({type:"positive",text:`${s.name||"Fighter 2"} has ${t}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:s.name||"Fighter 2",winRate:t},fighter:s.name}):t<50&&f.push({type:"negative",text:`${s.name||"Fighter 2"} struggling at ${t}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:s.name||"Fighter 2",winRate:t},fighter:s.name});const h=(i.rawData.Fight_Duration_Seconds||900)/60,o=(s.rawData.Fight_Duration_Seconds||900)/60,w=(h+o)/2;return f.push({type:"neutral",text:`Combined average fight time: ${w.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:w.toFixed(1)}}),f}calculateMomentum(i){const s=i.streak;if(s===0)return 0;const f=Math.abs(s);return s>0?f>=3?this.config.winStreak3PlusBonus:f>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:f>=3?-this.config.loseStreak3PlusPenalty:f>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(i){return i===0?1:i===1?this.config.damageMultiplier1KO:i===2?this.config.damageMultiplier2KO:i===3?this.config.damageMultiplier3KO:i===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(i){const s=this.calculateAge(i),r={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[i.division]||32,t=i.rawData.loss_kotko||0,h=this.calculateDamageMultiplier(t),o=(s-r)*h;if(o<=0)return 1;let w=0;return o<=5?w=o*this.config.agePenaltyPhase1Rate:o<=10?w=5*this.config.agePenaltyPhase1Rate+(o-5)*this.config.agePenaltyPhase2Rate:w=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(o-10)*this.config.agePenaltyPhase3Rate,w=Math.min(w,this.config.agePenaltyMaxCap),1-w}calculateAge(i){if(i.age&&i.age>0)return i.age;const s=25,f=2.5,r=i.rawData.Number_of_Fights_36m||0;return Math.round(s+r/f)}getInactiveMonths(i){const s=i.rawData.Number_of_Fights_36m||0;return s>=3?0:s>=2?6:s>=1?12:24}getFightsInPeriod(i,s){const f=s/36;return Math.round((i.rawData.Number_of_Fights_36m||0)*f)}getWeightedMetric(i,s,f,r,t=.5){const h=f.probability/100,o=1-h;return f.winner===r?i*h+s*o*t:s*h+i*o*t}calculateBettingMetrics(i,s,f){const r=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,t=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,h=(i.rawData.Fight_Duration_Seconds||900)/60,o=(s.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f2KnockdownRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Knockdowns/s.rawData.Number_of_Fights_36m:0,f1StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:s.rawData.Sig_Strikes_Thrown||0,f1SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f2SubRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Sub_Attempts/s.rawData.Number_of_Fights_36m:0,f1FinishRate:r,f2FinishRate:t,avgFightTime:(h+o)/2,weightedFinishRate:f?this.getWeightedMetric(r,t,f,i,.5):void 0,weightedAvgFightTime:f?this.getWeightedMetric(h,o,f,i,1):void 0}}getWinReasoningKey(i,s,f,r){return i.overall>s.overall+20?"combat_analysis.reasoning.significant_rating_advantage":i.performance>s.performance+10?"combat_analysis.reasoning.significant_performance_advantage":i.fightIQ>s.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":f>r+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(i){return i>=ci.MIN_HIGH_CONFIDENCE?"high":i>=ci.MIN_MEDIUM_CONFIDENCE?"medium":(i>=ci.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(i){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:i.winner.name||"Unknown Fighter",confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{adjustedScore1:i.adjustedScore1,adjustedScore2:i.adjustedScore2},priority:1}}createVictoryMethodCard(i){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:i.method,predictionKey:i.methodKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{method:i.method,finishRate1:i.finishRate1,finishRate2:i.finishRate2},priority:2}}createTotalRoundsCard(i){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:i.prediction,predictionKey:i.predictionKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{avgTime:i.avgTime},priority:3}}createFightPropsCard(i){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:i.prop,predictionKey:i.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{value:i.value,valueKey:i.valueKey,metrics:i.metrics},priority:7}}createKeyFactorsCard(i){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:i},priority:8}}createTrendsCard(i){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:i},priority:9}}createNoPredictionCard(i,s,f,r,t,h,o){if(i==="insufficient_fights"&&s&&f){const w=(r||0)<=2,c=(t||0)<=2;let y="";return w&&c?y=`Both fighters have insufficient fight data: ${s.name} (${r} fights) and ${f.name} (${t} fights). Minimum 3 fights required for accurate predictions.`:w?y=`${s.name} has insufficient fight data (${r} fights). Minimum 3 fights required for accurate predictions.`:c&&(y=`${f.name} has insufficient fight data (${t} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:y,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:r,fighter2Fights:t}}}if(i==="different_divisions"&&s&&f)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${s.name} competes in ${s.division} while ${f.name} competes in ${f.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:s.division,fighter2Division:f.division}};if(i==="low_moneyline_confidence"&&s&&f){const w=h||0,c=o||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${s.name} ${w.toFixed(1)}% vs ${f.name} ${c.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:s.name,fighter2Name:f.name,fighter1Probability:w,fighter2Probability:c}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(i){return i.some(s=>(s.type==="moneyline"||s.type==="victory_method"||s.type==="duration"||s.type==="fight_props")&&s.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(i){return i.sort((s,f)=>s.priority-f.priority)}}const Da=new ci;var Fa=M('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),ka=M('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),xa=M('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ma=M('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Sa=M('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ca=M('<div class="bet-explanation svelte-1v78qb8"> </div>'),Pa=M('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ka=M('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),La=M('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),ja=M('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ba=M('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ea=M('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Na=M('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),Oa=M('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Wa=M("<div><!></div>"),$a=M('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),za=M('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function qa($,i){bi(i,!1);const[s,f]=ki(),r=()=>fi(At,"$locale",s),t=()=>fi(xi,"$_",s),h=R(),o=R(),w=R(),c=R(),y=R(),C=R(),H=R(),F=R(),D=R(),z=R(),X=R(),L=R(),q=R(),P=R(),S=R(),T=R(),O=R(),G=$t();let N=Qe(i,"fighter1",8,null),U=Qe(i,"fighter2",8,null),_=Qe(i,"scheduledRounds",8,3);function Z(A){G("roundsChanged",A)}function de(A,Oe){return A.filter(je=>je.type===Oe)}function Te(A){switch(A){case Fi.HIGH:return"high-confidence";case Fi.MEDIUM:return"medium-confidence";case Fi.LOW:return"low-confidence";default:return""}}let ue=r();V(()=>(x(N()),x(U())),()=>{g(h,N()&&U())}),V(()=>(e(h),x(N()),x(U()),x(_())),()=>{g(o,e(h)?Da.generateBetCards(N(),U(),!0,_()):[])}),V(()=>(e(h),x(N()),x(U()),e(o),vi),()=>{e(h)&&N()&&U()&&e(o).length>0&&vi.trackBettingAnalysis(N().name,U().name)}),V(()=>(e(o),ke),()=>{g(w,de(e(o),ke.MONEYLINE))}),V(()=>(e(o),ke),()=>{g(c,de(e(o),ke.VICTORY_METHOD))}),V(()=>(e(o),ke),()=>{g(y,de(e(o),ke.DURATION))}),V(()=>(e(o),ke),()=>{g(C,de(e(o),ke.GOES_TO_DECISION))}),V(()=>(e(o),ke),()=>{g(H,de(e(o),ke.GONE_IN_60))}),V(()=>(e(o),ke),()=>{g(F,de(e(o),ke.FIGHT_PROPS))}),V(()=>(e(o),ke),()=>{g(D,de(e(o),ke.KEY_FACTORS))}),V(()=>(e(o),ke),()=>{g(z,de(e(o),ke.TRENDS))}),V(()=>(e(o),ke),()=>{g(X,de(e(o),ke.NO_PREDICTION))}),V(()=>(e(w),e(c),e(y),e(C),e(H)),()=>{g(L,e(w).length+e(c).length+e(y).length+e(C).length+e(H).length)}),V(()=>e(L),()=>{g(q,e(L)>0)}),V(()=>e(q),()=>{g(P,e(q)?0:1)}),V(()=>(e(F),e(D),e(z)),()=>{g(S,e(F).length+e(D).length+e(z).length)}),V(()=>(e(L),e(P),e(S)),()=>{g(T,e(L)+e(P)+e(S))}),V(()=>r(),()=>{r()!==ue&&ue&&window.location.reload()}),V(()=>e(h),()=>{g(O,e(h))}),yi(),wi();var we=ni(),Ne=qe(we);{var m=A=>{var Oe=za(),je=a(Oe),j=a(je),me=a(j),ve=a(me);tt(ve,{size:32});var fe=d(me),Ie=d(j,4),We=a(Ie),Se=d(je,2),xe=a(Se),Ke=a(xe),Ue=a(Ke),Ve=d(Ke,2),Ye=a(Ve),De=d(Ve,2),Be=a(De),_e=d(xe,4),Y=a(_e),be=a(Y),$e=d(Y,2),Je=a($e),se=d($e,2),Ce=a(se),Xe=d(Se,2);{var ei=Q=>{var l=Fa(),E=a(l),ne=a(E),pe=d(E,2),re=a(pe),ie=d(re,2);W(te=>{u(ne,`${te??""}:`),Ae(re,1,`rounds-btn ${_()===3?"active":""}`,"svelte-1v78qb8"),Ae(ie,1,`rounds-btn ${_()===5?"active":""}`,"svelte-1v78qb8")},[()=>(t(),n(()=>t()("fight_radar.scheduled_rounds")))]),Ee("click",re,()=>Z(3)),Ee("click",ie,()=>Z(5)),b(Q,l)};ae(Xe,Q=>{e(L)>0&&Q(ei)})}var ti=d(Xe,2);let Me;var Pe=a(ti);ii(Pe,1,()=>e(X),si,(Q,l)=>{var E=ka(),ne=a(E),pe=a(ne);Ci(pe,{size:16,style:"display: inline; margin-right: 0.25rem;"});var re=d(pe),ie=d(ne,2),te=a(ie),K=a(te),B=d(te,2),oe=a(B),le=d(ie,2),ee=a(le);W((I,he,ce,ge)=>{u(re,` ${I??""}`),u(K,he),u(oe,ce),u(ee,ge)},[()=>(t(),e(l),n(()=>t()(e(l).titleKey))),()=>(e(l),t(),n(()=>e(l).predictionKey?t()(e(l).predictionKey):e(l).prediction)),()=>(t(),n(()=>t()("combat_analysis.confidence_threshold"))),()=>(t(),e(l),n(()=>t()(e(l).reasoningKey,{values:e(l).metadata||{}})))]),b(Q,E)});var He=d(Pe,2);ii(He,1,()=>e(w),si,(Q,l)=>{var E=xa(),ne=a(E),pe=a(ne),re=d(ne,2),ie=a(re),te=a(ie),K=d(ie,2),B=a(K),oe=d(re,2),le=a(oe);W((ee,I,he,ce)=>{Ae(E,1,`bet-card moneyline ${ee??""}`,"svelte-1v78qb8"),u(pe,I),u(te,(e(l),n(()=>e(l).prediction))),u(B,`${e(l),n(()=>e(l).confidence)??""}% ${he??""}`),u(le,ce)},[()=>(e(l),n(()=>Te(e(l).confidenceLevel))),()=>(t(),e(l),n(()=>t()(e(l).titleKey))),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(l),n(()=>t()(e(l).reasoningKey)))]),b(Q,E)});var oi=d(He,2);ii(oi,1,()=>e(c),si,(Q,l)=>{var E=Ma(),ne=a(E),pe=a(ne),re=d(ne,2),ie=a(re),te=a(ie),K=d(ie,2),B=a(K),oe=d(re,2),le=a(oe);W((ee,I,he,ce,ge)=>{Ae(E,1,`bet-card method-victory ${ee??""}`,"svelte-1v78qb8"),u(pe,I),u(te,he),u(B,`${e(l),n(()=>e(l).confidence)??""}% ${ce??""}`),u(le,ge)},[()=>(e(l),n(()=>Te(e(l).confidenceLevel))),()=>(t(),e(l),n(()=>t()(e(l).titleKey))),()=>(e(l),t(),n(()=>e(l).predictionKey?t()(e(l).predictionKey):e(l).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(l),n(()=>t()(e(l).reasoningKey)))]),b(Q,E)});var ai=d(oi,2);ii(ai,1,()=>e(y),si,(Q,l)=>{var E=Pa(),ne=a(E),pe=a(ne),re=d(ne,2),ie=a(re),te=a(ie),K=d(ie,2),B=a(K),oe=d(re,2),le=a(oe),ee=d(oe,2);{var I=ce=>{var ge=Sa(),Le=a(ge);W(Ge=>u(Le,Ge),[()=>(t(),e(l),n(()=>t()(e(l).explanationKey)))]),b(ce,ge)},he=ce=>{var ge=ni(),Le=qe(ge);{var Ge=ze=>{var Ze=Ca(),hi=a(Ze);W(()=>u(hi,(e(l),n(()=>e(l).explanation)))),b(ze,Ze)};ae(Le,ze=>{e(l),n(()=>e(l).explanation)&&ze(Ge)},!0)}b(ce,ge)};ae(ee,ce=>{e(l),n(()=>e(l).explanationKey)?ce(I):ce(he,!1)})}W((ce,ge,Le,Ge,ze)=>{Ae(E,1,`bet-card total-rounds ${ce??""}`,"svelte-1v78qb8"),u(pe,ge),u(te,Le),u(B,`${e(l),n(()=>e(l).confidence)??""}% ${Ge??""}`),u(le,ze)},[()=>(e(l),n(()=>Te(e(l).confidenceLevel))),()=>(t(),e(l),n(()=>t()(e(l).titleKey))),()=>(e(l),t(),n(()=>e(l).predictionKey?t()(e(l).predictionKey):e(l).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(l),n(()=>t()(e(l).reasoningKey)))]),b(Q,E)});var ri=d(ai,2);ii(ri,1,()=>e(C),si,(Q,l)=>{var E=Ka(),ne=a(E),pe=a(ne),re=d(ne,2),ie=a(re),te=a(ie),K=d(ie,2),B=a(K),oe=d(re,2),le=a(oe);W((ee,I,he,ce,ge)=>{Ae(E,1,`bet-card decision-type ${ee??""}`,"svelte-1v78qb8"),u(pe,I),u(te,he),u(B,`${e(l),n(()=>e(l).confidence)??""}% ${ce??""}`),u(le,ge)},[()=>(e(l),n(()=>Te(e(l).confidenceLevel))),()=>(t(),e(l),n(()=>t()(e(l).titleKey))),()=>(e(l),t(),n(()=>e(l).predictionKey?t()(e(l).predictionKey):e(l).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(l),n(()=>t()(e(l).reasoningKey)))]),b(Q,E)});var li=d(ri,2);ii(li,1,()=>e(H),si,(Q,l)=>{var E=La(),ne=a(E),pe=a(ne),re=d(ne,2),ie=a(re),te=a(ie),K=d(ie,2),B=a(K),oe=d(re,2),le=a(oe);W((ee,I,he,ce,ge)=>{Ae(E,1,`bet-card gone-in-60 ${ee??""}`,"svelte-1v78qb8"),u(pe,I),u(te,he),u(B,`${e(l),n(()=>e(l).confidence)??""}% ${ce??""}`),u(le,ge)},[()=>(e(l),n(()=>Te(e(l).confidenceLevel))),()=>(t(),e(l),n(()=>t()(e(l).titleKey))),()=>(e(l),t(),n(()=>e(l).predictionKey?t()(e(l).predictionKey):e(l).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(l),n(()=>t()(e(l).reasoningKey)))]),b(Q,E)});var v=d(li,2);ii(v,1,()=>e(F),si,(Q,l)=>{var E=Ea(),ne=a(E),pe=a(ne);it(pe,{size:16,style:"display: inline; margin-right: 0.25rem;"});var re=d(pe),ie=d(ne,2),te=a(ie),K=a(te),B=d(te,2),oe=a(B),le=d(ie,2),ee=a(le),I=d(le,2);{var he=ge=>{var Le=ja(),Ge=a(Le);W(ze=>u(Ge,ze),[()=>(t(),e(l),n(()=>t()(e(l).explanationKey)))]),b(ge,Le)},ce=ge=>{var Le=ni(),Ge=qe(Le);{var ze=Ze=>{var hi=Ba(),gi=a(hi);W(()=>u(gi,(e(l),n(()=>e(l).explanation)))),b(Ze,hi)};ae(Ge,Ze=>{e(l),n(()=>e(l).explanation)&&Ze(ze)},!0)}b(ge,Le)};ae(I,ge=>{e(l),n(()=>e(l).explanationKey)?ge(he):ge(ce,!1)})}W((ge,Le,Ge,ze,Ze)=>{u(re,` ${ge??""}`),u(K,Le),u(oe,`${Ge??""}: ${ze??""}`),u(ee,Ze)},[()=>(t(),e(l),n(()=>t()(e(l).titleKey))),()=>(e(l),t(),n(()=>e(l).predictionKey?t()(e(l).predictionKey):e(l).prediction)),()=>(t(),n(()=>t()("combat_analysis.value"))),()=>(e(l),t(),n(()=>e(l).metadata?.valueKey?t()(e(l).metadata.valueKey):e(l).metadata?.value||"N/A")),()=>(t(),e(l),n(()=>t()(e(l).reasoningKey)))]),b(Q,E)});var p=d(v,2);ii(p,1,()=>e(D),si,(Q,l)=>{var E=Oa(),ne=a(E),pe=a(ne),re=d(ne,2);ii(re,5,()=>(e(l),n(()=>e(l).metadata?.factors||[])),si,(ie,te)=>{var K=Na(),B=a(K),oe=a(B),le=d(B,2),ee=a(le);W(I=>{u(oe,I),u(ee,(e(te),n(()=>e(te).value)))},[()=>(t(),e(te),n(()=>t()(e(te).label)))]),b(ie,K)}),W(ie=>u(pe,ie),[()=>(t(),e(l),n(()=>t()(e(l).titleKey)))]),b(Q,E)});var k=d(p,2);ii(k,1,()=>e(z),si,(Q,l)=>{var E=$a(),ne=a(E),pe=a(ne),re=d(ne,2);ii(re,5,()=>(e(l),n(()=>e(l).metadata?.trends||[])),si,(ie,te)=>{var K=Wa(),B=a(K);{var oe=ee=>{var I=_i();W(he=>u(I,he),[()=>(t(),e(te),n(()=>t()(e(te).textKey,{values:e(te).params||{}})))]),b(ee,I)},le=ee=>{var I=_i();W(()=>u(I,(e(te),n(()=>e(te).text)))),b(ee,I)};ae(B,ee=>{e(te),n(()=>e(te).textKey)?ee(oe):ee(le,!1)})}W(()=>Ae(K,1,`trend-item ${e(te),n(()=>e(te).type)??""}`,"svelte-1v78qb8")),b(ie,K)}),W(ie=>u(pe,ie),[()=>(t(),e(l),n(()=>t()(e(l).titleKey)))]),b(Q,E)});var J=d(ti,2),Re=a(J),Fe=a(Re);W((Q,l,E,ne)=>{u(fe,` ${Q??""}`),u(We,l),u(Ue,(x(N()),n(()=>N().name))),u(Ye,`${x(N()),n(()=>N().rawData.win)??""}-${x(N()),n(()=>N().rawData.loss)??""}-${x(N()),n(()=>N().rawData.draws)??""}`),u(Be,(x(N()),n(()=>N().archetype.archetypeEmojis))),u(be,(x(U()),n(()=>U().name))),u(Je,`${x(U()),n(()=>U().rawData.win)??""}-${x(U()),n(()=>U().rawData.loss)??""}-${x(U()),n(()=>U().rawData.draws)??""}`),u(Ce,(x(U()),n(()=>U().archetype.archetypeEmojis))),Me=Ae(ti,1,"betting-grid svelte-1v78qb8",null,Me,E),u(Fe,`* ${ne??""}`)},[()=>(t(),n(()=>t()("combat_analysis.fight_analysis"))),()=>(t(),n(()=>t()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(T)<=3}),()=>(t(),n(()=>t()("combat_analysis.disclaimer")))]),b(A,Oe)};ae(Ne,A=>{e(O)&&A(m)})}b($,we),Ti(),f()}var Ia=M('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),Va=M('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Aa=M('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Ha=M('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),Ga=M('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Ua=M('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),Ya=M('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Qa=M('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Xa=M('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function Za($,i){bi(i,!1);const s=R(),f=R(),r=R(),t=R();let h=Qe(i,"channelId",8),o=R([]),w=R(!0),c=R(null),y=R(0),C=R(!1),H=R(null),F=R(!0);function D(){e(o).length!==0&&(g(F,!0),qi(y),e(y)>=e(o).length*2&&setTimeout(()=>{g(F,!1),g(y,e(o).length),setTimeout(()=>{g(F,!0)},50)},400))}function z(){e(o).length!==0&&(g(F,!0),qi(y,-1),e(y)<e(o).length&&setTimeout(()=>{g(F,!1),g(y,e(o).length*2-1),setTimeout(()=>{g(F,!0)},50)},400))}function X(m){g(H,m)}let L=0,q=0,P=0,S=!1,T=!1,O=R(0),G=0;const N=40;function U(m){e(C)&&(L=m.touches[0].clientX,q=m.touches[0].clientY,P=L,S=!0,T=!1,g(F,!1),G=e(y),g(O,0))}function _(m){if(!e(C)||!S)return;const A=m.touches[0].clientX,Oe=m.touches[0].clientY,je=Math.abs(A-L),j=Math.abs(Oe-q);if(!T)if(je>N&&je>j)T=!0;else if(j>je&&j>10){S=!1,T=!1,g(F,!0),g(O,0);return}else return;if(T){P=A;const me=P-L,ve=m.currentTarget instanceof HTMLElement?m.currentTarget.clientWidth:window.innerWidth;g(O,-(me/ve)*100),m.preventDefault()}}function Z(){if(!e(C)||!S)return;S=!1,T=!1,g(F,!0);const m=L-P;Math.abs(m)>50?m>0?g(y,G+1):g(y,G-1):Math.abs(e(O))>40?g(y,G+(e(O)>0?1:-1)):g(y,G),e(y)>=e(o).length*2?setTimeout(()=>{g(F,!1),g(y,e(o).length),setTimeout(()=>{g(F,!0)},50)},400):e(y)<e(o).length&&setTimeout(()=>{g(F,!1),g(y,e(o).length*2-1),setTimeout(()=>{g(F,!0)},50)},400),g(O,0),L=0,q=0,P=0}function de(){const m=window.innerWidth;g(C,m<768)}at(()=>(de(),window.addEventListener("resize",de),(async()=>{try{const m=await Ht.fetchVideosByChannelId(h(),!0);m.length===0?g(c,"No se encontraron videos para este canal"):(g(o,m),console.log(`Loaded ${e(o).length} videos from channel ${h()}`))}catch(m){console.error("Error fetching videos:",m),g(c,"Error al cargar los videos")}finally{g(w,!1)}})(),()=>{window.removeEventListener("resize",de)})),V(()=>e(C),()=>{g(s,e(C)?1:window.innerWidth>=1024?4:3)}),V(()=>(e(C),e(s)),()=>{g(f,e(C)?80:100/e(s))}),V(()=>e(C),()=>{g(r,e(C)?10:0)}),V(()=>e(o),()=>{g(t,e(o).length>0?[...e(o).map((m,A)=>({...m,_key:`prev-${A}`})),...e(o).map((m,A)=>({...m,_key:`curr-${A}`})),...e(o).map((m,A)=>({...m,_key:`next-${A}`}))]:[])}),V(()=>(e(o),e(y)),()=>{e(o).length>0&&e(y)===0&&g(y,e(o).length)}),yi(),wi();var Te=Xa(),ue=a(Te);{var we=m=>{var A=Ia();b(m,A)},Ne=m=>{var A=ni(),Oe=qe(A);{var je=me=>{var ve=Va(),fe=a(ve),Ie=a(fe);W(()=>u(Ie,e(c))),b(me,ve)},j=me=>{var ve=ni(),fe=qe(ve);{var Ie=We=>{var Se=Qa(),xe=a(Se);{var Ke=_e=>{var Y=Aa();Ee("click",Y,z),b(_e,Y)};ae(xe,_e=>{e(o),n(()=>e(o).length>1)&&_e(Ke)})}var Ue=d(xe,2),Ve=a(Ue);let Ye;ii(Ve,5,()=>e(t),_e=>_e._key,(_e,Y)=>{var be=Ua(),$e=a(be);{var Je=Me=>{var Pe=Ha(),He=a(Pe);W(()=>{ye(He,"src",`${e(Y),n(()=>e(Y).embedUrl)??""}?autoplay=1`),ye(He,"title",(e(Y),n(()=>e(Y).title)))}),b(Me,Pe)},se=Me=>{var Pe=Ga(),He=a(Pe);W(()=>{ye(Pe,"aria-label",`Reproducir ${e(Y),n(()=>e(Y).title)??""}`),ye(He,"src",(e(Y),n(()=>e(Y).thumbnailUrl))),ye(He,"alt",(e(Y),n(()=>e(Y).title)))}),Ee("click",Pe,()=>X(e(Y)._key)),b(Me,Pe)};ae($e,Me=>{e(H),e(Y),n(()=>e(H)===e(Y)._key)?Me(Je):Me(se,!1)})}var Ce=d($e,2),Xe=a(Ce),ei=a(Xe),ti=a(ei);W(()=>{mi(be,`flex: 0 0 ${e(C)?"80%":100/e(s)+"%"}`),ye(Xe,"href",(e(Y),n(()=>e(Y).watchUrl))),u(ti,(e(Y),n(()=>e(Y).title)))}),b(_e,be)});var De=d(Ue,2);{var Be=_e=>{var Y=Ya();Ee("click",Y,D),b(_e,Y)};ae(De,_e=>{e(o),n(()=>e(o).length>1)&&_e(Be)})}W(_e=>{Ye=Ae(Ve,1,"videos-track svelte-18xx8u1",null,Ye,_e),mi(Ve,`transform: translateX(-${e(y)*e(f)-e(r)+e(O)}%)`)},[()=>({"no-transition":!e(F)})]),Ee("touchstart",Se,U),Ee("touchmove",Se,_),Ee("touchend",Se,Z),b(We,Se)};ae(fe,We=>{e(o),n(()=>e(o).length>0)&&We(Ie)},!0)}b(me,ve)};ae(Oe,me=>{e(c)?me(je):me(j,!1)},!0)}b(m,A)};ae(ue,m=>{e(w)?m(we):m(Ne,!1)})}b($,Te),Ti()}var Ja=M('<div class="loading svelte-1c61qfj" id="loading"><div class="loading-content svelte-1c61qfj"><div class="spinner svelte-1c61qfj"></div> <p class="svelte-1c61qfj"> </p></div></div>'),es=M('<button class="share-fight-btn svelte-1c61qfj"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c61qfj"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1c61qfj"></path></svg> </button>'),is=M('<div class="action-buttons-section svelte-1c61qfj"><!> <button class="clear-radars-btn svelte-1c61qfj"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c61qfj"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1c61qfj"></path></svg> </button></div>'),ts=M('<div class="controls svelte-1c61qfj"><div class="fighter-selectors svelte-1c61qfj"><div class="control-group svelte-1c61qfj"><label for="fighter1-select" class="svelte-1c61qfj"> </label> <div id="fighter1-container-select" class="svelte-1c61qfj"><!></div></div> <div class="vs-divider svelte-1c61qfj">VS</div> <div class="control-group svelte-1c61qfj"><label for="fighter2-select" class="svelte-1c61qfj"> </label> <div id="fighter2-container-select" class="svelte-1c61qfj"><!></div></div></div> <!></div>'),as=M('<div class="division-disclaimer svelte-1c61qfj"><div class="disclaimer-title svelte-1c61qfj"><!> <strong class="svelte-1c61qfj"> </strong></div> <div class="disclaimer-text svelte-1c61qfj"> </div></div>'),ss=M('<div class="fighter-info svelte-1c61qfj"><div id="fighter1-container" class="svelte-1c61qfj"><!></div> <div id="fighter2-container" class="svelte-1c61qfj"><!></div></div>'),ns=M('<div class="radar-container svelte-1c61qfj"><div id="fight-radar-container" class="svelte-1c61qfj"><!></div> <div id="iq-radar-container" class="svelte-1c61qfj"><!></div></div>'),os=M('<!> <div class="view-calendar-link svelte-1c61qfj"><button class="calendar-link-btn svelte-1c61qfj"> </button></div>',1),rs=M('<hr class="section-divider svelte-1c61qfj"/> <!>',1),ls=M('<div class="fight-radar-app svelte-1c61qfj"><div class="container svelte-1c61qfj"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function ms($,i){bi(i,!1);const[s,f]=ki(),r=()=>fi(N,"$urlSearchParams",s),t=()=>fi(xi,"$_",s),h=R(),o=R(),w=R(),c=R(),y=R(),C=R(),H=R(),F=R(),D=R(),z=R(),X=R(),L=R();let q=Qe(i,"isDarkMode",8,!0),P=Qe(i,"toggleTheme",8,()=>{}),S=R(new Map),T=R(new Map),O=R([]),G=R(new Map);const N=zt(di());function U(v,p){const k=`fighter${p}`;ui({[k]:v}),N.set(di())}function _(v){ui({rounds:v.toString()}),N.set(di())}let Z=R(!1),de=R(!1),Te=R(!1),ue=R(!1),we=R(!1),Ne=R(!1),m=R(!1),A=R(!1),Oe=!1;at(()=>{window.Highcharts=qt,N.set(di());const v=Gt(()=>{N.set(di())});return je(),v});async function je(){try{g(Z,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:p,processedFightersMap:k,processedFighters:J}=await Yt.loadFightersFromCSV();g(S,v),g(G,p),g(T,k),g(O,J),g(de,!0)}catch(v){console.error("Error loading data:",v)}finally{g(Z,!1)}}function j(v=[]){return v.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:me(p)}))}function me(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:ve(v.division)?"no_photo_female.png":"no_photo_male.png"}function ve(v){return!!(v&&v.startsWith("W_"))}function fe(v){if(U(v,1),!(!Oe&&r().has("rounds"))){const k=e(S).get(v),J=e(o)?e(S).get(e(o)):null;k&&k.division_ranking==="0"||J&&J.division_ranking==="0"?_(5):(ui({rounds:""}),N.set(di()))}Oe=!0,v&&!e(o)&&(g(A,!1),setTimeout(()=>{g(A,!0),setTimeout(()=>{g(A,!1)},50)},100))}function Ie(v){if(U(v,2),!r().has("rounds")){const k=e(h)?e(S).get(e(h)):null,J=e(S).get(v);k&&k.division_ranking==="0"||J&&J.division_ranking==="0"?_(5):(ui({rounds:""}),N.set(di()))}v&&!e(h)&&(g(m,!1),setTimeout(()=>{g(m,!0),setTimeout(()=>{g(m,!1)},50)},100))}function We(v){g(we,v)}function Se(v){g(Ne,v)}function xe(){vi.trackCleanRadars(),ui({fighter1:"",fighter2:"",rounds:""}),N.set(di())}function Ke(){if(!e(h)||!e(o))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";vi.trackFightShare(e(h),e(o),v);const p=Ut("/",{fighter1:e(h),fighter2:e(o)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(h)} vs ${e(o)} - Fight-Radar`,text:`Compara las estadsticas de ${e(h)} vs ${e(o)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Ue("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Ue(v){const p=document.createElement("div");p.className="notification",p.textContent=v,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function Ve(v,p,k){const J=[];return v&&J.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&J.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&J.push({name:k.name,data:[k.fightRadar.STR_OFF,k.fightRadar.STR_DEF,k.fightRadar.TD_OFF,k.fightRadar.TD_DEF,k.fightRadar.CTRL,k.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),J}function Ye(v,p,k){const J=[];return v&&J.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&J.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&J.push({name:k.name,data:[k.iqRadar.distance,k.iqRadar.adaptability,k.iqRadar.composure,k.iqRadar.decisions,k.iqRadar.rhythm,k.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),J}function De(v){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[k,J,Re]=v.combinedRole.split("+")??["AT"];let Fe=[[k,100]];if(J&&Re?Fe=[[k,33],[J,34],[Re,33]]:J?Fe=[[k,50],[J,50]]:Re&&(Fe=[[k,60],[Re,40]]),Fe.length===1){const[Q,l]=Fe[0],E=Math.min(l,70);return`linear-gradient(135deg, ${p[Q]} 0%, ${p[Q]} ${E}%, var(--card-bg) 100%)`}else{const Q=Fe.reduce((pe,[,re])=>pe+re,0);let l=[],E=0;return Fe.forEach(([pe,re],ie)=>{const te=re/Q*85,K=p[pe];ie===0&&l.push(`${K} ${E}%`),E+=te,ie===Fe.length-1?(l.push(`${K} ${E}%`),l.push("var(--card-bg) 100%")):l.push(`${K} ${E}%`)}),`linear-gradient(135deg, ${l.join(", ")})`}}V(()=>r(),()=>{g(h,r().get("fighter1")||"")}),V(()=>r(),()=>{g(o,r().get("fighter2")||"")}),V(()=>r(),()=>{g(w,r().get("rounds")==="5"?5:3)}),V(()=>(e(we),e(Ne)),()=>{g(c,e(we)||e(Ne))}),V(()=>(e(O),e(o)),()=>{g(y,j(e(O)).filter(v=>v.value!==e(o)))}),V(()=>(e(O),e(h)),()=>{g(C,j(e(O)).filter(v=>v.value!==e(h)))}),V(()=>(e(h),e(o),e(S),e(G),Ai),()=>{g(H,(()=>{if(!e(h)||!e(o))return null;const v=e(S).get(e(h)),p=e(S).get(e(o));if(!v||!p)return null;if(v.Division===p.Division){const k=v.Division;if(e(G).has(k))return Ai(k,e(G).get(k))}return null})())}),V(()=>(e(h),e(T)),()=>{g(F,e(h)?e(T).get(e(h))??null:null)}),V(()=>(e(o),e(T)),()=>{g(D,e(o)?e(T).get(e(o))??null:null)}),V(()=>(e(H),e(h),e(o),e(S),e(G),Hi),()=>{g(z,(()=>{if(!e(H)||!e(h)||!e(o))return null;const v=e(S).get(e(h));return!v||!e(G).has(v.Division)?null:Hi(e(H),e(G).get(v.Division))})())}),V(()=>(e(F),e(D),e(z)),()=>{g(X,Ve(e(F)??null,e(D)??null,e(z)??null))}),V(()=>(e(F),e(D),e(z)),()=>{g(L,Ye(e(F),e(D),e(z)))}),V(()=>(e(Z),e(S),e(h),e(o),vi),()=>{const v=!e(Z)&&e(S).size>0&&e(S).has(e(h))&&e(S).has(e(o));g(Te,!!(e(h)&&e(o)&&v)),g(ue,!!(e(h)&&e(o)&&v)),e(h)&&e(o)&&v&&vi.trackFighterComparison(e(h),e(o))}),yi(),wi();var Be=ls(),_e=a(Be),Y=a(_e);It(Y,{showThemeToggle:!0,get isDarkMode(){return q()},get toggleTheme(){return P()}});var be=d(Y,2);{var $e=v=>{var p=Ja(),k=a(p),J=d(a(k),2),Re=a(J);W(Fe=>u(Re,Fe),[()=>(t(),n(()=>t()("fight_radar.loading_data")))]),b(v,p)};ae(be,v=>{e(Z)&&v($e)})}var Je=d(be,2);{var se=v=>{var p=ts(),k=a(p),J=a(k),Re=a(J),Fe=a(Re),Q=d(Re,2),l=a(Q);{let B=Di(()=>(t(),n(()=>t()("common.select_fighter"))));Zi(l,{id:"fighter1-select",get placeholder(){return e(B)},disabled:!1,get options(){return e(y)},get selectedValue(){return e(h)},onSelectionChange:fe,onOpenStateChange:We,get shouldOpen(){return e(m)}})}var E=d(J,4),ne=a(E),pe=a(ne),re=d(ne,2),ie=a(re);{let B=Di(()=>(t(),n(()=>t()("common.select_fighter"))));Zi(ie,{id:"fighter2-select",get placeholder(){return e(B)},disabled:!1,get options(){return e(C)},get selectedValue(){return e(o)},onSelectionChange:Ie,onOpenStateChange:Se,get shouldOpen(){return e(A)}})}var te=d(k,2);{var K=B=>{var oe=is(),le=a(oe);{var ee=ce=>{var ge=es(),Le=d(a(ge));W(Ge=>u(Le,` ${Ge??""}`),[()=>(t(),n(()=>t()("fight_radar.share_fight")))]),Ee("click",ge,Ke),b(ce,ge)};ae(le,ce=>{e(h)&&e(o)&&ce(ee)})}var I=d(le,2),he=d(a(I));W(ce=>u(he,` ${ce??""}`),[()=>(t(),n(()=>t()("fight_radar.clear_radars")))]),Ee("click",I,xe),b(B,oe)};ae(te,B=>{(e(h)||e(o))&&B(K)})}W((B,oe)=>{u(Fe,`${B??""}:`),u(pe,`${oe??""}:`)},[()=>(t(),n(()=>t()("common.fighter_1"))),()=>(t(),n(()=>t()("common.fighter_2")))]),b(v,p)};ae(Je,v=>{e(de)&&v(se)})}var Ce=d(Je,2);{var Xe=v=>{var p=ni(),k=qe(p);{var J=Re=>{var Fe=as(),Q=a(Fe),l=a(Q);Ci(l,{size:20,class:"disclaimer-icon"});var E=d(l,2),ne=a(E),pe=d(Q,2),re=a(pe);W((ie,te)=>{u(ne,ie),u(re,te)},[()=>(t(),n(()=>t()("fight_radar.cross_division_title"))),()=>(t(),x(pi),e(F),e(D),n(()=>t()("fight_radar.cross_division_text",{values:{division1:pi(e(F).rawData.Division),division2:pi(e(D).rawData.Division)}})))]),b(Re,Fe)};ae(k,Re=>{e(F),e(D),n(()=>e(F)?.rawData&&e(D)?.rawData&&e(F).rawData.Division!==e(D).rawData.Division)&&Re(J)})}b(v,p)};ae(Ce,v=>{e(h)&&e(o)&&e(Te)&&v(Xe)})}var ei=d(Ce,2);{var ti=v=>{var p=ss(),k=a(p),J=a(k);Ji(J,{get fighter(){return e(F)},id:"fighter1-info"});var Re=d(k,2),Fe=a(Re);Ji(Fe,{get fighter(){return e(D)},id:"fighter2-info"}),W((Q,l)=>{mi(k,`background: ${Q??""}`),mi(Re,`background: ${l??""}`)},[()=>(e(F),n(()=>e(F)?De(e(F).archetype):"var(--card-bg)")),()=>(e(D),n(()=>e(D)?De(e(D).archetype):"var(--card-bg)"))]),b(v,p)};ae(ei,v=>{e(Te)&&v(ti)})}var Me=d(ei,2);{var Pe=v=>{var p=ns(),k=a(p),J=a(k);Ii(J,()=>(e(h),e(o),e(X),n(()=>`${e(h)}-${e(o)}-${e(X).length}`)),Q=>{{let l=Di(()=>(x(Gi),n(Gi)));Yi(Q,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(l)},get series(){return e(X)},isIQRadar:!1})}});var Re=d(k,2),Fe=a(Re);Ii(Fe,()=>(e(h),e(o),e(L),n(()=>`${e(h)}-${e(o)}-${e(L).length}`)),Q=>{{let l=Di(()=>(x(Ui),n(Ui)));Yi(Q,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(l)},get series(){return e(L)},isIQRadar:!0})}}),b(v,p)};ae(Me,v=>{e(ue),e(X),n(()=>e(ue)&&e(X).length>0)&&v(Pe)})}var He=d(Me,2);qa(He,{get fighter1(){return e(F)},get fighter2(){return e(D)},get scheduledRounds(){return e(w)},$$events:{roundsChanged:v=>_(v.detail)}});var oi=d(He,2);{var ai=v=>{var p=os(),k=qe(p);Vt(k,{limit:2});var J=d(k,2),Re=a(J),Fe=a(Re);W(Q=>u(Fe,`${Q??""} `),[()=>(t(),n(()=>t()("banner.view_calendar")))]),Ee("click",Re,()=>st("/calendar")),b(v,p)};ae(oi,v=>{!e(h)&&!e(o)&&!e(c)&&v(ai)})}var ri=d(_e,2);{var li=v=>{var p=rs(),k=d(qe(p),2);Za(k,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),b(v,p)};ae(ri,v=>{!e(h)&&!e(o)&&!e(c)&&v(li)})}b($,Be),Ti(),f()}export{ms as default};
