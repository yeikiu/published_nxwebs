import{g as yi,p as Ye,l as z,h as u,m as b,j as L,o as e,k as Ti,n as wi,f as C,H as Oe,$ as Wi,i as ie,c as a,q as c,Z as $i,t as V,E as pe,s as Ie,b as m,r as Di,u as xi,x as We,z as n,B as g,A as fi,_ as Mt,v as oi,K as ii,L as si,V as Ai,a0 as St,a1 as bi,y as pi,a2 as Ct,a as Kt,a3 as Pt,a4 as Lt,a5 as et,a6 as it,T as Ki,G as Ot,C as tt,U as Vi,w as Bt,N as Ri,a7 as Ii}from"./lucide-BZTUuGOE.js";import{H as Nt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Et,U as Wt}from"./UpcomingFights-CELH3ePY.js";import{$ as Mi,A as gi,n as at,a as $t,v as At,g as vi,b as Vt,u as _i,c as It}from"./index-C6iTY5Gi.js";import{c as Si,g as Hi,f as mi,a as Ht,b as qi,p as Gi,d as Ui,e as ji}from"./fighters_service-CFP9RtZE.js";import{R as qt,a as zi}from"./RadarChart-Dti1bV_Z.js";import{f as Yi,a as Qi,F as Gt}from"./unit_conversion-MdbJ2upj.js";import"./highcharts-DyRVWUji.js";var Ut=C('<img class="svelte-gkl5a1"/>'),jt=C('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),zt=C("<!> <span> </span>",1),Yt=C("<span> </span>"),Qt=C('<img class="svelte-gkl5a1"/>'),Xt=C('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Zt=C('<button type="button"><!> <span> </span></button>'),Jt=C('<div class="no-results svelte-gkl5a1"> </div>'),ea=C('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ia=C('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Xi(H,t){yi(t,!1);const[s,f]=xi(),d=()=>fi(Mi,"$_",s),i=b(),r=b();let l=Ye(t,"id",8),y=Ye(t,"placeholder",8,""),h=Ye(t,"disabled",8,!0),R=Ye(t,"options",24,()=>[]),I=Ye(t,"selectedValue",12,""),Y=Ye(t,"onSelectionChange",8,void 0),w=Ye(t,"onOpenStateChange",8,void 0),X=Ye(t,"shouldOpen",8,!1),q=b(!1),$=b(),oe=b(),Z=b(""),we=b(!1);function G(){h()||(u(q,!e(q)),e(q)&&setTimeout(()=>e(oe)?.focus(),0))}function _(N){I(N.value),u(Z,""),u(q,!1),Y()&&Y()(N.value,N)}function E(N){const ae=N.target;u(Z,ae.value)}function K(N){N.key==="Enter"&&e(r).length>0?(_(e(r)[0]),N.preventDefault()):N.key==="Escape"&&(u(Z,""),u(q,!1))}function te(N){e($)&&!e($).contains(N.target)&&(u(q,!1),u(Z,""))}function Q(N){N.key==="Escape"&&u(q,!1)}z(()=>(L(R()),L(I())),()=>{u(i,R().find(N=>N.value===I()))}),z(()=>(L(X()),e(we),L(h()),e(oe)),()=>{X()&&!e(we)&&!h()?(u(we,!0),u(q,!0),setTimeout(()=>e(oe)?.focus(),0)):X()||u(we,!1)}),z(()=>(L(w()),e(q)),()=>{w()&&w()(e(q))}),z(()=>(e(Z),L(R()),Si),()=>{u(r,e(Z)?R().filter(N=>Si(N.label.toLowerCase()).includes(Si(e(Z).toLowerCase()))):R())}),Ti(),wi();var O=ia();Oe("click",Wi,te),Oe("keydown",Wi,Q);var U=a(O);let W;var A=a(U),De=a(A);{var He=N=>{var ae=zt(),Fe=We(ae);{var Ke=se=>{var ce=Ut();V(()=>{pe(ce,"src",(e(i),n(()=>e(i).imageUrl))),pe(ce,"alt",(e(i),n(()=>e(i).label)))}),m(se,ce)},qe=se=>{var ce=oi(),Ge=We(ce);{var Ae=Ee=>{var me=jt(),Se=a(me);Ai(Se,()=>e(i).iconComponent,(re,J)=>{J(re,{size:16})}),m(Ee,me)};ie(Ge,Ee=>{e(i),n(()=>e(i)?.iconComponent)&&Ee(Ae)},!0)}m(se,ce)};ie(Fe,se=>{e(i),n(()=>e(i)?.imageUrl)?se(Ke):se(qe,!1)})}var $e=c(Fe,2),Ne=a($e);V(()=>g(Ne,(e(i),n(()=>e(i).label)))),m(N,ae)},Ue=N=>{var ae=Yt(),Fe=a(ae);V(Ke=>g(Fe,Ke),[()=>(L(y()),d(),n(()=>y()||d()("common.select_option")))]),m(N,ae)};ie(De,N=>{e(i)?N(He):N(Ue,!1)})}var F=c(A,2);let de;var Me=c(U,2);{var Be=N=>{var ae=ea(),Fe=a(ae),Ke=a(Fe);$i(Ke,me=>u(oe,me),()=>e(oe));var qe=c(Fe,2),$e=a(qe);let Ne;var se=a($e),ce=a(se),Ge=c($e,2);{var Ae=me=>{var Se=oi(),re=We(Se);ii(re,1,()=>e(r),si,(J,ve)=>{var Ve=Zt();let je;var Xe=a(Ve);{var ze=M=>{var le=Qt();V(()=>{pe(le,"src",(e(ve),n(()=>e(ve).imageUrl))),pe(le,"alt",(e(ve),n(()=>e(ve).label)))}),Oe("error",le,Pe=>{Pe.currentTarget.style.display="none"}),m(M,le)},ni=M=>{var le=oi(),Pe=We(le);{var Je=ei=>{var li=Xt(),hi=a(li);Ai(hi,()=>e(ve).iconComponent,(v,p)=>{p(v,{size:16})}),m(ei,li)};ie(Pe,ei=>{e(ve),n(()=>e(ve)?.iconComponent)&&ei(Je)},!0)}m(M,le)};ie(Xe,M=>{e(ve),n(()=>e(ve)?.imageUrl)?M(ze):M(ni,!1)})}var Ze=c(Xe,2),ri=a(Ze);V(M=>{je=Ie(Ve,1,"dropdown-item svelte-gkl5a1",null,je,M),g(ri,(e(ve),n(()=>e(ve).label)))},[()=>({selected:I()===e(ve).value})]),Oe("click",Ve,()=>_(e(ve))),m(J,Ve)}),m(me,Se)},Ee=me=>{var Se=oi(),re=We(Se);{var J=ve=>{var Ve=Jt(),je=a(Ve);V(()=>g(je,`No se encontraron resultados para "${e(Z)??""}"`)),m(ve,Ve)};ie(re,ve=>{e(Z)&&ve(J)},!0)}m(me,Se)};ie(Ge,me=>{e(r),n(()=>e(r).length>0)?me(Ae):me(Ee,!1)})}V((me,Se,re)=>{pe(Ke,"placeholder",me),pe(qe,"id",`dropdown-options-${l()??""}`),Ne=Ie($e,1,"dropdown-item svelte-gkl5a1",null,Ne,Se),g(ce,re)},[()=>(d(),n(()=>d()("common.search")||"Search...")),()=>({selected:I()===""}),()=>(L(y()),d(),n(()=>y()||d()("common.select_option")))]),Mt(Ke,()=>e(Z),me=>u(Z,me)),Oe("input",Ke,E),Oe("keydown",Ke,K),Oe("click",$e,()=>_({value:"",label:y(),imageUrl:""})),m(N,ae)};ie(Me,N=>{e(q)&&N(Be)})}$i(O,N=>u($,N),()=>e($)),V((N,ae)=>{pe(O,"id",l()),W=Ie(U,1,"dropdown-button svelte-gkl5a1",null,W,N),U.disabled=h(),pe(U,"aria-expanded",e(q)),pe(U,"aria-controls",`dropdown-options-${l()??""}`),de=Ie(F,1,"dropdown-arrow svelte-gkl5a1",null,de,ae)},[()=>({disabled:h(),open:e(q)}),()=>({rotated:e(q)})]),Oe("click",U,G),m(H,O),Di(),f()}function Ci(H,t){if(t()){gi.trackFighterCardCTA(t().nameWithNickname,"view_profile");const s=`/data-center/fighter-details?fighter=${encodeURIComponent(t().nameWithNickname)}`;at(s)}}function ta(H,t){u(t,!e(t))}var aa=C('<img class="fighter-image svelte-1cmiluv"/> <div class="fighter-placeholder svelte-1cmiluv" style="display: none;">Picture Unavailable</div>',1),sa=C('<div class="fighter-placeholder svelte-1cmiluv">Picture Unavailable</div>'),na=C('<span class="division-ranking champion svelte-1cmiluv" title="Champion"><!></span>'),oa=C('<span class="division-ranking ranked svelte-1cmiluv"> </span>'),ra=(H,t)=>H.key==="Enter"&&t(),la=C('<div class="stat-item role-disc-clickable svelte-1cmiluv" role="button" tabindex="0"><span class="stat-label svelte-1cmiluv">ROLE-DISC:</span> <span><div class="role-emojis svelte-1cmiluv"> </div> <div class="role-name svelte-1cmiluv"> </div></span></div>'),ha=C('<div class="archetype-fields svelte-1cmiluv"><div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value description svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value favorite-zone svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value strengths svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value weaknesses svelte-1cmiluv"> </div></div></div>'),da=C('<hr class="archetype-divider svelte-1cmiluv"/> <div class="archetype-container svelte-1cmiluv"><div class="archetype-section svelte-1cmiluv"><button type="button" class="archetype-section-title svelte-1cmiluv"><span><!></span> </button> <!></div></div>',1),ca=C('<div class="fighter-header svelte-1cmiluv"><div class="header-actions svelte-1cmiluv"><!> <button type="button" class="fighter-detail-cta svelte-1cmiluv" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1cmiluv"><div class="fighter-image-container svelte-1cmiluv"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1cmiluv"><div class="fighter-name svelte-1cmiluv"> </div></button> <div class="fighter-division-container svelte-1cmiluv"><span class="fighter-division svelte-1cmiluv"> </span> <!></div> <div class="star-rating svelte-1cmiluv"><div class="stars-container svelte-1cmiluv"></div></div> <div class="fighter-stats svelte-1cmiluv"><!> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value career-record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span><!></span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value height svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value reach svelte-1cmiluv"> </span></div></div> <!>',1),va=C('<div class="empty-card svelte-1cmiluv"><div class="empty-message svelte-1cmiluv"> </div></div>'),ua=C('<div class="fighter-card svelte-1cmiluv"><!></div> <!>',1);function Zi(H,t){yi(t,!1);const[s,f]=xi(),d=()=>fi(Mi,"$_",s),i=b(),r=b(),l=b(),y=b();let h=Ye(t,"fighter",8,null),R=Ye(t,"id",8,""),I=b(!1),Y=b(!1);function w(){u(I,!0)}function X(){u(I,!1)}z(()=>d(),()=>{u(i,_=>{if(!_||!_.startsWith("@ARCHETYPE_"))return _;let E="",K="";if(_.includes("_DESCRIPTION"))E=_.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),K="description";else if(_.includes("_FAVORITE_ZONE"))E=_.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),K="favorite_zone";else if(_.includes("_STRENGTHS"))E=_.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),K="strengths";else if(_.includes("_WEAKNESSES"))E=_.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),K="weaknesses";else{const O=_.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!O)return _;E=O[1],K=O[2].toLowerCase()}const te=`archetype_data.${E}.${K}`,Q=d()(te);return _.includes("_WEAKNESSES"),Q!==te?Q:_})}),z(()=>(L(h()),Hi),()=>{u(r,h()?Hi(h().archetype):null)}),z(()=>(L(h()),Yi),()=>{u(l,h()?.rawData.height_inches?Yi(h().rawData.height_inches):"-")}),z(()=>(L(h()),Qi),()=>{u(y,h()?.rawData.reach_inches?Qi(h().rawData.reach_inches):"-")}),Ti(),wi();var q=ua(),$=We(q),oe=a($);{var Z=_=>{var E=ca(),K=We(E),te=a(K),Q=a(te);Gt(Q,{get fighterFullName(){return L(h()),n(()=>h().name)},size:"large"});var O=c(Q,2);O.__click=[Ci,h];var U=a(O);St(U,{size:16});var W=c(te,2);W.__click=[Ci,h];var A=a(W),De=a(A);{var He=T=>{var o=aa(),D=We(o);V(()=>{pe(D,"src",(L(h()),n(()=>h().pictureUrl))),pe(D,"alt",`${L(h()),n(()=>h().name)??""} fighter profile picture`)}),Oe("error",D,P=>{P.currentTarget.style.display="none";const j=P.currentTarget.nextElementSibling;j&&(j.style.display="block")}),m(T,o)},Ue=T=>{var o=sa();m(T,o)};ie(De,T=>{L(h()),n(()=>h().pictureUrl)?T(He):T(Ue,!1)})}var F=c(K,2);F.__click=[Ci,h];var de=a(F),Me=a(de),Be=c(F,2),N=a(Be),ae=a(N),Fe=c(N,2);{var Ke=T=>{var o=oi(),D=We(o);{var P=S=>{var x=na(),B=a(x);Pt(B,{size:16}),m(S,x)},j=S=>{var x=oa(),B=a(x);V(()=>{pe(x,"title",`Division Ranking #${L(h()),n(()=>h().rawData.division_ranking)??""}`),g(B,`#${L(h()),n(()=>h().rawData.division_ranking)??""}`)}),m(S,x)};ie(D,S=>{L(h()),n(()=>h().rawData.division_ranking==="0")?S(P):S(j,!1)})}m(T,o)};ie(Fe,T=>{L(h()),n(()=>h().rawData.division_ranking!==void 0&&h().rawData.division_ranking!=="")&&T(Ke)})}var qe=c(Be,2),$e=a(qe),Ne=c(qe,2),se=a(Ne);{var ce=T=>{var o=la();o.__click=w,o.__keydown=[ra,w];var D=a(o),P=c(D,2),j=a(P),S=a(j),x=c(j,2),B=a(x);V((ne,_e)=>{pe(o,"aria-label",ne),pe(D,"title",_e),Ie(P,1,`stat-value role-indicator archetype-dots archetype-${e(r),n(()=>e(r).type)??""}`,"svelte-1cmiluv"),pe(P,"title",(e(r),n(()=>e(r).tooltip))),g(S,(e(r),n(()=>e(r).label))),g(B,(e(r),n(()=>e(r).name)))},[()=>(d(),n(()=>d()("role_disc_modal.open_modal_aria_label"))),()=>(d(),n(()=>d()("role_disc_modal.archetype_tooltip")))]),m(T,o)};ie(se,T=>{e(r)&&T(ce)})}var Ge=c(se,2),Ae=a(Ge),Ee=a(Ae),me=c(Ae,2),Se=a(me),re=c(Ge,2),J=a(re),ve=a(J),Ve=c(J,2),je=a(Ve),Xe=c(re,2),ze=a(Xe),ni=a(ze),Ze=c(ze,2);let ri;var M=a(Ze);{var le=T=>{var o=pi();V(()=>g(o,`+${L(h()),n(()=>h().streak)??""}W`)),m(T,o)},Pe=T=>{var o=oi(),D=We(o);{var P=S=>{var x=pi();V(()=>g(x,`${L(h()),n(()=>h().streak)??""}L`)),m(S,x)},j=S=>{var x=pi("-");m(S,x)};ie(D,S=>{L(h()),n(()=>h().streak<0)?S(P):S(j,!1)},!0)}m(T,o)};ie(M,T=>{L(h()),n(()=>h().streak>0)?T(le):T(Pe,!1)})}var Je=c(Xe,2),ei=a(Je),li=a(ei),hi=c(ei,2),v=a(hi),p=c(Je,2),k=a(p),ee=a(k),be=c(k,2),Re=a(be),Le=c(Ne,2);{var Ce=T=>{var o=da(),D=c(We(o),2),P=a(D),j=a(P);j.__click=[ta,Y];var S=a(j);let x;var B=a(S);Ct(B,{size:20});var ne=c(S),_e=c(j,2);{var ke=ue=>{var ge=ha(),he=a(ge),xe=a(he),ye=a(xe),fe=a(ye);Lt(fe,{size:18});var Qe=c(ye,2),ti=a(Qe),ai=c(xe,2),di=a(ai),ui=c(he,2),ki=a(ui),Pi=a(ki),st=a(Pi);et(st,{size:18});var nt=c(Pi,2),ot=a(nt),rt=c(ki,2),lt=a(rt),Li=c(ui,2),Oi=a(Li),Bi=a(Oi),ht=a(Bi);it(ht,{size:18});var dt=c(Bi,2),ct=a(dt),vt=c(Oi,2),ut=a(vt),gt=c(Li,2),Ni=a(gt),Ei=a(Ni),ft=a(Ei);Ki(ft,{size:18});var _t=c(Ei,2),pt=a(_t),mt=c(Ni,2),bt=a(mt);V((yt,Tt,wt,Dt,kt,Rt,Ft,xt)=>{g(ti,yt),g(di,Tt),g(ot,wt),g(lt,Dt),g(ct,kt),g(ut,Rt),g(pt,Ft),g(bt,xt)},[()=>(d(),n(()=>d()("archetype.tactical_description"))),()=>(e(i),L(h()),n(()=>e(i)(h().archetype.description))),()=>(d(),n(()=>d()("archetype.preferred_zone"))),()=>(e(i),L(h()),n(()=>e(i)(h().archetype.favoriteZone))),()=>(d(),n(()=>d()("archetype.strengths"))),()=>(e(i),L(h()),n(()=>e(i)(h().archetype.strengths))),()=>(d(),n(()=>d()("archetype.weaknesses"))),()=>(e(i),L(h()),n(()=>e(i)(h().archetype.weaknesses)))]),m(ue,ge)};ie(_e,ue=>{e(Y)&&ue(ke)})}V((ue,ge)=>{pe(j,"aria-expanded",e(Y)),x=Ie(S,1,"archetype-caret svelte-1cmiluv",null,x,ue),g(ne,` ${ge??""}`)},[()=>({expanded:e(Y)}),()=>(d(),n(()=>d()("archetype.analysis_title")))]),m(T,o)};ie(Le,T=>{L(h()),n(()=>h().archetype)&&T(Ce)})}V((T,o,D,P,j,S,x,B,ne,_e,ke,ue)=>{pe(O,"aria-label",`View detailed fighter profile for ${L(h()),n(()=>h().nameWithNickname)??""}`),g(Me,(L(h()),n(()=>h().name))),g(ae,T),bi($e,`--fill-width: ${L(h()),n(()=>h().stars*20)??""}%`),pe(Ae,"title",o),g(Ee,`${D??""}:`),g(Se,(L(h()),n(()=>h().career_record))),pe(J,"title",P),g(ve,`${j??""}:`),g(je,(L(h()),n(()=>h().record_36m))),pe(ze,"title",S),g(ni,`${x??""}:`),ri=Ie(Ze,1,"stat-value streak svelte-1cmiluv",null,ri,B),pe(ei,"title",ne),g(li,`${_e??""}:`),g(v,e(l)),pe(k,"title",ke),g(ee,`${ue??""}:`),g(Re,e(y))},[()=>(L(mi),L(h()),n(()=>mi(h().division||""))),()=>(d(),n(()=>d()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(d(),n(()=>d()("fighter_profile.career_record"))),()=>(d(),n(()=>d()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(d(),n(()=>d()("fighter_profile.record_36m"))),()=>(d(),n(()=>d()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(d(),n(()=>d()("fighter_profile.streak"))),()=>({"streak-win":h().streak>0,"streak-loss":h().streak<0}),()=>(d(),n(()=>d()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(d(),n(()=>d()("fighter_profile.height"))),()=>(d(),n(()=>d()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(d(),n(()=>d()("fighter_profile.reach")))]),m(_,E)},we=_=>{var E=va(),K=a(E),te=a(K);V(Q=>g(te,Q),[()=>(d(),n(()=>d()("fight_radar.select_fighter_stats")))]),m(_,E)};ie(oe,_=>{h()?_(Z):_(we,!1)})}var G=c($,2);qt(G,{get isOpen(){return e(I)},$$events:{close:X}}),V(()=>pe($,"id",R())),m(H,q),Di(),f()}Kt(["click","keydown"]);function ga(H){const t=H.filter(i=>i.type===Te.VICTORY_METHOD&&(i.prediction.toLowerCase().includes("decision")||i.predictionKey?.toLowerCase().includes("decision")));if(t.length===0)return H;const s=t.reduce((i,r)=>r.confidence>i.confidence?r:i),f=H.filter(i=>{if(i.type!==Te.DURATION)return!1;const r=i.prediction.toLowerCase(),l=i.predictionKey?.toLowerCase()||"";return r.includes("over")||l.includes("over")});return H.map(i=>f.some(r=>r.id===i.id)&&i.confidence<s.confidence?{...i,confidence:s.confidence}:i)}function fa(H){const t=H.filter(r=>r.type===Te.VICTORY_METHOD),s=H.filter(r=>r.type===Te.FIGHT_PROPS);if(t.length===0||s.length===0)return H;const d=t.reduce((r,l)=>l.confidence>r.confidence?l:r).prediction.toLowerCase(),i=new Set;for(const r of s){const l=(r.prediction||"").toLowerCase(),y=(r.predictionKey||"").toLowerCase();(d.includes("ko")||d.includes("tko"))&&(l.includes("submission")||l.includes("ground control")||y.includes("submission")||y.includes("ground_control"))&&i.add(r.id),d.includes("submission")&&(l.includes("standing exchange")&&!l.includes("ground")||y.includes("standing_exchange")&&!y.includes("ground"))&&i.add(r.id),d.includes("decision")&&(l.includes("first round finish")||l.includes("gone in 60")||y.includes("first_round_finish")||y.includes("gone_in_60"))&&i.add(r.id)}return H.filter(r=>!i.has(r.id))}function _a(H){const t=H.filter(d=>d.type===Te.DURATION),s=H.filter(d=>d.type===Te.FIGHT_PROPS);if(t.length===0||s.length===0)return H;const f=new Set;for(const d of t){const i=(d.prediction||"").toLowerCase(),r=(d.predictionKey||"").toLowerCase(),l=i.includes("under 2.5")||r.includes("under_2_5"),y=i.includes("over 3.5")||r.includes("over_3_5");for(const h of s){const R=(h.prediction||"").toLowerCase(),I=(h.predictionKey||"").toLowerCase();l&&((R.includes("over 100 strikes")||I.includes("over_100_strikes"))&&f.add(h.id),(R.includes("goes to distance")||I.includes("goes_to_distance"))&&f.add(h.id)),y&&(R.includes("first round")||R.includes("gone in 60")||I.includes("first_round")||I.includes("gone_in_60"))&&f.add(h.id)}}return H.filter(d=>!f.has(d.id))}function Ji(H){let t=[...H];return t=ga(t),t=fa(t),t=_a(t),t}const pa={W_Strawweight:{finishBias:-.07195121951219513,koVsSubBias:-.1865853658536585,sampleSize:82,stats:{decisionRate:.6219512195121951,finishRate:.3780487804878049,koRate:.17073170731707318,submissionRate:.2073170731707317}},Bantamweight:{finishBias:-.06870503597122302,koVsSubBias:-.11402877697841726,sampleSize:139,stats:{decisionRate:.6187050359712231,finishRate:.381294964028777,koRate:.20863309352517986,submissionRate:.17266187050359713}},Lightweight:{finishBias:.06798561151079136,koVsSubBias:.08021582733812951,sampleSize:139,stats:{decisionRate:.48201438848920863,finishRate:.5179856115107914,koRate:.37410071942446044,submissionRate:.14388489208633093}},W_Bantamweight:{finishBias:-.09705882352941175,koVsSubBias:-.11078431372549019,sampleSize:51,stats:{decisionRate:.6470588235294118,finishRate:.35294117647058826,koRate:.19607843137254902,submissionRate:.1568627450980392}},W_Flyweight:{finishBias:-.20438596491228073,koVsSubBias:-.15,sampleSize:57,stats:{decisionRate:.7543859649122807,finishRate:.24561403508771928,koRate:.12280701754385964,submissionRate:.12280701754385964}},Middleweight:{finishBias:.16739130434782606,koVsSubBias:.15434782608695652,sampleSize:115,stats:{decisionRate:.3826086956521739,finishRate:.6173913043478261,koRate:.4608695652173913,submissionRate:.1565217391304348}},Featherweight:{finishBias:.07100840336134456,koVsSubBias:-.03235294117647061,sampleSize:119,stats:{decisionRate:.4789915966386555,finishRate:.5210084033613446,koRate:.31932773109243695,submissionRate:.20168067226890757}},Flyweight:{finishBias:.05649350649350643,koVsSubBias:-.16298701298701296,sampleSize:77,stats:{decisionRate:.4935064935064935,finishRate:.5064935064935064,koRate:.24675324675324675,submissionRate:.2597402597402597}},Welterweight:{finishBias:.1467741935483871,koVsSubBias:.17258064516129032,sampleSize:124,stats:{decisionRate:.4032258064516129,finishRate:.5967741935483871,koRate:.4596774193548387,submissionRate:.13709677419354838}},Heavyweight:{finishBias:.0071428571428571175,koVsSubBias:.05000000000000002,sampleSize:70,stats:{decisionRate:.5428571428571428,finishRate:.45714285714285713,koRate:.32857142857142857,submissionRate:.12857142857142856}},Light_Heavyweight:{finishBias:.18076923076923074,koVsSubBias:.1730769230769231,sampleSize:65,stats:{decisionRate:.36923076923076925,finishRate:.6307692307692307,koRate:.47692307692307695,submissionRate:.15384615384615385}}};var Te=(H=>(H.MONEYLINE="moneyline",H.VICTORY_METHOD="victory_method",H.WINNER_AND_METHOD="winner_and_method",H.DURATION="duration",H.GOES_TO_DECISION="goes_to_decision",H.GONE_IN_60="gone_in_60",H.FIGHT_PROPS="fight_props",H.KEY_FACTORS="key_factors",H.TRENDS="trends",H.NO_PREDICTION="no_prediction",H))(Te||{}),Fi=(H=>(H.HIGH="high",H.MEDIUM="medium",H.LOW="low",H))(Fi||{});class ci{constructor(){this.config={finishLikelihoodThreshold:36,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:-1,predatorVsDefensiveBonus:2.5,bothFinishersMultiplier:1.2,bothFinishersThreshold:45,loserDecisionRateWeight:.05,decisionRateBonus:-2,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:34,strOffGapMedThreshold:24,strOffGapLowThreshold:16,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:34,ctrlGapMedThreshold:24,ctrlGapLowThreshold:14,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:34,tdOffGapMedThreshold:24,tdOffGapLowThreshold:14,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,unexpectedKOStrLandedThreshold:4.5,unexpectedKOStrAbsorbedThreshold:4.5,unexpectedKOKnockdownThreshold:1,unexpectedKOThreatThreshold:25,unexpectedKOBoost:5,earlyFinishScoreThreshold:36,durationSkillGapWeight:.01,durationFinishRateWeight:.1,durationVulnerabilityWeight:.15,durationAvgTimeWeight:.5,underBonusBase:15,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:44,durationBothLowFinishThreshold:24,durationPaceAsymmetryThreshold:3.5,durationPaceAsymmetryPenalty:-1.5,durationUnderSkillGapBonus:9,durationUnderLoserVulnBonus:7,durationUnderWinnerFinishBonus:3,durationUnderComboBonus:0,durationUnderExtreme:10,durationUnderSkillGapExtreme:10,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:8,oppTierWeight:10.5,oppTierNeutral:1.82,winRateWeightNormal:.3,winRateWeightHigh:.4,winRateWeightLow:.3,winRateHighThreshold:71,winRateLowThreshold:30,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:1,agePenaltyPhase3Rate:2,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1,damageMultiplier2KO:1.35,damageMultiplier3KO:1.7,damageMultiplier4KO:1.6,damageMultiplier5PlusKO:2.35,relativeAgeThreshold:8,relativeAgeAdjustRate:.5,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:.09,heightAdvantageWeight:.0022500000000000003,reachDiffThreshold:2,heightDiffThreshold:-1,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:17,inactivityPenaltyRate:.5,inactivityMaxPenalty:.23,activityBonusThreshold:6,activityBonus:.04,amplificationEnabled:!0,amplificationThreshold:10,amplificationRate:.1,minProbability:15,maxProbability:88,decisionProbabilityBase:72,decisionLowFinishAdjust:2,goesToDecisionMaxProb:88,decisionBaseMax:85,koMaxProb:89,subMaxProb:76,decisionMinFloor:81,methodOppTierWeight:6,methodDecisionRateFinisherThreshold:5,methodDecisionRateFinisherBonus:7,methodHighPaceMinFights:3,methodHighPaceMinFinish:38,methodHighPaceMaxFinish:68,methodStyleStrengthThreshold:51,methodLoserVulnThreshold:34,methodStrongFinisherWinnerThreshold:49,methodStrongFinisherLoserThreshold:41,decisionCapHighFinishThreshold:53,decisionCapPenaltyBase:3,decisionCapPenaltyScale:4,decisionCapPenaltyDivisor:8,decisionCapMedFinishThreshold:58,decisionCapMedPenalty:3,decisionCapLowFinishThreshold:49,decisionCapLowPenalty:0,divisionMinSampleSize:37,divisionThreatDiffThreshold:3,divisionPreferenceThreshold:11,divisionTiebreakerBoost:2,koThreatComponent:.3,subThreatComponent:.25,koLoserVulnThreshold:34,koWinnerRateThreshold:40,koWinnerComboThreshold:59,koLoserComboThreshold:17,subLoserVulnThreshold:24,subWinnerRateThreshold:34,subWinnerComboThreshold:44,subLoserComboThreshold:28,durationOppTierWeight:4.5,defaultFightDuration:900,extremeFinishWinnerThreshold1:70,extremeFinishLoserThreshold1:50,extremeFinishSkillGap1:12,extremeFinishWinnerThreshold2:80,extremeFinishLoserThreshold2:40,extremeFinishSkillGap3:15,extremeFinishWinnerThreshold3:60,under15ScoreThreshold:55,under15WinProbThreshold:60,under15WinnerTimeThreshold:6,under15LoserTimeThreshold:8,under15SkillGapThreshold:9,under15InitialCap:75,under15SkillGapExtreme:15,under15FinishRateExtreme:75,under15VulnExtreme:54,under15FinalCap:82,under25FinishThreshold1:60,under25LoserFinishThreshold1:40,under25KOThreshold:60,under25AvgTimeThreshold:8,under25WinnerTimeThreshold:8,under25LoserTimeThreshold:8.5,under25WinProbMin:48,under25InitialCap:76,under25SkillGapThreshold:10,under25VulnThreshold:45,under25WinnerFinishThreshold:65,under25ComboWinnerThreshold:50,under25ComboLoserThreshold:35,under25FinalCap:87,over15BaseProbability:43,over15HighThreatThreshold:45,over15HighThreatValue:55,over15MedThreatLowThreshold:32,over15MedThreatHighThreshold:38,over15MedThreatValue:66,over15LowThreatThreshold:25,over15LowThreatValue:75,over15VeryLowThreatThreshold:18,over15VeryLowThreatValue:79,over15FinisherThreshold:43,over15FinisherPenalty:5,over15DecisionThreshold:65,over15DecisionBoost:5,over15DualDecisionThreshold1:15,over15DualDecisionThreshold2:25,over15DualDecisionBoost:5,over15LongTimeThreshold:8.5,over15LongTimeBoost:4,over15MinProbability:53,over15MaxProbability:85,over15FinishLikelihoodPenaltyThreshold:50,over15FinishLikelihoodPenaltyAmount:1,over35DecisionThreshold1:30,over35DecisionThreshold2:30,over35AvgTimeThreshold:8,over35LowFinishThreshold:20,over35LongTimeThreshold:8.5,over35BaseProbability:55,over35PureDecisionThreshold:15,over35PureDecisionValue:68,over35ExtremeDecisionThreshold:10,over35ExtremeDecisionValue:72,over35LongMinProbability:70,over35LongDecisionThreshold:20,over35LongDecisionBoost:8,over35LongDecisionCap:80,over35FinishPenaltyThreshold1:20,over35FinishPenalty1:-5,over35FinishPenaltyThreshold2:30,over35FinishPenalty2:-8,over35MinProbability:50,over35MaxProbability:82,physicalAdvantageReachThreshold:2,physicalAdvantageHeightThreshold:2,activityPeriodMonths:24,activityThresholdFights:3,defaultWinProbability:49,reachAnalysisThreshold:2,activityDifferenceThreshold:2,highWinRateThreshold:75,strugglingWinRateThreshold:55,estimatedCareerStartAge:16,estimatedFightsPerYear:3.4,grapplerTakedownThreshold:31,grapplerSubmissionThreshold:18,strikerKOThreshold:25,strikerTakedownMax:10,dominantGrapplerThreshold:50,weightedMetricLoserImpact:.5,firstRoundFinishThreshold:5,subAttemptsOverThreshold:.5,finishRateFirstRoundThreshold:68,doubleKnockdownThreshold:.9,groundControlTakedownThreshold:15,strikeVolumeThreshold:120,standingExchangeTakedownMax:4,divisionBlendFinishLikelihood:.01,divisionBlendKOThreat:0,divisionBlendSubThreat:.19,decisionToKOBiasReduction:0,decisionToKOStrLandedThreshold:4,decisionToKOKnockdownThreshold:.4,koToDecisionBiasReduction:2,koToDecisionLoserDecisionRateThreshold:30,koToDecisionLowKOThreatThreshold:38,decisionToSubBiasReduction:0,decisionToSubCtrlGapThreshold:8,decisionToSubTDGapThreshold:14,subToDecisionBiasReduction:1,subToDecisionLoserDecisionRateThreshold:40,subToDecisionLowSubThreatThreshold:21,predatorFinishRateThreshold:40,predatorVulnerabilityThreshold:35,methodThreatDiffThreshold:3,methodStyleDiffThreshold:5,koThreatMultiplier:.3,koComboWinnerRateThreshold:67,koComboLoserVulnThreshold:21,durationFinishRateThreshold:65,durationTakedownRateThreshold:19,durationStrikeVolumeThreshold:127,durationLowTakedownThreshold:3,subThreatMultiplier:.4,subComboWinnerRateThreshold:40,subComboLoserVulnThreshold:10,winnerReachDiffThreshold:1,winnerExperienceGapThreshold:1,winnerAgePrimeStart:29,winnerAgePrimeEnd:30,winnerYearsAfterPrimeModerate:4,winnerYearsAfterPrimeSevere:9,winnerMinFightsThreshold:3}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}static{this.divisionCoefficients=null}static loadDivisionCoefficients(){return this.divisionCoefficients?this.divisionCoefficients:(this.divisionCoefficients=new Map(Object.entries(pa)),this.divisionCoefficients)}generateBetCards(t,s,f=!1,d=3){const i=[],r=this.config.winnerMinFightsThreshold,l=t.rawData.Number_of_Fights_36m||0,y=s.rawData.Number_of_Fights_36m||0;if(l<r||y<r)return[this.createNoPredictionCard("insufficient_fights",t,s,l,y)];if(t.division!==s.division)return[this.createNoPredictionCard("different_divisions",t,s)];const h=this.calculateWinProbability(t,s);if(f&&h.probability<ci.MIN_MEDIUM_CONFIDENCE){const $=h.winner===t?h.probability:100-h.probability,oe=100-$;i.push(this.createNoPredictionCard("low_moneyline_confidence",t,s,void 0,void 0,$,oe))}else i.push(this.createMoneylineCard(h));const R=this.predictMethodGivenWinner(t,s,h,d),I=this.predictTotalRounds(t,s,h,d),Y=this.generateFightProps(t,s,h,d),w=this.analyzeKeyFactors(t,s),X=this.analyzeTrends(t,s);i.push(this.createVictoryMethodCard(R));const q=this.predictWinnerAndMethod(h,R);return i.push(q),i.push(this.createTotalRoundsCard(I)),i.push(this.createFightPropsCard(Y)),i.push(this.createKeyFactorsCard(w)),i.push(this.createTrendsCard(X)),this.hasHighConfidencePredictions(i)||i.push(this.createNoPredictionCard("low_confidence")),f?this.sortBetCardsByPriority(this.filterByConfidence(Ji(i))):this.sortBetCardsByPriority(Ji(i))}filterByConfidence(t){return t.filter(s=>s.type==="key_factors"||s.type==="trends"||s.type==="no_prediction"?!0:s.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(t,s){const f=(t.rawData.reach_inches||0)-(s.rawData.reach_inches||0),d=(t.rawData.height_inches||0)-(s.rawData.height_inches||0);let i=0,r=0;return f>=this.config.physicalAdvantageReachThreshold?i+=Math.min(Math.abs(f)*this.config.reachAdvantageWeight,.025):f<=-this.config.physicalAdvantageReachThreshold&&(r+=Math.min(Math.abs(f)*this.config.reachAdvantageWeight,.025)),d>=this.config.physicalAdvantageHeightThreshold?i+=Math.min(Math.abs(d)*this.config.heightAdvantageWeight,.015):d<=-this.config.physicalAdvantageHeightThreshold&&(r+=Math.min(Math.abs(d)*this.config.heightAdvantageWeight,.015)),{f1Advantage:i,f2Advantage:r}}calculateWinProbability(t,s){const f=this.config.oppTierNeutral,d=this.config.oppTierWeight;let i=t.overall+(t.oppTierScore-f)*d,r=s.overall+(s.oppTierScore-f)*d;const l=this.calculatePhysicalAdvantage(t,s);i*=1+l.f1Advantage,r*=1+l.f2Advantage,i*=this.calculateAgeImpact(t),r*=this.calculateAgeImpact(s);const y=this.getInactiveMonths(t),h=this.getInactiveMonths(s);if(y>=this.config.inactivityThreshold){const A=Math.min((y-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);i*=1-A}if(h>=this.config.inactivityThreshold){const A=Math.min((h-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);r*=1-A}const R=this.getFightsInPeriod(t,18),I=this.getFightsInPeriod(s,18);R>=this.config.activityBonusThreshold&&(i*=1+this.config.activityBonus),I>=this.config.activityBonusThreshold&&(r*=1+this.config.activityBonus);const Y=t.rawData.Number_of_Fights_36m>0?t.rawData.win/t.rawData.Number_of_Fights_36m*100:0,w=s.rawData.Number_of_Fights_36m>0?s.rawData.win/s.rawData.Number_of_Fights_36m*100:0,X=this.calculateMomentum(t),q=this.calculateMomentum(s);i*=1+X,r*=1+q;let $=this.config.winRateWeightNormal,oe=this.config.winRateWeightNormal;Y>=this.config.winRateHighThreshold?$=this.config.winRateWeightHigh:Y<this.config.winRateLowThreshold&&($=this.config.winRateWeightLow),w>=this.config.winRateHighThreshold?oe=this.config.winRateWeightHigh:w<this.config.winRateLowThreshold&&(oe=this.config.winRateWeightLow);const Z=i+Y*$,we=r+w*oe,G=this.calculateAge(t),_=this.calculateAge(s),E=G-_;let K=Z,te=we;if(Math.abs(E)>=this.config.relativeAgeThreshold){const A=Math.min(Math.abs(E)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);E>0?(K=Z*(1-A),te=we*(1+A)):(K=Z*(1+A),te=we*(1-A))}const Q=Math.abs(K-te);if(Q>this.config.amplificationThreshold){const A=1+(Q-this.config.amplificationThreshold)*this.config.amplificationRate;K>te?K*=A:te*=A}const O=K+te;let U=O>0?Math.round(K/O*100):50,W=O>0?Math.round(te/O*100):50;if(U=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,U)),W=100-U,U>W){let A=this.getWinReasoningKey(t,s,Y,w);return{winner:t,probability:U,reasoningKey:A,adjustedScore1:K,adjustedScore2:te}}else{let A=this.getWinReasoningKey(s,t,w,Y);return{winner:s,probability:W,reasoningKey:A,adjustedScore1:te,adjustedScore2:K}}}predictWinnerAndMethod(t,s){let f=t.probability/100*(s.probability/100)*100;const d=t.winner,i=s.method,r=s.methodKey,l=d.name,y=`combat_analysis.winner_and_method.${r.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:l,predictionKey:y,confidence:Math.round(f),confidenceLevel:this.getConfidenceLevel(f),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:d.name,method:i,methodKey:y,winnerProb:t.probability,methodProb:s.probability,compositeProb:f},priority:2.5}}predictMethodGivenWinner(t,s,f,d=3){const i=f.winner,r=i===t?s:t,l=ci.loadDivisionCoefficients(),y=i.division,h=l.get(y),R=i.overall+(i.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,I=r.overall+(r.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,Y=Math.abs(R-I),w=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,X=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,q=i===t?w:X,$=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,oe=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,Z=i===t?$:oe,we=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,G=s.rawData.Number_of_Fights_36m>0?s.rawData.win_sub/s.rawData.Number_of_Fights_36m*100:0,_=i===t?we:G,E=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_kotko/r.rawData.Number_of_Fights_36m*100:0,K=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_sub/r.rawData.Number_of_Fights_36m*100:0,te=E+K,Q=te,O=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_decision/r.rawData.Number_of_Fights_36m*100:0;let U=Y*this.config.skillGapWeight+q*this.config.finishRateWeight+te*this.config.vulnerabilityWeight;const W=O*this.config.loserDecisionRateWeight/10;U-=W,O<this.config.methodDecisionRateFinisherThreshold&&(U+=this.config.methodDecisionRateFinisherBonus);const A=Z>_&&E>K,De=_>Z&&K>E;(A||De)&&(U+=this.config.methodMatchBonus),i.rawData.Number_of_Fights_36m>=this.config.methodHighPaceMinFights&&q>=this.config.methodHighPaceMinFinish&&q<=this.config.methodHighPaceMaxFinish&&(U+=this.config.highPaceFinishBonus),Math.max(Z,_)>this.config.methodStyleStrengthThreshold&&te>this.config.methodLoserVulnThreshold&&(U+=this.config.styleStrengthBonus),q>this.config.methodStrongFinisherWinnerThreshold&&Q>this.config.methodStrongFinisherLoserThreshold&&(U+=this.config.finisherVsVulnerableBonus);const F=i.archetype?.combinedRole||"",de=r.archetype?.combinedRole||"",Me=F.includes("AT")||F.includes("ANT"),Be=de.includes("PT")||de.includes("PNT");Me&&Be&&q>this.config.predatorFinishRateThreshold&&te>this.config.predatorVulnerabilityThreshold&&(U+=this.config.predatorVsDefensiveBonus);const N=r===t?w:X,ae=Math.min(q,N),Fe=Math.max(q,N);if(ae>this.config.bothFinishersThreshold&&Fe>this.config.bothFinishersThreshold&&(U*=this.config.bothFinishersMultiplier),h&&h.sampleSize>=this.config.divisionMinSampleSize&&this.config.divisionBlendFinishLikelihood>0){const M=h.stats.finishRate*100;U=U*(1-this.config.divisionBlendFinishLikelihood)+M*this.config.divisionBlendFinishLikelihood}const Ke=i.rawData.Sig_Strikes_Landed/((i.rawData.Fight_Duration_Seconds||600)/60)||0,qe=i.rawData.Knockdowns/((i.rawData.Fight_Duration_Seconds||600)/900)||0;Ke>this.config.decisionToKOStrLandedThreshold&&qe>this.config.decisionToKOKnockdownThreshold&&(U+=this.config.decisionToKOBiasReduction);const $e=i.fightRadar.CTRL-r.fightRadar.CTRL,Ne=i.fightRadar.TD_OFF-r.fightRadar.TD_OFF;if($e>this.config.decisionToSubCtrlGapThreshold&&Ne>this.config.decisionToSubTDGapThreshold&&(U+=this.config.decisionToSubBiasReduction),U<this.config.finishLikelihoodThreshold){let M=Math.min(Math.round(100-U),this.config.decisionBaseMax),le=this.config.decisionBaseMax;if(ae>this.config.decisionCapHighFinishThreshold){const hi=this.config.decisionCapPenaltyBase+(ae-this.config.decisionCapHighFinishThreshold)/this.config.decisionCapPenaltyDivisor*this.config.decisionCapPenaltyScale;le=Math.max(le-hi,this.config.decisionMinFloor)}else ae>this.config.decisionCapMedFinishThreshold?le=Math.max(le-this.config.decisionCapMedPenalty,this.config.decisionMinFloor+4):ae>this.config.decisionCapLowFinishThreshold&&(le=Math.max(le-this.config.decisionCapLowPenalty,this.config.decisionMinFloor+2));const Pe=i.rawData.Sig_Strikes_Landed/((i.rawData.Fight_Duration_Seconds||600)/60)||0,Je=i.rawData.Knockdowns/((i.rawData.Fight_Duration_Seconds||600)/900)||0;Pe>this.config.decisionToKOStrLandedThreshold&&Je>this.config.decisionToKOKnockdownThreshold&&(M-=this.config.decisionToKOBiasReduction);const ei=i.fightRadar.CTRL-r.fightRadar.CTRL,li=i.fightRadar.TD_OFF-r.fightRadar.TD_OFF;return ei>this.config.decisionToSubCtrlGapThreshold&&li>this.config.decisionToSubTDGapThreshold&&(M-=this.config.decisionToSubBiasReduction),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(M,le),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:w,finishRate2:X}}let se=Z*this.config.koThreatWinnerWeight+E*this.config.koThreatLoserWeight,ce=_*this.config.subThreatWinnerWeight+K*this.config.subThreatLoserWeight;if(h&&h.sampleSize>=this.config.divisionMinSampleSize){if(this.config.divisionBlendKOThreat>0){const M=h.stats.koRate*100;se=se*(1-this.config.divisionBlendKOThreat)+M*this.config.divisionBlendKOThreat}if(this.config.divisionBlendSubThreat>0){const M=h.stats.submissionRate*100;ce=ce*(1-this.config.divisionBlendSubThreat)+M*this.config.divisionBlendSubThreat}}if(h&&h.sampleSize>=this.config.divisionMinSampleSize){const M=Math.abs(se-ce),le=h.stats.koRate*100,Pe=h.stats.submissionRate*100,Je=le-Pe;M<this.config.divisionThreatDiffThreshold&&Math.abs(Je)>this.config.divisionPreferenceThreshold&&(Je>0?se+=this.config.divisionTiebreakerBoost:ce+=this.config.divisionTiebreakerBoost)}const Ge=K-E;Ge>this.config.subVulnDiffHighThreshold?ce+=this.config.subVulnDiffHighBonus:Ge>this.config.subVulnDiffMedThreshold&&(ce+=this.config.subVulnDiffMedBonus);const Ae=E-K;Ae>this.config.koVulnDiffHighThreshold?se+=this.config.koVulnDiffHighBonus:Ae>this.config.koVulnDiffMedThreshold&&(se+=this.config.koVulnDiffMedBonus);const Ee=i.fightRadar.STR_OFF-r.fightRadar.STR_OFF;if(Ee>this.config.strOffGapLowThreshold){const M=Ee>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:Ee>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;se+=M}const me=i.fightRadar.CTRL-r.fightRadar.CTRL;if(me>this.config.ctrlGapLowThreshold){const M=me>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:me>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;ce+=M}const Se=i.fightRadar.TD_OFF-r.fightRadar.TD_OFF;if(Se>this.config.tdOffGapLowThreshold){const M=Se>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:Se>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;ce+=M}const re=i.rawData.Fight_Duration_Seconds||600,J=r.rawData.Fight_Duration_Seconds||600,ve=i.rawData.Sig_Strikes_Landed/(re/60)||0,Ve=r.rawData.Sig_Strikes_Absorbed/(J/60)||0,je=i.rawData.Knockdowns/(re/900)||0;ve>this.config.unexpectedKOStrLandedThreshold&&Ve>this.config.unexpectedKOStrAbsorbedThreshold&&je>this.config.unexpectedKOKnockdownThreshold&&se<this.config.unexpectedKOThreatThreshold&&(se+=this.config.unexpectedKOBoost);const Xe=Z>_&&E>K,ze=_>Z&&K>E,ni=Math.abs(se-ce),Ze=Math.abs(Z-_);if(ni<this.config.methodThreatDiffThreshold?Ze<this.config.methodStyleDiffThreshold?E>K:Xe&&!ze||se>ce&&!ze:se>ce){let M=Math.round(U+se*this.config.koThreatMultiplier);return Y>10&&(M+=this.config.koSkillGapBonus),E>30&&(M+=this.config.koLoserVulnBonus),Z>50&&(M+=this.config.koWinnerRateBonus),Z>this.config.koComboWinnerRateThreshold&&E>this.config.koComboLoserVulnThreshold&&(M+=this.config.koComboBonus),Xe&&Z>this.config.koMethodMatchWinnerThreshold&&E>this.config.koMethodMatchLoserThreshold&&(M+=this.config.koMethodMatchBonus),O>this.config.koToDecisionLoserDecisionRateThreshold&&se<this.config.koToDecisionLowKOThreatThreshold&&(M-=this.config.koToDecisionBiasReduction),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(M,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:w,finishRate2:X}}else{let M=Math.min(Math.round(U+ce*this.config.subThreatMultiplier),this.config.subMaxProb);return Y>10&&(M+=this.config.subSkillGapBonus),K>24&&(M+=this.config.subLoserVulnBonus),_>40&&(M+=this.config.subWinnerRateBonus),_>this.config.subComboWinnerRateThreshold&&K>this.config.subComboLoserVulnThreshold&&(M+=this.config.subComboBonus),ze&&_>this.config.subMethodMatchWinnerThreshold&&K>this.config.subMethodMatchLoserThreshold&&(M+=this.config.subMethodMatchBonus),O>this.config.subToDecisionLoserDecisionRateThreshold&&ce<this.config.subToDecisionLowSubThreatThreshold&&(M-=this.config.subToDecisionBiasReduction),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(M,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:w,finishRate2:X}}}predictTotalRounds(t,s,f,d=3){const i=f.winner,r=i===t?s:t,l=i.overall+(i.oppTierScore-this.config.oppTierNeutral)*this.config.durationOppTierWeight,y=r.overall+(r.oppTierScore-this.config.oppTierNeutral)*this.config.durationOppTierWeight,h=Math.abs(l-y),R=(t.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,I=(s.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,Y=i===t?R:I,w=i===t?I:R,X=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,q=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,$=i===t?X:q,oe=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0,Z=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,we=i===t?oe:Z,G=r.rawData.Number_of_Fights_36m>0?(r.rawData.loss_kotko+r.rawData.loss_sub)/r.rawData.Number_of_Fights_36m*100:0;let _=h*this.config.durationSkillGapWeight+$*this.config.durationFinishRateWeight+G*this.config.durationVulnerabilityWeight+(15-Math.min(Y,15))*this.config.durationAvgTimeWeight*10;G>this.config.durationLoserVulnThreshold&&(_+=this.config.loserVulnBonus),X<this.config.durationBothLowFinishThreshold&&q<this.config.durationBothLowFinishThreshold&&(_-=this.config.decisionFighterPenalty);const E=t.rawData.Number_of_Fights_36m,K=s.rawData.Number_of_Fights_36m;Math.abs(E-K)>=this.config.durationPaceAsymmetryThreshold&&Math.min(E,K)<=2&&(_-=this.config.durationPaceAsymmetryPenalty);const Q=(R+I)/2,O=[],U=$>this.config.extremeFinishWinnerThreshold1&&G>this.config.extremeFinishLoserThreshold1&&h>this.config.extremeFinishSkillGap1||$>this.config.extremeFinishWinnerThreshold2&&G>this.config.extremeFinishLoserThreshold2||h>this.config.extremeFinishSkillGap3&&$>this.config.extremeFinishWinnerThreshold3;if(_>this.config.under15ScoreThreshold&&f.probability>this.config.under15WinProbThreshold&&U||Y<this.config.under15WinnerTimeThreshold&&w<this.config.under15LoserTimeThreshold&&h>this.config.under15SkillGapThreshold){let W=Math.min(Math.round(_+this.config.durationUnderExtreme),this.config.under15InitialCap);h>this.config.under15SkillGapExtreme&&(W+=this.config.durationUnderSkillGapExtreme),$>this.config.under15FinishRateExtreme&&(W+=this.config.durationUnderFinishRateExtreme),G>this.config.under15VulnExtreme&&(W+=this.config.durationUnderLoserVulnExtreme);const A=Math.min(W,this.config.under15FinalCap);O.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:A,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:Y})}if(d===5){const W=$>this.config.under25FinishThreshold1&&G>this.config.under25LoserFinishThreshold1||we>this.config.under25KOThreshold&&Y<this.config.under25AvgTimeThreshold,A=Y<this.config.under25WinnerTimeThreshold&&w<this.config.under25LoserTimeThreshold;if(_>this.config.earlyFinishScoreThreshold&&f.probability>this.config.under25WinProbMin||W){let De=Math.min(Math.round(_+this.config.underBonusBase),this.config.under25InitialCap);h>this.config.under25SkillGapThreshold&&(De+=this.config.durationUnderSkillGapBonus),G>this.config.under25VulnThreshold&&(De+=this.config.durationUnderLoserVulnBonus),$>this.config.under25WinnerFinishThreshold&&(De+=this.config.durationUnderWinnerFinishBonus),$>this.config.under25ComboWinnerThreshold&&G>this.config.under25ComboLoserThreshold&&(De+=this.config.durationUnderComboBonus);const He=Math.min(De,this.config.under25FinalCap);A&&O.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:He,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:Y})}}if(d===3){let W=this.config.over15BaseProbability;_>this.config.over15HighThreatThreshold&&(W=this.config.over15HighThreatValue),_>this.config.over15MedThreatLowThreshold&&_<=this.config.over15MedThreatHighThreshold&&(W=this.config.over15MedThreatValue),_<this.config.over15LowThreatThreshold&&(W=this.config.over15LowThreatValue),_<this.config.over15VeryLowThreatThreshold&&(W=this.config.over15VeryLowThreatValue),$>this.config.over15FinisherThreshold&&(W+=this.config.over15FinisherPenalty),$<this.config.over15DecisionThreshold&&(W+=this.config.over15DecisionBoost),$<this.config.over15DualDecisionThreshold1&&G<this.config.over15DualDecisionThreshold2&&(W+=this.config.over15DualDecisionBoost),Q>this.config.over15LongTimeThreshold&&(W=Math.min(W+this.config.over15LongTimeBoost,this.config.over15MaxProbability)),_>this.config.over15FinishLikelihoodPenaltyThreshold&&(W-=this.config.over15FinishLikelihoodPenaltyAmount);const A=Math.min(Math.max(Math.round(W),this.config.over15MinProbability),this.config.over15MaxProbability);O.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:A,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:Q})}if(d===5){let W=this.config.over15BaseProbability;_>this.config.over15HighThreatThreshold&&(W=this.config.over15HighThreatValue),_>this.config.over15MedThreatLowThreshold&&_<=this.config.over15MedThreatHighThreshold&&(W=this.config.over15MedThreatValue),_<this.config.over15LowThreatThreshold&&(W=this.config.over15LowThreatValue),_<this.config.over15VeryLowThreatThreshold&&(W=this.config.over15VeryLowThreatValue),$>this.config.over15FinisherThreshold&&(W+=this.config.over15FinisherPenalty),$<this.config.over15DecisionThreshold&&(W+=this.config.over15DecisionBoost),$<this.config.over15DualDecisionThreshold1&&G<this.config.over15DualDecisionThreshold2&&(W+=this.config.over15DualDecisionBoost);const A=Math.min(Math.max(Math.round(W),this.config.over15MinProbability),this.config.over15MaxProbability);O.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:A,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:Q});const De=$<this.config.over35DecisionThreshold1&&G<this.config.over35DecisionThreshold2&&Q>this.config.over35AvgTimeThreshold,He=_<this.config.over35LowFinishThreshold,Ue=Q>this.config.over35LongTimeThreshold;if(De||He||Ue){let F=this.config.over35BaseProbability;$<this.config.over35PureDecisionThreshold&&G<this.config.over35PureDecisionThreshold&&(F=this.config.over35PureDecisionValue),$<this.config.over35ExtremeDecisionThreshold&&G<this.config.over35ExtremeDecisionThreshold&&(F=this.config.over35ExtremeDecisionValue),Ue&&(F=Math.max(F,this.config.over35LongMinProbability),$<this.config.over35LongDecisionThreshold&&G<this.config.over35LongDecisionThreshold&&(F=Math.min(F+this.config.over35LongDecisionBoost,this.config.over35LongDecisionCap))),_>this.config.over35FinishPenaltyThreshold1&&(F+=this.config.over35FinishPenalty1),_>this.config.over35FinishPenaltyThreshold2&&(F+=this.config.over35FinishPenalty2);const de=Math.min(Math.max(Math.round(F),this.config.over35MinProbability),this.config.over35MaxProbability);O.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:de,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:Q})}}return O.sort((W,A)=>A.probability-W.probability),O[0]}generateFightProps(t,s,f,d=3){const i=this.calculateBettingMetrics(t,s,f);this.hasDominantGrappler(t,s),this.isStrikerWar(t,s);const r=6;return i.f1SubRate+i.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:i}:i.weightedFinishRate&&i.weightedFinishRate>this.config.durationFinishRateThreshold&&i.weightedAvgFightTime&&i.weightedAvgFightTime<r?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:i}:i.f1KnockdownRate>.6&&i.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:i}:i.f1TakedownRate>this.config.durationTakedownRateThreshold||i.f2TakedownRate>this.config.durationTakedownRateThreshold?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:i}:i.f1StrikeVolume>this.config.durationStrikeVolumeThreshold&&i.f2StrikeVolume>this.config.durationStrikeVolumeThreshold?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:i}:i.f1TakedownRate<this.config.durationLowTakedownThreshold&&i.f2TakedownRate<this.config.durationLowTakedownThreshold?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:i}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:i}}analyzeKeyFactors(t,s){const f=[],d=t.rawData.reach_inches||0,i=s.rawData.reach_inches||0,r=Math.abs(d-i);if(r>this.config.winnerReachDiffThreshold){const w=d>i?t.name||"Fighter 1":s.name||"Fighter 2";f.push({label:"combat_analysis.key_factors.reach_advantage",value:`${w} +${r}"`,type:"advantage"})}const l=t.rawData.Sig_Strikes_Thrown>0?Math.round(t.rawData.Sig_Strikes_Landed/t.rawData.Sig_Strikes_Thrown*100):0,y=s.rawData.Sig_Strikes_Thrown>0?Math.round(s.rawData.Sig_Strikes_Landed/s.rawData.Sig_Strikes_Thrown*100):0;f.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${t.name||"F1"}: ${l}% vs ${s.name||"F2"}: ${y}%`,type:"comparison"});const h=t.rawData.takedowns_attempted_against>0?Math.round(t.rawData.Takedowns_Defended/t.rawData.takedowns_attempted_against*100):85,R=s.rawData.takedowns_attempted_against>0?Math.round(s.rawData.Takedowns_Defended/s.rawData.takedowns_attempted_against*100):85;f.push({label:"combat_analysis.key_factors.takedown_defense",value:`${t.name||"F1"}: ${h}% vs ${s.name||"F2"}: ${R}%`,type:"comparison"});const I=t.rawData.Number_of_Fights_36m||0,Y=s.rawData.Number_of_Fights_36m||0;if(Math.abs(I-Y)>this.config.winnerExperienceGapThreshold){const w=I>Y?t.name||"Fighter 1":s.name||"Fighter 2",X=Math.max(I,Y),q=Math.min(I,Y);f.push({label:"combat_analysis.key_factors.higher_activity",value:`${w}: ${X} vs ${q} fights`,type:"advantage"})}return f}analyzeTrends(t,s){const f=[],d=t.rawData.Number_of_Fights_36m>0?Math.round(t.rawData.win/t.rawData.Number_of_Fights_36m*100):0,i=s.rawData.Number_of_Fights_36m>0?Math.round(s.rawData.win/s.rawData.Number_of_Fights_36m*100):0;d>=75?f.push({type:"positive",text:`${t.name||"Fighter 1"} has ${d}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:t.name||"Fighter 1",winRate:d},fighter:t.name}):d<50&&f.push({type:"negative",text:`${t.name||"Fighter 1"} struggling at ${d}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:t.name||"Fighter 1",winRate:d},fighter:t.name}),i>=75?f.push({type:"positive",text:`${s.name||"Fighter 2"} has ${i}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:s.name||"Fighter 2",winRate:i},fighter:s.name}):i<50&&f.push({type:"negative",text:`${s.name||"Fighter 2"} struggling at ${i}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:s.name||"Fighter 2",winRate:i},fighter:s.name});const r=(t.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60,y=(r+l)/2;return f.push({type:"neutral",text:`Combined average fight time: ${y.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:y.toFixed(1)}}),f}calculateMomentum(t){const s=t.streak;if(s===0)return 0;const f=Math.abs(s);return s>0?f>=3?this.config.winStreak3PlusBonus:f>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:f>=3?-this.config.loseStreak3PlusPenalty:f>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(t){return t===0?1:t===1?this.config.damageMultiplier1KO:t===2?this.config.damageMultiplier2KO:t===3?this.config.damageMultiplier3KO:t===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(t){const s=this.calculateAge(t),d={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[t.division]||32,i=t.rawData.loss_kotko||0,r=this.calculateDamageMultiplier(i),l=(s-d)*r;if(l<=0)return 1;let y=0;return l<=5?y=l*this.config.agePenaltyPhase1Rate:l<=10?y=5*this.config.agePenaltyPhase1Rate+(l-5)*this.config.agePenaltyPhase2Rate:y=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(l-10)*this.config.agePenaltyPhase3Rate,y=Math.min(y,this.config.agePenaltyMaxCap),1-y}calculateAge(t){if(t.age&&t.age>0)return t.age;if(t.birthDate||t.rawData.Birth_Date){const i=t.birthDate||t.rawData.Birth_Date,r=new Date(i);if(!isNaN(r.getTime())){const l=new Date;let y=l.getFullYear()-r.getFullYear();const h=l.getMonth()-r.getMonth();return(h<0||h===0&&l.getDate()<r.getDate())&&y--,y}}const s=25,f=2.5,d=t.rawData.Number_of_Fights_36m||0;return Math.round(s+d/f)}getInactiveMonths(t){const s=t.rawData.Number_of_Fights_36m||0;return s>=3?0:s>=2?6:s>=1?12:24}getFightsInPeriod(t,s){const f=s/36;return Math.round((t.rawData.Number_of_Fights_36m||0)*f)}getWeightedMetric(t,s,f,d,i=.5){const r=f.probability/100,l=1-r;return f.winner===d?t*r+s*l*i:s*r+t*l*i}getFighterStyle(t){const s=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f=t.rawData.Number_of_Fights_36m>0?t.rawData.win_sub/t.rawData.Number_of_Fights_36m*100:0,d=t.rawData.Number_of_Fights_36m>0?t.rawData.win_kotko/t.rawData.Number_of_Fights_36m*100:0;return s>15||f>25?"grappler":d>30&&s<10?"striker":"balanced"}hasDominantGrappler(t,s){const f=this.getFighterStyle(t),d=this.getFighterStyle(s),i=t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,r=s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0;return f==="grappler"&&i>20||d==="grappler"&&r>20}isStrikerWar(t,s){return this.getFighterStyle(t)==="striker"&&this.getFighterStyle(s)==="striker"}calculateBettingMetrics(t,s,f){const d=t.rawData.Number_of_Fights_36m>0?(t.rawData.win_kotko+t.rawData.win_sub)/t.rawData.Number_of_Fights_36m*100:0,i=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,r=(t.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:t.rawData.Sig_Strikes_Thrown>0?t.rawData.Takedowns_Attempted/t.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Knockdowns/t.rawData.Number_of_Fights_36m:0,f2KnockdownRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Knockdowns/s.rawData.Number_of_Fights_36m:0,f1StrikeVolume:t.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:s.rawData.Sig_Strikes_Thrown||0,f1SubRate:t.rawData.Number_of_Fights_36m>0?t.rawData.Sub_Attempts/t.rawData.Number_of_Fights_36m:0,f2SubRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Sub_Attempts/s.rawData.Number_of_Fights_36m:0,f1FinishRate:d,f2FinishRate:i,avgFightTime:(r+l)/2,weightedFinishRate:f?this.getWeightedMetric(d,i,f,t,.5):void 0,weightedAvgFightTime:f?this.getWeightedMetric(r,l,f,t,1):void 0}}getWinReasoningKey(t,s,f,d){return t.overall>s.overall+20?"combat_analysis.reasoning.significant_rating_advantage":t.performance>s.performance+10?"combat_analysis.reasoning.significant_performance_advantage":t.fightIQ>s.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":f>d+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(t){return t>=ci.MIN_HIGH_CONFIDENCE?"high":t>=ci.MIN_MEDIUM_CONFIDENCE?"medium":(t>=ci.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(t){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:t.winner.name||"Unknown Fighter",confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{adjustedScore1:t.adjustedScore1,adjustedScore2:t.adjustedScore2},priority:1}}createVictoryMethodCard(t){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:t.method,predictionKey:t.methodKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,metadata:{method:t.method,finishRate1:t.finishRate1,finishRate2:t.finishRate2},priority:2}}createTotalRoundsCard(t){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:t.prediction,predictionKey:t.predictionKey,confidence:t.probability,confidenceLevel:this.getConfidenceLevel(t.probability),reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{avgTime:t.avgTime},priority:3}}createFightPropsCard(t){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:t.prop,predictionKey:t.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:t.reasoningKey,explanationKey:t.explanationKey,metadata:{value:t.value,valueKey:t.valueKey,metrics:t.metrics},priority:7}}createKeyFactorsCard(t){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:t},priority:8}}createTrendsCard(t){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:t},priority:9}}createNoPredictionCard(t,s,f,d,i,r,l){if(t==="insufficient_fights"&&s&&f){const y=(d||0)<=2,h=(i||0)<=2;let R="";return y&&h?R=`Both fighters have insufficient fight data: ${s.name} (${d} fights) and ${f.name} (${i} fights). Minimum 3 fights required for accurate predictions.`:y?R=`${s.name} has insufficient fight data (${d} fights). Minimum 3 fights required for accurate predictions.`:h&&(R=`${f.name} has insufficient fight data (${i} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:R,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:d,fighter2Fights:i}}}if(t==="different_divisions"&&s&&f)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${s.name} competes in ${s.division} while ${f.name} competes in ${f.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:s.division,fighter2Division:f.division}};if(t==="low_moneyline_confidence"&&s&&f){const y=r||0,h=l||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${s.name} ${y.toFixed(1)}% vs ${f.name} ${h.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:s.name,fighter2Name:f.name,fighter1Probability:y,fighter2Probability:h}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(t){return t.some(s=>(s.type==="moneyline"||s.type==="victory_method"||s.type==="duration"||s.type==="winner_and_method"||s.type==="fight_props")&&s.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(t){return t.sort((s,f)=>s.priority-f.priority)}}const ma=new ci;var ba=C('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),ya=C('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ta=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),wa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Da=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),ka=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ra=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Fa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),xa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ma=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Sa=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ca=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ka=C('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Pa=C('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),La=C('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Oa=C("<div><!></div>"),Ba=C('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),Na=C('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function Ea(H,t){yi(t,!1);const[s,f]=xi(),d=()=>fi($t,"$locale",s),i=()=>fi(Mi,"$_",s),r=b(),l=b(),y=b(),h=b(),R=b(),I=b(),Y=b(),w=b(),X=b(),q=b(),$=b(),oe=b(),Z=b(),we=b(),G=b(),_=b(),E=b(),K=b(),te=Ot();let Q=Ye(t,"fighter1",8,null),O=Ye(t,"fighter2",8,null),U=Ye(t,"scheduledRounds",8,3);function W(Me){te("roundsChanged",Me)}function A(Me,Be){return Me.filter(N=>N.type===Be)}function De(Me){switch(Me){case Fi.HIGH:return"high-confidence";case Fi.MEDIUM:return"medium-confidence";case Fi.LOW:return"low-confidence";default:return""}}let He=d();z(()=>(L(Q()),L(O())),()=>{u(r,Q()&&O())}),z(()=>(e(r),L(Q()),L(O()),L(U())),()=>{u(l,e(r)?ma.generateBetCards(Q(),O(),!0,U()):[])}),z(()=>(e(r),L(Q()),L(O()),e(l),gi),()=>{e(r)&&Q()&&O()&&e(l).length>0&&gi.trackBettingAnalysis(Q().name,O().name)}),z(()=>(e(l),Te),()=>{u(y,A(e(l),Te.MONEYLINE))}),z(()=>(e(l),Te),()=>{u(h,A(e(l),Te.VICTORY_METHOD))}),z(()=>(e(l),Te),()=>{u(R,A(e(l),Te.WINNER_AND_METHOD))}),z(()=>(e(l),Te),()=>{u(I,A(e(l),Te.DURATION))}),z(()=>(e(l),Te),()=>{u(Y,A(e(l),Te.GOES_TO_DECISION))}),z(()=>(e(l),Te),()=>{u(w,A(e(l),Te.GONE_IN_60))}),z(()=>(e(l),Te),()=>{u(X,A(e(l),Te.FIGHT_PROPS))}),z(()=>(e(l),Te),()=>{u(q,A(e(l),Te.KEY_FACTORS))}),z(()=>(e(l),Te),()=>{u($,A(e(l),Te.TRENDS))}),z(()=>(e(l),Te),()=>{u(oe,A(e(l),Te.NO_PREDICTION))}),z(()=>(e(y),e(h),e(R),e(I),e(Y),e(w)),()=>{u(Z,e(y).length+e(h).length+e(R).length+e(I).length+e(Y).length+e(w).length)}),z(()=>e(Z),()=>{u(we,e(Z)>0)}),z(()=>e(we),()=>{u(G,e(we)?0:1)}),z(()=>(e(X),e(q),e($)),()=>{u(_,e(X).length+e(q).length+e($).length)}),z(()=>(e(Z),e(G),e(_)),()=>{u(E,e(Z)+e(G)+e(_))}),z(()=>d(),()=>{d()!==He&&He&&window.location.reload()}),z(()=>e(r),()=>{u(K,e(r))}),Ti(),wi();var Ue=oi(),F=We(Ue);{var de=Me=>{var Be=Na(),N=a(Be),ae=a(N),Fe=a(ae),Ke=a(Fe);it(Ke,{size:32});var qe=c(Fe),$e=c(ae,4),Ne=a($e),se=c(N,2),ce=a(se),Ge=a(ce),Ae=a(Ge),Ee=c(Ge,2),me=a(Ee),Se=c(Ee,2),re=a(Se),J=c(ce,4),ve=a(J),Ve=a(ve),je=c(ve,2),Xe=a(je),ze=c(je,2),ni=a(ze),Ze=c(se,2);{var ri=T=>{var o=ba(),D=a(o),P=a(D),j=c(D,2),S=a(j),x=c(S,2);V(B=>{g(P,`${B??""}:`),Ie(S,1,`rounds-btn ${U()===3?"active":""}`,"svelte-1v78qb8"),Ie(x,1,`rounds-btn ${U()===5?"active":""}`,"svelte-1v78qb8")},[()=>(i(),n(()=>i()("fight_radar.scheduled_rounds")))]),Oe("click",S,()=>W(3)),Oe("click",x,()=>W(5)),m(T,o)};ie(Ze,T=>{e(Z)>0&&T(ri)})}var M=c(Ze,2);let le;var Pe=a(M);ii(Pe,1,()=>e(oe),si,(T,o)=>{var D=ya(),P=a(D),j=a(P);Ki(j,{size:16,style:"display: inline; margin-right: 0.25rem;"});var S=c(j),x=c(P,2),B=a(x),ne=a(B),_e=c(B,2),ke=a(_e),ue=c(x,2),ge=a(ue);V((he,xe,ye,fe)=>{g(S,` ${he??""}`),g(ne,xe),g(ke,ye),g(ge,fe)},[()=>(i(),e(o),n(()=>i()(e(o).titleKey))),()=>(e(o),i(),n(()=>e(o).predictionKey?i()(e(o).predictionKey):e(o).prediction)),()=>(i(),n(()=>i()("combat_analysis.confidence_threshold"))),()=>(i(),e(o),n(()=>i()(e(o).reasoningKey,{values:e(o).metadata||{}})))]),m(T,D)});var Je=c(Pe,2);ii(Je,1,()=>e(y),si,(T,o)=>{var D=Ta(),P=a(D),j=a(P),S=c(P,2),x=a(S),B=a(x),ne=c(x,2),_e=a(ne),ke=c(S,2),ue=a(ke);V((ge,he,xe,ye)=>{Ie(D,1,`bet-card moneyline ${ge??""}`,"svelte-1v78qb8"),g(j,he),g(B,(e(o),n(()=>e(o).prediction))),g(_e,`${e(o),n(()=>e(o).confidence)??""}% ${xe??""}`),g(ue,ye)},[()=>(e(o),n(()=>De(e(o).confidenceLevel))),()=>(i(),e(o),n(()=>i()(e(o).titleKey))),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(o),n(()=>i()(e(o).reasoningKey)))]),m(T,D)});var ei=c(Je,2);ii(ei,1,()=>e(h),si,(T,o)=>{var D=wa(),P=a(D),j=a(P),S=c(P,2),x=a(S),B=a(x),ne=c(x,2),_e=a(ne),ke=c(S,2),ue=a(ke);V((ge,he,xe,ye,fe)=>{Ie(D,1,`bet-card method-victory ${ge??""}`,"svelte-1v78qb8"),g(j,he),g(B,xe),g(_e,`${e(o),n(()=>e(o).confidence)??""}% ${ye??""}`),g(ue,fe)},[()=>(e(o),n(()=>De(e(o).confidenceLevel))),()=>(i(),e(o),n(()=>i()(e(o).titleKey))),()=>(e(o),i(),n(()=>e(o).predictionKey?i()(e(o).predictionKey):e(o).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(o),n(()=>i()(e(o).reasoningKey)))]),m(T,D)});var li=c(ei,2);ii(li,1,()=>e(R),si,(T,o)=>{var D=Da(),P=a(D),j=a(P),S=c(P,2),x=a(S),B=a(x),ne=c(x,2),_e=a(ne),ke=c(S,2),ue=a(ke);V((ge,he,xe,ye,fe)=>{Ie(D,1,`bet-card winner-and-method ${ge??""}`,"svelte-1v78qb8"),g(j,he),g(B,`${e(o),n(()=>e(o).prediction)??""}
              ${xe??""}`),g(_e,`${e(o),n(()=>e(o).confidence)??""}% ${ye??""}`),g(ue,fe)},[()=>(e(o),n(()=>De(e(o).confidenceLevel))),()=>(i(),e(o),n(()=>i()(e(o).titleKey))),()=>(e(o),i(),n(()=>e(o).predictionKey?i()(e(o).predictionKey):"")),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(o),n(()=>i()(e(o).reasoningKey)))]),m(T,D)});var hi=c(li,2);ii(hi,1,()=>e(I),si,(T,o)=>{var D=Fa(),P=a(D),j=a(P),S=c(P,2),x=a(S),B=a(x),ne=c(x,2),_e=a(ne),ke=c(S,2),ue=a(ke),ge=c(ke,2);{var he=ye=>{var fe=ka(),Qe=a(fe);V(ti=>g(Qe,ti),[()=>(i(),e(o),n(()=>i()(e(o).explanationKey)))]),m(ye,fe)},xe=ye=>{var fe=oi(),Qe=We(fe);{var ti=ai=>{var di=Ra(),ui=a(di);V(()=>g(ui,(e(o),n(()=>e(o).explanation)))),m(ai,di)};ie(Qe,ai=>{e(o),n(()=>e(o).explanation)&&ai(ti)},!0)}m(ye,fe)};ie(ge,ye=>{e(o),n(()=>e(o).explanationKey)?ye(he):ye(xe,!1)})}V((ye,fe,Qe,ti,ai)=>{Ie(D,1,`bet-card total-rounds ${ye??""}`,"svelte-1v78qb8"),g(j,fe),g(B,Qe),g(_e,`${e(o),n(()=>e(o).confidence)??""}% ${ti??""}`),g(ue,ai)},[()=>(e(o),n(()=>De(e(o).confidenceLevel))),()=>(i(),e(o),n(()=>i()(e(o).titleKey))),()=>(e(o),i(),n(()=>e(o).predictionKey?i()(e(o).predictionKey):e(o).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(o),n(()=>i()(e(o).reasoningKey)))]),m(T,D)});var v=c(hi,2);ii(v,1,()=>e(Y),si,(T,o)=>{var D=xa(),P=a(D),j=a(P),S=c(P,2),x=a(S),B=a(x),ne=c(x,2),_e=a(ne),ke=c(S,2),ue=a(ke);V((ge,he,xe,ye,fe)=>{Ie(D,1,`bet-card decision-type ${ge??""}`,"svelte-1v78qb8"),g(j,he),g(B,xe),g(_e,`${e(o),n(()=>e(o).confidence)??""}% ${ye??""}`),g(ue,fe)},[()=>(e(o),n(()=>De(e(o).confidenceLevel))),()=>(i(),e(o),n(()=>i()(e(o).titleKey))),()=>(e(o),i(),n(()=>e(o).predictionKey?i()(e(o).predictionKey):e(o).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(o),n(()=>i()(e(o).reasoningKey)))]),m(T,D)});var p=c(v,2);ii(p,1,()=>e(w),si,(T,o)=>{var D=Ma(),P=a(D),j=a(P),S=c(P,2),x=a(S),B=a(x),ne=c(x,2),_e=a(ne),ke=c(S,2),ue=a(ke);V((ge,he,xe,ye,fe)=>{Ie(D,1,`bet-card gone-in-60 ${ge??""}`,"svelte-1v78qb8"),g(j,he),g(B,xe),g(_e,`${e(o),n(()=>e(o).confidence)??""}% ${ye??""}`),g(ue,fe)},[()=>(e(o),n(()=>De(e(o).confidenceLevel))),()=>(i(),e(o),n(()=>i()(e(o).titleKey))),()=>(e(o),i(),n(()=>e(o).predictionKey?i()(e(o).predictionKey):e(o).prediction)),()=>(i(),n(()=>i()("combat_analysis.probability"))),()=>(i(),e(o),n(()=>i()(e(o).reasoningKey)))]),m(T,D)});var k=c(p,2);ii(k,1,()=>e(X),si,(T,o)=>{var D=Ka(),P=a(D),j=a(P);et(j,{size:16,style:"display: inline; margin-right: 0.25rem;"});var S=c(j),x=c(P,2),B=a(x),ne=a(B),_e=c(B,2),ke=a(_e),ue=c(x,2),ge=a(ue),he=c(ue,2);{var xe=fe=>{var Qe=Sa(),ti=a(Qe);V(ai=>g(ti,ai),[()=>(i(),e(o),n(()=>i()(e(o).explanationKey)))]),m(fe,Qe)},ye=fe=>{var Qe=oi(),ti=We(Qe);{var ai=di=>{var ui=Ca(),ki=a(ui);V(()=>g(ki,(e(o),n(()=>e(o).explanation)))),m(di,ui)};ie(ti,di=>{e(o),n(()=>e(o).explanation)&&di(ai)},!0)}m(fe,Qe)};ie(he,fe=>{e(o),n(()=>e(o).explanationKey)?fe(xe):fe(ye,!1)})}V((fe,Qe,ti,ai,di)=>{g(S,` ${fe??""}`),g(ne,Qe),g(ke,`${ti??""}: ${ai??""}`),g(ge,di)},[()=>(i(),e(o),n(()=>i()(e(o).titleKey))),()=>(e(o),i(),n(()=>e(o).predictionKey?i()(e(o).predictionKey):e(o).prediction)),()=>(i(),n(()=>i()("combat_analysis.value"))),()=>(e(o),i(),n(()=>e(o).metadata?.valueKey?i()(e(o).metadata.valueKey):e(o).metadata?.value||"N/A")),()=>(i(),e(o),n(()=>i()(e(o).reasoningKey)))]),m(T,D)});var ee=c(k,2);ii(ee,1,()=>e(q),si,(T,o)=>{var D=La(),P=a(D),j=a(P),S=c(P,2);ii(S,5,()=>(e(o),n(()=>e(o).metadata?.factors||[])),si,(x,B)=>{var ne=Pa(),_e=a(ne),ke=a(_e),ue=c(_e,2),ge=a(ue);V(he=>{g(ke,he),g(ge,(e(B),n(()=>e(B).value)))},[()=>(i(),e(B),n(()=>i()(e(B).label)))]),m(x,ne)}),V(x=>g(j,x),[()=>(i(),e(o),n(()=>i()(e(o).titleKey)))]),m(T,D)});var be=c(ee,2);ii(be,1,()=>e($),si,(T,o)=>{var D=Ba(),P=a(D),j=a(P),S=c(P,2);ii(S,5,()=>(e(o),n(()=>e(o).metadata?.trends||[])),si,(x,B)=>{var ne=Oa(),_e=a(ne);{var ke=ge=>{var he=pi();V(xe=>g(he,xe),[()=>(i(),e(B),n(()=>i()(e(B).textKey,{values:e(B).params||{}})))]),m(ge,he)},ue=ge=>{var he=pi();V(()=>g(he,(e(B),n(()=>e(B).text)))),m(ge,he)};ie(_e,ge=>{e(B),n(()=>e(B).textKey)?ge(ke):ge(ue,!1)})}V(()=>Ie(ne,1,`trend-item ${e(B),n(()=>e(B).type)??""}`,"svelte-1v78qb8")),m(x,ne)}),V(x=>g(j,x),[()=>(i(),e(o),n(()=>i()(e(o).titleKey)))]),m(T,D)});var Re=c(M,2),Le=a(Re),Ce=a(Le);V((T,o,D,P)=>{g(qe,` ${T??""}`),g(Ne,o),g(Ae,(L(Q()),n(()=>Q().name))),g(me,`${L(Q()),n(()=>Q().rawData.win)??""}-${L(Q()),n(()=>Q().rawData.loss)??""}-${L(Q()),n(()=>Q().rawData.draws)??""}`),g(re,(L(Q()),n(()=>Q().archetype.archetypeEmojis))),g(Ve,(L(O()),n(()=>O().name))),g(Xe,`${L(O()),n(()=>O().rawData.win)??""}-${L(O()),n(()=>O().rawData.loss)??""}-${L(O()),n(()=>O().rawData.draws)??""}`),g(ni,(L(O()),n(()=>O().archetype.archetypeEmojis))),le=Ie(M,1,"betting-grid svelte-1v78qb8",null,le,D),g(Ce,`* ${P??""}`)},[()=>(i(),n(()=>i()("combat_analysis.fight_analysis"))),()=>(i(),n(()=>i()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(E)<=3}),()=>(i(),n(()=>i()("combat_analysis.disclaimer")))]),m(Me,Be)};ie(F,Me=>{e(K)&&Me(de)})}m(H,Ue),Di(),f()}var Wa=C('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),$a=C('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Aa=C('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Va=C('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),Ia=C('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Ha=C('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),qa=C('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Ga=C('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Ua=C('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function ja(H,t){yi(t,!1);const s=b(),f=b(),d=b(),i=b();let r=Ye(t,"channelId",8),l=b([]),y=b(!0),h=b(null),R=b(0),I=b(!1),Y=b(null),w=b(!0);function X(){e(l).length!==0&&(u(w,!0),Vi(R),e(R)>=e(l).length*2&&setTimeout(()=>{u(w,!1),u(R,e(l).length),setTimeout(()=>{u(w,!0)},50)},400))}function q(){e(l).length!==0&&(u(w,!0),Vi(R,-1),e(R)<e(l).length&&setTimeout(()=>{u(w,!1),u(R,e(l).length*2-1),setTimeout(()=>{u(w,!0)},50)},400))}function $(F){u(Y,F)}let oe=0,Z=0,we=0,G=!1,_=!1,E=b(0),K=0;const te=40;function Q(F){e(I)&&(oe=F.touches[0].clientX,Z=F.touches[0].clientY,we=oe,G=!0,_=!1,u(w,!1),K=e(R),u(E,0))}function O(F){if(!e(I)||!G)return;const de=F.touches[0].clientX,Me=F.touches[0].clientY,Be=Math.abs(de-oe),N=Math.abs(Me-Z);if(!_)if(Be>te&&Be>N)_=!0;else if(N>Be&&N>10){G=!1,_=!1,u(w,!0),u(E,0);return}else return;if(_){we=de;const ae=we-oe,Fe=F.currentTarget instanceof HTMLElement?F.currentTarget.clientWidth:window.innerWidth;u(E,-(ae/Fe)*100),F.preventDefault()}}function U(){if(!e(I)||!G)return;G=!1,_=!1,u(w,!0);const F=oe-we;Math.abs(F)>50?F>0?u(R,K+1):u(R,K-1):Math.abs(e(E))>40?u(R,K+(e(E)>0?1:-1)):u(R,K),e(R)>=e(l).length*2?setTimeout(()=>{u(w,!1),u(R,e(l).length),setTimeout(()=>{u(w,!0)},50)},400):e(R)<e(l).length&&setTimeout(()=>{u(w,!1),u(R,e(l).length*2-1),setTimeout(()=>{u(w,!0)},50)},400),u(E,0),oe=0,Z=0,we=0}function W(){const F=window.innerWidth;u(I,F<768)}tt(()=>(W(),window.addEventListener("resize",W),(async()=>{try{const F=await At.fetchVideosByChannelId(r(),!0);F.length===0?u(h,"No se encontraron videos para este canal"):(u(l,F),console.log(`Loaded ${e(l).length} videos from channel ${r()}`))}catch(F){console.error("Error fetching videos:",F),u(h,"Error al cargar los videos")}finally{u(y,!1)}})(),()=>{window.removeEventListener("resize",W)})),z(()=>e(I),()=>{u(s,e(I)?1:window.innerWidth>=1024?4:3)}),z(()=>(e(I),e(s)),()=>{u(f,e(I)?80:100/e(s))}),z(()=>e(I),()=>{u(d,e(I)?10:0)}),z(()=>e(l),()=>{u(i,e(l).length>0?[...e(l).map((F,de)=>({...F,_key:`prev-${de}`})),...e(l).map((F,de)=>({...F,_key:`curr-${de}`})),...e(l).map((F,de)=>({...F,_key:`next-${de}`}))]:[])}),z(()=>(e(l),e(R)),()=>{e(l).length>0&&e(R)===0&&u(R,e(l).length)}),Ti(),wi();var A=Ua(),De=a(A);{var He=F=>{var de=Wa();m(F,de)},Ue=F=>{var de=oi(),Me=We(de);{var Be=ae=>{var Fe=$a(),Ke=a(Fe),qe=a(Ke);V(()=>g(qe,e(h))),m(ae,Fe)},N=ae=>{var Fe=oi(),Ke=We(Fe);{var qe=$e=>{var Ne=Ga(),se=a(Ne);{var ce=re=>{var J=Aa();Oe("click",J,q),m(re,J)};ie(se,re=>{e(l),n(()=>e(l).length>1)&&re(ce)})}var Ge=c(se,2),Ae=a(Ge);let Ee;ii(Ae,5,()=>e(i),re=>re._key,(re,J)=>{var ve=Ha(),Ve=a(ve);{var je=M=>{var le=Va(),Pe=a(le);V(()=>{pe(Pe,"src",`${e(J),n(()=>e(J).embedUrl)??""}?autoplay=1`),pe(Pe,"title",(e(J),n(()=>e(J).title)))}),m(M,le)},Xe=M=>{var le=Ia(),Pe=a(le);V(()=>{pe(le,"aria-label",`Reproducir ${e(J),n(()=>e(J).title)??""}`),pe(Pe,"src",(e(J),n(()=>e(J).thumbnailUrl))),pe(Pe,"alt",(e(J),n(()=>e(J).title)))}),Oe("click",le,()=>$(e(J)._key)),m(M,le)};ie(Ve,M=>{e(Y),e(J),n(()=>e(Y)===e(J)._key)?M(je):M(Xe,!1)})}var ze=c(Ve,2),ni=a(ze),Ze=a(ni),ri=a(Ze);V(()=>{bi(ve,`flex: 0 0 ${e(I)?"80%":100/e(s)+"%"}`),pe(ni,"href",(e(J),n(()=>e(J).watchUrl))),g(ri,(e(J),n(()=>e(J).title)))}),m(re,ve)});var me=c(Ge,2);{var Se=re=>{var J=qa();Oe("click",J,X),m(re,J)};ie(me,re=>{e(l),n(()=>e(l).length>1)&&re(Se)})}V(re=>{Ee=Ie(Ae,1,"videos-track svelte-18xx8u1",null,Ee,re),bi(Ae,`transform: translateX(-${e(R)*e(f)-e(d)+e(E)}%)`)},[()=>({"no-transition":!e(w)})]),Oe("touchstart",Ne,Q),Oe("touchmove",Ne,O),Oe("touchend",Ne,U),m($e,Ne)};ie(Ke,$e=>{e(l),n(()=>e(l).length>0)&&$e(qe)},!0)}m(ae,Fe)};ie(Me,ae=>{e(h)?ae(Be):ae(N,!1)},!0)}m(F,de)};ie(De,F=>{e(y)?F(He):F(Ue,!1)})}m(H,A),Di()}var za=C('<div class="loading svelte-1ibyju2" id="loading"><div class="loading-content svelte-1ibyju2"><div class="spinner svelte-1ibyju2"></div> <p class="svelte-1ibyju2"> </p></div></div>'),Ya=C('<button class="share-fight-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1ibyju2"></path></svg> </button>'),Qa=C('<div class="action-buttons-section svelte-1ibyju2"><!> <button class="clear-radars-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1ibyju2"></path></svg> </button></div>'),Xa=C('<div class="controls svelte-1ibyju2"><div class="fighter-selectors svelte-1ibyju2"><div class="control-group svelte-1ibyju2"><label for="fighter1-select" class="svelte-1ibyju2"> </label> <div id="fighter1-container-select" class="svelte-1ibyju2"><!></div></div> <div class="vs-divider svelte-1ibyju2">VS</div> <div class="control-group svelte-1ibyju2"><label for="fighter2-select" class="svelte-1ibyju2"> </label> <div id="fighter2-container-select" class="svelte-1ibyju2"><!></div></div></div> <!></div>'),Za=C('<div class="division-disclaimer svelte-1ibyju2"><div class="disclaimer-title svelte-1ibyju2"><!> <strong class="svelte-1ibyju2"> </strong></div> <div class="disclaimer-text svelte-1ibyju2"> </div></div>'),Ja=C('<div class="fighter-info svelte-1ibyju2"><div id="fighter1-container" class="svelte-1ibyju2"><!></div> <div id="fighter2-container" class="svelte-1ibyju2"><!></div></div>'),es=C('<div class="radar-container svelte-1ibyju2"><div id="fight-radar-container" class="svelte-1ibyju2"><!></div> <div id="iq-radar-container" class="svelte-1ibyju2"><!></div></div>'),is=C('<hr class="section-divider svelte-1ibyju2"/> <!> <div class="view-calendar-link svelte-1ibyju2"><button class="calendar-link-btn svelte-1ibyju2"> </button></div>',1),ts=C('<hr class="section-divider svelte-1ibyju2"/> <!>',1),as=C('<div class="fight-radar-app svelte-1ibyju2"><div class="container svelte-1ibyju2"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function us(H,t){yi(t,!1);const[s,f]=xi(),d=()=>fi(te,"$urlSearchParams",s),i=()=>fi(Mi,"$_",s),r=b(),l=b(),y=b(),h=b(),R=b(),I=b(),Y=b(),w=b(),X=b(),q=b(),$=b(),oe=b();let Z=Ye(t,"isDarkMode",8,!0),we=Ye(t,"toggleTheme",8,()=>{}),G=b(new Map),_=b(new Map),E=b([]),K=b(new Map);const te=Bt(vi());function Q(v,p){const k=`fighter${p}`;_i({[k]:v}),te.set(vi())}function O(v){_i({rounds:v.toString()}),te.set(vi())}let U=b(!1),W=b(!1),A=b(!1),De=b(!1),He=b(!1),Ue=b(!1),F=b(!1),de=b(!1),Me=!1;tt(()=>{window.Highcharts=Nt,te.set(vi());const v=Vt(()=>{te.set(vi())});return Be(),v});async function Be(){try{u(U,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:p,processedFightersMap:k,processedFighters:ee}=await Ht.loadFightersFromCSV();u(G,v),u(K,p),u(_,k),u(E,ee),u(W,!0)}catch(v){console.error("Error loading data:",v)}finally{u(U,!1)}}function N(v=[]){return v.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:ae(p)}))}function ae(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:Fe(v.division)?"no_photo_female.png":"no_photo_male.png"}function Fe(v){return!!(v&&v.startsWith("W_"))}function Ke(v){if(Q(v,1),!(!Me&&d().has("rounds"))){const k=e(G).get(v),ee=e(l)?e(G).get(e(l)):null;k&&k.division_ranking==="0"||ee&&ee.division_ranking==="0"?O(5):(_i({rounds:""}),te.set(vi()))}Me=!0,v&&!e(l)&&(u(de,!1),setTimeout(()=>{u(de,!0),setTimeout(()=>{u(de,!1)},50)},100))}function qe(v){if(Q(v,2),!d().has("rounds")){const k=e(r)?e(G).get(e(r)):null,ee=e(G).get(v);k&&k.division_ranking==="0"||ee&&ee.division_ranking==="0"?O(5):(_i({rounds:""}),te.set(vi()))}v&&!e(r)&&(u(F,!1),setTimeout(()=>{u(F,!0),setTimeout(()=>{u(F,!1)},50)},100))}function $e(v){u(He,v)}function Ne(v){u(Ue,v)}function se(){gi.trackCleanRadars(),_i({fighter1:"",fighter2:"",rounds:""}),te.set(vi())}function ce(){if(!e(r)||!e(l))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";gi.trackFightShare(e(r),e(l),v);const p=It("/",{fighter1:e(r),fighter2:e(l)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(r)} vs ${e(l)} - Fight-Radar`,text:`Compara las estadsticas de ${e(r)} vs ${e(l)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Ge("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Ge(v){const p=document.createElement("div");p.className="notification",p.textContent=v,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function Ae(v,p,k){const ee=[];return v&&ee.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&ee.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&ee.push({name:k.name,data:[k.fightRadar.STR_OFF,k.fightRadar.STR_DEF,k.fightRadar.TD_OFF,k.fightRadar.TD_DEF,k.fightRadar.CTRL,k.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ee}function Ee(v,p,k){const ee=[];return v&&ee.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&ee.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&ee.push({name:k.name,data:[k.iqRadar.distance,k.iqRadar.adaptability,k.iqRadar.composure,k.iqRadar.decisions,k.iqRadar.rhythm,k.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ee}function me(v){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[k,ee,be]=v.combinedRole.split("+")??["AT"];let Re=[[k,100]];if(ee&&be?Re=[[k,33],[ee,34],[be,33]]:ee?Re=[[k,50],[ee,50]]:be&&(Re=[[k,60],[be,40]]),Re.length===1){const[Le,Ce]=Re[0],T=Math.min(Ce,70);return`linear-gradient(135deg, ${p[Le]} 0%, ${p[Le]} ${T}%, var(--card-bg) 100%)`}else{const Le=Re.reduce((D,[,P])=>D+P,0);let Ce=[],T=0;return Re.forEach(([D,P],j)=>{const S=P/Le*85,x=p[D];j===0&&Ce.push(`${x} ${T}%`),T+=S,j===Re.length-1?(Ce.push(`${x} ${T}%`),Ce.push("var(--card-bg) 100%")):Ce.push(`${x} ${T}%`)}),`linear-gradient(135deg, ${Ce.join(", ")})`}}z(()=>d(),()=>{u(r,d().get("fighter1")||"")}),z(()=>d(),()=>{u(l,d().get("fighter2")||"")}),z(()=>d(),()=>{u(y,d().get("rounds")==="5"?5:3)}),z(()=>(e(He),e(Ue)),()=>{u(h,e(He)||e(Ue))}),z(()=>(e(E),e(l)),()=>{u(R,N(e(E)).filter(v=>v.value!==e(l)))}),z(()=>(e(E),e(r)),()=>{u(I,N(e(E)).filter(v=>v.value!==e(r)))}),z(()=>(e(r),e(l),e(G),e(K),qi),()=>{u(Y,(()=>{if(!e(r)||!e(l))return null;const v=e(G).get(e(r)),p=e(G).get(e(l));if(!v||!p)return null;if(v.Division===p.Division){const k=v.Division;if(e(K).has(k))return qi(k,e(K).get(k))}return null})())}),z(()=>(e(r),e(_)),()=>{u(w,e(r)?e(_).get(e(r))??null:null)}),z(()=>(e(l),e(_)),()=>{u(X,e(l)?e(_).get(e(l))??null:null)}),z(()=>(e(Y),e(r),e(l),e(G),e(K),Gi),()=>{u(q,(()=>{if(!e(Y)||!e(r)||!e(l))return null;const v=e(G).get(e(r));return!v||!e(K).has(v.Division)?null:Gi(e(Y),e(K).get(v.Division))})())}),z(()=>(e(w),e(X),e(q)),()=>{u($,Ae(e(w)??null,e(X)??null,e(q)??null))}),z(()=>(e(w),e(X),e(q)),()=>{u(oe,Ee(e(w),e(X),e(q)))}),z(()=>(e(U),e(G),e(r),e(l),gi),()=>{const v=!e(U)&&e(G).size>0&&e(G).has(e(r))&&e(G).has(e(l));u(A,!!(e(r)&&e(l)&&v)),u(De,!!(e(r)&&e(l)&&v)),e(r)&&e(l)&&v&&gi.trackFighterComparison(e(r),e(l))}),Ti(),wi();var Se=as(),re=a(Se),J=a(re);Et(J,{showThemeToggle:!0,get isDarkMode(){return Z()},get toggleTheme(){return we()}});var ve=c(J,2);{var Ve=v=>{var p=za(),k=a(p),ee=c(a(k),2),be=a(ee);V(Re=>g(be,Re),[()=>(i(),n(()=>i()("fight_radar.loading_data")))]),m(v,p)};ie(ve,v=>{e(U)&&v(Ve)})}var je=c(ve,2);{var Xe=v=>{var p=Xa(),k=a(p),ee=a(k),be=a(ee),Re=a(be),Le=c(be,2),Ce=a(Le);{let B=Ri(()=>(i(),n(()=>i()("common.select_fighter"))));Xi(Ce,{id:"fighter1-select",get placeholder(){return e(B)},disabled:!1,get options(){return e(R)},get selectedValue(){return e(r)},onSelectionChange:Ke,onOpenStateChange:$e,get shouldOpen(){return e(F)}})}var T=c(ee,4),o=a(T),D=a(o),P=c(o,2),j=a(P);{let B=Ri(()=>(i(),n(()=>i()("common.select_fighter"))));Xi(j,{id:"fighter2-select",get placeholder(){return e(B)},disabled:!1,get options(){return e(I)},get selectedValue(){return e(l)},onSelectionChange:qe,onOpenStateChange:Ne,get shouldOpen(){return e(de)}})}var S=c(k,2);{var x=B=>{var ne=Qa(),_e=a(ne);{var ke=he=>{var xe=Ya(),ye=c(a(xe));V(fe=>g(ye,` ${fe??""}`),[()=>(i(),n(()=>i()("fight_radar.share_fight")))]),Oe("click",xe,ce),m(he,xe)};ie(_e,he=>{e(r)&&e(l)&&he(ke)})}var ue=c(_e,2),ge=c(a(ue));V(he=>g(ge,` ${he??""}`),[()=>(i(),n(()=>i()("fight_radar.clear_radars")))]),Oe("click",ue,se),m(B,ne)};ie(S,B=>{(e(r)||e(l))&&B(x)})}V((B,ne)=>{g(Re,`${B??""}:`),g(D,`${ne??""}:`)},[()=>(i(),n(()=>i()("common.fighter_1"))),()=>(i(),n(()=>i()("common.fighter_2")))]),m(v,p)};ie(je,v=>{e(W)&&v(Xe)})}var ze=c(je,2);{var ni=v=>{var p=oi(),k=We(p);{var ee=be=>{var Re=Za(),Le=a(Re),Ce=a(Le);Ki(Ce,{size:20,class:"disclaimer-icon"});var T=c(Ce,2),o=a(T),D=c(Le,2),P=a(D);V((j,S)=>{g(o,j),g(P,S)},[()=>(i(),n(()=>i()("fight_radar.cross_division_title"))),()=>(i(),L(mi),e(w),e(X),n(()=>i()("fight_radar.cross_division_text",{values:{division1:mi(e(w).rawData.Division),division2:mi(e(X).rawData.Division)}})))]),m(be,Re)};ie(k,be=>{e(w),e(X),n(()=>e(w)?.rawData&&e(X)?.rawData&&e(w).rawData.Division!==e(X).rawData.Division)&&be(ee)})}m(v,p)};ie(ze,v=>{e(r)&&e(l)&&e(A)&&v(ni)})}var Ze=c(ze,2);{var ri=v=>{var p=Ja(),k=a(p),ee=a(k);Zi(ee,{get fighter(){return e(w)},id:"fighter1-info"});var be=c(k,2),Re=a(be);Zi(Re,{get fighter(){return e(X)},id:"fighter2-info"}),V((Le,Ce)=>{bi(k,`background: ${Le??""}`),bi(be,`background: ${Ce??""}`)},[()=>(e(w),n(()=>e(w)?me(e(w).archetype):"var(--card-bg)")),()=>(e(X),n(()=>e(X)?me(e(X).archetype):"var(--card-bg)"))]),m(v,p)};ie(Ze,v=>{e(A)&&v(ri)})}var M=c(Ze,2);{var le=v=>{var p=es(),k=a(p),ee=a(k);Ii(ee,()=>(e(r),e(l),e($),n(()=>`${e(r)}-${e(l)}-${e($).length}`)),Le=>{{let Ce=Ri(()=>(L(Ui),n(Ui)));zi(Le,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(Ce)},get series(){return e($)},isIQRadar:!1})}});var be=c(k,2),Re=a(be);Ii(Re,()=>(e(r),e(l),e(oe),n(()=>`${e(r)}-${e(l)}-${e(oe).length}`)),Le=>{{let Ce=Ri(()=>(L(ji),n(ji)));zi(Le,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(Ce)},get series(){return e(oe)},isIQRadar:!0})}}),m(v,p)};ie(M,v=>{e(De),e($),n(()=>e(De)&&e($).length>0)&&v(le)})}var Pe=c(M,2);Ea(Pe,{get fighter1(){return e(w)},get fighter2(){return e(X)},get scheduledRounds(){return e(y)},$$events:{roundsChanged:v=>O(v.detail)}});var Je=c(Pe,2);{var ei=v=>{var p=is(),k=c(We(p),2);Wt(k,{limit:2});var ee=c(k,2),be=a(ee),Re=a(be);V(Le=>g(Re,`${Le??""} `),[()=>(i(),n(()=>i()("banner.view_calendar")))]),Oe("click",be,()=>at("/calendar")),m(v,p)};ie(Je,v=>{!e(r)&&!e(l)&&!e(h)&&v(ei)})}var li=c(re,2);{var hi=v=>{var p=ts(),k=c(We(p),2);ja(k,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),m(v,p)};ie(li,v=>{!e(r)&&!e(l)&&!e(h)&&v(hi)})}m(H,Se),Di(),f()}export{us as default};
