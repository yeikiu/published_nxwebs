import{q as ra,p as Pe,l as K,C as u,z as w,r as R,A as e,h as _a,j as na,f as k,m as Ie,$ as Da,i as Z,c as t,u as o,S as xa,t as E,B as oe,s as je,b as f,o as oa,I as la,n as Ke,x as r,y as _,J as ta,T as it,k as Xe,D as Be,E as Ve,Q as Fa,U as st,V as fa,W as rt,Y as Ia,Z as Pa,_ as ba,a as nt,a0 as ot,w as lt,F as vt,K as da,a1 as Ra}from"./lucide-qo0zz29p.js";import{H as dt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as ct}from"./Header-BZL-uv97.js";import{$ as va,n as Oa,A as ia,a as _t,g as sa,b as ht,u as ka,c as pt}from"./index-CWfA44vS.js";import{c as pa,g as Sa,f as ga,a as Ca,b as ua,d as Na,e as Ta}from"./helpers-CNMqW44f.js";import{R as gt,a as $a}from"./RadarChart-BgjK_JxU.js";import{F as ut}from"./FindYoutubeHighlights-BjVKCwb_.js";import"./highcharts-DyRVWUji.js";var mt=k('<img class="svelte-gkl5a1"/>'),ft=k('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),bt=k("<!> <span> </span>",1),yt=k("<span> </span>"),wt=k('<img class="svelte-gkl5a1"/>'),Dt=k('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),xt=k('<button type="button"><!> <span> </span></button>'),Ft=k('<div class="no-results svelte-gkl5a1"> </div>'),Rt=k('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),kt=k('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Ka(z,a){ra(a,!1);const[i,d]=la(),v=()=>ta(va,"$_",i),s=w(),c=w();let g=Pe(a,"id",8),b=Pe(a,"placeholder",8,""),p=Pe(a,"disabled",8,!0),O=Pe(a,"options",24,()=>[]),y=Pe(a,"selectedValue",12,""),D=Pe(a,"onSelectionChange",8,void 0),M=w(!1),q=w(),J=w(),X=w("");function De(){p()||(u(M,!e(M)),e(M)&&setTimeout(()=>e(J)?.focus(),0))}function V(S){y(S.value),u(X,""),u(M,!1),D()&&D()(S.value,S)}function ke(S){const le=S.target;u(X,le.value)}function I(S){S.key==="Enter"&&e(c).length>0?(V(e(c)[0]),S.preventDefault()):S.key==="Escape"&&(u(X,""),u(M,!1))}function G(S){e(q)&&!e(q).contains(S.target)&&(u(M,!1),u(X,""))}function C(S){S.key==="Escape"&&u(M,!1)}K(()=>(R(O()),R(y())),()=>{u(s,O().find(S=>S.value===y()))}),K(()=>(e(X),R(O()),pa),()=>{u(c,e(X)?O().filter(S=>pa(S.label.toLowerCase()).includes(pa(e(X).toLowerCase()))):O())}),_a(),na();var P=kt();Ie("click",Da,G),Ie("keydown",Da,C);var U=t(P);let _e;var Oe=t(U),Ae=t(Oe);{var ea=S=>{var le=bt(),Ce=Ke(le);{var pe=he=>{var be=mt();E(()=>{oe(be,"src",(e(s),r(()=>e(s).imageUrl))),oe(be,"alt",(e(s),r(()=>e(s).label)))}),f(he,be)},Le=he=>{var be=Xe(),Ue=Ke(be);{var Ge=Te=>{var ee=ft(),ge=t(ee);Fa(ge,()=>e(s).iconComponent,(Fe,Me)=>{Me(Fe,{size:16})}),f(Te,ee)};Z(Ue,Te=>{e(s),r(()=>e(s)?.iconComponent)&&Te(Ge)},!0)}f(he,be)};Z(Ce,he=>{e(s),r(()=>e(s)?.imageUrl)?he(pe):he(Le,!1)})}var xe=o(Ce,2),Ne=t(xe);E(()=>_(Ne,(e(s),r(()=>e(s).label)))),f(S,le)},Ze=S=>{var le=yt(),Ce=t(le);E(pe=>_(Ce,pe),[()=>(R(b()),v(),r(()=>b()||v()("common.select_option")))]),f(S,le)};Z(Ae,S=>{e(s)?S(ea):S(Ze,!1)})}var Se=o(Oe,2);let He;var Ee=o(U,2);{var Je=S=>{var le=Rt(),Ce=t(le),pe=t(Ce);xa(pe,ee=>u(J,ee),()=>e(J));var Le=o(Ce,2),xe=t(Le);let Ne;var he=t(xe),be=t(he),Ue=o(xe,2);{var Ge=ee=>{var ge=Xe(),Fe=Ke(ge);Be(Fe,1,()=>e(c),Ve,(Me,Y)=>{var ue=xt();let qe;var Ye=t(ue);{var Qe=x=>{var A=wt();E(()=>{oe(A,"src",(e(Y),r(()=>e(Y).imageUrl))),oe(A,"alt",(e(Y),r(()=>e(Y).label)))}),Ie("error",A,W=>{W.currentTarget.style.display="none"}),f(x,A)},l=x=>{var A=Xe(),W=Ke(A);{var ae=F=>{var H=Dt(),se=t(H);Fa(se,()=>e(Y).iconComponent,(te,T)=>{T(te,{size:16})}),f(F,H)};Z(W,F=>{e(Y),r(()=>e(Y)?.iconComponent)&&F(ae)},!0)}f(x,A)};Z(Ye,x=>{e(Y),r(()=>e(Y)?.imageUrl)?x(Qe):x(l,!1)})}var h=o(Ye,2),m=t(h);E(x=>{qe=je(ue,1,"dropdown-item svelte-gkl5a1",null,qe,x),_(m,(e(Y),r(()=>e(Y).label)))},[()=>({selected:y()===e(Y).value})]),Ie("click",ue,()=>V(e(Y))),f(Me,ue)}),f(ee,ge)},Te=ee=>{var ge=Xe(),Fe=Ke(ge);{var Me=Y=>{var ue=Ft(),qe=t(ue);E(()=>_(qe,`No se encontraron resultados para "${e(X)??""}"`)),f(Y,ue)};Z(Fe,Y=>{e(X)&&Y(Me)},!0)}f(ee,ge)};Z(Ue,ee=>{e(c),r(()=>e(c).length>0)?ee(Ge):ee(Te,!1)})}E((ee,ge,Fe)=>{oe(pe,"placeholder",ee),oe(Le,"id",`dropdown-options-${g()??""}`),Ne=je(xe,1,"dropdown-item svelte-gkl5a1",null,Ne,ge),_(be,Fe)},[()=>(v(),r(()=>v()("common.search")||"Search...")),()=>({selected:y()===""}),()=>(R(b()),v(),r(()=>b()||v()("common.select_option")))]),it(pe,()=>e(X),ee=>u(X,ee)),Ie("input",pe,ke),Ie("keydown",pe,I),Ie("click",xe,()=>V({value:"",label:b(),imageUrl:""})),f(S,le)};Z(Ee,S=>{e(M)&&S(Je)})}xa(P,S=>u(q,S),()=>e(q)),E((S,le)=>{oe(P,"id",g()),_e=je(U,1,"dropdown-button svelte-gkl5a1",null,_e,S),U.disabled=p(),oe(U,"aria-expanded",e(M)),oe(U,"aria-controls",`dropdown-options-${g()??""}`),He=je(Se,1,"dropdown-arrow svelte-gkl5a1",null,He,le)},[()=>({disabled:p(),open:e(M)}),()=>({rotated:e(M)})]),Ie("click",U,De),f(z,P),oa(),d()}function ma(z,a){if(a()){const i=`/data-center/fighter-details?fighter=${encodeURIComponent(a().nameWithNickname)}`;Oa(i)}}var St=k('<img class="fighter-image svelte-axir35"/> <div class="fighter-placeholder svelte-axir35" style="display: none;">Picture Unavailable</div>',1),Ct=k('<div class="fighter-placeholder svelte-axir35">Picture Unavailable</div>'),Nt=(z,a)=>z.key==="Enter"&&a(),Tt=k('<div class="stat-item role-disc-clickable svelte-axir35" role="button" tabindex="0"><span class="stat-label svelte-axir35">ROLE-DISC:</span> <span><div class="role-emojis svelte-axir35"> </div> <div class="role-name svelte-axir35"> </div></span></div>'),$t=k('<hr class="archetype-divider svelte-axir35"/> <div class="archetype-container svelte-axir35"><div class="archetype-section svelte-axir35"><h3 class="archetype-section-title svelte-axir35"> </h3> <div class="archetype-fields svelte-axir35"><div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value description svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value favorite-zone svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value strengths svelte-axir35"> </div></div> <div class="archetype-field svelte-axir35"><div class="archetype-field-header svelte-axir35"><span class="archetype-icon svelte-axir35"><!></span> <div class="archetype-field-label svelte-axir35"> </div></div> <div class="archetype-field-value weaknesses svelte-axir35"> </div></div></div></div></div>',1),Kt=k('<div class="fighter-header svelte-axir35"><div class="header-actions svelte-axir35"><!> <button type="button" class="fighter-detail-cta svelte-axir35" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-axir35"><div class="fighter-image-container svelte-axir35"><!></div></button></div> <button type="button" class="fighter-name-link svelte-axir35"><div class="fighter-name svelte-axir35"> </div></button> <div class="star-rating svelte-axir35"><div class="stars-container svelte-axir35"></div></div> <div class="fighter-stats svelte-axir35"><!> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value career-record svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value record svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value height svelte-axir35"> </span></div> <div class="stat-item svelte-axir35"><span class="stat-label svelte-axir35"> </span> <span class="stat-value reach svelte-axir35"> </span></div></div> <!>',1),Et=k('<div class="empty-card svelte-axir35"><div class="empty-message svelte-axir35"> </div></div>'),Mt=k('<div class="fighter-card svelte-axir35"><!></div> <!>',1);function Ea(z,a){ra(a,!1);const[i,d]=la(),v=()=>ta(va,"$_",i),s=w(),c=w(),g=w(),b=w();let p=Pe(a,"fighter",8,null),O=Pe(a,"id",8,""),y=w(!1);function D(){u(y,!0)}function M(){u(y,!1)}K(()=>v(),()=>{u(s,I=>{if(!I||!I.startsWith("@ARCHETYPE_"))return I;let G="",C="";if(I.includes("_DESCRIPTION"))G=I.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),C="description";else if(I.includes("_FAVORITE_ZONE"))G=I.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),C="favorite_zone";else if(I.includes("_STRENGTHS"))G=I.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),C="strengths";else if(I.includes("_WEAKNESSES"))G=I.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),C="weaknesses";else{const _e=I.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!_e)return I;G=_e[1],C=_e[2].toLowerCase()}const P=`archetype_data.${G}.${C}`,U=v()(P);return I.includes("_WEAKNESSES"),U!==P?U:I})}),K(()=>(R(p()),Sa),()=>{u(c,p()?Sa(p().archetype):null)}),K(()=>R(p()),()=>{u(g,p()?.rawData.height_inches?Math.floor(p().rawData.height_inches/12)+"'"+p().rawData.height_inches%12+'"':"-")}),K(()=>R(p()),()=>{u(b,p()?.rawData.reach_inches?p().rawData.reach_inches+'"':"-")}),_a(),na();var q=Mt(),J=Ke(q),X=t(J);{var De=I=>{var G=Kt(),C=Ke(G),P=t(C),U=t(P);ut(U,{get fighterFullName(){return R(p()),r(()=>p().nameWithNickname)},size:"large"});var _e=o(U,2);_e.__click=[ma,p];var Oe=t(_e);st(Oe,{size:16});var Ae=o(P,2);Ae.__click=[ma,p];var ea=t(Ae),Ze=t(ea);{var Se=F=>{var H=St(),se=Ke(H);E(()=>{oe(se,"src",(R(p()),r(()=>p().pictureUrl))),oe(se,"alt",`${R(p()),r(()=>p().name)??""} fighter profile picture`)}),Ie("error",se,te=>{te.currentTarget.style.display="none";const T=te.currentTarget.nextElementSibling;T&&(T.style.display="block")}),f(F,H)},He=F=>{var H=Ct();f(F,H)};Z(Ze,F=>{R(p()),r(()=>p().pictureUrl)?F(Se):F(He,!1)})}var Ee=o(C,2);Ee.__click=[ma,p];var Je=t(Ee),S=t(Je),le=o(Ee,2),Ce=t(le),pe=o(le,2),Le=t(pe);{var xe=F=>{var H=Tt();H.__click=D,H.__keydown=[Nt,D];var se=t(H),te=o(se,2),T=t(te),n=t(T),N=o(T,2),$=t(N);E((L,j)=>{oe(H,"aria-label",L),oe(se,"title",j),je(te,1,`stat-value role-indicator archetype-dots archetype-${e(c),r(()=>e(c).type)??""}`,"svelte-axir35"),oe(te,"title",(e(c),r(()=>e(c).tooltip))),_(n,(e(c),r(()=>e(c).label))),_($,(e(c),r(()=>e(c).name)))},[()=>(v(),r(()=>v()("role_disc_modal.open_modal_aria_label"))),()=>(v(),r(()=>v()("role_disc_modal.archetype_tooltip")))]),f(F,H)};Z(Le,F=>{e(c)&&F(xe)})}var Ne=o(Le,2),he=t(Ne),be=t(he),Ue=o(he,2),Ge=t(Ue),Te=o(Ne,2),ee=t(Te),ge=t(ee),Fe=o(ee,2),Me=t(Fe),Y=o(Te,2),ue=t(Y),qe=t(ue),Ye=o(ue,2),Qe=t(Ye),l=o(Y,2),h=t(l),m=t(h),x=o(h,2),A=t(x),W=o(pe,2);{var ae=F=>{var H=$t(),se=o(Ke(H),2),te=t(se),T=t(te),n=t(T),N=o(T,2),$=t(N),L=t($),j=t(L),B=t(j);rt(B,{size:18});var Q=o(j,2),re=t(Q),de=o(L,2),ne=t(de),ve=o($,2),me=t(ve),fe=t(me),We=t(fe);Ia(We,{size:18});var ce=o(fe,2),ie=t(ce),ye=o(me,2),$e=t(ye),Re=o(ve,2),ze=t(Re),aa=t(ze),ha=t(aa);Pa(ha,{size:18});var Aa=o(aa,2),Ha=t(Aa),La=o(ze,2),Ua=t(La),Wa=o(Re,2),ya=t(Wa),wa=t(ya),za=t(wa);ba(za,{size:18});var qa=o(wa,2),Ba=t(qa),Va=o(ya,2),ja=t(Va);E((Ga,Ya,Qa,Za,Ja,Xa,et,at,tt)=>{_(n,Ga),_(re,Ya),_(ne,Qa),_(ie,Za),_($e,Ja),_(Ha,Xa),_(Ua,et),_(Ba,at),_(ja,tt)},[()=>(v(),r(()=>v()("archetype.analysis_title"))),()=>(v(),r(()=>v()("archetype.tactical_description"))),()=>(e(s),R(p()),r(()=>e(s)(p().archetype.description))),()=>(v(),r(()=>v()("archetype.preferred_zone"))),()=>(e(s),R(p()),r(()=>e(s)(p().archetype.favoriteZone))),()=>(v(),r(()=>v()("archetype.strengths"))),()=>(e(s),R(p()),r(()=>e(s)(p().archetype.strengths))),()=>(v(),r(()=>v()("archetype.weaknesses"))),()=>(e(s),R(p()),r(()=>e(s)(p().archetype.weaknesses)))]),f(F,H)};Z(W,F=>{R(p()),r(()=>p().archetype)&&F(ae)})}E((F,H,se,te,T,n,N,$)=>{oe(_e,"aria-label",`View detailed fighter profile for ${R(p()),r(()=>p().nameWithNickname)??""}`),_(S,(R(p()),r(()=>p().name))),fa(Ce,`--fill-width: ${R(p()),r(()=>p().stars*20)??""}%`),oe(he,"title",F),_(be,`${H??""}:`),_(Ge,(R(p()),r(()=>p().career_record))),oe(ee,"title",se),_(ge,`${te??""}:`),_(Me,(R(p()),r(()=>p().record_36m))),oe(ue,"title",T),_(qe,`${n??""}:`),_(Qe,e(g)),oe(h,"title",N),_(m,`${$??""}:`),_(A,e(b))},[()=>(v(),r(()=>v()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(v(),r(()=>v()("fighter_profile.career_record"))),()=>(v(),r(()=>v()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(v(),r(()=>v()("fighter_profile.record_36m"))),()=>(v(),r(()=>v()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(v(),r(()=>v()("fighter_profile.height"))),()=>(v(),r(()=>v()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(v(),r(()=>v()("fighter_profile.reach")))]),f(I,G)},V=I=>{var G=Et(),C=t(G),P=t(C);E(U=>_(P,U),[()=>(v(),r(()=>v()("fight_radar.select_fighter_stats")))]),f(I,G)};Z(X,I=>{p()?I(De):I(V,!1)})}var ke=o(J,2);gt(ke,{get isOpen(){return e(y)},$$events:{close:M}}),E(()=>oe(J,"id",O())),f(z,q),oa(),d()}nt(["click","keydown"]);var It=k('<div class="calendar-banner svelte-12pg6ne"><div class="banner-content svelte-12pg6ne"><div class="banner-text svelte-12pg6ne"><h2 class="svelte-12pg6ne"><!> </h2> <p class="svelte-12pg6ne"> </p></div> <button class="banner-button svelte-12pg6ne"> </button></div></div>');function Pt(z,a){ra(a,!1);const[i,d]=la(),v=()=>ta(va,"$_",i);function s(){Oa("/calendar")}na();var c=It(),g=t(c),b=t(g),p=t(b),O=t(p);ot(O,{size:24,style:"display: inline; margin-right: 0.5rem;"});var y=o(O),D=o(p,2),M=t(D),q=o(b,2),J=t(q);E((X,De,V)=>{_(y,` ${X??""}`),_(M,De),_(J,V)},[()=>v()("banner.new_functionality"),()=>v()("banner.explore_calendar"),()=>v()("banner.view_calendar")]),Ie("click",q,s),f(z,c),oa(),d()}var we=(z=>(z.MAIN_PREDICTION="main_prediction",z.FINISH_METHOD="finish_method",z.DURATION="duration",z.SPECIAL_PROP="special_prop",z.KEY_FACTORS="key_factors",z.TRENDS="trends",z.NO_PREDICTION="no_prediction",z))(we||{}),ca=(z=>(z.HIGH="high",z.MEDIUM="medium",z.LOW="low",z))(ca||{});class Ot{constructor(){this.MIN_HIGH_CONFIDENCE=75,this.MIN_MEDIUM_CONFIDENCE=65,this.MIN_LOW_CONFIDENCE=50}generateBetCards(a,i){const d=[],v=this.calculateWinProbability(a,i),s=this.predictFinishMethod(a,i),c=this.predictFightDuration(a,i),g=this.generateSpecialBet(a,i),b=this.analyzeKeyFactors(a,i),p=this.analyzeTrends(a,i);return v.probability>=this.MIN_MEDIUM_CONFIDENCE&&d.push(this.createWinPredictionCard(v)),s.probability>=this.MIN_MEDIUM_CONFIDENCE&&d.push(this.createFinishMethodCard(s)),c.probability>=this.MIN_MEDIUM_CONFIDENCE&&d.push(this.createDurationCard(c)),d.push(this.createSpecialBetCard(g)),d.push(this.createKeyFactorsCard(b)),d.push(this.createTrendsCard(p)),this.hasHighConfidencePredictions(d)||d.push(this.createNoPredictionCard()),this.sortBetCardsByPriority(d)}validatePredictions(a){return a.filter(i=>i.confidence>=this.MIN_LOW_CONFIDENCE||i.type==="key_factors"||i.type==="trends"||i.type==="special_prop"||i.type==="no_prediction")}calculateWinProbability(a,i){let d=a.performance*.15+a.fightIQ*.15+a.stars*20*.7,v=i.performance*.15+i.fightIQ*.15+i.stars*20*.7;const s=this.calculateAge(a),c=this.calculateAge(i);s>=38&&(d*=1-(s-37)*.03),c>=38&&(v*=1-(c-37)*.03);const g=this.getInactiveMonths(a),b=this.getInactiveMonths(i);g>=18&&(d*=1-g*.01),b>=18&&(v*=1-b*.01);const p=this.getFightsInPeriod(a,18),O=this.getFightsInPeriod(i,18);p>=3&&(d*=1.05),O>=3&&(v*=1.05);const y=a.rawData.Number_of_Fights_36m>0?a.rawData.win/a.rawData.Number_of_Fights_36m*100:0,D=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,M=d+y*.4,q=v+D*.4,J=M+q,X=J>0?Math.round(M/J*100):50,De=J>0?Math.round(q/J*100):50;if(X>De){let V=this.getWinReasoningKey(a,i,y,D);return{winner:a,probability:X,reasoning:V,adjustedScore1:M,adjustedScore2:q}}else{let V=this.getWinReasoningKey(i,a,D,y);return{winner:i,probability:De,reasoning:V,adjustedScore1:q,adjustedScore2:M}}}predictFinishMethod(a,i){const d=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,v=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,s=Math.max((d+v)/2,0),c=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko)/a.rawData.Number_of_Fights_36m*100:0,g=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0,b=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0,p=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,O=this.hasBodyShotThreat(a,i),y=this.hasGroundControlThreat(a,i);if(s>40)if(c+g>b+p){let D=Math.round(Math.max(Math.min(s+10,75),5));return O&&(D+=5),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(D,80),reasoning:"combat_analysis.reasoning.both_knockout_history",finishRate1:d,finishRate2:v}}else{let D=Math.round(Math.max(Math.min(s,65),5));return y&&(D+=5),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(D,70),reasoning:"combat_analysis.reasoning.high_submission_probability",finishRate1:d,finishRate2:v}}else return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.round(Math.max(Math.min(100-s,95),5)),reasoning:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:d,finishRate2:v}}predictFightDuration(a,i){const d=(a.rawData.Fight_Duration_Seconds||900)/60,v=(i.rawData.Fight_Duration_Seconds||900)/60,s=Math.max((d+v)/2,1),c=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,g=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,b=c>60||g>60,p=this.hasExplosiveStyle(a,i);if(s<8&&b){let O=Math.max(Math.min(70,95),5);return p&&(O+=5),{prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Math.min(O,85),reasoning:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:s}}else return s>12?{prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:Math.max(Math.min(75,95),5),reasoning:"combat_analysis.reasoning.both_average_long_fights",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:s}:{prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:Math.max(Math.min(60,95),5),reasoning:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:s}}generateSpecialBet(a,i){const d=this.calculateBettingMetrics(a,i);return d.f1SubRate+d.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:d}:(d.f1FinishRate>60||d.f2FinishRate>60)&&d.avgFightTime<6?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoning:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:d}:d.f1KnockdownRate>.6&&d.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:d}:d.f1TakedownRate>15||d.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:d}:d.f1StrikeVolume>120&&d.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:d}:d.f1TakedownRate<5&&d.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoning:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:d}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoning:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:d}}analyzeKeyFactors(a,i){const d=[],v=a.rawData.reach_inches||0,s=i.rawData.reach_inches||0,c=Math.abs(v-s);if(c>2){const M=v>s?a.name||"Fighter 1":i.name||"Fighter 2";d.push({label:"combat_analysis.key_factors.reach_advantage",value:`${M} +${c}"`,type:"advantage"})}const g=a.rawData.Sig_Strikes_Thrown>0?Math.round(a.rawData.Sig_Strikes_Landed/a.rawData.Sig_Strikes_Thrown*100):0,b=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0;d.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${a.name||"F1"}: ${g}% vs ${i.name||"F2"}: ${b}%`,type:"comparison"});const p=a.rawData.takedowns_attempted_against>0?Math.round(a.rawData.Takedowns_Defended/a.rawData.takedowns_attempted_against*100):85,O=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85;d.push({label:"combat_analysis.key_factors.takedown_defense",value:`${a.name||"F1"}: ${p}% vs ${i.name||"F2"}: ${O}%`,type:"comparison"});const y=a.rawData.Number_of_Fights_36m||0,D=i.rawData.Number_of_Fights_36m||0;if(Math.abs(y-D)>2){const M=y>D?a.name||"Fighter 1":i.name||"Fighter 2",q=Math.max(y,D),J=Math.min(y,D);d.push({label:"combat_analysis.key_factors.higher_activity",value:`${M}: ${q} vs ${J} fights`,type:"advantage"})}return d}analyzeTrends(a,i){const d=[],v=a.rawData.Number_of_Fights_36m>0?Math.round(a.rawData.win/a.rawData.Number_of_Fights_36m*100):0,s=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0;v>=75?d.push({type:"positive",text:`${a.name||"Fighter 1"} has ${v}% win rate`,fighter:a.name}):v<50&&d.push({type:"negative",text:`${a.name||"Fighter 1"} struggling at ${v}% win rate`,fighter:a.name}),s>=75?d.push({type:"positive",text:`${i.name||"Fighter 2"} has ${s}% win rate`,fighter:i.name}):s<50&&d.push({type:"negative",text:`${i.name||"Fighter 2"} struggling at ${s}% win rate`,fighter:i.name});const c=(a.rawData.Fight_Duration_Seconds||900)/60,g=(i.rawData.Fight_Duration_Seconds||900)/60,b=(c+g)/2;return d.push({type:"neutral",text:`Combined average fight time: ${b.toFixed(1)} minutes`}),d}calculateAge(a){const v=a.rawData.Number_of_Fights_36m||0;return Math.round(25+v/2.5)}getInactiveMonths(a){const i=a.rawData.Number_of_Fights_36m||0;return i>=3?0:i>=2?6:i>=1?12:24}getFightsInPeriod(a,i){const d=i/36;return Math.round((a.rawData.Number_of_Fights_36m||0)*d)}hasBodyShotThreat(a,i){const d=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko)/a.rawData.Number_of_Fights_36m*100:0,v=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko)/i.rawData.Number_of_Fights_36m*100:0;return d>40||v>40}hasGroundControlThreat(a,i){const d=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0,v=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0;return d>25||v>25}hasExplosiveStyle(a,i){const d=(a.rawData.Fight_Duration_Seconds||900)/60,v=(i.rawData.Fight_Duration_Seconds||900)/60;return d<5||v<5}calculateBettingMetrics(a,i){return{f1TakedownRate:a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Knockdowns/a.rawData.Number_of_Fights_36m:0,f2KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f1StrikeVolume:a.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f1SubRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Sub_Attempts/a.rawData.Number_of_Fights_36m:0,f2SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f1FinishRate:a.rawData.Number_of_Fights_36m>0?(a.rawData.win_ko+a.rawData.win_tko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,f2FinishRate:i.rawData.Number_of_Fights_36m>0?(i.rawData.win_ko+i.rawData.win_tko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,avgFightTime:((a.rawData.Fight_Duration_Seconds||900)+(i.rawData.Fight_Duration_Seconds||900))/2/60}}getWinReasoningKey(a,i,d,v){return a.stars>i.stars+1?"combat_analysis.reasoning.significant_rating_advantage":a.performance>i.performance+10?"combat_analysis.reasoning.significant_performance_advantage":a.fightIQ>i.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":d>v+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(a){return a>=this.MIN_HIGH_CONFIDENCE?"high":a>=this.MIN_MEDIUM_CONFIDENCE?"medium":"low"}createWinPredictionCard(a){return{id:"win-prediction",type:"main_prediction",category:"primary",title:"Probable Winner",titleKey:"combat_analysis.probable_winner",prediction:a.winner.name||"Unknown Fighter",confidence:a.probability,confidenceLevel:this.getConfidenceLevel(a.probability),reasoning:a.reasoning,reasoningKey:a.reasoning,metadata:{adjustedScore1:a.adjustedScore1,adjustedScore2:a.adjustedScore2},priority:1}}createFinishMethodCard(a){return{id:"finish-method",type:"finish_method",category:"secondary",title:"Most Probable Method",titleKey:"combat_analysis.most_probable_method",prediction:a.method,predictionKey:a.methodKey,confidence:a.probability,confidenceLevel:this.getConfidenceLevel(a.probability),reasoning:a.reasoning,reasoningKey:a.reasoning,metadata:{finishRate1:a.finishRate1,finishRate2:a.finishRate2},priority:2}}createDurationCard(a){return{id:"fight-duration",type:"duration",category:"secondary",title:"Duration",titleKey:"combat_analysis.duration",prediction:a.prediction,predictionKey:a.predictionKey,confidence:a.probability,confidenceLevel:this.getConfidenceLevel(a.probability),reasoning:a.reasoning,reasoningKey:a.reasoning,explanationKey:a.explanationKey,metadata:{avgTime:a.avgTime},priority:3}}createSpecialBetCard(a){return{id:"special-bet",type:"special_prop",category:"prop",title:"Special Bet",titleKey:"combat_analysis.special_bet",prediction:a.prop,predictionKey:a.propKey,confidence:60,confidenceLevel:"medium",reasoning:a.reasoning,reasoningKey:a.reasoning,explanationKey:a.explanationKey,metadata:{value:a.value,valueKey:a.valueKey,metrics:a.metrics},priority:4}}createKeyFactorsCard(a){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoning:"Statistical analysis of key performance metrics",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:a},priority:5}}createTrendsCard(a){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoning:"Analysis of recent performance trends",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:a},priority:6}}createNoPredictionCard(){return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",confidence:0,confidenceLevel:"low",reasoning:"Not enough reliable data to make confident predictions",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:7}}hasHighConfidencePredictions(a){return a.some(i=>(i.type==="main_prediction"||i.type==="finish_method"||i.type==="duration")&&i.confidence>=this.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(a){return a.sort((i,d)=>i.priority-d.priority)}}const Ma=new Ot;var At=k('<div><div class="bet-type svelte-18ns8po"> </div> <div class="bet-prediction svelte-18ns8po"><div class="winner-name svelte-18ns8po"> </div> <div class="confidence svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div></div>'),Ht=k('<div><div class="bet-type svelte-18ns8po"> </div> <div class="bet-prediction svelte-18ns8po"><div class="method svelte-18ns8po"> </div> <div class="odds svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div></div>'),Lt=k('<div class="bet-explanation svelte-18ns8po"> </div>'),Ut=k('<div class="bet-explanation svelte-18ns8po"> </div>'),Wt=k('<div><div class="bet-type svelte-18ns8po"> </div> <div class="bet-prediction svelte-18ns8po"><div class="duration svelte-18ns8po"> </div> <div class="probability svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div> <!></div>'),zt=k('<div class="bet-card no-predictions svelte-18ns8po"><div class="bet-type svelte-18ns8po"><!> </div> <div class="bet-prediction svelte-18ns8po"><div class="no-pred-title svelte-18ns8po"> </div> <div class="no-pred-subtitle svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div></div>'),qt=k('<div class="bet-explanation svelte-18ns8po"> </div>'),Bt=k('<div class="bet-explanation svelte-18ns8po"> </div>'),Vt=k('<div class="bet-card special svelte-18ns8po"><div class="bet-type svelte-18ns8po"><!> </div> <div class="bet-prediction svelte-18ns8po"><div class="prop svelte-18ns8po"> </div> <div class="value svelte-18ns8po"> </div></div> <div class="reasoning svelte-18ns8po"> </div> <!></div>'),jt=k('<div class="stat-item svelte-18ns8po"><span class="stat-label svelte-18ns8po"> </span> <span class="stat-value svelte-18ns8po"> </span></div>'),Gt=k('<div class="bet-card stats svelte-18ns8po"><div class="bet-type svelte-18ns8po"> </div> <div class="key-stats svelte-18ns8po"></div></div>'),Yt=k("<div> </div>"),Qt=k('<div class="bet-card trends svelte-18ns8po"><div class="bet-type svelte-18ns8po"> </div> <div class="trend-list svelte-18ns8po"></div></div>'),Zt=k('<div class="fight-best-bets svelte-18ns8po"><div class="header svelte-18ns8po"><h2 class="title svelte-18ns8po"><span class="icon svelte-18ns8po"><!></span> </h2> <hr class="title-divider svelte-18ns8po"/> <div class="subtitle svelte-18ns8po"> </div></div> <div class="matchup-header svelte-18ns8po"><div class="fighter-preview svelte-18ns8po"><div class="fighter-name svelte-18ns8po"> </div> <div class="fighter-record svelte-18ns8po"> </div> <div class="fighter-archetype svelte-18ns8po"> </div></div> <div class="vs-divider svelte-18ns8po"><span>VS</span></div> <div class="fighter-preview svelte-18ns8po"><div class="fighter-name svelte-18ns8po"> </div> <div class="fighter-record svelte-18ns8po"> </div> <div class="fighter-archetype svelte-18ns8po"> </div></div></div> <div><!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-18ns8po"><small class="svelte-18ns8po"> </small></div></div>');function Jt(z,a){ra(a,!1);const[i,d]=la(),v=()=>ta(_t,"$locale",i),s=()=>ta(va,"$_",i),c=w(),g=w(),b=w(),p=w(),O=w(),y=w(),D=w(),M=w(),q=w(),J=w(),X=w(),De=w(),V=w(),ke=w(),I=w(),G=w();let C=Pe(a,"fighter1",8,null),P=Pe(a,"fighter2",8,null);function U(Se,He){return Se.filter(Ee=>Ee.type===He)}function _e(Se){switch(Se){case ca.HIGH:return"high-confidence";case ca.MEDIUM:return"medium-confidence";case ca.LOW:return"low-confidence";default:return""}}let Oe=v();K(()=>(R(C()),R(P())),()=>{u(c,C()&&P())}),K(()=>(e(c),R(C()),R(P())),()=>{u(g,e(c)?Ma.generateBetCards(C(),P()):[])}),K(()=>e(g),()=>{u(b,Ma.validatePredictions(e(g)))}),K(()=>(e(c),R(C()),R(P()),e(b),ia),()=>{e(c)&&C()&&P()&&e(b).length>0&&ia.trackBettingAnalysis(C().name,P().name)}),K(()=>(e(b),we),()=>{u(p,U(e(b),we.MAIN_PREDICTION))}),K(()=>(e(b),we),()=>{u(O,U(e(b),we.FINISH_METHOD))}),K(()=>(e(b),we),()=>{u(y,U(e(b),we.DURATION))}),K(()=>(e(b),we),()=>{u(D,U(e(b),we.SPECIAL_PROP))}),K(()=>(e(b),we),()=>{u(M,U(e(b),we.KEY_FACTORS))}),K(()=>(e(b),we),()=>{u(q,U(e(b),we.TRENDS))}),K(()=>(e(b),we),()=>{u(J,U(e(b),we.NO_PREDICTION))}),K(()=>(e(p),e(O),e(y)),()=>{u(X,e(p).length>0||e(O).length>0||e(y).length>0)}),K(()=>(e(p),e(O),e(y)),()=>{u(De,e(p).length+e(O).length+e(y).length)}),K(()=>e(X),()=>{u(V,e(X)?0:1)}),K(()=>{},()=>{u(ke,3)}),K(()=>(e(De),e(V),e(ke)),()=>{u(I,e(De)+e(V)+e(ke))}),K(()=>v(),()=>{v()!==Oe&&Oe&&window.location.reload()}),K(()=>e(c),()=>{u(G,e(c))}),_a(),na();var Ae=Xe(),ea=Ke(Ae);{var Ze=Se=>{var He=Zt(),Ee=t(He),Je=t(Ee),S=t(Je),le=t(S);Pa(le,{size:32});var Ce=o(S),pe=o(Je,4),Le=t(pe),xe=o(Ee,2),Ne=t(xe),he=t(Ne),be=t(he),Ue=o(he,2),Ge=t(Ue),Te=o(Ue,2),ee=t(Te),ge=o(Ne,4),Fe=t(ge),Me=t(Fe),Y=o(Fe,2),ue=t(Y),qe=o(Y,2),Ye=t(qe),Qe=o(xe,2);let l;var h=t(Qe);Be(h,1,()=>e(p),Ve,(T,n)=>{var N=At(),$=t(N),L=t($),j=o($,2),B=t(j),Q=t(B),re=o(B,2),de=t(re),ne=o(j,2),ve=t(ne);E((me,fe,We,ce)=>{je(N,1,`bet-card primary ${me??""}`,"svelte-18ns8po"),_(L,fe),_(Q,(e(n),r(()=>e(n).prediction))),_(de,`${We??""}: ${e(n),r(()=>e(n).confidence)??""}%`),_(ve,ce)},[()=>(e(n),r(()=>_e(e(n).confidenceLevel))),()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(s(),r(()=>s()("combat_analysis.confidence"))),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(T,N)});var m=o(h,2);Be(m,1,()=>e(O),Ve,(T,n)=>{var N=Ht(),$=t(N),L=t($),j=o($,2),B=t(j),Q=t(B),re=o(B,2),de=t(re),ne=o(j,2),ve=t(ne);E((me,fe,We,ce,ie)=>{je(N,1,`bet-card ${me??""}`,"svelte-18ns8po"),_(L,fe),_(Q,We),_(de,`${e(n),r(()=>e(n).confidence)??""}% ${ce??""}`),_(ve,ie)},[()=>(e(n),r(()=>_e(e(n).confidenceLevel))),()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(e(n),s(),r(()=>e(n).predictionKey?s()(e(n).predictionKey):e(n).prediction)),()=>(s(),r(()=>s()("combat_analysis.probability"))),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(T,N)});var x=o(m,2);Be(x,1,()=>e(y),Ve,(T,n)=>{var N=Wt(),$=t(N),L=t($),j=o($,2),B=t(j),Q=t(B),re=o(B,2),de=t(re),ne=o(j,2),ve=t(ne),me=o(ne,2);{var fe=ce=>{var ie=Lt(),ye=t(ie);E($e=>_(ye,$e),[()=>(s(),e(n),r(()=>s()(e(n).explanationKey)))]),f(ce,ie)},We=ce=>{var ie=Xe(),ye=Ke(ie);{var $e=Re=>{var ze=Ut(),aa=t(ze);E(()=>_(aa,(e(n),r(()=>e(n).explanation)))),f(Re,ze)};Z(ye,Re=>{e(n),r(()=>e(n).explanation)&&Re($e)},!0)}f(ce,ie)};Z(me,ce=>{e(n),r(()=>e(n).explanationKey)?ce(fe):ce(We,!1)})}E((ce,ie,ye,$e,Re)=>{je(N,1,`bet-card ${ce??""}`,"svelte-18ns8po"),_(L,ie),_(Q,ye),_(de,`${e(n),r(()=>e(n).confidence)??""}% ${$e??""}`),_(ve,Re)},[()=>(e(n),r(()=>_e(e(n).confidenceLevel))),()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(e(n),s(),r(()=>e(n).predictionKey?s()(e(n).predictionKey):e(n).prediction)),()=>(s(),r(()=>s()("combat_analysis.probability"))),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(T,N)});var A=o(x,2);Be(A,1,()=>e(J),Ve,(T,n)=>{var N=zt(),$=t(N),L=t($);ba(L,{size:16,style:"display: inline; margin-right: 0.25rem;"});var j=o(L),B=o($,2),Q=t(B),re=t(Q),de=o(Q,2),ne=t(de),ve=o(B,2),me=t(ve);E((fe,We,ce,ie)=>{_(j,` ${fe??""}`),_(re,We),_(ne,ce),_(me,ie)},[()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(e(n),s(),r(()=>e(n).predictionKey?s()(e(n).predictionKey):e(n).prediction)),()=>(s(),r(()=>s()("combat_analysis.confidence_threshold"))),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(T,N)});var W=o(A,2);Be(W,1,()=>e(D),Ve,(T,n)=>{var N=Vt(),$=t(N),L=t($);Ia(L,{size:16,style:"display: inline; margin-right: 0.25rem;"});var j=o(L),B=o($,2),Q=t(B),re=t(Q),de=o(Q,2),ne=t(de),ve=o(B,2),me=t(ve),fe=o(ve,2);{var We=ie=>{var ye=qt(),$e=t(ye);E(Re=>_($e,Re),[()=>(s(),e(n),r(()=>s()(e(n).explanationKey)))]),f(ie,ye)},ce=ie=>{var ye=Xe(),$e=Ke(ye);{var Re=ze=>{var aa=Bt(),ha=t(aa);E(()=>_(ha,(e(n),r(()=>e(n).explanation)))),f(ze,aa)};Z($e,ze=>{e(n),r(()=>e(n).explanation)&&ze(Re)},!0)}f(ie,ye)};Z(fe,ie=>{e(n),r(()=>e(n).explanationKey)?ie(We):ie(ce,!1)})}E((ie,ye,$e,Re,ze)=>{_(j,` ${ie??""}`),_(re,ye),_(ne,`${$e??""}: ${Re??""}`),_(me,ze)},[()=>(s(),e(n),r(()=>s()(e(n).titleKey))),()=>(e(n),s(),r(()=>e(n).predictionKey?s()(e(n).predictionKey):e(n).prediction)),()=>(s(),r(()=>s()("combat_analysis.value"))),()=>(e(n),s(),r(()=>e(n).metadata?.valueKey?s()(e(n).metadata.valueKey):e(n).metadata?.value||"N/A")),()=>(s(),e(n),r(()=>s()(e(n).reasoningKey)))]),f(T,N)});var ae=o(W,2);Be(ae,1,()=>e(M),Ve,(T,n)=>{var N=Gt(),$=t(N),L=t($),j=o($,2);Be(j,5,()=>(e(n),r(()=>e(n).metadata?.factors||[])),Ve,(B,Q)=>{var re=jt(),de=t(re),ne=t(de),ve=o(de,2),me=t(ve);E(fe=>{_(ne,fe),_(me,(e(Q),r(()=>e(Q).value)))},[()=>(s(),e(Q),r(()=>s()(e(Q).label)))]),f(B,re)}),E(B=>_(L,B),[()=>(s(),e(n),r(()=>s()(e(n).titleKey)))]),f(T,N)});var F=o(ae,2);Be(F,1,()=>e(q),Ve,(T,n)=>{var N=Qt(),$=t(N),L=t($),j=o($,2);Be(j,5,()=>(e(n),r(()=>e(n).metadata?.trends||[])),Ve,(B,Q)=>{var re=Yt(),de=t(re);E(()=>{je(re,1,`trend-item ${e(Q),r(()=>e(Q).type)??""}`,"svelte-18ns8po"),_(de,(e(Q),r(()=>e(Q).text)))}),f(B,re)}),E(B=>_(L,B),[()=>(s(),e(n),r(()=>s()(e(n).titleKey)))]),f(T,N)});var H=o(Qe,2),se=t(H),te=t(se);E((T,n,N,$)=>{_(Ce,` ${T??""}`),_(Le,n),_(be,(R(C()),r(()=>C().name))),_(Ge,`${R(C()),r(()=>C().rawData.win)??""}-${R(C()),r(()=>C().rawData.loss)??""}-${R(C()),r(()=>C().rawData.draws)??""}`),_(ee,(R(C()),r(()=>C().archetype.archetypeEmojis))),_(Me,(R(P()),r(()=>P().name))),_(ue,`${R(P()),r(()=>P().rawData.win)??""}-${R(P()),r(()=>P().rawData.loss)??""}-${R(P()),r(()=>P().rawData.draws)??""}`),_(Ye,(R(P()),r(()=>P().archetype.archetypeEmojis))),l=je(Qe,1,"betting-grid svelte-18ns8po",null,l,N),_(te,`* ${$??""}`)},[()=>(s(),r(()=>s()("combat_analysis.fight_analysis"))),()=>(s(),r(()=>s()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(I)<=3}),()=>(s(),r(()=>s()("combat_analysis.disclaimer")))]),f(Se,He)};Z(ea,Se=>{e(G)&&Se(Ze)})}f(z,Ae),oa(),d()}var Xt=k('<div class="loading svelte-1r8it4n" id="loading"><div class="loading-content svelte-1r8it4n"><div class="spinner svelte-1r8it4n"></div> <p class="svelte-1r8it4n"> </p></div></div>'),ei=k('<button class="share-fight-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1r8it4n"></path></svg> </button>'),ai=k('<div class="action-buttons-section svelte-1r8it4n"><!> <button class="clear-radars-btn svelte-1r8it4n"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1r8it4n"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1r8it4n"></path></svg> </button></div>'),ti=k('<div class="controls svelte-1r8it4n"><div class="fighter-selectors svelte-1r8it4n"><div class="control-group svelte-1r8it4n"><label for="fighter1-select" class="svelte-1r8it4n"> </label> <div id="fighter1-container-select" class="svelte-1r8it4n"><!></div></div> <div class="vs-divider svelte-1r8it4n">VS</div> <div class="control-group svelte-1r8it4n"><label for="fighter2-select" class="svelte-1r8it4n"> </label> <div id="fighter2-container-select" class="svelte-1r8it4n"><!></div></div></div> <!></div>'),ii=k('<div class="division-disclaimer svelte-1r8it4n"><div class="disclaimer-title svelte-1r8it4n"><!> <strong class="svelte-1r8it4n"> </strong></div> <div class="disclaimer-text svelte-1r8it4n"> </div></div>'),si=k('<div class="fighter-info svelte-1r8it4n"><div id="fighter1-container" class="svelte-1r8it4n"><!></div> <div id="fighter2-container" class="svelte-1r8it4n"><!></div></div>'),ri=k('<div class="radar-container svelte-1r8it4n"><div id="fight-radar-container" class="svelte-1r8it4n"><!></div> <div id="iq-radar-container" class="svelte-1r8it4n"><!></div></div>'),ni=k('<div class="fight-radar-app svelte-1r8it4n"><div class="container svelte-1r8it4n"><!> <!> <!> <!> <!> <!> <!> <!></div></div>');function ui(z,a){ra(a,!1);const[i,d]=la(),v=()=>ta(C,"$urlSearchParams",i),s=()=>ta(va,"$_",i),c=w(),g=w(),b=w(),p=w(),O=w(),y=w(),D=w(),M=w(),q=w(),J=w();let X=Pe(a,"isDarkMode",8,!0),De=Pe(a,"toggleTheme",8,()=>{}),V=w(new Map),ke=w(new Map),I=w(),G=w(new Map);const C=lt(sa());function P(l,h){const m=`fighter${h}`;ka({[m]:l}),C.set(sa())}let U=w(!1),_e=w(!1),Oe=w(!1),Ae=w(!1);vt(()=>{window.Highcharts=dt,C.set(sa());const l=ht(()=>{C.set(sa())});return ea(),l});async function ea(){try{u(U,!0);const{allRawFightersDataMap:l,allRawFightersByDivision:h,processedFightersMap:m,processedFighters:x}=await ga.loadFightersFromCSV();u(V,l),u(G,h),u(ke,m),u(I,x),u(_e,!0)}catch(l){console.error("Error loading data:",l)}finally{u(U,!1)}}function Ze(l=[]){return l.map(h=>({value:h.nameWithNickname,label:h.name,imageUrl:Se(h)}))}function Se(l){return l.pictureUrl&&l.pictureUrl!==""?l.pictureUrl:He(l.division)?"no_photo_female.png":"no_photo_male.png"}function He(l){return!!(l&&l.startsWith("W_"))}function Ee(l){P(l,1)}function Je(l){P(l,2)}function S(){ia.trackEvent("clear_radars",{category:"User Interaction",label:"Clear Fighter Selection",fighter1:e(c)||"none",fighter2:e(g)||"none"}),ka({fighter1:"",fighter2:""}),C.set(sa())}function le(){if(!e(c)||!e(g))return;const l=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";ia.trackFightShare(e(c),e(g),l);const h=pt("/",{fighter1:e(c),fighter2:e(g)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(c)} vs ${e(g)} - Fight Radar`,text:`Compara las estadísticas de ${e(c)} vs ${e(g)}`,url:h}).catch(console.error):navigator.clipboard.writeText(h).then(()=>{Ce("¡Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",h)})}function Ce(l){const h=document.createElement("div");h.className="notification",h.textContent=l,h.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(h),setTimeout(()=>{h.style.opacity="1",h.style.transform="translateY(0)"},10),setTimeout(()=>{h.style.opacity="0",h.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(h)},300)},3e3)}function pe(l,h,m){const x=[];return l&&x.push({name:l.name,data:[l.fightRadar.STR_OFF,l.fightRadar.STR_DEF,l.fightRadar.TD_OFF,l.fightRadar.TD_DEF,l.fightRadar.CTRL,l.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),h&&x.push({name:h.name,data:[h.fightRadar.STR_OFF,h.fightRadar.STR_DEF,h.fightRadar.TD_OFF,h.fightRadar.TD_DEF,h.fightRadar.CTRL,h.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),m&&x.push({name:m.name,data:[m.fightRadar.STR_OFF,m.fightRadar.STR_DEF,m.fightRadar.TD_OFF,m.fightRadar.TD_DEF,m.fightRadar.CTRL,m.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),x}function Le(l,h,m){const x=[];return l&&x.push({name:l.name,data:[l.iqRadar.distance,l.iqRadar.adaptability,l.iqRadar.composure,l.iqRadar.decisions,l.iqRadar.rhythm,l.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),h&&x.push({name:h.name,data:[h.iqRadar.distance,h.iqRadar.adaptability,h.iqRadar.composure,h.iqRadar.decisions,h.iqRadar.rhythm,h.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),m&&x.push({name:m.name,data:[m.iqRadar.distance,m.iqRadar.adaptability,m.iqRadar.composure,m.iqRadar.decisions,m.iqRadar.rhythm,m.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),x}function xe(l){const h={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[m,x,A]=l.combinedRole.split("+")??["AT"];let W=[[m,100]];if(x&&A?W=[[m,33],[x,34],[A,33]]:x?W=[[m,50],[x,50]]:A&&(W=[[m,60],[A,40]]),W.length===1){const[ae,F]=W[0],H=Math.min(F,70);return`linear-gradient(135deg, ${h[ae]} 0%, ${h[ae]} ${H}%, var(--card-bg) 100%)`}else{const ae=W.reduce((te,[,T])=>te+T,0);let F=[],H=0;return W.forEach(([te,T],n)=>{const N=T/ae*85,$=h[te];n===0&&F.push(`${$} ${H}%`),H+=N,n===W.length-1?(F.push(`${$} ${H}%`),F.push("var(--card-bg) 100%")):F.push(`${$} ${H}%`)}),`linear-gradient(135deg, ${F.join(", ")})`}}K(()=>v(),()=>{u(c,v().get("fighter1")||"")}),K(()=>v(),()=>{u(g,v().get("fighter2")||"")}),K(()=>(e(I),e(g)),()=>{u(b,Ze(e(I)).filter(l=>l.value!==e(g)))}),K(()=>(e(I),e(c)),()=>{u(p,Ze(e(I)).filter(l=>l.value!==e(c)))}),K(()=>(e(c),e(g),e(V),e(G),Ca),()=>{u(O,(()=>{if(!e(c)||!e(g))return null;const l=e(V).get(e(c)),h=e(V).get(e(g));if(!l||!h)return null;if(l.Division===h.Division){const m=l.Division;if(e(G).has(m))return Ca(m,e(G).get(m))}return null})())}),K(()=>(e(c),e(ke)),()=>{u(y,e(c)?e(ke).get(e(c))??null:null)}),K(()=>(e(g),e(ke)),()=>{u(D,e(g)?e(ke).get(e(g))??null:null)}),K(()=>(e(O),e(c),e(g),e(V),e(G),ga),()=>{u(M,(()=>{if(!e(O)||!e(c)||!e(g))return null;const l=e(V).get(e(c));return!l||!e(G).has(l.Division)?null:ga.calculateSyntheticFighter(e(O),e(G).get(l.Division))})())}),K(()=>(e(y),e(D),e(M)),()=>{u(q,pe(e(y)??null,e(D)??null,e(M)??null))}),K(()=>(e(y),e(D),e(M)),()=>{u(J,Le(e(y),e(D),e(M)))}),K(()=>(e(U),e(V),e(c),e(g),ia),()=>{const l=!e(U)&&e(V).size>0&&e(V).has(e(c))&&e(V).has(e(g));u(Oe,!!(e(c)&&e(g)&&l)),u(Ae,!!(e(c)&&e(g)&&l)),e(c)&&e(g)&&l&&ia.trackFighterComparison(e(c),e(g))}),_a(),na();var Ne=ni(),he=t(Ne),be=t(he);ct(be,{showThemeToggle:!0,get isDarkMode(){return X()},get toggleTheme(){return De()}});var Ue=o(be,2);{var Ge=l=>{var h=Xt(),m=t(h),x=o(t(m),2),A=t(x);E(W=>_(A,W),[()=>(s(),r(()=>s()("fight_radar.loading_data")))]),f(l,h)};Z(Ue,l=>{e(U)&&l(Ge)})}var Te=o(Ue,2);{var ee=l=>{var h=ti(),m=t(h),x=t(m),A=t(x),W=t(A),ae=o(A,2),F=t(ae);{let L=da(()=>(s(),r(()=>s()("common.select_fighter"))));Ka(F,{id:"fighter1-select",get placeholder(){return e(L)},disabled:!1,get options(){return e(b)},get selectedValue(){return e(c)},onSelectionChange:Ee})}var H=o(x,4),se=t(H),te=t(se),T=o(se,2),n=t(T);{let L=da(()=>(s(),r(()=>s()("common.select_fighter"))));Ka(n,{id:"fighter2-select",get placeholder(){return e(L)},disabled:!1,get options(){return e(p)},get selectedValue(){return e(g)},onSelectionChange:Je})}var N=o(m,2);{var $=L=>{var j=ai(),B=t(j);{var Q=ne=>{var ve=ei(),me=o(t(ve));E(fe=>_(me,` ${fe??""}`),[()=>(s(),r(()=>s()("fight_radar.share_fight")))]),Ie("click",ve,le),f(ne,ve)};Z(B,ne=>{e(c)&&e(g)&&ne(Q)})}var re=o(B,2),de=o(t(re));E(ne=>_(de,` ${ne??""}`),[()=>(s(),r(()=>s()("fight_radar.clear_radars")))]),Ie("click",re,S),f(L,j)};Z(N,L=>{(e(c)||e(g))&&L($)})}E((L,j)=>{_(W,`${L??""}:`),_(te,`${j??""}:`)},[()=>(s(),r(()=>s()("common.fighter_1"))),()=>(s(),r(()=>s()("common.fighter_2")))]),f(l,h)};Z(Te,l=>{e(_e)&&l(ee)})}var ge=o(Te,2);{var Fe=l=>{var h=Xe(),m=Ke(h);{var x=A=>{var W=ii(),ae=t(W),F=t(ae);ba(F,{size:20,class:"disclaimer-icon"});var H=o(F,2),se=t(H),te=o(ae,2),T=t(te);E((n,N)=>{_(se,n),_(T,N)},[()=>(s(),r(()=>s()("fight_radar.cross_division_title"))),()=>(s(),R(ua),e(y),e(D),r(()=>s()("fight_radar.cross_division_text",{values:{division1:ua(e(y).rawData.Division),division2:ua(e(D).rawData.Division)}})))]),f(A,W)};Z(m,A=>{e(y),e(D),r(()=>e(y)?.rawData&&e(D)?.rawData&&e(y).rawData.Division!==e(D).rawData.Division)&&A(x)})}f(l,h)};Z(ge,l=>{e(c)&&e(g)&&e(Oe)&&l(Fe)})}var Me=o(ge,2);{var Y=l=>{var h=si(),m=t(h),x=t(m);Ea(x,{get fighter(){return e(y)},id:"fighter1-info"});var A=o(m,2),W=t(A);Ea(W,{get fighter(){return e(D)},id:"fighter2-info"}),E((ae,F)=>{fa(m,`background: ${ae??""}`),fa(A,`background: ${F??""}`)},[()=>(e(y),r(()=>e(y)?xe(e(y).archetype):"var(--card-bg)")),()=>(e(D),r(()=>e(D)?xe(e(D).archetype):"var(--card-bg)"))]),f(l,h)};Z(Me,l=>{e(Oe)&&l(Y)})}var ue=o(Me,2);{var qe=l=>{var h=ri(),m=t(h),x=t(m);Ra(x,()=>(e(c),e(g),e(q),r(()=>`${e(c)}-${e(g)}-${e(q).length}`)),ae=>{{let F=da(()=>(R(Na),r(Na)));$a(ae,{title:"Fight Radar",chartId:"fight-radar",get categories(){return e(F)},get series(){return e(q)},isIQRadar:!1})}});var A=o(m,2),W=t(A);Ra(W,()=>(e(c),e(g),e(J),r(()=>`${e(c)}-${e(g)}-${e(J).length}`)),ae=>{{let F=da(()=>(R(Ta),r(Ta)));$a(ae,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(F)},get series(){return e(J)},isIQRadar:!0})}}),f(l,h)};Z(ue,l=>{e(Ae),e(q),r(()=>e(Ae)&&e(q).length>0)&&l(qe)})}var Ye=o(ue,2);Jt(Ye,{get fighter1(){return e(y)},get fighter2(){return e(D)}});var Qe=o(Ye,2);Pt(Qe,{}),f(z,Ne),oa(),d()}export{ui as default};
