import{g as yi,p as ze,l as j,h as u,m as y,j as L,o as e,k as wi,n as Ti,f as C,H as Be,$ as $i,i as ee,c as a,q as c,Z as Wi,t as A,E as ge,s as He,b as m,r as Di,u as xi,x as Ie,z as n,B as g,A as _i,_ as Mt,v as ai,K as Qe,L as Je,V as Ii,a0 as St,a1 as bi,y as pi,a2 as Ct,a as Pt,a3 as Kt,a4 as Lt,a5 as et,a6 as it,T as Pi,G as Ot,C as tt,U as Ai,w as Nt,N as ki,a7 as Vi}from"./lucide-BZTUuGOE.js";import{H as Bt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Et,U as $t}from"./UpcomingFights-D_z2Vvsa.js";import{$ as Mi,A as gi,n as at,a as Wt,v as It,g as vi,b as At,u as fi,c as Vt}from"./index-BTct68x6.js";import{c as Si,g as Hi,f as mi,a as Ht,b as qi,p as Gi,d as Ui,e as ji}from"./fighters_service-CWIdY5AU.js";import{R as qt,a as zi}from"./RadarChart-D9yq5ZJm.js";import{f as Yi,a as Qi,F as Gt}from"./unit_conversion-rkj8qNyj.js";import"./highcharts-DyRVWUji.js";var Ut=C('<img class="svelte-gkl5a1"/>'),jt=C('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),zt=C("<!> <span> </span>",1),Yt=C("<span> </span>"),Qt=C('<img class="svelte-gkl5a1"/>'),Xt=C('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Zt=C('<button type="button"><!> <span> </span></button>'),Jt=C('<div class="no-results svelte-gkl5a1"> </div>'),ea=C('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ia=C('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Xi(H,i){yi(i,!1);const[s,_]=xi(),h=()=>_i(Mi,"$_",s),t=y(),r=y();let l=ze(i,"id",8),w=ze(i,"placeholder",8,""),d=ze(i,"disabled",8,!0),F=ze(i,"options",24,()=>[]),V=ze(i,"selectedValue",12,""),z=ze(i,"onSelectionChange",8,void 0),D=ze(i,"onOpenStateChange",8,void 0),X=ze(i,"shouldOpen",8,!1),q=y(!1),$=y(),ne=y(),Z=y(""),be=y(!1);function G(){d()||(u(q,!e(q)),e(q)&&setTimeout(()=>e(ne)?.focus(),0))}function f(B){V(B.value),u(Z,""),u(q,!1),z()&&z()(B.value,B)}function E(B){const ae=B.target;u(Z,ae.value)}function P(B){B.key==="Enter"&&e(r).length>0?(f(e(r)[0]),B.preventDefault()):B.key==="Escape"&&(u(Z,""),u(q,!1))}function te(B){e($)&&!e($).contains(B.target)&&(u(q,!1),u(Z,""))}function Q(B){B.key==="Escape"&&u(q,!1)}j(()=>(L(F()),L(V())),()=>{u(t,F().find(B=>B.value===V()))}),j(()=>(L(X()),e(be),L(d()),e(ne)),()=>{X()&&!e(be)&&!d()?(u(be,!0),u(q,!0),setTimeout(()=>e(ne)?.focus(),0)):X()||u(be,!1)}),j(()=>(L(D()),e(q)),()=>{D()&&D()(e(q))}),j(()=>(e(Z),L(F()),Si),()=>{u(r,e(Z)?F().filter(B=>Si(B.label.toLowerCase()).includes(Si(e(Z).toLowerCase()))):F())}),wi(),Ti();var N=ia();Be("click",$i,te),Be("keydown",$i,Q);var Y=a(N);let W;var I=a(Y),ye=a(I);{var qe=B=>{var ae=zt(),Re=Ie(ae);{var le=xe=>{var Pe=Ut();A(()=>{ge(Pe,"src",(e(t),n(()=>e(t).imageUrl))),ge(Pe,"alt",(e(t),n(()=>e(t).label)))}),m(xe,Pe)},_e=xe=>{var Pe=ai(),Ae=Ie(Pe);{var Ve=We=>{var we=jt(),Oe=a(we);Ii(Oe,()=>e(t).iconComponent,(ce,b)=>{b(ce,{size:16})}),m(We,we)};ee(Ae,We=>{e(t),n(()=>e(t)?.iconComponent)&&We(Ve)},!0)}m(xe,Pe)};ee(Re,xe=>{e(t),n(()=>e(t)?.imageUrl)?xe(le):xe(_e,!1)})}var $e=c(Re,2),Le=a($e);A(()=>g(Le,(e(t),n(()=>e(t).label)))),m(B,ae)},je=B=>{var ae=Yt(),Re=a(ae);A(le=>g(Re,le),[()=>(L(w()),h(),n(()=>w()||h()("common.select_option")))]),m(B,ae)};ee(ye,B=>{e(t)?B(qe):B(je,!1)})}var x=c(I,2);let re;var Me=c(Y,2);{var Ee=B=>{var ae=ea(),Re=a(ae),le=a(Re);Wi(le,we=>u(ne,we),()=>e(ne));var _e=c(Re,2),$e=a(_e);let Le;var xe=a($e),Pe=a(xe),Ae=c($e,2);{var Ve=we=>{var Oe=ai(),ce=Ie(Oe);Qe(ce,1,()=>e(r),Je,(b,ie)=>{var Ne=Zt();let Ge;var si=a(Ne);{var ei=ke=>{var Se=Qt();A(()=>{ge(Se,"src",(e(ie),n(()=>e(ie).imageUrl))),ge(Se,"alt",(e(ie),n(()=>e(ie).label)))}),Be("error",Se,Ue=>{Ue.currentTarget.style.display="none"}),m(ke,Se)},ni=ke=>{var Se=ai(),Ue=Ie(Se);{var li=ti=>{var di=Xt(),ci=a(di);Ii(ci,()=>e(ie).iconComponent,(v,p)=>{p(v,{size:16})}),m(ti,di)};ee(Ue,ti=>{e(ie),n(()=>e(ie)?.iconComponent)&&ti(li)},!0)}m(ke,Se)};ee(si,ke=>{e(ie),n(()=>e(ie)?.imageUrl)?ke(ei):ke(ni,!1)})}var ii=c(si,2),oi=a(ii);A(ke=>{Ge=He(Ne,1,"dropdown-item svelte-gkl5a1",null,Ge,ke),g(oi,(e(ie),n(()=>e(ie).label)))},[()=>({selected:V()===e(ie).value})]),Be("click",Ne,()=>f(e(ie))),m(b,Ne)}),m(we,Oe)},We=we=>{var Oe=ai(),ce=Ie(Oe);{var b=ie=>{var Ne=Jt(),Ge=a(Ne);A(()=>g(Ge,`No se encontraron resultados para "${e(Z)??""}"`)),m(ie,Ne)};ee(ce,ie=>{e(Z)&&ie(b)},!0)}m(we,Oe)};ee(Ae,we=>{e(r),n(()=>e(r).length>0)?we(Ve):we(We,!1)})}A((we,Oe,ce)=>{ge(le,"placeholder",we),ge(_e,"id",`dropdown-options-${l()??""}`),Le=He($e,1,"dropdown-item svelte-gkl5a1",null,Le,Oe),g(Pe,ce)},[()=>(h(),n(()=>h()("common.search")||"Search...")),()=>({selected:V()===""}),()=>(L(w()),h(),n(()=>w()||h()("common.select_option")))]),Mt(le,()=>e(Z),we=>u(Z,we)),Be("input",le,E),Be("keydown",le,P),Be("click",$e,()=>f({value:"",label:w(),imageUrl:""})),m(B,ae)};ee(Me,B=>{e(q)&&B(Ee)})}Wi(N,B=>u($,B),()=>e($)),A((B,ae)=>{ge(N,"id",l()),W=He(Y,1,"dropdown-button svelte-gkl5a1",null,W,B),Y.disabled=d(),ge(Y,"aria-expanded",e(q)),ge(Y,"aria-controls",`dropdown-options-${l()??""}`),re=He(x,1,"dropdown-arrow svelte-gkl5a1",null,re,ae)},[()=>({disabled:d(),open:e(q)}),()=>({rotated:e(q)})]),Be("click",Y,G),m(H,N),Di(),_()}function Ci(H,i){if(i()){gi.trackFighterCardCTA(i().nameWithNickname,"view_profile");const s=`/data-center/fighter-details?fighter=${encodeURIComponent(i().nameWithNickname)}`;at(s)}}function ta(H,i){u(i,!e(i))}var aa=C('<img class="fighter-image svelte-1cmiluv"/> <div class="fighter-placeholder svelte-1cmiluv" style="display: none;">Picture Unavailable</div>',1),sa=C('<div class="fighter-placeholder svelte-1cmiluv">Picture Unavailable</div>'),na=C('<span class="division-ranking champion svelte-1cmiluv" title="Champion"><!></span>'),oa=C('<span class="division-ranking ranked svelte-1cmiluv"> </span>'),ra=(H,i)=>H.key==="Enter"&&i(),la=C('<div class="stat-item role-disc-clickable svelte-1cmiluv" role="button" tabindex="0"><span class="stat-label svelte-1cmiluv">ROLE-DISC:</span> <span><div class="role-emojis svelte-1cmiluv"> </div> <div class="role-name svelte-1cmiluv"> </div></span></div>'),da=C('<div class="archetype-fields svelte-1cmiluv"><div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value description svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value favorite-zone svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value strengths svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value weaknesses svelte-1cmiluv"> </div></div></div>'),ha=C('<hr class="archetype-divider svelte-1cmiluv"/> <div class="archetype-container svelte-1cmiluv"><div class="archetype-section svelte-1cmiluv"><button type="button" class="archetype-section-title svelte-1cmiluv"><span><!></span> </button> <!></div></div>',1),ca=C('<div class="fighter-header svelte-1cmiluv"><div class="header-actions svelte-1cmiluv"><!> <button type="button" class="fighter-detail-cta svelte-1cmiluv" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1cmiluv"><div class="fighter-image-container svelte-1cmiluv"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1cmiluv"><div class="fighter-name svelte-1cmiluv"> </div></button> <div class="fighter-division-container svelte-1cmiluv"><span class="fighter-division svelte-1cmiluv"> </span> <!></div> <div class="star-rating svelte-1cmiluv"><div class="stars-container svelte-1cmiluv"></div></div> <div class="fighter-stats svelte-1cmiluv"><!> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value career-record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span><!></span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value height svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value reach svelte-1cmiluv"> </span></div></div> <!>',1),va=C('<div class="empty-card svelte-1cmiluv"><div class="empty-message svelte-1cmiluv"> </div></div>'),ua=C('<div class="fighter-card svelte-1cmiluv"><!></div> <!>',1);function Zi(H,i){yi(i,!1);const[s,_]=xi(),h=()=>_i(Mi,"$_",s),t=y(),r=y(),l=y(),w=y();let d=ze(i,"fighter",8,null),F=ze(i,"id",8,""),V=y(!1),z=y(!1);function D(){u(V,!0)}function X(){u(V,!1)}j(()=>h(),()=>{u(t,f=>{if(!f||!f.startsWith("@ARCHETYPE_"))return f;let E="",P="";if(f.includes("_DESCRIPTION"))E=f.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),P="description";else if(f.includes("_FAVORITE_ZONE"))E=f.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),P="favorite_zone";else if(f.includes("_STRENGTHS"))E=f.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),P="strengths";else if(f.includes("_WEAKNESSES"))E=f.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),P="weaknesses";else{const N=f.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!N)return f;E=N[1],P=N[2].toLowerCase()}const te=`archetype_data.${E}.${P}`,Q=h()(te);return f.includes("_WEAKNESSES"),Q!==te?Q:f})}),j(()=>(L(d()),Hi),()=>{u(r,d()?Hi(d().archetype):null)}),j(()=>(L(d()),Yi),()=>{u(l,d()?.rawData.height_inches?Yi(d().rawData.height_inches):"-")}),j(()=>(L(d()),Qi),()=>{u(w,d()?.rawData.reach_inches?Qi(d().rawData.reach_inches):"-")}),wi(),Ti();var q=ua(),$=Ie(q),ne=a($);{var Z=f=>{var E=ca(),P=Ie(E),te=a(P),Q=a(te);Gt(Q,{get fighterFullName(){return L(d()),n(()=>d().name)},size:"large"});var N=c(Q,2);N.__click=[Ci,d];var Y=a(N);St(Y,{size:16});var W=c(te,2);W.__click=[Ci,d];var I=a(W),ye=a(I);{var qe=T=>{var o=aa(),R=Ie(o);A(()=>{ge(R,"src",(L(d()),n(()=>d().pictureUrl))),ge(R,"alt",`${L(d()),n(()=>d().name)??""} fighter profile picture`)}),Be("error",R,K=>{K.currentTarget.style.display="none";const U=K.currentTarget.nextElementSibling;U&&(U.style.display="block")}),m(T,o)},je=T=>{var o=sa();m(T,o)};ee(ye,T=>{L(d()),n(()=>d().pictureUrl)?T(qe):T(je,!1)})}var x=c(P,2);x.__click=[Ci,d];var re=a(x),Me=a(re),Ee=c(x,2),B=a(Ee),ae=a(B),Re=c(B,2);{var le=T=>{var o=ai(),R=Ie(o);{var K=S=>{var M=na(),O=a(M);Kt(O,{size:16}),m(S,M)},U=S=>{var M=oa(),O=a(M);A(()=>{ge(M,"title",`Division Ranking #${L(d()),n(()=>d().rawData.division_ranking)??""}`),g(O,`#${L(d()),n(()=>d().rawData.division_ranking)??""}`)}),m(S,M)};ee(R,S=>{L(d()),n(()=>d().rawData.division_ranking==="0")?S(K):S(U,!1)})}m(T,o)};ee(Re,T=>{L(d()),n(()=>d().rawData.division_ranking!==void 0&&d().rawData.division_ranking!=="")&&T(le)})}var _e=c(Ee,2),$e=a(_e),Le=c(_e,2),xe=a(Le);{var Pe=T=>{var o=la();o.__click=D,o.__keydown=[ra,D];var R=a(o),K=c(R,2),U=a(K),S=a(U),M=c(U,2),O=a(M);A((se,ue)=>{ge(o,"aria-label",se),ge(R,"title",ue),He(K,1,`stat-value role-indicator archetype-dots archetype-${e(r),n(()=>e(r).type)??""}`,"svelte-1cmiluv"),ge(K,"title",(e(r),n(()=>e(r).tooltip))),g(S,(e(r),n(()=>e(r).label))),g(O,(e(r),n(()=>e(r).name)))},[()=>(h(),n(()=>h()("role_disc_modal.open_modal_aria_label"))),()=>(h(),n(()=>h()("role_disc_modal.archetype_tooltip")))]),m(T,o)};ee(xe,T=>{e(r)&&T(Pe)})}var Ae=c(xe,2),Ve=a(Ae),We=a(Ve),we=c(Ve,2),Oe=a(we),ce=c(Ae,2),b=a(ce),ie=a(b),Ne=c(b,2),Ge=a(Ne),si=c(ce,2),ei=a(si),ni=a(ei),ii=c(ei,2);let oi;var ke=a(ii);{var Se=T=>{var o=pi();A(()=>g(o,`+${L(d()),n(()=>d().streak)??""}W`)),m(T,o)},Ue=T=>{var o=ai(),R=Ie(o);{var K=S=>{var M=pi();A(()=>g(M,`${L(d()),n(()=>d().streak)??""}L`)),m(S,M)},U=S=>{var M=pi("-");m(S,M)};ee(R,S=>{L(d()),n(()=>d().streak<0)?S(K):S(U,!1)},!0)}m(T,o)};ee(ke,T=>{L(d()),n(()=>d().streak>0)?T(Se):T(Ue,!1)})}var li=c(si,2),ti=a(li),di=a(ti),ci=c(ti,2),v=a(ci),p=c(li,2),k=a(p),J=a(k),fe=c(k,2),De=a(fe),Ke=c(Le,2);{var Ce=T=>{var o=ha(),R=c(Ie(o),2),K=a(R),U=a(K);U.__click=[ta,z];var S=a(U);let M;var O=a(S);Ct(O,{size:20});var se=c(S),ue=c(U,2);{var Te=de=>{var he=da(),oe=a(he),Fe=a(oe),pe=a(Fe),ve=a(pe);Lt(ve,{size:18});var Ye=c(pe,2),Xe=a(Ye),Ze=c(Fe,2),ri=a(Ze),ui=c(oe,2),Ri=a(ui),Ki=a(Ri),st=a(Ki);et(st,{size:18});var nt=c(Ki,2),ot=a(nt),rt=c(Ri,2),lt=a(rt),Li=c(ui,2),Oi=a(Li),Ni=a(Oi),dt=a(Ni);it(dt,{size:18});var ht=c(Ni,2),ct=a(ht),vt=c(Oi,2),ut=a(vt),gt=c(Li,2),Bi=a(gt),Ei=a(Bi),_t=a(Ei);Pi(_t,{size:18});var ft=c(Ei,2),pt=a(ft),mt=c(Bi,2),bt=a(mt);A((yt,wt,Tt,Dt,Rt,kt,Ft,xt)=>{g(Xe,yt),g(ri,wt),g(ot,Tt),g(lt,Dt),g(ct,Rt),g(ut,kt),g(pt,Ft),g(bt,xt)},[()=>(h(),n(()=>h()("archetype.tactical_description"))),()=>(e(t),L(d()),n(()=>e(t)(d().archetype.description))),()=>(h(),n(()=>h()("archetype.preferred_zone"))),()=>(e(t),L(d()),n(()=>e(t)(d().archetype.favoriteZone))),()=>(h(),n(()=>h()("archetype.strengths"))),()=>(e(t),L(d()),n(()=>e(t)(d().archetype.strengths))),()=>(h(),n(()=>h()("archetype.weaknesses"))),()=>(e(t),L(d()),n(()=>e(t)(d().archetype.weaknesses)))]),m(de,he)};ee(ue,de=>{e(z)&&de(Te)})}A((de,he)=>{ge(U,"aria-expanded",e(z)),M=He(S,1,"archetype-caret svelte-1cmiluv",null,M,de),g(se,` ${he??""}`)},[()=>({expanded:e(z)}),()=>(h(),n(()=>h()("archetype.analysis_title")))]),m(T,o)};ee(Ke,T=>{L(d()),n(()=>d().archetype)&&T(Ce)})}A((T,o,R,K,U,S,M,O,se,ue,Te,de)=>{ge(N,"aria-label",`View detailed fighter profile for ${L(d()),n(()=>d().nameWithNickname)??""}`),g(Me,(L(d()),n(()=>d().name))),g(ae,T),bi($e,`--fill-width: ${L(d()),n(()=>d().stars*20)??""}%`),ge(Ve,"title",o),g(We,`${R??""}:`),g(Oe,(L(d()),n(()=>d().career_record))),ge(b,"title",K),g(ie,`${U??""}:`),g(Ge,(L(d()),n(()=>d().record_36m))),ge(ei,"title",S),g(ni,`${M??""}:`),oi=He(ii,1,"stat-value streak svelte-1cmiluv",null,oi,O),ge(ti,"title",se),g(di,`${ue??""}:`),g(v,e(l)),ge(k,"title",Te),g(J,`${de??""}:`),g(De,e(w))},[()=>(L(mi),L(d()),n(()=>mi(d().division||""))),()=>(h(),n(()=>h()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(h(),n(()=>h()("fighter_profile.career_record"))),()=>(h(),n(()=>h()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(h(),n(()=>h()("fighter_profile.record_36m"))),()=>(h(),n(()=>h()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(h(),n(()=>h()("fighter_profile.streak"))),()=>({"streak-win":d().streak>0,"streak-loss":d().streak<0}),()=>(h(),n(()=>h()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(h(),n(()=>h()("fighter_profile.height"))),()=>(h(),n(()=>h()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(h(),n(()=>h()("fighter_profile.reach")))]),m(f,E)},be=f=>{var E=va(),P=a(E),te=a(P);A(Q=>g(te,Q),[()=>(h(),n(()=>h()("fight_radar.select_fighter_stats")))]),m(f,E)};ee(ne,f=>{d()?f(Z):f(be,!1)})}var G=c($,2);qt(G,{get isOpen(){return e(V)},$$events:{close:X}}),A(()=>ge($,"id",F())),m(H,q),Di(),_()}Pt(["click","keydown"]);function ga(H){const i=H.filter(t=>t.type===me.VICTORY_METHOD&&(t.prediction.toLowerCase().includes("decision")||t.predictionKey?.toLowerCase().includes("decision")));if(i.length===0)return H;const s=i.reduce((t,r)=>r.confidence>t.confidence?r:t),_=H.filter(t=>{if(t.type!==me.DURATION)return!1;const r=t.prediction.toLowerCase(),l=t.predictionKey?.toLowerCase()||"";return r.includes("over")||l.includes("over")});return H.map(t=>_.some(r=>r.id===t.id)&&t.confidence<s.confidence?{...t,confidence:s.confidence}:t)}function _a(H){const i=H.filter(r=>r.type===me.VICTORY_METHOD),s=H.filter(r=>r.type===me.FIGHT_PROPS);if(i.length===0||s.length===0)return H;const h=i.reduce((r,l)=>l.confidence>r.confidence?l:r).prediction.toLowerCase(),t=new Set;for(const r of s){const l=(r.prediction||"").toLowerCase(),w=(r.predictionKey||"").toLowerCase();(h.includes("ko")||h.includes("tko"))&&(l.includes("submission")||l.includes("ground control")||w.includes("submission")||w.includes("ground_control"))&&t.add(r.id),h.includes("submission")&&(l.includes("standing exchange")&&!l.includes("ground")||w.includes("standing_exchange")&&!w.includes("ground"))&&t.add(r.id),h.includes("decision")&&(l.includes("first round finish")||l.includes("gone in 60")||w.includes("first_round_finish")||w.includes("gone_in_60"))&&t.add(r.id)}return H.filter(r=>!t.has(r.id))}function fa(H){const i=H.filter(h=>h.type===me.DURATION),s=H.filter(h=>h.type===me.FIGHT_PROPS);if(i.length===0||s.length===0)return H;const _=new Set;for(const h of i){const t=(h.prediction||"").toLowerCase(),r=(h.predictionKey||"").toLowerCase(),l=t.includes("under 2.5")||r.includes("under_2_5"),w=t.includes("over 3.5")||r.includes("over_3_5");for(const d of s){const F=(d.prediction||"").toLowerCase(),V=(d.predictionKey||"").toLowerCase();l&&((F.includes("over 100 strikes")||V.includes("over_100_strikes"))&&_.add(d.id),(F.includes("goes to distance")||V.includes("goes_to_distance"))&&_.add(d.id)),w&&(F.includes("first round")||F.includes("gone in 60")||V.includes("first_round")||V.includes("gone_in_60"))&&_.add(d.id)}}return H.filter(h=>!_.has(h.id))}function Ji(H){let i=[...H];return i=ga(i),i=_a(i),i=fa(i),i}const pa={W_Strawweight:{finishBias:-.07195121951219513,koVsSubBias:-.1865853658536585,sampleSize:82,stats:{decisionRate:.6219512195121951,finishRate:.3780487804878049,koRate:.17073170731707318,submissionRate:.2073170731707317}},Bantamweight:{finishBias:-.06870503597122302,koVsSubBias:-.11402877697841726,sampleSize:139,stats:{decisionRate:.6187050359712231,finishRate:.381294964028777,koRate:.20863309352517986,submissionRate:.17266187050359713}},Lightweight:{finishBias:.06798561151079136,koVsSubBias:.08021582733812951,sampleSize:139,stats:{decisionRate:.48201438848920863,finishRate:.5179856115107914,koRate:.37410071942446044,submissionRate:.14388489208633093}},W_Bantamweight:{finishBias:-.09705882352941175,koVsSubBias:-.11078431372549019,sampleSize:51,stats:{decisionRate:.6470588235294118,finishRate:.35294117647058826,koRate:.19607843137254902,submissionRate:.1568627450980392}},W_Flyweight:{finishBias:-.20438596491228073,koVsSubBias:-.15,sampleSize:57,stats:{decisionRate:.7543859649122807,finishRate:.24561403508771928,koRate:.12280701754385964,submissionRate:.12280701754385964}},Middleweight:{finishBias:.16739130434782606,koVsSubBias:.15434782608695652,sampleSize:115,stats:{decisionRate:.3826086956521739,finishRate:.6173913043478261,koRate:.4608695652173913,submissionRate:.1565217391304348}},Featherweight:{finishBias:.07100840336134456,koVsSubBias:-.03235294117647061,sampleSize:119,stats:{decisionRate:.4789915966386555,finishRate:.5210084033613446,koRate:.31932773109243695,submissionRate:.20168067226890757}},Flyweight:{finishBias:.05649350649350643,koVsSubBias:-.16298701298701296,sampleSize:77,stats:{decisionRate:.4935064935064935,finishRate:.5064935064935064,koRate:.24675324675324675,submissionRate:.2597402597402597}},Welterweight:{finishBias:.1467741935483871,koVsSubBias:.17258064516129032,sampleSize:124,stats:{decisionRate:.4032258064516129,finishRate:.5967741935483871,koRate:.4596774193548387,submissionRate:.13709677419354838}},Heavyweight:{finishBias:.0071428571428571175,koVsSubBias:.05000000000000002,sampleSize:70,stats:{decisionRate:.5428571428571428,finishRate:.45714285714285713,koRate:.32857142857142857,submissionRate:.12857142857142856}},Light_Heavyweight:{finishBias:.18076923076923074,koVsSubBias:.1730769230769231,sampleSize:65,stats:{decisionRate:.36923076923076925,finishRate:.6307692307692307,koRate:.47692307692307695,submissionRate:.15384615384615385}}};var me=(H=>(H.MONEYLINE="moneyline",H.VICTORY_METHOD="victory_method",H.WINNER_AND_METHOD="winner_and_method",H.DURATION="duration",H.GOES_TO_DECISION="goes_to_decision",H.GONE_IN_60="gone_in_60",H.FIGHT_PROPS="fight_props",H.KEY_FACTORS="key_factors",H.TRENDS="trends",H.NO_PREDICTION="no_prediction",H))(me||{}),Fi=(H=>(H.HIGH="high",H.MEDIUM="medium",H.LOW="low",H))(Fi||{});class hi{constructor(){this.config={finishLikelihoodThreshold:35.5,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:-1,predatorVsDefensiveBonus:2.5,bothFinishersMultiplier:1.2,bothFinishersThreshold:45,loserDecisionRateWeight:.05,decisionRateBonus:-2,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:34,strOffGapMedThreshold:24,strOffGapLowThreshold:16,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:34,ctrlGapMedThreshold:24,ctrlGapLowThreshold:14,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:34,tdOffGapMedThreshold:24,tdOffGapLowThreshold:14,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,earlyFinishScoreThreshold:33,durationSkillGapWeight:.19999999999999998,durationFinishRateWeight:.34500000000000003,durationVulnerabilityWeight:.30000000000000004,durationAvgTimeWeight:.185,underBonusBase:21,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:44,durationBothLowFinishThreshold:24,durationPaceAsymmetryThreshold:3.5,durationPaceAsymmetryPenalty:-1.5,durationUnderSkillGapBonus:9,durationUnderLoserVulnBonus:7,durationUnderWinnerFinishBonus:3,durationUnderComboBonus:0,durationUnderExtreme:10,durationUnderSkillGapExtreme:10,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:8,oppTierWeight:9.5,oppTierNeutral:1.82,winRateWeightNormal:.22999999999999993,winRateWeightHigh:.41000000000000003,winRateWeightLow:.33,winRateHighThreshold:78,winRateLowThreshold:41,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:.013999999999999999,agePenaltyPhase3Rate:.011999999999999993,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1.1,damageMultiplier2KO:1.25,damageMultiplier3KO:1.4,damageMultiplier4KO:1.6,damageMultiplier5PlusKO:1.8,relativeAgeThreshold:8,relativeAgeAdjustRate:.003,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:0,heightAdvantageWeight:.0022500000000000003,reachDiffThreshold:-1,heightDiffThreshold:-1,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:17,inactivityPenaltyRate:.004,inactivityMaxPenalty:.23,activityBonusThreshold:2,activityBonus:.04,amplificationEnabled:!0,amplificationThreshold:12,amplificationRate:.016,minProbability:15,maxProbability:88,decisionProbabilityBase:68,decisionLowFinishAdjust:3,goesToDecisionMaxProb:88,decisionBaseMax:85,koMaxProb:89,subMaxProb:76,decisionMinFloor:81,methodOppTierWeight:6,methodDecisionRateFinisherThreshold:5,methodDecisionRateFinisherBonus:5,methodHighPaceMinFights:3,methodHighPaceMinFinish:40,methodHighPaceMaxFinish:69,methodStyleStrengthThreshold:45,methodLoserVulnThreshold:45,methodStrongFinisherWinnerThreshold:57,methodStrongFinisherLoserThreshold:45,decisionCapHighFinishThreshold:58,decisionCapPenaltyBase:6,decisionCapPenaltyScale:4,decisionCapPenaltyDivisor:16,decisionCapMedFinishThreshold:50,decisionCapMedPenalty:2,decisionCapLowFinishThreshold:42,decisionCapLowPenalty:1,divisionMinSampleSize:30,divisionThreatDiffThreshold:2,divisionPreferenceThreshold:12,divisionTiebreakerBoost:4,koThreatComponent:.35,subThreatComponent:.35,koLoserVulnThreshold:30,koWinnerRateThreshold:41,koWinnerComboThreshold:60,koLoserComboThreshold:25,subLoserVulnThreshold:24,subWinnerRateThreshold:40,subWinnerComboThreshold:50,subLoserComboThreshold:26,durationOppTierWeight:4.5,defaultFightDuration:900,extremeFinishWinnerThreshold1:70,extremeFinishLoserThreshold1:50,extremeFinishSkillGap1:12,extremeFinishWinnerThreshold2:80,extremeFinishLoserThreshold2:40,extremeFinishSkillGap3:15,extremeFinishWinnerThreshold3:60,under15ScoreThreshold:55,under15WinProbThreshold:65,under15WinnerTimeThreshold:6,under15LoserTimeThreshold:8,under15SkillGapThreshold:10,under15InitialCap:75,under15SkillGapExtreme:15,under15FinishRateExtreme:80,under15VulnExtreme:60,under15FinalCap:82,under25FinishThreshold1:60,under25LoserFinishThreshold1:40,under25KOThreshold:60,under25AvgTimeThreshold:8,under25WinnerTimeThreshold:8,under25LoserTimeThreshold:8.5,under25WinProbMin:48,under25InitialCap:76,under25SkillGapThreshold:10,under25VulnThreshold:45,under25WinnerFinishThreshold:65,under25ComboWinnerThreshold:50,under25ComboLoserThreshold:35,under25FinalCap:87,over15BaseProbability:68,over15HighThreatThreshold:38,over15HighThreatValue:61,over15MedThreatLowThreshold:32,over15MedThreatHighThreshold:38,over15MedThreatValue:66,over15LowThreatThreshold:25,over15LowThreatValue:75,over15VeryLowThreatThreshold:18,over15VeryLowThreatValue:79,over15FinisherThreshold:60,over15FinisherPenalty:-4,over15DecisionThreshold:20,over15DecisionBoost:7,over15DualDecisionThreshold1:15,over15DualDecisionThreshold2:25,over15DualDecisionBoost:5,over15LongTimeThreshold:8.5,over15LongTimeBoost:4,over15MinProbability:53,over15MaxProbability:85,over35DecisionThreshold1:30,over35DecisionThreshold2:30,over35AvgTimeThreshold:8,over35LowFinishThreshold:20,over35LongTimeThreshold:8.5,over35BaseProbability:55,over35PureDecisionThreshold:15,over35PureDecisionValue:68,over35ExtremeDecisionThreshold:10,over35ExtremeDecisionValue:72,over35LongMinProbability:70,over35LongDecisionThreshold:20,over35LongDecisionBoost:8,over35LongDecisionCap:80,over35FinishPenaltyThreshold1:20,over35FinishPenalty1:-5,over35FinishPenaltyThreshold2:30,over35FinishPenalty2:-8,over35MinProbability:50,over35MaxProbability:82,physicalAdvantageReachThreshold:3,physicalAdvantageHeightThreshold:2,activityPeriodMonths:18,activityThresholdFights:3,defaultWinProbability:50,reachAnalysisThreshold:2,activityDifferenceThreshold:2,highWinRateThreshold:75,strugglingWinRateThreshold:50,estimatedCareerStartAge:25,estimatedFightsPerYear:2.5,grapplerTakedownThreshold:15,grapplerSubmissionThreshold:25,strikerKOThreshold:30,strikerTakedownMax:10,dominantGrapplerThreshold:20,weightedMetricLoserImpact:.5,firstRoundFinishThreshold:6,subAttemptsOverThreshold:1.5,finishRateFirstRoundThreshold:60,doubleKnockdownThreshold:.6,groundControlTakedownThreshold:15,strikeVolumeThreshold:120,standingExchangeTakedownMax:5,divisionBlendFinishLikelihood:0,divisionBlendKOThreat:0,divisionBlendSubThreat:0}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}static{this.divisionCoefficients=null}static loadDivisionCoefficients(){return this.divisionCoefficients?this.divisionCoefficients:(this.divisionCoefficients=new Map(Object.entries(pa)),this.divisionCoefficients)}generateBetCards(i,s,_=!1,h=3){const t=[],l=i.rawData.Number_of_Fights_36m||0,w=s.rawData.Number_of_Fights_36m||0;if(l<3||w<3)return[this.createNoPredictionCard("insufficient_fights",i,s,l,w)];if(i.division!==s.division)return[this.createNoPredictionCard("different_divisions",i,s)];const d=this.calculateWinProbability(i,s);if(_&&d.probability<hi.MIN_MEDIUM_CONFIDENCE){const $=d.winner===i?d.probability:100-d.probability,ne=100-$;t.push(this.createNoPredictionCard("low_moneyline_confidence",i,s,void 0,void 0,$,ne))}else t.push(this.createMoneylineCard(d));const F=this.predictMethodGivenWinner(i,s,d,h),V=this.predictTotalRounds(i,s,d,h),z=this.generateFightProps(i,s,d,h),D=this.analyzeKeyFactors(i,s),X=this.analyzeTrends(i,s);t.push(this.createVictoryMethodCard(F));const q=this.predictWinnerAndMethod(d,F);return t.push(q),t.push(this.createTotalRoundsCard(V)),t.push(this.createFightPropsCard(z)),t.push(this.createKeyFactorsCard(D)),t.push(this.createTrendsCard(X)),this.hasHighConfidencePredictions(t)||t.push(this.createNoPredictionCard("low_confidence")),_?this.sortBetCardsByPriority(this.filterByConfidence(Ji(t))):this.sortBetCardsByPriority(Ji(t))}filterByConfidence(i){return i.filter(s=>s.type==="key_factors"||s.type==="trends"||s.type==="no_prediction"?!0:s.confidence>=hi.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(i,s){const _=(i.rawData.reach_inches||0)-(s.rawData.reach_inches||0),h=(i.rawData.height_inches||0)-(s.rawData.height_inches||0);let t=0,r=0;return _>=this.config.physicalAdvantageReachThreshold?t+=Math.min(Math.abs(_)*this.config.reachAdvantageWeight,.025):_<=-this.config.physicalAdvantageReachThreshold&&(r+=Math.min(Math.abs(_)*this.config.reachAdvantageWeight,.025)),h>=this.config.physicalAdvantageHeightThreshold?t+=Math.min(Math.abs(h)*this.config.heightAdvantageWeight,.015):h<=-this.config.physicalAdvantageHeightThreshold&&(r+=Math.min(Math.abs(h)*this.config.heightAdvantageWeight,.015)),{f1Advantage:t,f2Advantage:r}}calculateWinProbability(i,s){const _=this.config.oppTierNeutral,h=this.config.oppTierWeight;let t=i.overall+(i.oppTierScore-_)*h,r=s.overall+(s.oppTierScore-_)*h;const l=this.calculatePhysicalAdvantage(i,s);t*=1+l.f1Advantage,r*=1+l.f2Advantage,t*=this.calculateAgeImpact(i),r*=this.calculateAgeImpact(s);const w=this.getInactiveMonths(i),d=this.getInactiveMonths(s);if(w>=this.config.inactivityThreshold){const I=Math.min((w-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);t*=1-I}if(d>=this.config.inactivityThreshold){const I=Math.min((d-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);r*=1-I}const F=this.getFightsInPeriod(i,18),V=this.getFightsInPeriod(s,18);F>=this.config.activityBonusThreshold&&(t*=1+this.config.activityBonus),V>=this.config.activityBonusThreshold&&(r*=1+this.config.activityBonus);const z=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,D=s.rawData.Number_of_Fights_36m>0?s.rawData.win/s.rawData.Number_of_Fights_36m*100:0,X=this.calculateMomentum(i),q=this.calculateMomentum(s);t*=1+X,r*=1+q;let $=this.config.winRateWeightNormal,ne=this.config.winRateWeightNormal;z>=this.config.winRateHighThreshold?$=this.config.winRateWeightHigh:z<this.config.winRateLowThreshold&&($=this.config.winRateWeightLow),D>=this.config.winRateHighThreshold?ne=this.config.winRateWeightHigh:D<this.config.winRateLowThreshold&&(ne=this.config.winRateWeightLow);const Z=t+z*$,be=r+D*ne,G=this.calculateAge(i),f=this.calculateAge(s),E=G-f;let P=Z,te=be;if(Math.abs(E)>=this.config.relativeAgeThreshold){const I=Math.min(Math.abs(E)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);E>0?(P=Z*(1-I),te=be*(1+I)):(P=Z*(1+I),te=be*(1-I))}const Q=Math.abs(P-te);if(Q>this.config.amplificationThreshold){const I=1+(Q-this.config.amplificationThreshold)*this.config.amplificationRate;P>te?P*=I:te*=I}const N=P+te;let Y=N>0?Math.round(P/N*100):50,W=N>0?Math.round(te/N*100):50;if(Y=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,Y)),W=100-Y,Y>W){let I=this.getWinReasoningKey(i,s,z,D);return{winner:i,probability:Y,reasoningKey:I,adjustedScore1:P,adjustedScore2:te}}else{let I=this.getWinReasoningKey(s,i,D,z);return{winner:s,probability:W,reasoningKey:I,adjustedScore1:te,adjustedScore2:P}}}predictWinnerAndMethod(i,s){let _=i.probability/100*(s.probability/100)*100;const h=i.winner,t=s.method,r=s.methodKey,l=h.name,w=`combat_analysis.winner_and_method.${r.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:l,predictionKey:w,confidence:Math.round(_),confidenceLevel:this.getConfidenceLevel(_),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:h.name,method:t,methodKey:w,winnerProb:i.probability,methodProb:s.probability,compositeProb:_},priority:2.5}}predictMethodGivenWinner(i,s,_,h=3){const t=_.winner,r=t===i?s:i,l=hi.loadDivisionCoefficients(),w=t.division,d=l.get(w),F=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,V=r.overall+(r.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,z=Math.abs(F-V),D=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,X=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,q=t===i?D:X,$=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,ne=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,Z=t===i?$:ne,be=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,G=s.rawData.Number_of_Fights_36m>0?s.rawData.win_sub/s.rawData.Number_of_Fights_36m*100:0,f=t===i?be:G,E=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_kotko/r.rawData.Number_of_Fights_36m*100:0,P=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_sub/r.rawData.Number_of_Fights_36m*100:0,te=E+P,Q=te,N=r.rawData.Number_of_Fights_36m>0?r.rawData.loss_decision/r.rawData.Number_of_Fights_36m*100:0;let Y=z*this.config.skillGapWeight+q*this.config.finishRateWeight+te*this.config.vulnerabilityWeight;const W=N*this.config.loserDecisionRateWeight/10;Y-=W,N<this.config.methodDecisionRateFinisherThreshold&&(Y+=this.config.methodDecisionRateFinisherBonus);const I=Z>f&&E>P,ye=f>Z&&P>E;(I||ye)&&(Y+=this.config.methodMatchBonus),t.rawData.Number_of_Fights_36m>=this.config.methodHighPaceMinFights&&q>=this.config.methodHighPaceMinFinish&&q<=this.config.methodHighPaceMaxFinish&&(Y+=this.config.highPaceFinishBonus),Math.max(Z,f)>this.config.methodStyleStrengthThreshold&&te>this.config.methodLoserVulnThreshold&&(Y+=this.config.styleStrengthBonus),q>this.config.methodStrongFinisherWinnerThreshold&&Q>this.config.methodStrongFinisherLoserThreshold&&(Y+=this.config.finisherVsVulnerableBonus);const x=t.archetype?.combinedRole||"",re=r.archetype?.combinedRole||"",Me=x.includes("AT")||x.includes("ANT"),Ee=re.includes("PT")||re.includes("PNT");Me&&Ee&&q>30&&te>25&&(Y+=this.config.predatorVsDefensiveBonus);const B=r===i?D:X,ae=Math.min(q,B),Re=Math.max(q,B);if(ae>this.config.bothFinishersThreshold&&Re>this.config.bothFinishersThreshold&&(Y*=this.config.bothFinishersMultiplier),d&&d.sampleSize>=this.config.divisionMinSampleSize&&this.config.divisionBlendFinishLikelihood>0){const b=d.stats.finishRate*100;Y=Y*(1-this.config.divisionBlendFinishLikelihood)+b*this.config.divisionBlendFinishLikelihood}if(Y<this.config.finishLikelihoodThreshold){let b=Math.min(Math.round(100-Y),this.config.decisionBaseMax),ie=this.config.decisionBaseMax;if(ae>this.config.decisionCapHighFinishThreshold){const Ne=this.config.decisionCapPenaltyBase+(ae-this.config.decisionCapHighFinishThreshold)/this.config.decisionCapPenaltyDivisor*this.config.decisionCapPenaltyScale;ie=Math.max(ie-Ne,this.config.decisionMinFloor)}else ae>this.config.decisionCapMedFinishThreshold?ie=Math.max(ie-this.config.decisionCapMedPenalty,this.config.decisionMinFloor+4):ae>this.config.decisionCapLowFinishThreshold&&(ie=Math.max(ie-this.config.decisionCapLowPenalty,this.config.decisionMinFloor+2));return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(b,ie),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:D,finishRate2:X}}let le=Z*this.config.koThreatWinnerWeight+E*this.config.koThreatLoserWeight,_e=f*this.config.subThreatWinnerWeight+P*this.config.subThreatLoserWeight;if(d&&d.sampleSize>=this.config.divisionMinSampleSize){if(this.config.divisionBlendKOThreat>0){const b=d.stats.koRate*100;le=le*(1-this.config.divisionBlendKOThreat)+b*this.config.divisionBlendKOThreat}if(this.config.divisionBlendSubThreat>0){const b=d.stats.submissionRate*100;_e=_e*(1-this.config.divisionBlendSubThreat)+b*this.config.divisionBlendSubThreat}}if(d&&d.sampleSize>=this.config.divisionMinSampleSize){const b=Math.abs(le-_e),ie=d.stats.koRate*100,Ne=d.stats.submissionRate*100,Ge=ie-Ne;b<this.config.divisionThreatDiffThreshold&&Math.abs(Ge)>this.config.divisionPreferenceThreshold&&(Ge>0?le+=this.config.divisionTiebreakerBoost:_e+=this.config.divisionTiebreakerBoost)}const $e=P-E;$e>this.config.subVulnDiffHighThreshold?_e+=this.config.subVulnDiffHighBonus:$e>this.config.subVulnDiffMedThreshold&&(_e+=this.config.subVulnDiffMedBonus);const Le=E-P;Le>this.config.koVulnDiffHighThreshold?le+=this.config.koVulnDiffHighBonus:Le>this.config.koVulnDiffMedThreshold&&(le+=this.config.koVulnDiffMedBonus);const xe=t.fightRadar.STR_OFF-r.fightRadar.STR_OFF;if(xe>this.config.strOffGapLowThreshold){const b=xe>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:xe>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;le+=b}const Pe=t.fightRadar.CTRL-r.fightRadar.CTRL;if(Pe>this.config.ctrlGapLowThreshold){const b=Pe>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:Pe>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;_e+=b}const Ae=t.fightRadar.TD_OFF-r.fightRadar.TD_OFF;if(Ae>this.config.tdOffGapLowThreshold){const b=Ae>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:Ae>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;_e+=b}const Ve=Z>f&&E>P,We=f>Z&&P>E,we=Math.abs(le-_e),Oe=Math.abs(Z-f);if(we<3?Oe<5?E>P:Ve&&!We||le>_e&&!We:le>_e){let b=Math.round(Y+le*.35);return z>10&&(b+=this.config.koSkillGapBonus),E>30&&(b+=this.config.koLoserVulnBonus),Z>50&&(b+=this.config.koWinnerRateBonus),Z>60&&E>25&&(b+=this.config.koComboBonus),Ve&&Z>this.config.koMethodMatchWinnerThreshold&&E>this.config.koMethodMatchLoserThreshold&&(b+=this.config.koMethodMatchBonus),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(b,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:D,finishRate2:X}}else{let b=Math.min(Math.round(Y+_e*.35),this.config.subMaxProb);return z>10&&(b+=this.config.subSkillGapBonus),P>24&&(b+=this.config.subLoserVulnBonus),f>40&&(b+=this.config.subWinnerRateBonus),f>50&&P>20&&(b+=this.config.subComboBonus),We&&f>this.config.subMethodMatchWinnerThreshold&&P>this.config.subMethodMatchLoserThreshold&&(b+=this.config.subMethodMatchBonus),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(b,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:D,finishRate2:X}}}predictTotalRounds(i,s,_,h=3){const t=_.winner,r=t===i?s:i,l=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.durationOppTierWeight,w=r.overall+(r.oppTierScore-this.config.oppTierNeutral)*this.config.durationOppTierWeight,d=Math.abs(l-w),F=(i.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,V=(s.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,z=t===i?F:V,D=t===i?V:F,X=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,q=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,$=t===i?X:q,ne=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,Z=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,be=t===i?ne:Z,G=r.rawData.Number_of_Fights_36m>0?(r.rawData.loss_kotko+r.rawData.loss_sub)/r.rawData.Number_of_Fights_36m*100:0;let f=d*this.config.durationSkillGapWeight+$*this.config.durationFinishRateWeight+G*this.config.durationVulnerabilityWeight+(15-Math.min(z,15))*this.config.durationAvgTimeWeight*10;G>this.config.durationLoserVulnThreshold&&(f+=this.config.loserVulnBonus),X<this.config.durationBothLowFinishThreshold&&q<this.config.durationBothLowFinishThreshold&&(f-=this.config.decisionFighterPenalty);const E=i.rawData.Number_of_Fights_36m,P=s.rawData.Number_of_Fights_36m;Math.abs(E-P)>=this.config.durationPaceAsymmetryThreshold&&Math.min(E,P)<=2&&(f-=this.config.durationPaceAsymmetryPenalty);const Q=(F+V)/2,N=[],Y=$>this.config.extremeFinishWinnerThreshold1&&G>this.config.extremeFinishLoserThreshold1&&d>this.config.extremeFinishSkillGap1||$>this.config.extremeFinishWinnerThreshold2&&G>this.config.extremeFinishLoserThreshold2||d>this.config.extremeFinishSkillGap3&&$>this.config.extremeFinishWinnerThreshold3;if(f>this.config.under15ScoreThreshold&&_.probability>this.config.under15WinProbThreshold&&Y||z<this.config.under15WinnerTimeThreshold&&D<this.config.under15LoserTimeThreshold&&d>this.config.under15SkillGapThreshold){let W=Math.min(Math.round(f+this.config.durationUnderExtreme),this.config.under15InitialCap);d>this.config.under15SkillGapExtreme&&(W+=this.config.durationUnderSkillGapExtreme),$>this.config.under15FinishRateExtreme&&(W+=this.config.durationUnderFinishRateExtreme),G>this.config.under15VulnExtreme&&(W+=this.config.durationUnderLoserVulnExtreme);const I=Math.min(W,this.config.under15FinalCap);N.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:I,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:z})}if(h===5){const W=$>this.config.under25FinishThreshold1&&G>this.config.under25LoserFinishThreshold1||be>this.config.under25KOThreshold&&z<this.config.under25AvgTimeThreshold,I=z<this.config.under25WinnerTimeThreshold&&D<this.config.under25LoserTimeThreshold;if(f>this.config.earlyFinishScoreThreshold&&_.probability>this.config.under25WinProbMin||W){let ye=Math.min(Math.round(f+this.config.underBonusBase),this.config.under25InitialCap);d>this.config.under25SkillGapThreshold&&(ye+=this.config.durationUnderSkillGapBonus),G>this.config.under25VulnThreshold&&(ye+=this.config.durationUnderLoserVulnBonus),$>this.config.under25WinnerFinishThreshold&&(ye+=this.config.durationUnderWinnerFinishBonus),$>this.config.under25ComboWinnerThreshold&&G>this.config.under25ComboLoserThreshold&&(ye+=this.config.durationUnderComboBonus);const qe=Math.min(ye,this.config.under25FinalCap);I&&N.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:qe,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:z})}}if(h===3){let W=this.config.over15BaseProbability;f>this.config.over15HighThreatThreshold&&(W=this.config.over15HighThreatValue),f>this.config.over15MedThreatLowThreshold&&f<=this.config.over15MedThreatHighThreshold&&(W=this.config.over15MedThreatValue),f<this.config.over15LowThreatThreshold&&(W=this.config.over15LowThreatValue),f<this.config.over15VeryLowThreatThreshold&&(W=this.config.over15VeryLowThreatValue),$>this.config.over15FinisherThreshold&&(W+=this.config.over15FinisherPenalty),$<this.config.over15DecisionThreshold&&(W+=this.config.over15DecisionBoost),$<this.config.over15DualDecisionThreshold1&&G<this.config.over15DualDecisionThreshold2&&(W+=this.config.over15DualDecisionBoost),Q>this.config.over15LongTimeThreshold&&(W=Math.min(W+this.config.over15LongTimeBoost,this.config.over15MaxProbability));const I=Math.min(Math.max(Math.round(W),this.config.over15MinProbability),this.config.over15MaxProbability);N.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:I,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:Q})}if(h===5){let W=this.config.over15BaseProbability;f>this.config.over15HighThreatThreshold&&(W=this.config.over15HighThreatValue),f>this.config.over15MedThreatLowThreshold&&f<=this.config.over15MedThreatHighThreshold&&(W=this.config.over15MedThreatValue),f<this.config.over15LowThreatThreshold&&(W=this.config.over15LowThreatValue),f<this.config.over15VeryLowThreatThreshold&&(W=this.config.over15VeryLowThreatValue),$>this.config.over15FinisherThreshold&&(W+=this.config.over15FinisherPenalty),$<this.config.over15DecisionThreshold&&(W+=this.config.over15DecisionBoost),$<this.config.over15DualDecisionThreshold1&&G<this.config.over15DualDecisionThreshold2&&(W+=this.config.over15DualDecisionBoost);const I=Math.min(Math.max(Math.round(W),this.config.over15MinProbability),this.config.over15MaxProbability);N.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:I,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:Q});const ye=$<this.config.over35DecisionThreshold1&&G<this.config.over35DecisionThreshold2&&Q>this.config.over35AvgTimeThreshold,qe=f<this.config.over35LowFinishThreshold,je=Q>this.config.over35LongTimeThreshold;if(ye||qe||je){let x=this.config.over35BaseProbability;$<this.config.over35PureDecisionThreshold&&G<this.config.over35PureDecisionThreshold&&(x=this.config.over35PureDecisionValue),$<this.config.over35ExtremeDecisionThreshold&&G<this.config.over35ExtremeDecisionThreshold&&(x=this.config.over35ExtremeDecisionValue),je&&(x=Math.max(x,this.config.over35LongMinProbability),$<this.config.over35LongDecisionThreshold&&G<this.config.over35LongDecisionThreshold&&(x=Math.min(x+this.config.over35LongDecisionBoost,this.config.over35LongDecisionCap))),f>this.config.over35FinishPenaltyThreshold1&&(x+=this.config.over35FinishPenalty1),f>this.config.over35FinishPenaltyThreshold2&&(x+=this.config.over35FinishPenalty2);const re=Math.min(Math.max(Math.round(x),this.config.over35MinProbability),this.config.over35MaxProbability);N.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:re,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:Q})}}return N.sort((W,I)=>I.probability-W.probability),N[0]}generateFightProps(i,s,_,h=3){const t=this.calculateBettingMetrics(i,s,_);this.hasDominantGrappler(i,s),this.isStrikerWar(i,s);const r=6;return t.f1SubRate+t.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:t}:t.weightedFinishRate&&t.weightedFinishRate>60&&t.weightedAvgFightTime&&t.weightedAvgFightTime<r?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:t}:t.f1KnockdownRate>.6&&t.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:t}:t.f1TakedownRate>15||t.f2TakedownRate>15?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:t}:t.f1StrikeVolume>120&&t.f2StrikeVolume>120?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:t}:t.f1TakedownRate<5&&t.f2TakedownRate<5?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:t}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:t}}analyzeKeyFactors(i,s){const _=[],h=i.rawData.reach_inches||0,t=s.rawData.reach_inches||0,r=Math.abs(h-t);if(r>2){const D=h>t?i.name||"Fighter 1":s.name||"Fighter 2";_.push({label:"combat_analysis.key_factors.reach_advantage",value:`${D} +${r}"`,type:"advantage"})}const l=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0,w=s.rawData.Sig_Strikes_Thrown>0?Math.round(s.rawData.Sig_Strikes_Landed/s.rawData.Sig_Strikes_Thrown*100):0;_.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${i.name||"F1"}: ${l}% vs ${s.name||"F2"}: ${w}%`,type:"comparison"});const d=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85,F=s.rawData.takedowns_attempted_against>0?Math.round(s.rawData.Takedowns_Defended/s.rawData.takedowns_attempted_against*100):85;_.push({label:"combat_analysis.key_factors.takedown_defense",value:`${i.name||"F1"}: ${d}% vs ${s.name||"F2"}: ${F}%`,type:"comparison"});const V=i.rawData.Number_of_Fights_36m||0,z=s.rawData.Number_of_Fights_36m||0;if(Math.abs(V-z)>2){const D=V>z?i.name||"Fighter 1":s.name||"Fighter 2",X=Math.max(V,z),q=Math.min(V,z);_.push({label:"combat_analysis.key_factors.higher_activity",value:`${D}: ${X} vs ${q} fights`,type:"advantage"})}return _}analyzeTrends(i,s){const _=[],h=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0,t=s.rawData.Number_of_Fights_36m>0?Math.round(s.rawData.win/s.rawData.Number_of_Fights_36m*100):0;h>=75?_.push({type:"positive",text:`${i.name||"Fighter 1"} has ${h}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 1",winRate:h},fighter:i.name}):h<50&&_.push({type:"negative",text:`${i.name||"Fighter 1"} struggling at ${h}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 1",winRate:h},fighter:i.name}),t>=75?_.push({type:"positive",text:`${s.name||"Fighter 2"} has ${t}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:s.name||"Fighter 2",winRate:t},fighter:s.name}):t<50&&_.push({type:"negative",text:`${s.name||"Fighter 2"} struggling at ${t}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:s.name||"Fighter 2",winRate:t},fighter:s.name});const r=(i.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60,w=(r+l)/2;return _.push({type:"neutral",text:`Combined average fight time: ${w.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:w.toFixed(1)}}),_}calculateMomentum(i){const s=i.streak;if(s===0)return 0;const _=Math.abs(s);return s>0?_>=3?this.config.winStreak3PlusBonus:_>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:_>=3?-this.config.loseStreak3PlusPenalty:_>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(i){return i===0?1:i===1?this.config.damageMultiplier1KO:i===2?this.config.damageMultiplier2KO:i===3?this.config.damageMultiplier3KO:i===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(i){const s=this.calculateAge(i),h={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[i.division]||32,t=i.rawData.loss_kotko||0,r=this.calculateDamageMultiplier(t),l=(s-h)*r;if(l<=0)return 1;let w=0;return l<=5?w=l*this.config.agePenaltyPhase1Rate:l<=10?w=5*this.config.agePenaltyPhase1Rate+(l-5)*this.config.agePenaltyPhase2Rate:w=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(l-10)*this.config.agePenaltyPhase3Rate,w=Math.min(w,this.config.agePenaltyMaxCap),1-w}calculateAge(i){if(i.age&&i.age>0)return i.age;if(i.birthDate||i.rawData.Birth_Date){const t=i.birthDate||i.rawData.Birth_Date,r=new Date(t);if(!isNaN(r.getTime())){const l=new Date;let w=l.getFullYear()-r.getFullYear();const d=l.getMonth()-r.getMonth();return(d<0||d===0&&l.getDate()<r.getDate())&&w--,w}}const s=25,_=2.5,h=i.rawData.Number_of_Fights_36m||0;return Math.round(s+h/_)}getInactiveMonths(i){const s=i.rawData.Number_of_Fights_36m||0;return s>=3?0:s>=2?6:s>=1?12:24}getFightsInPeriod(i,s){const _=s/36;return Math.round((i.rawData.Number_of_Fights_36m||0)*_)}getWeightedMetric(i,s,_,h,t=.5){const r=_.probability/100,l=1-r;return _.winner===h?i*r+s*l*t:s*r+i*l*t}getFighterStyle(i){const s=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,_=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,h=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0;return s>15||_>25?"grappler":h>30&&s<10?"striker":"balanced"}hasDominantGrappler(i,s){const _=this.getFighterStyle(i),h=this.getFighterStyle(s),t=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,r=s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0;return _==="grappler"&&t>20||h==="grappler"&&r>20}isStrikerWar(i,s){return this.getFighterStyle(i)==="striker"&&this.getFighterStyle(s)==="striker"}calculateBettingMetrics(i,s,_){const h=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,t=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,r=(i.rawData.Fight_Duration_Seconds||900)/60,l=(s.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f2KnockdownRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Knockdowns/s.rawData.Number_of_Fights_36m:0,f1StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:s.rawData.Sig_Strikes_Thrown||0,f1SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f2SubRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Sub_Attempts/s.rawData.Number_of_Fights_36m:0,f1FinishRate:h,f2FinishRate:t,avgFightTime:(r+l)/2,weightedFinishRate:_?this.getWeightedMetric(h,t,_,i,.5):void 0,weightedAvgFightTime:_?this.getWeightedMetric(r,l,_,i,1):void 0}}getWinReasoningKey(i,s,_,h){return i.overall>s.overall+20?"combat_analysis.reasoning.significant_rating_advantage":i.performance>s.performance+10?"combat_analysis.reasoning.significant_performance_advantage":i.fightIQ>s.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":_>h+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(i){return i>=hi.MIN_HIGH_CONFIDENCE?"high":i>=hi.MIN_MEDIUM_CONFIDENCE?"medium":(i>=hi.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(i){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:i.winner.name||"Unknown Fighter",confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{adjustedScore1:i.adjustedScore1,adjustedScore2:i.adjustedScore2},priority:1}}createVictoryMethodCard(i){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:i.method,predictionKey:i.methodKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{method:i.method,finishRate1:i.finishRate1,finishRate2:i.finishRate2},priority:2}}createTotalRoundsCard(i){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:i.prediction,predictionKey:i.predictionKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{avgTime:i.avgTime},priority:3}}createFightPropsCard(i){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:i.prop,predictionKey:i.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{value:i.value,valueKey:i.valueKey,metrics:i.metrics},priority:7}}createKeyFactorsCard(i){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:i},priority:8}}createTrendsCard(i){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:i},priority:9}}createNoPredictionCard(i,s,_,h,t,r,l){if(i==="insufficient_fights"&&s&&_){const w=(h||0)<=2,d=(t||0)<=2;let F="";return w&&d?F=`Both fighters have insufficient fight data: ${s.name} (${h} fights) and ${_.name} (${t} fights). Minimum 3 fights required for accurate predictions.`:w?F=`${s.name} has insufficient fight data (${h} fights). Minimum 3 fights required for accurate predictions.`:d&&(F=`${_.name} has insufficient fight data (${t} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:F,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:h,fighter2Fights:t}}}if(i==="different_divisions"&&s&&_)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${s.name} competes in ${s.division} while ${_.name} competes in ${_.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:s.division,fighter2Division:_.division}};if(i==="low_moneyline_confidence"&&s&&_){const w=r||0,d=l||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${s.name} ${w.toFixed(1)}% vs ${_.name} ${d.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:s.name,fighter2Name:_.name,fighter1Probability:w,fighter2Probability:d}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(i){return i.some(s=>(s.type==="moneyline"||s.type==="victory_method"||s.type==="duration"||s.type==="winner_and_method"||s.type==="fight_props")&&s.confidence>=hi.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(i){return i.sort((s,_)=>s.priority-_.priority)}}const ma=new hi;var ba=C('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),ya=C('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),wa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ta=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Da=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ra=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),ka=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Fa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),xa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ma=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Sa=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ca=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Pa=C('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ka=C('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),La=C('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Oa=C("<div><!></div>"),Na=C('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),Ba=C('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function Ea(H,i){yi(i,!1);const[s,_]=xi(),h=()=>_i(Wt,"$locale",s),t=()=>_i(Mi,"$_",s),r=y(),l=y(),w=y(),d=y(),F=y(),V=y(),z=y(),D=y(),X=y(),q=y(),$=y(),ne=y(),Z=y(),be=y(),G=y(),f=y(),E=y(),P=y(),te=Ot();let Q=ze(i,"fighter1",8,null),N=ze(i,"fighter2",8,null),Y=ze(i,"scheduledRounds",8,3);function W(Me){te("roundsChanged",Me)}function I(Me,Ee){return Me.filter(B=>B.type===Ee)}function ye(Me){switch(Me){case Fi.HIGH:return"high-confidence";case Fi.MEDIUM:return"medium-confidence";case Fi.LOW:return"low-confidence";default:return""}}let qe=h();j(()=>(L(Q()),L(N())),()=>{u(r,Q()&&N())}),j(()=>(e(r),L(Q()),L(N()),L(Y())),()=>{u(l,e(r)?ma.generateBetCards(Q(),N(),!0,Y()):[])}),j(()=>(e(r),L(Q()),L(N()),e(l),gi),()=>{e(r)&&Q()&&N()&&e(l).length>0&&gi.trackBettingAnalysis(Q().name,N().name)}),j(()=>(e(l),me),()=>{u(w,I(e(l),me.MONEYLINE))}),j(()=>(e(l),me),()=>{u(d,I(e(l),me.VICTORY_METHOD))}),j(()=>(e(l),me),()=>{u(F,I(e(l),me.WINNER_AND_METHOD))}),j(()=>(e(l),me),()=>{u(V,I(e(l),me.DURATION))}),j(()=>(e(l),me),()=>{u(z,I(e(l),me.GOES_TO_DECISION))}),j(()=>(e(l),me),()=>{u(D,I(e(l),me.GONE_IN_60))}),j(()=>(e(l),me),()=>{u(X,I(e(l),me.FIGHT_PROPS))}),j(()=>(e(l),me),()=>{u(q,I(e(l),me.KEY_FACTORS))}),j(()=>(e(l),me),()=>{u($,I(e(l),me.TRENDS))}),j(()=>(e(l),me),()=>{u(ne,I(e(l),me.NO_PREDICTION))}),j(()=>(e(w),e(d),e(F),e(V),e(z),e(D)),()=>{u(Z,e(w).length+e(d).length+e(F).length+e(V).length+e(z).length+e(D).length)}),j(()=>e(Z),()=>{u(be,e(Z)>0)}),j(()=>e(be),()=>{u(G,e(be)?0:1)}),j(()=>(e(X),e(q),e($)),()=>{u(f,e(X).length+e(q).length+e($).length)}),j(()=>(e(Z),e(G),e(f)),()=>{u(E,e(Z)+e(G)+e(f))}),j(()=>h(),()=>{h()!==qe&&qe&&window.location.reload()}),j(()=>e(r),()=>{u(P,e(r))}),wi(),Ti();var je=ai(),x=Ie(je);{var re=Me=>{var Ee=Ba(),B=a(Ee),ae=a(B),Re=a(ae),le=a(Re);it(le,{size:32});var _e=c(Re),$e=c(ae,4),Le=a($e),xe=c(B,2),Pe=a(xe),Ae=a(Pe),Ve=a(Ae),We=c(Ae,2),we=a(We),Oe=c(We,2),ce=a(Oe),b=c(Pe,4),ie=a(b),Ne=a(ie),Ge=c(ie,2),si=a(Ge),ei=c(Ge,2),ni=a(ei),ii=c(xe,2);{var oi=T=>{var o=ba(),R=a(o),K=a(R),U=c(R,2),S=a(U),M=c(S,2);A(O=>{g(K,`${O??""}:`),He(S,1,`rounds-btn ${Y()===3?"active":""}`,"svelte-1v78qb8"),He(M,1,`rounds-btn ${Y()===5?"active":""}`,"svelte-1v78qb8")},[()=>(t(),n(()=>t()("fight_radar.scheduled_rounds")))]),Be("click",S,()=>W(3)),Be("click",M,()=>W(5)),m(T,o)};ee(ii,T=>{e(Z)>0&&T(oi)})}var ke=c(ii,2);let Se;var Ue=a(ke);Qe(Ue,1,()=>e(ne),Je,(T,o)=>{var R=ya(),K=a(R),U=a(K);Pi(U,{size:16,style:"display: inline; margin-right: 0.25rem;"});var S=c(U),M=c(K,2),O=a(M),se=a(O),ue=c(O,2),Te=a(ue),de=c(M,2),he=a(de);A((oe,Fe,pe,ve)=>{g(S,` ${oe??""}`),g(se,Fe),g(Te,pe),g(he,ve)},[()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.confidence_threshold"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey,{values:e(o).metadata||{}})))]),m(T,R)});var li=c(Ue,2);Qe(li,1,()=>e(w),Je,(T,o)=>{var R=wa(),K=a(R),U=a(K),S=c(K,2),M=a(S),O=a(M),se=c(M,2),ue=a(se),Te=c(S,2),de=a(Te);A((he,oe,Fe,pe)=>{He(R,1,`bet-card moneyline ${he??""}`,"svelte-1v78qb8"),g(U,oe),g(O,(e(o),n(()=>e(o).prediction))),g(ue,`${e(o),n(()=>e(o).confidence)??""}% ${Fe??""}`),g(de,pe)},[()=>(e(o),n(()=>ye(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(T,R)});var ti=c(li,2);Qe(ti,1,()=>e(d),Je,(T,o)=>{var R=Ta(),K=a(R),U=a(K),S=c(K,2),M=a(S),O=a(M),se=c(M,2),ue=a(se),Te=c(S,2),de=a(Te);A((he,oe,Fe,pe,ve)=>{He(R,1,`bet-card method-victory ${he??""}`,"svelte-1v78qb8"),g(U,oe),g(O,Fe),g(ue,`${e(o),n(()=>e(o).confidence)??""}% ${pe??""}`),g(de,ve)},[()=>(e(o),n(()=>ye(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(T,R)});var di=c(ti,2);Qe(di,1,()=>e(F),Je,(T,o)=>{var R=Da(),K=a(R),U=a(K),S=c(K,2),M=a(S),O=a(M),se=c(M,2),ue=a(se),Te=c(S,2),de=a(Te);A((he,oe,Fe,pe,ve)=>{He(R,1,`bet-card winner-and-method ${he??""}`,"svelte-1v78qb8"),g(U,oe),g(O,`${e(o),n(()=>e(o).prediction)??""}
              ${Fe??""}`),g(ue,`${e(o),n(()=>e(o).confidence)??""}% ${pe??""}`),g(de,ve)},[()=>(e(o),n(()=>ye(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):"")),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(T,R)});var ci=c(di,2);Qe(ci,1,()=>e(V),Je,(T,o)=>{var R=Fa(),K=a(R),U=a(K),S=c(K,2),M=a(S),O=a(M),se=c(M,2),ue=a(se),Te=c(S,2),de=a(Te),he=c(Te,2);{var oe=pe=>{var ve=Ra(),Ye=a(ve);A(Xe=>g(Ye,Xe),[()=>(t(),e(o),n(()=>t()(e(o).explanationKey)))]),m(pe,ve)},Fe=pe=>{var ve=ai(),Ye=Ie(ve);{var Xe=Ze=>{var ri=ka(),ui=a(ri);A(()=>g(ui,(e(o),n(()=>e(o).explanation)))),m(Ze,ri)};ee(Ye,Ze=>{e(o),n(()=>e(o).explanation)&&Ze(Xe)},!0)}m(pe,ve)};ee(he,pe=>{e(o),n(()=>e(o).explanationKey)?pe(oe):pe(Fe,!1)})}A((pe,ve,Ye,Xe,Ze)=>{He(R,1,`bet-card total-rounds ${pe??""}`,"svelte-1v78qb8"),g(U,ve),g(O,Ye),g(ue,`${e(o),n(()=>e(o).confidence)??""}% ${Xe??""}`),g(de,Ze)},[()=>(e(o),n(()=>ye(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(T,R)});var v=c(ci,2);Qe(v,1,()=>e(z),Je,(T,o)=>{var R=xa(),K=a(R),U=a(K),S=c(K,2),M=a(S),O=a(M),se=c(M,2),ue=a(se),Te=c(S,2),de=a(Te);A((he,oe,Fe,pe,ve)=>{He(R,1,`bet-card decision-type ${he??""}`,"svelte-1v78qb8"),g(U,oe),g(O,Fe),g(ue,`${e(o),n(()=>e(o).confidence)??""}% ${pe??""}`),g(de,ve)},[()=>(e(o),n(()=>ye(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(T,R)});var p=c(v,2);Qe(p,1,()=>e(D),Je,(T,o)=>{var R=Ma(),K=a(R),U=a(K),S=c(K,2),M=a(S),O=a(M),se=c(M,2),ue=a(se),Te=c(S,2),de=a(Te);A((he,oe,Fe,pe,ve)=>{He(R,1,`bet-card gone-in-60 ${he??""}`,"svelte-1v78qb8"),g(U,oe),g(O,Fe),g(ue,`${e(o),n(()=>e(o).confidence)??""}% ${pe??""}`),g(de,ve)},[()=>(e(o),n(()=>ye(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(T,R)});var k=c(p,2);Qe(k,1,()=>e(X),Je,(T,o)=>{var R=Pa(),K=a(R),U=a(K);et(U,{size:16,style:"display: inline; margin-right: 0.25rem;"});var S=c(U),M=c(K,2),O=a(M),se=a(O),ue=c(O,2),Te=a(ue),de=c(M,2),he=a(de),oe=c(de,2);{var Fe=ve=>{var Ye=Sa(),Xe=a(Ye);A(Ze=>g(Xe,Ze),[()=>(t(),e(o),n(()=>t()(e(o).explanationKey)))]),m(ve,Ye)},pe=ve=>{var Ye=ai(),Xe=Ie(Ye);{var Ze=ri=>{var ui=Ca(),Ri=a(ui);A(()=>g(Ri,(e(o),n(()=>e(o).explanation)))),m(ri,ui)};ee(Xe,ri=>{e(o),n(()=>e(o).explanation)&&ri(Ze)},!0)}m(ve,Ye)};ee(oe,ve=>{e(o),n(()=>e(o).explanationKey)?ve(Fe):ve(pe,!1)})}A((ve,Ye,Xe,Ze,ri)=>{g(S,` ${ve??""}`),g(se,Ye),g(Te,`${Xe??""}: ${Ze??""}`),g(he,ri)},[()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.value"))),()=>(e(o),t(),n(()=>e(o).metadata?.valueKey?t()(e(o).metadata.valueKey):e(o).metadata?.value||"N/A")),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),m(T,R)});var J=c(k,2);Qe(J,1,()=>e(q),Je,(T,o)=>{var R=La(),K=a(R),U=a(K),S=c(K,2);Qe(S,5,()=>(e(o),n(()=>e(o).metadata?.factors||[])),Je,(M,O)=>{var se=Ka(),ue=a(se),Te=a(ue),de=c(ue,2),he=a(de);A(oe=>{g(Te,oe),g(he,(e(O),n(()=>e(O).value)))},[()=>(t(),e(O),n(()=>t()(e(O).label)))]),m(M,se)}),A(M=>g(U,M),[()=>(t(),e(o),n(()=>t()(e(o).titleKey)))]),m(T,R)});var fe=c(J,2);Qe(fe,1,()=>e($),Je,(T,o)=>{var R=Na(),K=a(R),U=a(K),S=c(K,2);Qe(S,5,()=>(e(o),n(()=>e(o).metadata?.trends||[])),Je,(M,O)=>{var se=Oa(),ue=a(se);{var Te=he=>{var oe=pi();A(Fe=>g(oe,Fe),[()=>(t(),e(O),n(()=>t()(e(O).textKey,{values:e(O).params||{}})))]),m(he,oe)},de=he=>{var oe=pi();A(()=>g(oe,(e(O),n(()=>e(O).text)))),m(he,oe)};ee(ue,he=>{e(O),n(()=>e(O).textKey)?he(Te):he(de,!1)})}A(()=>He(se,1,`trend-item ${e(O),n(()=>e(O).type)??""}`,"svelte-1v78qb8")),m(M,se)}),A(M=>g(U,M),[()=>(t(),e(o),n(()=>t()(e(o).titleKey)))]),m(T,R)});var De=c(ke,2),Ke=a(De),Ce=a(Ke);A((T,o,R,K)=>{g(_e,` ${T??""}`),g(Le,o),g(Ve,(L(Q()),n(()=>Q().name))),g(we,`${L(Q()),n(()=>Q().rawData.win)??""}-${L(Q()),n(()=>Q().rawData.loss)??""}-${L(Q()),n(()=>Q().rawData.draws)??""}`),g(ce,(L(Q()),n(()=>Q().archetype.archetypeEmojis))),g(Ne,(L(N()),n(()=>N().name))),g(si,`${L(N()),n(()=>N().rawData.win)??""}-${L(N()),n(()=>N().rawData.loss)??""}-${L(N()),n(()=>N().rawData.draws)??""}`),g(ni,(L(N()),n(()=>N().archetype.archetypeEmojis))),Se=He(ke,1,"betting-grid svelte-1v78qb8",null,Se,R),g(Ce,`* ${K??""}`)},[()=>(t(),n(()=>t()("combat_analysis.fight_analysis"))),()=>(t(),n(()=>t()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(E)<=3}),()=>(t(),n(()=>t()("combat_analysis.disclaimer")))]),m(Me,Ee)};ee(x,Me=>{e(P)&&Me(re)})}m(H,je),Di(),_()}var $a=C('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),Wa=C('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Ia=C('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Aa=C('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),Va=C('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Ha=C('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),qa=C('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Ga=C('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Ua=C('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function ja(H,i){yi(i,!1);const s=y(),_=y(),h=y(),t=y();let r=ze(i,"channelId",8),l=y([]),w=y(!0),d=y(null),F=y(0),V=y(!1),z=y(null),D=y(!0);function X(){e(l).length!==0&&(u(D,!0),Ai(F),e(F)>=e(l).length*2&&setTimeout(()=>{u(D,!1),u(F,e(l).length),setTimeout(()=>{u(D,!0)},50)},400))}function q(){e(l).length!==0&&(u(D,!0),Ai(F,-1),e(F)<e(l).length&&setTimeout(()=>{u(D,!1),u(F,e(l).length*2-1),setTimeout(()=>{u(D,!0)},50)},400))}function $(x){u(z,x)}let ne=0,Z=0,be=0,G=!1,f=!1,E=y(0),P=0;const te=40;function Q(x){e(V)&&(ne=x.touches[0].clientX,Z=x.touches[0].clientY,be=ne,G=!0,f=!1,u(D,!1),P=e(F),u(E,0))}function N(x){if(!e(V)||!G)return;const re=x.touches[0].clientX,Me=x.touches[0].clientY,Ee=Math.abs(re-ne),B=Math.abs(Me-Z);if(!f)if(Ee>te&&Ee>B)f=!0;else if(B>Ee&&B>10){G=!1,f=!1,u(D,!0),u(E,0);return}else return;if(f){be=re;const ae=be-ne,Re=x.currentTarget instanceof HTMLElement?x.currentTarget.clientWidth:window.innerWidth;u(E,-(ae/Re)*100),x.preventDefault()}}function Y(){if(!e(V)||!G)return;G=!1,f=!1,u(D,!0);const x=ne-be;Math.abs(x)>50?x>0?u(F,P+1):u(F,P-1):Math.abs(e(E))>40?u(F,P+(e(E)>0?1:-1)):u(F,P),e(F)>=e(l).length*2?setTimeout(()=>{u(D,!1),u(F,e(l).length),setTimeout(()=>{u(D,!0)},50)},400):e(F)<e(l).length&&setTimeout(()=>{u(D,!1),u(F,e(l).length*2-1),setTimeout(()=>{u(D,!0)},50)},400),u(E,0),ne=0,Z=0,be=0}function W(){const x=window.innerWidth;u(V,x<768)}tt(()=>(W(),window.addEventListener("resize",W),(async()=>{try{const x=await It.fetchVideosByChannelId(r(),!0);x.length===0?u(d,"No se encontraron videos para este canal"):(u(l,x),console.log(`Loaded ${e(l).length} videos from channel ${r()}`))}catch(x){console.error("Error fetching videos:",x),u(d,"Error al cargar los videos")}finally{u(w,!1)}})(),()=>{window.removeEventListener("resize",W)})),j(()=>e(V),()=>{u(s,e(V)?1:window.innerWidth>=1024?4:3)}),j(()=>(e(V),e(s)),()=>{u(_,e(V)?80:100/e(s))}),j(()=>e(V),()=>{u(h,e(V)?10:0)}),j(()=>e(l),()=>{u(t,e(l).length>0?[...e(l).map((x,re)=>({...x,_key:`prev-${re}`})),...e(l).map((x,re)=>({...x,_key:`curr-${re}`})),...e(l).map((x,re)=>({...x,_key:`next-${re}`}))]:[])}),j(()=>(e(l),e(F)),()=>{e(l).length>0&&e(F)===0&&u(F,e(l).length)}),wi(),Ti();var I=Ua(),ye=a(I);{var qe=x=>{var re=$a();m(x,re)},je=x=>{var re=ai(),Me=Ie(re);{var Ee=ae=>{var Re=Wa(),le=a(Re),_e=a(le);A(()=>g(_e,e(d))),m(ae,Re)},B=ae=>{var Re=ai(),le=Ie(Re);{var _e=$e=>{var Le=Ga(),xe=a(Le);{var Pe=ce=>{var b=Ia();Be("click",b,q),m(ce,b)};ee(xe,ce=>{e(l),n(()=>e(l).length>1)&&ce(Pe)})}var Ae=c(xe,2),Ve=a(Ae);let We;Qe(Ve,5,()=>e(t),ce=>ce._key,(ce,b)=>{var ie=Ha(),Ne=a(ie);{var Ge=ke=>{var Se=Aa(),Ue=a(Se);A(()=>{ge(Ue,"src",`${e(b),n(()=>e(b).embedUrl)??""}?autoplay=1`),ge(Ue,"title",(e(b),n(()=>e(b).title)))}),m(ke,Se)},si=ke=>{var Se=Va(),Ue=a(Se);A(()=>{ge(Se,"aria-label",`Reproducir ${e(b),n(()=>e(b).title)??""}`),ge(Ue,"src",(e(b),n(()=>e(b).thumbnailUrl))),ge(Ue,"alt",(e(b),n(()=>e(b).title)))}),Be("click",Se,()=>$(e(b)._key)),m(ke,Se)};ee(Ne,ke=>{e(z),e(b),n(()=>e(z)===e(b)._key)?ke(Ge):ke(si,!1)})}var ei=c(Ne,2),ni=a(ei),ii=a(ni),oi=a(ii);A(()=>{bi(ie,`flex: 0 0 ${e(V)?"80%":100/e(s)+"%"}`),ge(ni,"href",(e(b),n(()=>e(b).watchUrl))),g(oi,(e(b),n(()=>e(b).title)))}),m(ce,ie)});var we=c(Ae,2);{var Oe=ce=>{var b=qa();Be("click",b,X),m(ce,b)};ee(we,ce=>{e(l),n(()=>e(l).length>1)&&ce(Oe)})}A(ce=>{We=He(Ve,1,"videos-track svelte-18xx8u1",null,We,ce),bi(Ve,`transform: translateX(-${e(F)*e(_)-e(h)+e(E)}%)`)},[()=>({"no-transition":!e(D)})]),Be("touchstart",Le,Q),Be("touchmove",Le,N),Be("touchend",Le,Y),m($e,Le)};ee(le,$e=>{e(l),n(()=>e(l).length>0)&&$e(_e)},!0)}m(ae,Re)};ee(Me,ae=>{e(d)?ae(Ee):ae(B,!1)},!0)}m(x,re)};ee(ye,x=>{e(w)?x(qe):x(je,!1)})}m(H,I),Di()}var za=C('<div class="loading svelte-1ibyju2" id="loading"><div class="loading-content svelte-1ibyju2"><div class="spinner svelte-1ibyju2"></div> <p class="svelte-1ibyju2"> </p></div></div>'),Ya=C('<button class="share-fight-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1ibyju2"></path></svg> </button>'),Qa=C('<div class="action-buttons-section svelte-1ibyju2"><!> <button class="clear-radars-btn svelte-1ibyju2"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1ibyju2"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1ibyju2"></path></svg> </button></div>'),Xa=C('<div class="controls svelte-1ibyju2"><div class="fighter-selectors svelte-1ibyju2"><div class="control-group svelte-1ibyju2"><label for="fighter1-select" class="svelte-1ibyju2"> </label> <div id="fighter1-container-select" class="svelte-1ibyju2"><!></div></div> <div class="vs-divider svelte-1ibyju2">VS</div> <div class="control-group svelte-1ibyju2"><label for="fighter2-select" class="svelte-1ibyju2"> </label> <div id="fighter2-container-select" class="svelte-1ibyju2"><!></div></div></div> <!></div>'),Za=C('<div class="division-disclaimer svelte-1ibyju2"><div class="disclaimer-title svelte-1ibyju2"><!> <strong class="svelte-1ibyju2"> </strong></div> <div class="disclaimer-text svelte-1ibyju2"> </div></div>'),Ja=C('<div class="fighter-info svelte-1ibyju2"><div id="fighter1-container" class="svelte-1ibyju2"><!></div> <div id="fighter2-container" class="svelte-1ibyju2"><!></div></div>'),es=C('<div class="radar-container svelte-1ibyju2"><div id="fight-radar-container" class="svelte-1ibyju2"><!></div> <div id="iq-radar-container" class="svelte-1ibyju2"><!></div></div>'),is=C('<hr class="section-divider svelte-1ibyju2"/> <!> <div class="view-calendar-link svelte-1ibyju2"><button class="calendar-link-btn svelte-1ibyju2"> </button></div>',1),ts=C('<hr class="section-divider svelte-1ibyju2"/> <!>',1),as=C('<div class="fight-radar-app svelte-1ibyju2"><div class="container svelte-1ibyju2"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function us(H,i){yi(i,!1);const[s,_]=xi(),h=()=>_i(te,"$urlSearchParams",s),t=()=>_i(Mi,"$_",s),r=y(),l=y(),w=y(),d=y(),F=y(),V=y(),z=y(),D=y(),X=y(),q=y(),$=y(),ne=y();let Z=ze(i,"isDarkMode",8,!0),be=ze(i,"toggleTheme",8,()=>{}),G=y(new Map),f=y(new Map),E=y([]),P=y(new Map);const te=Nt(vi());function Q(v,p){const k=`fighter${p}`;fi({[k]:v}),te.set(vi())}function N(v){fi({rounds:v.toString()}),te.set(vi())}let Y=y(!1),W=y(!1),I=y(!1),ye=y(!1),qe=y(!1),je=y(!1),x=y(!1),re=y(!1),Me=!1;tt(()=>{window.Highcharts=Bt,te.set(vi());const v=At(()=>{te.set(vi())});return Ee(),v});async function Ee(){try{u(Y,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:p,processedFightersMap:k,processedFighters:J}=await Ht.loadFightersFromCSV();u(G,v),u(P,p),u(f,k),u(E,J),u(W,!0)}catch(v){console.error("Error loading data:",v)}finally{u(Y,!1)}}function B(v=[]){return v.map(p=>({value:p.nameWithNickname,label:p.name,imageUrl:ae(p)}))}function ae(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:Re(v.division)?"no_photo_female.png":"no_photo_male.png"}function Re(v){return!!(v&&v.startsWith("W_"))}function le(v){if(Q(v,1),!(!Me&&h().has("rounds"))){const k=e(G).get(v),J=e(l)?e(G).get(e(l)):null;k&&k.division_ranking==="0"||J&&J.division_ranking==="0"?N(5):(fi({rounds:""}),te.set(vi()))}Me=!0,v&&!e(l)&&(u(re,!1),setTimeout(()=>{u(re,!0),setTimeout(()=>{u(re,!1)},50)},100))}function _e(v){if(Q(v,2),!h().has("rounds")){const k=e(r)?e(G).get(e(r)):null,J=e(G).get(v);k&&k.division_ranking==="0"||J&&J.division_ranking==="0"?N(5):(fi({rounds:""}),te.set(vi()))}v&&!e(r)&&(u(x,!1),setTimeout(()=>{u(x,!0),setTimeout(()=>{u(x,!1)},50)},100))}function $e(v){u(qe,v)}function Le(v){u(je,v)}function xe(){gi.trackCleanRadars(),fi({fighter1:"",fighter2:"",rounds:""}),te.set(vi())}function Pe(){if(!e(r)||!e(l))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";gi.trackFightShare(e(r),e(l),v);const p=Vt("/",{fighter1:e(r),fighter2:e(l)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(r)} vs ${e(l)} - Fight-Radar`,text:`Compara las estadsticas de ${e(r)} vs ${e(l)}`,url:p}).catch(console.error):navigator.clipboard.writeText(p).then(()=>{Ae("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",p)})}function Ae(v){const p=document.createElement("div");p.className="notification",p.textContent=v,p.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(p),setTimeout(()=>{p.style.opacity="1",p.style.transform="translateY(0)"},10),setTimeout(()=>{p.style.opacity="0",p.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(p)},300)},3e3)}function Ve(v,p,k){const J=[];return v&&J.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&J.push({name:p.name,data:[p.fightRadar.STR_OFF,p.fightRadar.STR_DEF,p.fightRadar.TD_OFF,p.fightRadar.TD_DEF,p.fightRadar.CTRL,p.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&J.push({name:k.name,data:[k.fightRadar.STR_OFF,k.fightRadar.STR_DEF,k.fightRadar.TD_OFF,k.fightRadar.TD_DEF,k.fightRadar.CTRL,k.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),J}function We(v,p,k){const J=[];return v&&J.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),p&&J.push({name:p.name,data:[p.iqRadar.distance,p.iqRadar.adaptability,p.iqRadar.composure,p.iqRadar.decisions,p.iqRadar.rhythm,p.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&J.push({name:k.name,data:[k.iqRadar.distance,k.iqRadar.adaptability,k.iqRadar.composure,k.iqRadar.decisions,k.iqRadar.rhythm,k.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),J}function we(v){const p={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[k,J,fe]=v.combinedRole.split("+")??["AT"];let De=[[k,100]];if(J&&fe?De=[[k,33],[J,34],[fe,33]]:J?De=[[k,50],[J,50]]:fe&&(De=[[k,60],[fe,40]]),De.length===1){const[Ke,Ce]=De[0],T=Math.min(Ce,70);return`linear-gradient(135deg, ${p[Ke]} 0%, ${p[Ke]} ${T}%, var(--card-bg) 100%)`}else{const Ke=De.reduce((R,[,K])=>R+K,0);let Ce=[],T=0;return De.forEach(([R,K],U)=>{const S=K/Ke*85,M=p[R];U===0&&Ce.push(`${M} ${T}%`),T+=S,U===De.length-1?(Ce.push(`${M} ${T}%`),Ce.push("var(--card-bg) 100%")):Ce.push(`${M} ${T}%`)}),`linear-gradient(135deg, ${Ce.join(", ")})`}}j(()=>h(),()=>{u(r,h().get("fighter1")||"")}),j(()=>h(),()=>{u(l,h().get("fighter2")||"")}),j(()=>h(),()=>{u(w,h().get("rounds")==="5"?5:3)}),j(()=>(e(qe),e(je)),()=>{u(d,e(qe)||e(je))}),j(()=>(e(E),e(l)),()=>{u(F,B(e(E)).filter(v=>v.value!==e(l)))}),j(()=>(e(E),e(r)),()=>{u(V,B(e(E)).filter(v=>v.value!==e(r)))}),j(()=>(e(r),e(l),e(G),e(P),qi),()=>{u(z,(()=>{if(!e(r)||!e(l))return null;const v=e(G).get(e(r)),p=e(G).get(e(l));if(!v||!p)return null;if(v.Division===p.Division){const k=v.Division;if(e(P).has(k))return qi(k,e(P).get(k))}return null})())}),j(()=>(e(r),e(f)),()=>{u(D,e(r)?e(f).get(e(r))??null:null)}),j(()=>(e(l),e(f)),()=>{u(X,e(l)?e(f).get(e(l))??null:null)}),j(()=>(e(z),e(r),e(l),e(G),e(P),Gi),()=>{u(q,(()=>{if(!e(z)||!e(r)||!e(l))return null;const v=e(G).get(e(r));return!v||!e(P).has(v.Division)?null:Gi(e(z),e(P).get(v.Division))})())}),j(()=>(e(D),e(X),e(q)),()=>{u($,Ve(e(D)??null,e(X)??null,e(q)??null))}),j(()=>(e(D),e(X),e(q)),()=>{u(ne,We(e(D),e(X),e(q)))}),j(()=>(e(Y),e(G),e(r),e(l),gi),()=>{const v=!e(Y)&&e(G).size>0&&e(G).has(e(r))&&e(G).has(e(l));u(I,!!(e(r)&&e(l)&&v)),u(ye,!!(e(r)&&e(l)&&v)),e(r)&&e(l)&&v&&gi.trackFighterComparison(e(r),e(l))}),wi(),Ti();var Oe=as(),ce=a(Oe),b=a(ce);Et(b,{showThemeToggle:!0,get isDarkMode(){return Z()},get toggleTheme(){return be()}});var ie=c(b,2);{var Ne=v=>{var p=za(),k=a(p),J=c(a(k),2),fe=a(J);A(De=>g(fe,De),[()=>(t(),n(()=>t()("fight_radar.loading_data")))]),m(v,p)};ee(ie,v=>{e(Y)&&v(Ne)})}var Ge=c(ie,2);{var si=v=>{var p=Xa(),k=a(p),J=a(k),fe=a(J),De=a(fe),Ke=c(fe,2),Ce=a(Ke);{let O=ki(()=>(t(),n(()=>t()("common.select_fighter"))));Xi(Ce,{id:"fighter1-select",get placeholder(){return e(O)},disabled:!1,get options(){return e(F)},get selectedValue(){return e(r)},onSelectionChange:le,onOpenStateChange:$e,get shouldOpen(){return e(x)}})}var T=c(J,4),o=a(T),R=a(o),K=c(o,2),U=a(K);{let O=ki(()=>(t(),n(()=>t()("common.select_fighter"))));Xi(U,{id:"fighter2-select",get placeholder(){return e(O)},disabled:!1,get options(){return e(V)},get selectedValue(){return e(l)},onSelectionChange:_e,onOpenStateChange:Le,get shouldOpen(){return e(re)}})}var S=c(k,2);{var M=O=>{var se=Qa(),ue=a(se);{var Te=oe=>{var Fe=Ya(),pe=c(a(Fe));A(ve=>g(pe,` ${ve??""}`),[()=>(t(),n(()=>t()("fight_radar.share_fight")))]),Be("click",Fe,Pe),m(oe,Fe)};ee(ue,oe=>{e(r)&&e(l)&&oe(Te)})}var de=c(ue,2),he=c(a(de));A(oe=>g(he,` ${oe??""}`),[()=>(t(),n(()=>t()("fight_radar.clear_radars")))]),Be("click",de,xe),m(O,se)};ee(S,O=>{(e(r)||e(l))&&O(M)})}A((O,se)=>{g(De,`${O??""}:`),g(R,`${se??""}:`)},[()=>(t(),n(()=>t()("common.fighter_1"))),()=>(t(),n(()=>t()("common.fighter_2")))]),m(v,p)};ee(Ge,v=>{e(W)&&v(si)})}var ei=c(Ge,2);{var ni=v=>{var p=ai(),k=Ie(p);{var J=fe=>{var De=Za(),Ke=a(De),Ce=a(Ke);Pi(Ce,{size:20,class:"disclaimer-icon"});var T=c(Ce,2),o=a(T),R=c(Ke,2),K=a(R);A((U,S)=>{g(o,U),g(K,S)},[()=>(t(),n(()=>t()("fight_radar.cross_division_title"))),()=>(t(),L(mi),e(D),e(X),n(()=>t()("fight_radar.cross_division_text",{values:{division1:mi(e(D).rawData.Division),division2:mi(e(X).rawData.Division)}})))]),m(fe,De)};ee(k,fe=>{e(D),e(X),n(()=>e(D)?.rawData&&e(X)?.rawData&&e(D).rawData.Division!==e(X).rawData.Division)&&fe(J)})}m(v,p)};ee(ei,v=>{e(r)&&e(l)&&e(I)&&v(ni)})}var ii=c(ei,2);{var oi=v=>{var p=Ja(),k=a(p),J=a(k);Zi(J,{get fighter(){return e(D)},id:"fighter1-info"});var fe=c(k,2),De=a(fe);Zi(De,{get fighter(){return e(X)},id:"fighter2-info"}),A((Ke,Ce)=>{bi(k,`background: ${Ke??""}`),bi(fe,`background: ${Ce??""}`)},[()=>(e(D),n(()=>e(D)?we(e(D).archetype):"var(--card-bg)")),()=>(e(X),n(()=>e(X)?we(e(X).archetype):"var(--card-bg)"))]),m(v,p)};ee(ii,v=>{e(I)&&v(oi)})}var ke=c(ii,2);{var Se=v=>{var p=es(),k=a(p),J=a(k);Vi(J,()=>(e(r),e(l),e($),n(()=>`${e(r)}-${e(l)}-${e($).length}`)),Ke=>{{let Ce=ki(()=>(L(Ui),n(Ui)));zi(Ke,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(Ce)},get series(){return e($)},isIQRadar:!1})}});var fe=c(k,2),De=a(fe);Vi(De,()=>(e(r),e(l),e(ne),n(()=>`${e(r)}-${e(l)}-${e(ne).length}`)),Ke=>{{let Ce=ki(()=>(L(ji),n(ji)));zi(Ke,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(Ce)},get series(){return e(ne)},isIQRadar:!0})}}),m(v,p)};ee(ke,v=>{e(ye),e($),n(()=>e(ye)&&e($).length>0)&&v(Se)})}var Ue=c(ke,2);Ea(Ue,{get fighter1(){return e(D)},get fighter2(){return e(X)},get scheduledRounds(){return e(w)},$$events:{roundsChanged:v=>N(v.detail)}});var li=c(Ue,2);{var ti=v=>{var p=is(),k=c(Ie(p),2);$t(k,{limit:2});var J=c(k,2),fe=a(J),De=a(fe);A(Ke=>g(De,`${Ke??""} `),[()=>(t(),n(()=>t()("banner.view_calendar")))]),Be("click",fe,()=>at("/calendar")),m(v,p)};ee(li,v=>{!e(r)&&!e(l)&&!e(d)&&v(ti)})}var di=c(ce,2);{var ci=v=>{var p=ts(),k=c(Ie(p),2);ja(k,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),m(v,p)};ee(di,v=>{!e(r)&&!e(l)&&!e(d)&&v(ci)})}m(H,Oe),Di(),_()}export{us as default};
