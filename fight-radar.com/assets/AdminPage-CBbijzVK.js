import{o as U,h as Z,f as I,ap as W,c as e,r as d,i as S,B as i,E as L,t as z,a9 as B,k as P,a as u,n as j,D as c,S as X,x as Y,ak as ee,aq as E,ar as ae,Z as se,l as H,K as T,g as te,j as $,m as G,q as ie,v as re,J as le}from"./lucide-DhWK0f18.js";import{h as ne,R as f,r as w,e as ve,i as oe}from"./index-DznY5OlL.js";var de=I('<div class="error-message svelte-apfh6f"><span class="error-icon svelte-apfh6f"><!></span> </div>'),ce=I('<div class="spinner svelte-apfh6f"></div> Logging in...',1),fe=I('<div class="login-container svelte-apfh6f"><div class="login-card svelte-apfh6f"><div class="login-header svelte-apfh6f"><div class="lock-icon svelte-apfh6f"><!></div> <h1 class="svelte-apfh6f">Admin Login</h1> <p class="svelte-apfh6f">Access the fighter management dashboard</p></div> <form class="login-form svelte-apfh6f"><div class="form-group svelte-apfh6f"><label for="username" class="svelte-apfh6f">Username</label> <input type="text" id="username" placeholder="Enter username" autocomplete="username" class="svelte-apfh6f"/></div> <div class="form-group svelte-apfh6f"><label for="password" class="svelte-apfh6f">Password</label> <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" class="svelte-apfh6f"/></div> <!> <button type="submit" class="login-btn svelte-apfh6f"><!></button> <div class="demo-info svelte-apfh6f"><small class="svelte-apfh6f">Demo credentials: <strong class="svelte-apfh6f">demo</strong> / <strong class="svelte-apfh6f">test</strong></small></div></form></div></div>');function q(b,g){U(g,!1);let n=L(""),v=L(""),a=L(!1),s=L("");async function p(t){if(t.preventDefault(),!i(n)||!i(v)){c(s,"Please enter both username and password");return}c(a,!0),c(s,"");try{console.log("Attempting login with:",i(n),i(v));const l=await ne.login(i(n),i(v));console.log("Login result:",l),l?(console.log("Login successful, navigating to:",f.ADMIN_DASHBOARD),w.navigate(f.ADMIN_DASHBOARD)):c(s,"Invalid credentials. Try demo:test")}catch(l){console.error("Login error:",l),c(s,"Login failed. Please try again.")}finally{c(a,!1)}}function h(){c(s,"")}Z();var m=fe(),A=e(m),r=e(A),_=e(r),N=e(_);W(N,{size:48});var D=d(r,2),y=e(D),o=d(e(y),2),R=d(y,2),M=d(e(R),2),x=d(R,2);{var C=t=>{var l=de(),k=e(l),Q=e(k);X(Q,{size:18});var V=d(k);z(()=>Y(V,` ${i(s)??""}`)),u(t,l)};S(x,t=>{i(s)&&t(C)})}var O=d(x,2),J=e(O);{var K=t=>{var l=ce();u(t,l)},F=t=>{var l=ee("Login");u(t,l)};S(J,t=>{i(a)?t(K):t(F,!1)})}z(()=>{o.disabled=i(a),M.disabled=i(a),O.disabled=i(a)}),B(o,()=>i(n),t=>c(n,t)),P("input",o,h),B(M,()=>i(v),t=>c(v,t)),P("input",M,h),P("submit",D,p),u(b,m),j()}var pe=I('<div class="admin-dummy-container svelte-smv2i9"><div class="banner-container svelte-smv2i9"><div class="banner-icon svelte-smv2i9"><!></div> <h1 class="banner-title svelte-smv2i9">Server-Side Dashboard</h1> <p class="banner-subtitle svelte-smv2i9">This will be a powerful admin dashboard</p> <div class="features-preview svelte-smv2i9"><div class="feature-card svelte-smv2i9"><!> <span class="svelte-smv2i9">Advanced Security</span></div> <div class="feature-card svelte-smv2i9"><!> <span class="svelte-smv2i9">Real-time Analytics</span></div> <div class="feature-card svelte-smv2i9"><!> <span class="svelte-smv2i9">Server Management</span></div></div> <div class="coming-soon svelte-smv2i9"><span class="coming-soon-text svelte-smv2i9">Coming Soonâ„¢</span></div></div></div>');function me(b){var g=pe(),n=e(g),v=e(n),a=e(v);E(a,{size:64});var s=d(v,6),p=e(s),h=e(p);ae(h,{size:24});var m=d(p,2),A=e(m);se(A,{size:24});var r=d(m,2),_=e(r);E(_,{size:24}),u(b,g)}function he(b,g){U(g,!1);const[n,v]=le(),a=()=>T(ve,"$currentPath",n),s=()=>T(oe,"$isAuthenticated",n);H(()=>(a(),s()),()=>{console.log("AdminPage - currentPath:",a(),"isAuthenticated:",s())}),H(()=>(a(),s(),w),()=>{a()===f.ADMIN_DASHBOARD&&!s()?(console.log("Redirecting to login - user not authenticated"),w.navigate(f.ADMIN_LOGIN)):a()===f.ADMIN_LOGIN&&s()&&(console.log("Redirecting to dashboard - user already authenticated"),w.navigate(f.ADMIN_DASHBOARD))}),te(),Z();var p=$(),h=G(p);{var m=r=>{q(r,{})},A=r=>{var _=$(),N=G(_);{var D=o=>{me(o)},y=o=>{q(o,{})};S(N,o=>{s()?o(D):o(y,!1)},!0)}u(r,_)};S(h,r=>{a(),ie(f),re(()=>a()===f.ADMIN_LOGIN)?r(m):r(A,!1)})}u(b,p),j(),v()}export{he as default};
