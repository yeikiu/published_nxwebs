import{g as bi,p as Qe,l as H,h as g,m as w,j as S,o as e,k as yi,n as wi,f as C,H as We,$ as Wi,i as te,c as a,q as d,Z as $i,t as W,E as ye,s as Ve,b as m,r as Ti,u as ki,x as Ie,z as n,B as u,A as fi,_ as jt,v as ni,K as ti,L as si,V as qi,a0 as Ot,a1 as mi,y as _i,a2 as Nt,a as Bt,a3 as Et,a4 as Wt,a5 as it,a6 as tt,T as Ci,G as $t,C as at,U as Ii,w as qt,N as Di,a7 as zi}from"./lucide-BZTUuGOE.js";import{H as It}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as zt,U as Vt}from"./UpcomingFights-DMyBLK8n.js";import{$ as xi,A as vi,n as st,a as At,v as Ht,g as di,b as Gt,u as ui,c as Ut}from"./index-D_yKNfOA.js";import{c as Mi,g as Vi,f as pi,a as Yt,b as Ai,p as Hi,d as Gi,e as Ui}from"./fighters_service-BuKq7Ld5.js";import{R as Qt,a as Yi}from"./RadarChart-BwZ_2ZNx.js";import{f as Qi,a as Xi,F as Xt}from"./unit_conversion-DZ1N2o1X.js";import"./highcharts-DyRVWUji.js";var Zt=C('<img class="svelte-gkl5a1"/>'),Jt=C('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),ea=C("<!> <span> </span>",1),ia=C("<span> </span>"),ta=C('<img class="svelte-gkl5a1"/>'),aa=C('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),sa=C('<button type="button"><!> <span> </span></button>'),na=C('<div class="no-results svelte-gkl5a1"> </div>'),oa=C('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ra=C('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Zi($,i){bi(i,!1);const[s,f]=ki(),o=()=>fi(xi,"$_",s),t=w(),l=w();let r=Qe(i,"id",8),D=Qe(i,"placeholder",8,""),c=Qe(i,"disabled",8,!0),y=Qe(i,"options",24,()=>[]),j=Qe(i,"selectedValue",12,""),I=Qe(i,"onSelectionChange",8,void 0),T=Qe(i,"onOpenStateChange",8,void 0),z=Qe(i,"shouldOpen",8,!1),N=w(!1),R=w(),V=w(),le=w(""),Y=w(!1);function M(){c()||(g(N,!e(N)),e(N)&&setTimeout(()=>e(V)?.focus(),0))}function p(E){j(E.value),g(le,""),g(N,!1),I()&&I()(E.value,E)}function B(E){const ue=E.target;g(le,ue.value)}function P(E){E.key==="Enter"&&e(l).length>0?(p(e(l)[0]),E.preventDefault()):E.key==="Escape"&&(g(le,""),g(N,!1))}function F(E){e(R)&&!e(R).contains(E.target)&&(g(N,!1),g(le,""))}function q(E){E.key==="Escape"&&g(N,!1)}H(()=>(S(y()),S(j())),()=>{g(t,y().find(E=>E.value===j()))}),H(()=>(S(z()),e(Y),S(c()),e(V)),()=>{z()&&!e(Y)&&!c()?(g(Y,!0),g(N,!0),setTimeout(()=>e(V)?.focus(),0)):z()||g(Y,!1)}),H(()=>(S(T()),e(N)),()=>{T()&&T()(e(N))}),H(()=>(e(le),S(y()),Mi),()=>{g(l,e(le)?y().filter(E=>Mi(E.label.toLowerCase()).includes(Mi(e(le).toLowerCase()))):y())}),yi(),wi();var oe=ra();We("click",Wi,F),We("keydown",Wi,q);var G=a(oe);let b;var fe=a(G),Q=a(fe);{var Me=E=>{var ue=ea(),Te=Ie(ue);{var Pe=Se=>{var Le=Zt();W(()=>{ye(Le,"src",(e(t),n(()=>e(t).imageUrl))),ye(Le,"alt",(e(t),n(()=>e(t).label)))}),m(Se,Le)},we=Se=>{var Le=ni(),Ae=Ie(Le);{var Be=He=>{var De=Jt(),Ee=a(De);qi(Ee,()=>e(t).iconComponent,(_e,X)=>{X(_e,{size:16})}),m(He,De)};te(Ae,He=>{e(t),n(()=>e(t)?.iconComponent)&&He(Be)},!0)}m(Se,Le)};te(Te,Se=>{e(t),n(()=>e(t)?.imageUrl)?Se(Pe):Se(we,!1)})}var be=d(Te,2),Ke=a(be);W(()=>u(Ke,(e(t),n(()=>e(t).label)))),m(E,ue)},Xe=E=>{var ue=ia(),Te=a(ue);W(Pe=>u(Te,Pe),[()=>(S(D()),o(),n(()=>D()||o()("common.select_option")))]),m(E,ue)};te(Q,E=>{e(t)?E(Me):E(Xe,!1)})}var x=d(fe,2);let ae;var ze=d(G,2);{var $e=E=>{var ue=oa(),Te=a(ue),Pe=a(Te);$i(Pe,De=>g(V,De),()=>e(V));var we=d(Te,2),be=a(we);let Ke;var Se=a(be),Le=a(Se),Ae=d(be,2);{var Be=De=>{var Ee=ni(),_e=Ie(Ee);ti(_e,1,()=>e(l),si,(X,pe)=>{var je=sa();let Ze;var ei=a(je);{var ii=Fe=>{var Ce=ta();W(()=>{ye(Ce,"src",(e(pe),n(()=>e(pe).imageUrl))),ye(Ce,"alt",(e(pe),n(()=>e(pe).label)))}),We("error",Ce,Ge=>{Ge.currentTarget.style.display="none"}),m(Fe,Ce)},se=Fe=>{var Ce=ni(),Ge=Ie(Ce);{var oi=ai=>{var ri=aa(),li=a(ri);qi(li,()=>e(pe).iconComponent,(v,_)=>{_(v,{size:16})}),m(ai,ri)};te(Ge,ai=>{e(pe),n(()=>e(pe)?.iconComponent)&&ai(oi)},!0)}m(Fe,Ce)};te(ei,Fe=>{e(pe),n(()=>e(pe)?.imageUrl)?Fe(ii):Fe(se,!1)})}var Oe=d(ei,2),Ye=a(Oe);W(Fe=>{Ze=Ve(je,1,"dropdown-item svelte-gkl5a1",null,Ze,Fe),u(Ye,(e(pe),n(()=>e(pe).label)))},[()=>({selected:j()===e(pe).value})]),We("click",je,()=>p(e(pe))),m(X,je)}),m(De,Ee)},He=De=>{var Ee=ni(),_e=Ie(Ee);{var X=pe=>{var je=na(),Ze=a(je);W(()=>u(Ze,`No se encontraron resultados para "${e(le)??""}"`)),m(pe,je)};te(_e,pe=>{e(le)&&pe(X)},!0)}m(De,Ee)};te(Ae,De=>{e(l),n(()=>e(l).length>0)?De(Be):De(He,!1)})}W((De,Ee,_e)=>{ye(Pe,"placeholder",De),ye(we,"id",`dropdown-options-${r()??""}`),Ke=Ve(be,1,"dropdown-item svelte-gkl5a1",null,Ke,Ee),u(Le,_e)},[()=>(o(),n(()=>o()("common.search")||"Search...")),()=>({selected:j()===""}),()=>(S(D()),o(),n(()=>D()||o()("common.select_option")))]),jt(Pe,()=>e(le),De=>g(le,De)),We("input",Pe,B),We("keydown",Pe,P),We("click",be,()=>p({value:"",label:D(),imageUrl:""})),m(E,ue)};te(ze,E=>{e(N)&&E($e)})}$i(oe,E=>g(R,E),()=>e(R)),W((E,ue)=>{ye(oe,"id",r()),b=Ve(G,1,"dropdown-button svelte-gkl5a1",null,b,E),G.disabled=c(),ye(G,"aria-expanded",e(N)),ye(G,"aria-controls",`dropdown-options-${r()??""}`),ae=Ve(x,1,"dropdown-arrow svelte-gkl5a1",null,ae,ue)},[()=>({disabled:c(),open:e(N)}),()=>({rotated:e(N)})]),We("click",G,M),m($,oe),Ti(),f()}function Si($,i){if(i()){vi.trackFighterCardCTA(i().nameWithNickname,"view_profile");const s=`/data-center/fighter-details?fighter=${encodeURIComponent(i().nameWithNickname)}`;st(s)}}function la($,i){g(i,!e(i))}var ha=C('<img class="fighter-image svelte-1wjjcz3"/> <div class="fighter-placeholder svelte-1wjjcz3" style="display: none;">Picture Unavailable</div>',1),ca=C('<div class="fighter-placeholder svelte-1wjjcz3">Picture Unavailable</div>'),da=C('<span class="division-ranking champion svelte-1wjjcz3" title="Champion"><!></span>'),va=C('<span class="division-ranking ranked svelte-1wjjcz3"> </span>'),ga=($,i)=>$.key==="Enter"&&i(),fa=C('<div class="stat-item role-disc-clickable svelte-1wjjcz3" role="button" tabindex="0"><span class="stat-label svelte-1wjjcz3">ROLE-DISC:</span> <span><div class="role-emojis svelte-1wjjcz3"> </div> <div class="role-name svelte-1wjjcz3"> </div></span></div>'),ua=C('<div class="archetype-fields svelte-1wjjcz3"><div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value description svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value favorite-zone svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value strengths svelte-1wjjcz3"> </div></div> <div class="archetype-field svelte-1wjjcz3"><div class="archetype-field-header svelte-1wjjcz3"><span class="archetype-icon svelte-1wjjcz3"><!></span> <div class="archetype-field-label svelte-1wjjcz3"> </div></div> <div class="archetype-field-value weaknesses svelte-1wjjcz3"> </div></div></div>'),_a=C('<hr class="archetype-divider svelte-1wjjcz3"/> <div class="archetype-container svelte-1wjjcz3"><div class="archetype-section svelte-1wjjcz3"><button type="button" class="archetype-section-title svelte-1wjjcz3"><span><!></span> </button> <!></div></div>',1),pa=C('<div class="fighter-header svelte-1wjjcz3"><div class="header-actions svelte-1wjjcz3"><!> <button type="button" class="fighter-detail-cta svelte-1wjjcz3" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1wjjcz3"><div class="fighter-image-container svelte-1wjjcz3"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1wjjcz3"><div class="fighter-name svelte-1wjjcz3"> </div></button> <div class="fighter-division-container svelte-1wjjcz3"><span class="fighter-division svelte-1wjjcz3"> </span> <!></div> <div class="star-rating svelte-1wjjcz3"><div class="stars-container svelte-1wjjcz3"></div></div> <div class="fighter-stats svelte-1wjjcz3"><!> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value career-record svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value record svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span><!></span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value height svelte-1wjjcz3"> </span></div> <div class="stat-item svelte-1wjjcz3"><span class="stat-label svelte-1wjjcz3"> </span> <span class="stat-value reach svelte-1wjjcz3"> </span></div></div> <!>',1),ma=C('<div class="empty-card svelte-1wjjcz3"><div class="empty-message svelte-1wjjcz3"> </div></div>'),ba=C('<div class="fighter-card svelte-1wjjcz3"><!></div> <!>',1);function Ji($,i){bi(i,!1);const[s,f]=ki(),o=()=>fi(xi,"$_",s),t=w(),l=w(),r=w(),D=w();let c=Qe(i,"fighter",8,null),y=Qe(i,"id",8,""),j=w(!1),I=w(!1);function T(){g(j,!0)}function z(){g(j,!1)}H(()=>o(),()=>{g(t,p=>{if(!p||!p.startsWith("@ARCHETYPE_"))return p;let B="",P="";if(p.includes("_DESCRIPTION"))B=p.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),P="description";else if(p.includes("_FAVORITE_ZONE"))B=p.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),P="favorite_zone";else if(p.includes("_STRENGTHS"))B=p.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),P="strengths";else if(p.includes("_WEAKNESSES"))B=p.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),P="weaknesses";else{const oe=p.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!oe)return p;B=oe[1],P=oe[2].toLowerCase()}const F=`archetype_data.${B}.${P}`,q=o()(F);return p.includes("_WEAKNESSES"),q!==F?q:p})}),H(()=>(S(c()),Vi),()=>{g(l,c()?Vi(c().archetype):null)}),H(()=>(S(c()),Qi),()=>{g(r,c()?.rawData.height_inches?Qi(c().rawData.height_inches):"-")}),H(()=>(S(c()),Xi),()=>{g(D,c()?.rawData.reach_inches?Xi(c().rawData.reach_inches):"-")}),yi(),wi();var N=ba(),R=Ie(N),V=a(R);{var le=p=>{var B=pa(),P=Ie(B),F=a(P),q=a(F);Xt(q,{get fighterFullName(){return S(c()),n(()=>c().name)},size:"large"});var oe=d(q,2);oe.__click=[Si,c];var G=a(oe);Ot(G,{size:16});var b=d(F,2);b.__click=[Si,c];var fe=a(b),Q=a(fe);{var Me=K=>{var L=ha(),re=Ie(L);W(()=>{ye(re,"src",(S(c()),n(()=>c().pictureUrl))),ye(re,"alt",`${S(c()),n(()=>c().name)??""} fighter profile picture`)}),We("error",re,ce=>{ce.currentTarget.style.display="none";const J=ce.currentTarget.nextElementSibling;J&&(J.style.display="block")}),m(K,L)},Xe=K=>{var L=ca();m(K,L)};te(Q,K=>{S(c()),n(()=>c().pictureUrl)?K(Me):K(Xe,!1)})}var x=d(P,2);x.__click=[Si,c];var ae=a(x),ze=a(ae),$e=d(x,2),E=a($e),ue=a(E),Te=d(E,2);{var Pe=K=>{var L=ni(),re=Ie(L);{var ce=A=>{var de=da(),ve=a(de);Et(ve,{size:16}),m(A,de)},J=A=>{var de=va(),ve=a(de);W(()=>{ye(de,"title",`Division Ranking #${S(c()),n(()=>c().rawData.division_ranking)??""}`),u(ve,`#${S(c()),n(()=>c().rawData.division_ranking)??""}`)}),m(A,de)};te(re,A=>{S(c()),n(()=>c().rawData.division_ranking==="0")?A(ce):A(J,!1)})}m(K,L)};te(Te,K=>{S(c()),n(()=>c().rawData.division_ranking!==void 0&&c().rawData.division_ranking!=="")&&K(Pe)})}var we=d($e,2),be=a(we),Ke=d(we,2),Se=a(Ke);{var Le=K=>{var L=fa();L.__click=T,L.__keydown=[ga,T];var re=a(L),ce=d(re,2),J=a(ce),A=a(J),de=d(J,2),ve=a(de);W((ge,Ne)=>{ye(L,"aria-label",ge),ye(re,"title",Ne),Ve(ce,1,`stat-value role-indicator archetype-dots archetype-${e(l),n(()=>e(l).type)??""}`,"svelte-1wjjcz3"),ye(ce,"title",(e(l),n(()=>e(l).tooltip))),u(A,(e(l),n(()=>e(l).label))),u(ve,(e(l),n(()=>e(l).name)))},[()=>(o(),n(()=>o()("role_disc_modal.open_modal_aria_label"))),()=>(o(),n(()=>o()("role_disc_modal.archetype_tooltip")))]),m(K,L)};te(Se,K=>{e(l)&&K(Le)})}var Ae=d(Se,2),Be=a(Ae),He=a(Be),De=d(Be,2),Ee=a(De),_e=d(Ae,2),X=a(_e),pe=a(X),je=d(X,2),Ze=a(je),ei=d(_e,2),ii=a(ei),se=a(ii),Oe=d(ii,2);let Ye;var Fe=a(Oe);{var Ce=K=>{var L=_i();W(()=>u(L,`+${S(c()),n(()=>c().streak)??""}W`)),m(K,L)},Ge=K=>{var L=ni(),re=Ie(L);{var ce=A=>{var de=_i();W(()=>u(de,`${S(c()),n(()=>c().streak)??""}L`)),m(A,de)},J=A=>{var de=_i("-");m(A,de)};te(re,A=>{S(c()),n(()=>c().streak<0)?A(ce):A(J,!1)},!0)}m(K,L)};te(Fe,K=>{S(c()),n(()=>c().streak>0)?K(Ce):K(Ge,!1)})}var oi=d(ei,2),ai=a(oi),ri=a(ai),li=d(ai,2);let v;var _=a(li),k=d(oi,2),Z=a(k),Re=a(Z),ke=d(Z,2),U=a(ke),h=d(k,2),O=a(h),ne=a(O),me=d(O,2),he=a(me),ee=d(Ke,2);{var ie=K=>{var L=_a(),re=d(Ie(L),2),ce=a(re),J=a(ce);J.__click=[la,I];var A=a(J);let de;var ve=a(A);Nt(ve,{size:20});var ge=d(A),Ne=d(J,2);{var Ue=qe=>{var Je=ua(),hi=a(Je),gi=a(hi),Ri=a(gi),nt=a(Ri);Wt(nt,{size:18});var ot=d(Ri,2),rt=a(ot),lt=d(gi,2),ht=a(lt),Pi=d(hi,2),Ki=a(Pi),Li=a(Ki),ct=a(Li);it(ct,{size:18});var dt=d(Li,2),vt=a(dt),gt=d(Ki,2),ft=a(gt),ji=d(Pi,2),Oi=a(ji),Ni=a(Oi),ut=a(Ni);tt(ut,{size:18});var _t=d(Ni,2),pt=a(_t),mt=d(Oi,2),bt=a(mt),yt=d(ji,2),Bi=a(yt),Ei=a(Bi),wt=a(Ei);Ci(wt,{size:18});var Tt=d(Ei,2),Rt=a(Tt),Dt=d(Bi,2),Ft=a(Dt);W((kt,xt,Mt,St,Ct,Pt,Kt,Lt)=>{u(rt,kt),u(ht,xt),u(vt,Mt),u(ft,St),u(pt,Ct),u(bt,Pt),u(Rt,Kt),u(Ft,Lt)},[()=>(o(),n(()=>o()("archetype.tactical_description"))),()=>(e(t),S(c()),n(()=>e(t)(c().archetype.description))),()=>(o(),n(()=>o()("archetype.preferred_zone"))),()=>(e(t),S(c()),n(()=>e(t)(c().archetype.favoriteZone))),()=>(o(),n(()=>o()("archetype.strengths"))),()=>(e(t),S(c()),n(()=>e(t)(c().archetype.strengths))),()=>(o(),n(()=>o()("archetype.weaknesses"))),()=>(e(t),S(c()),n(()=>e(t)(c().archetype.weaknesses)))]),m(qe,Je)};te(Ne,qe=>{e(I)&&qe(Ue)})}W((qe,Je)=>{ye(J,"aria-expanded",e(I)),de=Ve(A,1,"archetype-caret svelte-1wjjcz3",null,de,qe),u(ge,` ${Je??""}`)},[()=>({expanded:e(I)}),()=>(o(),n(()=>o()("archetype.analysis_title")))]),m(K,L)};te(ee,K=>{S(c()),n(()=>c().archetype)&&K(ie)})}W((K,L,re,ce,J,A,de,ve,ge,Ne,Ue,qe,Je,hi,gi,Ri)=>{ye(oe,"aria-label",`View detailed fighter profile for ${S(c()),n(()=>c().nameWithNickname)??""}`),u(ze,(S(c()),n(()=>c().name))),u(ue,K),mi(be,`--fill-width: ${S(c()),n(()=>c().stars*20)??""}%`),ye(Be,"title",L),u(He,`${re??""}:`),u(Ee,(S(c()),n(()=>c().career_record))),ye(X,"title",ce),u(pe,`${J??""}:`),u(Ze,(S(c()),n(()=>c().record_36m))),ye(ii,"title",A),u(se,`${de??""}:`),Ye=Ve(Oe,1,"stat-value streak svelte-1wjjcz3",null,Ye,ve),ye(ai,"title",ge),u(ri,`${Ne??""}:`),v=Ve(li,1,"stat-value opp-tier svelte-1wjjcz3",null,v,Ue),u(_,`${qe??""}/10`),ye(Z,"title",Je),u(Re,`${hi??""}:`),u(U,e(r)),ye(O,"title",gi),u(ne,`${Ri??""}:`),u(he,e(D))},[()=>(S(pi),S(c()),n(()=>pi(c().division||""))),()=>(o(),n(()=>o()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(o(),n(()=>o()("fighter_profile.career_record"))),()=>(o(),n(()=>o()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(o(),n(()=>o()("fighter_profile.record_36m"))),()=>(o(),n(()=>o()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(o(),n(()=>o()("fighter_profile.streak"))),()=>({"streak-win":c().streak>0,"streak-loss":c().streak<0}),()=>(o(),n(()=>o()("fighter_profile.opponent_tier_tooltip")||"Quality of opponents faced (0-10 scale). Higher score means tougher competition.")),()=>(o(),n(()=>o()("fighter_profile.opponent_tier"))),()=>({"opp-tier-elite":c().oppTierScore>=7,"opp-tier-strong":c().oppTierScore>=5&&c().oppTierScore<7,"opp-tier-average":c().oppTierScore>=3&&c().oppTierScore<5,"opp-tier-weak":c().oppTierScore<3}),()=>(S(c()),n(()=>c().oppTierScore.toFixed(1))),()=>(o(),n(()=>o()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(o(),n(()=>o()("fighter_profile.height"))),()=>(o(),n(()=>o()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(o(),n(()=>o()("fighter_profile.reach")))]),m(p,B)},Y=p=>{var B=ma(),P=a(B),F=a(P);W(q=>u(F,q),[()=>(o(),n(()=>o()("fight_radar.select_fighter_stats")))]),m(p,B)};te(V,p=>{c()?p(le):p(Y,!1)})}var M=d(R,2);Qt(M,{get isOpen(){return e(j)},$$events:{close:z}}),W(()=>ye(R,"id",y())),m($,N),Ti(),f()}Bt(["click","keydown"]);function ya($){const i=$.filter(r=>r.type===xe.VICTORY_METHOD&&(r.prediction.toLowerCase().includes("decision")||r.predictionKey?.toLowerCase().includes("decision")));if(i.length===0)return $;const s=$.filter(r=>{if(r.type!==xe.DURATION)return!1;const D=r.prediction.toLowerCase(),c=r.predictionKey?.toLowerCase()||"";return D.includes("under")||c.includes("under")});if(s.length===0)return $;const f=[...i,...s],o=Math.max(...f.map(r=>r.confidence)),t=f.find(r=>r.confidence===o);if(!t)return $;const l=new Set(f.map(r=>r.id));return $.filter(r=>!l.has(r.id)||r.id===t.id)}function wa($){const i=$.filter(l=>l.type===xe.VICTORY_METHOD),s=$.filter(l=>l.type===xe.FIGHT_PROPS);if(i.length===0||s.length===0)return $;const o=i.reduce((l,r)=>r.confidence>l.confidence?r:l).prediction.toLowerCase(),t=new Set;for(const l of s){const r=(l.prediction||"").toLowerCase(),D=(l.predictionKey||"").toLowerCase();(o.includes("ko")||o.includes("tko"))&&(r.includes("submission")||r.includes("ground control")||D.includes("submission")||D.includes("ground_control"))&&t.add(l.id),o.includes("submission")&&(r.includes("standing exchange")&&!r.includes("ground")||D.includes("standing_exchange")&&!D.includes("ground"))&&t.add(l.id),o.includes("decision")&&(r.includes("first round finish")||r.includes("gone in 60")||D.includes("first_round_finish")||D.includes("gone_in_60"))&&t.add(l.id)}return $.filter(l=>!t.has(l.id))}function Ta($){const i=$.filter(o=>o.type===xe.DURATION),s=$.filter(o=>o.type===xe.FIGHT_PROPS);if(i.length===0||s.length===0)return $;const f=new Set;for(const o of i){const t=(o.prediction||"").toLowerCase(),l=(o.predictionKey||"").toLowerCase(),r=t.includes("under 2.5")||l.includes("under_2_5"),D=t.includes("over 3.5")||l.includes("over_3_5");for(const c of s){const y=(c.prediction||"").toLowerCase(),j=(c.predictionKey||"").toLowerCase();r&&((y.includes("over 100 strikes")||j.includes("over_100_strikes"))&&f.add(c.id),(y.includes("goes to distance")||j.includes("goes_to_distance"))&&f.add(c.id)),D&&(y.includes("first round")||y.includes("gone in 60")||j.includes("first_round")||j.includes("gone_in_60"))&&f.add(c.id)}}return $.filter(o=>!f.has(o.id))}function et($){let i=[...$];return i=ya(i),i=wa(i),i=Ta(i),i}const Ra={W_Strawweight:{finishBias:-.07195121951219513,koVsSubBias:-.1865853658536585,sampleSize:82,stats_3R:{sampleSize:77,decisionRate:.6363636363636364,finishRate:.36363636363636365,koRate:.16883116883116883,submissionRate:.19480519480519481},stats_5R:{sampleSize:5,decisionRate:.4,finishRate:.6,koRate:.2,submissionRate:.4}},Bantamweight:{finishBias:-.08194444444444443,koVsSubBias:-.12916666666666665,sampleSize:144,stats_3R:{sampleSize:134,decisionRate:.6268656716417911,finishRate:.373134328358209,koRate:.19402985074626866,submissionRate:.1791044776119403},stats_5R:{sampleSize:10,decisionRate:.7,finishRate:.3,koRate:.2,submissionRate:.1}},Lightweight:{finishBias:.07702702702702696,koVsSubBias:.09324324324324326,sampleSize:148,stats_3R:{sampleSize:137,decisionRate:.4744525547445255,finishRate:.5255474452554745,koRate:.38686131386861317,submissionRate:.1386861313868613},stats_5R:{sampleSize:11,decisionRate:.45454545454545453,finishRate:.5454545454545454,koRate:.36363636363636365,submissionRate:.18181818181818182}},W_Bantamweight:{finishBias:-.11037735849056607,koVsSubBias:-.15,sampleSize:53,stats_3R:{sampleSize:53,decisionRate:.660377358490566,finishRate:.33962264150943394,koRate:.16981132075471697,submissionRate:.16981132075471697},stats_5R:{sampleSize:0,decisionRate:0,finishRate:0,koRate:0,submissionRate:0}},W_Flyweight:{finishBias:-.1957627118644068,koVsSubBias:-.13305084745762713,sampleSize:59,stats_3R:{sampleSize:55,decisionRate:.7272727272727273,finishRate:.2727272727272727,koRate:.14545454545454545,submissionRate:.12727272727272726},stats_5R:{sampleSize:4,decisionRate:1,finishRate:0,koRate:0,submissionRate:0}},Middleweight:{finishBias:.1468992248062015,koVsSubBias:.1368217054263566,sampleSize:129,stats_3R:{sampleSize:109,decisionRate:.3853211009174312,finishRate:.6146788990825688,koRate:.44954128440366975,submissionRate:.1651376146788991},stats_5R:{sampleSize:20,decisionRate:.5,finishRate:.5,koRate:.4,submissionRate:.1}},Featherweight:{finishBias:.0727272727272727,koVsSubBias:-.006060606060606072,sampleSize:132,stats_3R:{sampleSize:128,decisionRate:.4765625,finishRate:.5234375,koRate:.328125,submissionRate:.1953125},stats_5R:{sampleSize:4,decisionRate:.5,finishRate:.5,koRate:.5,submissionRate:0}},Flyweight:{finishBias:.0727272727272727,koVsSubBias:-.1272727272727273,sampleSize:88,stats_3R:{sampleSize:78,decisionRate:.47435897435897434,finishRate:.5256410256410257,koRate:.2564102564102564,submissionRate:.2692307692307692},stats_5R:{sampleSize:10,decisionRate:.5,finishRate:.5,koRate:.4,submissionRate:.1}},Welterweight:{finishBias:.13208955223880597,koVsSubBias:.14850746268656717,sampleSize:134,stats_3R:{sampleSize:122,decisionRate:.4098360655737705,finishRate:.5901639344262295,koRate:.4426229508196721,submissionRate:.14754098360655737},stats_5R:{sampleSize:12,decisionRate:.5,finishRate:.5,koRate:.4166666666666667,submissionRate:.08333333333333333}},Heavyweight:{finishBias:.02297297297297296,koVsSubBias:.07972972972972975,sampleSize:74,stats_3R:{sampleSize:63,decisionRate:.6190476190476191,finishRate:.38095238095238093,koRate:.30158730158730157,submissionRate:.07936507936507936},stats_5R:{sampleSize:11,decisionRate:0,finishRate:1,koRate:.6363636363636364,submissionRate:.36363636363636365}},Light_Heavyweight:{finishBias:.16971830985915487,koVsSubBias:.15985915492957747,sampleSize:71,stats_3R:{sampleSize:66,decisionRate:.3939393939393939,finishRate:.6060606060606061,koRate:.4393939393939394,submissionRate:.16666666666666666},stats_5R:{sampleSize:5,decisionRate:.2,finishRate:.8,koRate:.8,submissionRate:0}}};var xe=($=>($.MONEYLINE="moneyline",$.VICTORY_METHOD="victory_method",$.DURATION="duration",$.GOES_TO_DECISION="goes_to_decision",$.GONE_IN_60="gone_in_60",$.FIGHT_PROPS="fight_props",$.KEY_FACTORS="key_factors",$.TRENDS="trends",$.NO_PREDICTION="no_prediction",$))(xe||{}),Fi=($=>($.HIGH="high",$.MEDIUM="medium",$.LOW="low",$))(Fi||{});class ci{constructor(){this.config={finishLikelihoodThreshold:35,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:1,predatorVsDefensiveBonus:2.5,bothFinishersMultiplier:1.2,bothFinishersThreshold:45,loserDecisionRateWeight:.05,decisionRateBonus:-2,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,methodFinishSkillGapBonus:5,methodFinishLoserVulnBonus:4,methodFinishWinnerRateBonus:2,methodFinishComboBonus:1,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,gapHighThreshold:33,gapMedThreshold:23,gapLowThreshold:11,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,unexpectedKOStrLandedThreshold:4.5,unexpectedKOStrAbsorbedThreshold:4.5,unexpectedKOKnockdownThreshold:1,unexpectedKOThreatThreshold:25,unexpectedKOBoost:5,earlyFinishScoreThreshold:28,durationSkillGapWeight:.01,durationFinishRateWeight:.1,durationVulnerabilityWeight:.15,durationAvgTimeWeight:.5,underBonusBase:15,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:50,durationBothLowFinishThreshold:22,durationPaceAsymmetryThreshold:5,durationPaceAsymmetryPenalty:2,durationUnderSkillGapBonus:16,durationUnderLoserVulnBonus:13,durationUnderWinnerFinishBonus:10,durationUnderComboBonus:5,durationUnderExtreme:60,durationUnderSkillGapExtreme:22,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:12,oppTierWeight:10.5,oppTierNeutral:.53,winRateWeightNormal:.4,winRateWeightExtreme:.35,winRateHighThreshold:73,winRateLowThreshold:30,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:1,agePenaltyPhase3Rate:5,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1.05,damageMultiplier2KO:1.1,damageMultiplier3KO:1.95,damageMultiplier4KO:1.3,damageMultiplier5PlusKO:1.6,relativeAgeThreshold:7,relativeAgeAdjustRate:1.7,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:.06,heightAdvantageWeight:.05,reachDiffThreshold:2,heightDiffThreshold:2,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:22,inactivityPenaltyRate:1.2,inactivityMaxPenalty:.23,activityBonusThreshold:7,activityBonus:3,amplificationEnabled:!0,amplificationThreshold:15,amplificationRate:.45,minProbability:15,maxProbability:88,decisionProbabilityBase:64,decisionLowFinishAdjust:0,goesToDecisionMaxProb:88,decisionBaseMax:85,koMaxProb:89,subMaxProb:76,decisionMinFloor:81,methodOppTierWeight:3.5,methodDecisionRateFinisherThreshold:6,methodDecisionRateFinisherBonus:9,methodHighPaceMinFights:3,methodHighPaceMinFinish:31,methodHighPaceMaxFinish:55,methodStyleStrengthThreshold:35,methodLoserVulnThreshold:25,methodStrongFinisherWinnerThreshold:61,methodStrongFinisherLoserThreshold:39,decisionCapHighFinishThreshold:52,decisionCapPenaltyBase:3,decisionCapPenaltyScale:3,decisionCapPenaltyDivisor:8,decisionCapMedFinishThreshold:42,decisionCapMedPenalty:1,decisionCapLowFinishThreshold:43,decisionCapLowPenalty:0,divisionMinSampleSize:20,divisionThreatDiffThreshold:7,divisionPreferenceThreshold:8,divisionTiebreakerBoost:2,koThreatComponent:.3,subThreatComponent:.25,durationOppTierWeight:2.5,defaultFightDuration:894,extremeFinishWinnerThreshold1:70,extremeFinishLoserThreshold1:43,extremeFinishSkillGap1:24,extremeFinishWinnerThreshold2:61,extremeFinishLoserThreshold2:44,extremeFinishSkillGap3:18,extremeFinishWinnerThreshold3:50,under15ScoreThreshold:55,under15WinProbThreshold:65,under15WinnerTimeThreshold:6,under15LoserTimeThreshold:5,under15SkillGapThreshold:8,under15InitialCap:70,under15SkillGapExtreme:19,under15FinishRateExtreme:63,under15VulnExtreme:50,under15FinalCap:88,under15RelaxedEarlyFinishThreshold:44,under15RelaxedWinProbThreshold:45,under25FinishThreshold1:57,under25LoserFinishThreshold1:60,under25KOThreshold:37,under25AvgTimeThreshold:6,under25WinnerTimeThreshold:7,under25LoserTimeThreshold:10,under25WinProbMin:40,under25InitialCap:80,under25SkillGapThreshold:8,under25VulnThreshold:30,under25WinnerFinishThreshold:50,under25ComboWinnerThreshold:54,under25ComboLoserThreshold:40,under25FinalCap:85,over15BaseProbability:40,over15HighThreatThreshold:35,over15HighThreatValue:57,over15MedThreatLowThreshold:16,over15MedThreatHighThreshold:25,over15MedThreatValue:65,over15LowThreatThreshold:13,over15LowThreatValue:61,over15VeryLowThreatThreshold:11,over15VeryLowThreatValue:85,over15FinisherThreshold:35,over15FinisherPenalty:8,over15DecisionThreshold:66,over15DecisionBoost:17,over15DualDecisionThreshold1:12,over15DualDecisionThreshold2:34,over15DualDecisionBoost:8,over15LongTimeThreshold:9,over15LongTimeBoost:13,over15MinProbability:50,over15MaxProbability:83,over15FinishLikelihoodPenaltyThreshold:36,over15FinishLikelihoodPenaltyAmount:10,over35DecisionThreshold1:50,over35DecisionThreshold2:70,over35AvgTimeThreshold:10,over35LowFinishThreshold:15,over35LongTimeThreshold:13,over35BaseProbability:39,over35PureDecisionThreshold:60,over35PureDecisionValue:60,over35ExtremeDecisionThreshold:70,over35ExtremeDecisionValue:50,over35LongMinProbability:33,over35LongDecisionThreshold:50,over35LongDecisionBoost:11,over35LongDecisionCap:70,over35FinishPenaltyThreshold1:34,over35FinishPenalty1:13,over35FinishPenaltyThreshold2:49,over35FinishPenalty2:6,over35MinProbability:40,over35MaxProbability:70,physicalAdvantageReachThreshold:4,physicalAdvantageHeightThreshold:2,activityPeriodMonths:47,activityThresholdFights:3,defaultWinProbability:45,reachAnalysisThreshold:3,activityDifferenceThreshold:2,highWinRateThreshold:70,strugglingWinRateThreshold:53,estimatedCareerStartAge:16,estimatedFightsPerYear:2.9,grapplerTakedownThreshold:45,grapplerSubmissionThreshold:32,strikerKOThreshold:33,strikerTakedownMax:10,dominantGrapplerThreshold:55,weightedMetricLoserImpact:.35,firstRoundFinishThreshold:3,subAttemptsOverThreshold:2.3,finishRateFirstRoundThreshold:69,doubleKnockdownThreshold:.3,groundControlTakedownThreshold:15,strikeVolumeThreshold:120,standingExchangeTakedownMax:3,divisionBlendSubThreat:.29,koToDecisionBiasReduction:7,koToDecisionLoserDecisionRateThreshold:34,koToDecisionLowKOThreatThreshold:33,subToDecisionBiasReduction:9,subToDecisionLoserDecisionRateThreshold:48,subToDecisionLowSubThreatThreshold:35,predatorFinishRateThreshold:40,predatorVulnerabilityThreshold:30,methodThreatDiffThreshold:4,methodStyleDiffThreshold:2,threatMultiplier:.3,methodFinishSkillGapThreshold:6,koLoserVulnThreshold:30,koWinnerRateThreshold:51,subLoserVulnThreshold:20,subWinnerRateThreshold:43,koComboWinnerRateThreshold:53,koComboLoserVulnThreshold:16,durationFinishRateThreshold:50,durationTakedownRateThreshold:16,durationStrikeVolumeThreshold:125,durationLowTakedownThreshold:3,subComboWinnerRateThreshold:49,subComboLoserVulnThreshold:29,winnerReachDiffThreshold:1,winnerExperienceGapThreshold:1,winnerAgePrimeStart:25,winnerAgePrimeEnd:30,winnerYearsAfterPrimeModerate:6,winnerYearsAfterPrimeSevere:8,h2hRecentVictoryMonths:45,h2hRecentVictoryPenalty:15,h2hRecencyWeight:.5,durationOppTierNeutral:.54,durationDivisionMinSampleSize:40,durationLoserVulnBonus:11,durationDecisionFighterPenalty:12}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}static{this.divisionCoefficients=null}static loadDivisionCoefficients(){return this.divisionCoefficients?this.divisionCoefficients:(this.divisionCoefficients=new Map(Object.entries(Ra)),this.divisionCoefficients)}generateBetCards(i,s,f=!1,o=3){const t=[],r=i.rawData.Number_of_Fights_36m||0,D=s.rawData.Number_of_Fights_36m||0;if(r<3||D<3)return[this.createNoPredictionCard("insufficient_fights",i,s,r,D)];if(i.division!==s.division)return[this.createNoPredictionCard("different_divisions",i,s)];const c=this.calculateWinProbability(i,s);if(f&&c.probability<ci.MIN_MEDIUM_CONFIDENCE){const N=c.winner===i?c.probability:100-c.probability,R=100-N;t.push(this.createNoPredictionCard("low_moneyline_confidence",i,s,void 0,void 0,N,R))}else t.push(this.createMoneylineCard(c));const y=this.predictMethodGivenWinner(i,s,c,o),j=this.predictTotalRounds(i,s,c,o),I=this.generateFightProps(i,s,c),T=this.analyzeKeyFactors(i,s),z=this.analyzeTrends(i,s);return t.push(this.createVictoryMethodCard(y)),t.push(this.createTotalRoundsCard(j)),t.push(this.createFightPropsCard(I)),t.push(this.createKeyFactorsCard(T)),t.push(this.createTrendsCard(z)),this.hasHighConfidencePredictions(t)||t.push(this.createNoPredictionCard("low_confidence")),f?this.sortBetCardsByPriority(this.filterByConfidence(et(t))):this.sortBetCardsByPriority(et(t))}filterByConfidence(i){return i.filter(s=>s.type==="key_factors"||s.type==="trends"||s.type==="no_prediction"?!0:s.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(i,s){const f=(i.rawData.reach_inches||0)-(s.rawData.reach_inches||0),o=(i.rawData.height_inches||0)-(s.rawData.height_inches||0);let t=0,l=0;return f>=this.config.physicalAdvantageReachThreshold?t+=Math.min(Math.abs(f)*this.config.reachAdvantageWeight,.025):f<=-this.config.physicalAdvantageReachThreshold&&(l+=Math.min(Math.abs(f)*this.config.reachAdvantageWeight,.025)),o>=this.config.physicalAdvantageHeightThreshold?t+=Math.min(Math.abs(o)*this.config.heightAdvantageWeight,.015):o<=-this.config.physicalAdvantageHeightThreshold&&(l+=Math.min(Math.abs(o)*this.config.heightAdvantageWeight,.015)),{f1Advantage:t,f2Advantage:l}}checkRecentH2H(i,s){if(!i.rawData.Dates_36m||!s.rawData.Dates_36m)return{loserRecentlyBeatWinner:!1,winnerRecentlyBeatLoser:!1};const f=i.id,o=s.id,t=i.name.toLowerCase(),l=s.name.toLowerCase(),r=t.split(" ")[0],D=l.split(" ")[0],c=i.rawData.Dates_36m?i.rawData.Dates_36m.split(","):[],y=s.rawData.Dates_36m?s.rawData.Dates_36m.split(","):[],j=new Date().getTime(),I=this.config.h2hRecentVictoryMonths*30*24*60*60*1e3,T=(R,V,le,Y)=>{const M=R.toLowerCase();return M===V||M===le||M===Y||M.includes(Y)};let z=!1;for(const R of c){if(!R||R.trim().length===0)continue;const V=R.trim().split(":");if(V.length<3)continue;const le=V[0],Y=V[1],M=V[2];if(T(Y,o,l,D)&&M.toUpperCase()==="W"){const p=this.parseUFCDate(le);if(p&&j-p.getTime()<I){z=!0;break}}}let N=!1;for(const R of y){if(!R||R.trim().length===0)continue;const V=R.trim().split(":");if(V.length<3)continue;const le=V[0],Y=V[1],M=V[2];if(T(Y,f,t,r)&&M.toUpperCase()==="W"){const p=this.parseUFCDate(le);if(p&&j-p.getTime()<I){N=!0;break}}}return{loserRecentlyBeatWinner:N,winnerRecentlyBeatLoser:z}}parseUFCDate(i){const s=i.split("-");if(s.length!==3)return null;const f=parseInt(s[0],10),o=parseInt(s[1],10),t=parseInt(s[2],10);return isNaN(f)||isNaN(o)||isNaN(t)?null:new Date(t,o-1,f)}calculateWinProbability(i,s){const f=this.config.oppTierNeutral,o=this.config.oppTierWeight;let t=i.overall+(i.oppTierScore-f)*o,l=s.overall+(s.oppTierScore-f)*o;const r=this.calculatePhysicalAdvantage(i,s);t*=1+r.f1Advantage,l*=1+r.f2Advantage,t*=this.calculateAgeImpact(i),l*=this.calculateAgeImpact(s);const D=this.getInactiveMonths(i),c=this.getInactiveMonths(s);if(D>=this.config.inactivityThreshold){const Q=Math.min((D-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);t*=1-Q}if(c>=this.config.inactivityThreshold){const Q=Math.min((c-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);l*=1-Q}const y=this.getFightsInPeriod(i,18),j=this.getFightsInPeriod(s,18);y>=this.config.activityBonusThreshold&&(t*=1+this.config.activityBonus),j>=this.config.activityBonusThreshold&&(l*=1+this.config.activityBonus);const I=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,T=s.rawData.Number_of_Fights_36m>0?s.rawData.win/s.rawData.Number_of_Fights_36m*100:0,z=this.calculateMomentum(i),N=this.calculateMomentum(s);t*=1+z,l*=1+N;let R=this.config.winRateWeightNormal,V=this.config.winRateWeightNormal;I>=this.config.winRateHighThreshold?R=this.config.winRateWeightExtreme:I<this.config.winRateLowThreshold&&(R=this.config.winRateWeightExtreme),T>=this.config.winRateHighThreshold?V=this.config.winRateWeightExtreme:T<this.config.winRateLowThreshold&&(V=this.config.winRateWeightExtreme);const le=t+I*R,Y=l+T*V,M=this.calculateAge(i),p=this.calculateAge(s),B=M-p;let P=le,F=Y;if(Math.abs(B)>=this.config.relativeAgeThreshold){const Q=Math.min(Math.abs(B)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);B>0?(P=le*(1-Q),F=Y*(1+Q)):(P=le*(1+Q),F=Y*(1-Q))}const q=Math.abs(P-F);if(q>this.config.amplificationThreshold){const Q=1+(q-this.config.amplificationThreshold)*this.config.amplificationRate;P>F?P*=Q:F*=Q}const oe=P+F;let G=oe>0?Math.round(P/oe*100):50,b=oe>0?Math.round(F/oe*100):50;const fe=this.checkRecentH2H(i,s);if(fe.loserRecentlyBeatWinner){const Q=G*this.config.h2hRecentVictoryPenalty/100,Me=G*(1-this.config.h2hRecencyWeight)+(G-Q)*this.config.h2hRecencyWeight;G=Math.round(Me),b=100-G}if(fe.winnerRecentlyBeatLoser){const Q=G*this.config.h2hRecentVictoryPenalty/100,Me=G*(1-this.config.h2hRecencyWeight)+(G+Q)*this.config.h2hRecencyWeight;G=Math.round(Me),b=100-G}if(G=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,G)),b=100-G,G>b){let Q=this.getWinReasoningKey(i,s,I,T);return{winner:i,probability:G,reasoningKey:Q,adjustedScore1:P,adjustedScore2:F}}else{let Q=this.getWinReasoningKey(s,i,T,I);return{winner:s,probability:b,reasoningKey:Q,adjustedScore1:F,adjustedScore2:P}}}predictMethodGivenWinner(i,s,f,o=3){const t=f.winner,l=t===i?s:i,r=ci.loadDivisionCoefficients(),D=t.division,c=r.get(D),y=c?o===5?c.stats_5R:c.stats_3R:null,j=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,I=l.overall+(l.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,T=Math.abs(j-I),z=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,N=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,R=t===i?z:N,V=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,le=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,Y=t===i?V:le,M=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,p=s.rawData.Number_of_Fights_36m>0?s.rawData.win_sub/s.rawData.Number_of_Fights_36m*100:0,B=t===i?M:p,P=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_kotko/l.rawData.Number_of_Fights_36m*100:0,F=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_sub/l.rawData.Number_of_Fights_36m*100:0,q=P+F,oe=q,G=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_decision/l.rawData.Number_of_Fights_36m*100:0;let b=T*this.config.skillGapWeight+R*this.config.finishRateWeight+q*this.config.vulnerabilityWeight;const fe=G*this.config.loserDecisionRateWeight/10;b-=fe,G<this.config.methodDecisionRateFinisherThreshold&&(b+=this.config.methodDecisionRateFinisherBonus);const Q=Y>B&&P>F,Me=B>Y&&F>P;(Q||Me)&&(b+=this.config.methodMatchBonus),t.rawData.Number_of_Fights_36m>=this.config.methodHighPaceMinFights&&R>=this.config.methodHighPaceMinFinish&&R<=this.config.methodHighPaceMaxFinish&&(b+=this.config.highPaceFinishBonus),Math.max(Y,B)>this.config.methodStyleStrengthThreshold&&q>this.config.methodLoserVulnThreshold&&(b+=this.config.styleStrengthBonus),R>this.config.methodStrongFinisherWinnerThreshold&&oe>this.config.methodStrongFinisherLoserThreshold&&(b+=this.config.finisherVsVulnerableBonus);const ae=t.archetype?.combinedRole||"",ze=l.archetype?.combinedRole||"",$e=ae.includes("AT")||ae.includes("ANT"),E=ze.includes("PT")||ze.includes("PNT");$e&&E&&R>this.config.predatorFinishRateThreshold&&q>this.config.predatorVulnerabilityThreshold&&(b+=this.config.predatorVsDefensiveBonus);const ue=l===i?z:N,Te=Math.min(R,ue),Pe=Math.max(R,ue);if(Te>this.config.bothFinishersThreshold&&Pe>this.config.bothFinishersThreshold&&(b*=this.config.bothFinishersMultiplier),b<this.config.finishLikelihoodThreshold){let se=Math.min(Math.round(100-b),this.config.decisionBaseMax),Oe=this.config.decisionBaseMax;if(Te>this.config.decisionCapHighFinishThreshold){const Ye=this.config.decisionCapPenaltyBase+(Te-this.config.decisionCapHighFinishThreshold)/this.config.decisionCapPenaltyDivisor*this.config.decisionCapPenaltyScale;Oe=Math.max(Oe-Ye,this.config.decisionMinFloor)}else Te>this.config.decisionCapMedFinishThreshold?Oe=Math.max(Oe-this.config.decisionCapMedPenalty,this.config.decisionMinFloor+4):Te>this.config.decisionCapLowFinishThreshold&&(Oe=Math.max(Oe-this.config.decisionCapLowPenalty,this.config.decisionMinFloor+2));return{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(se,Oe),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:z,finishRate2:N}}let we=Y*this.config.koThreatWinnerWeight+P*this.config.koThreatLoserWeight,be=B*this.config.subThreatWinnerWeight+F*this.config.subThreatLoserWeight;if(y&&y.sampleSize>=this.config.divisionMinSampleSize&&this.config.divisionBlendSubThreat>0){const se=y.submissionRate*100;be=be*(1-this.config.divisionBlendSubThreat)+se*this.config.divisionBlendSubThreat}if(y&&y.sampleSize>=this.config.divisionMinSampleSize){const se=Math.abs(we-be),Oe=y.koRate*100,Ye=y.submissionRate*100,Fe=Oe-Ye;se<this.config.divisionThreatDiffThreshold&&Math.abs(Fe)>this.config.divisionPreferenceThreshold&&(Fe>0?we+=this.config.divisionTiebreakerBoost:be+=this.config.divisionTiebreakerBoost)}const Ke=F-P;Ke>this.config.subVulnDiffHighThreshold?be+=this.config.subVulnDiffHighBonus:Ke>this.config.subVulnDiffMedThreshold&&(be+=this.config.subVulnDiffMedBonus);const Se=P-F;Se>this.config.koVulnDiffHighThreshold?we+=this.config.koVulnDiffHighBonus:Se>this.config.koVulnDiffMedThreshold&&(we+=this.config.koVulnDiffMedBonus);const Le=t.fightRadar.STR_OFF-l.fightRadar.STR_OFF;if(Le>this.config.gapLowThreshold){const se=Le>this.config.gapHighThreshold?this.config.strOffGapHighBonus:Le>this.config.gapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;we+=se}const Ae=t.fightRadar.CTRL-l.fightRadar.CTRL;if(Ae>this.config.gapLowThreshold){const se=Ae>this.config.gapHighThreshold?this.config.ctrlGapHighBonus:Ae>this.config.gapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;be+=se}const Be=t.fightRadar.TD_OFF-l.fightRadar.TD_OFF;if(Be>this.config.gapLowThreshold){const se=Be>this.config.gapHighThreshold?this.config.tdOffGapHighBonus:Be>this.config.gapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;be+=se}const He=t.rawData.Fight_Duration_Seconds||600,De=l.rawData.Fight_Duration_Seconds||600,Ee=t.rawData.Sig_Strikes_Landed/(He/60)||0,_e=l.rawData.Sig_Strikes_Absorbed/(De/60)||0,X=t.rawData.Knockdowns/(He/900)||0;Ee>this.config.unexpectedKOStrLandedThreshold&&_e>this.config.unexpectedKOStrAbsorbedThreshold&&X>this.config.unexpectedKOKnockdownThreshold&&we<this.config.unexpectedKOThreatThreshold&&(we+=this.config.unexpectedKOBoost);const pe=Y>B&&P>F,je=B>Y&&F>P,Ze=Math.abs(we-be),ei=Math.abs(Y-B);if(Ze<this.config.methodThreatDiffThreshold?ei<this.config.methodStyleDiffThreshold?P>F:pe&&!je||we>be&&!je:we>be){let se=Math.round(b+we*this.config.threatMultiplier);return T>this.config.methodFinishSkillGapThreshold&&(se+=this.config.methodFinishSkillGapBonus),P>this.config.koLoserVulnThreshold&&(se+=this.config.methodFinishLoserVulnBonus),Y>this.config.koWinnerRateThreshold&&(se+=this.config.methodFinishWinnerRateBonus),Y>this.config.koComboWinnerRateThreshold&&P>this.config.koComboLoserVulnThreshold&&(se+=this.config.methodFinishComboBonus),pe&&Y>this.config.koMethodMatchWinnerThreshold&&P>this.config.koMethodMatchLoserThreshold&&(se+=this.config.koMethodMatchBonus),G>this.config.koToDecisionLoserDecisionRateThreshold&&we<this.config.koToDecisionLowKOThreatThreshold&&(se-=this.config.koToDecisionBiasReduction),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(se,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:z,finishRate2:N}}else{let se=Math.min(Math.round(b+be*this.config.threatMultiplier),this.config.subMaxProb);return T>this.config.methodFinishSkillGapThreshold&&(se+=this.config.methodFinishSkillGapBonus),F>this.config.subLoserVulnThreshold&&(se+=this.config.methodFinishLoserVulnBonus),B>this.config.subWinnerRateThreshold&&(se+=this.config.methodFinishWinnerRateBonus),B>this.config.subComboWinnerRateThreshold&&F>this.config.subComboLoserVulnThreshold&&(se+=this.config.methodFinishComboBonus),je&&B>this.config.subMethodMatchWinnerThreshold&&F>this.config.subMethodMatchLoserThreshold&&(se+=this.config.subMethodMatchBonus),G>this.config.subToDecisionLoserDecisionRateThreshold&&be<this.config.subToDecisionLowSubThreatThreshold&&(se-=this.config.subToDecisionBiasReduction),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(se,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:z,finishRate2:N}}}predictTotalRounds(i,s,f,o=3){const t=f.winner,l=t===i?s:i,r=t.overall+(t.oppTierScore-this.config.durationOppTierNeutral)*this.config.durationOppTierWeight,D=l.overall+(l.oppTierScore-this.config.durationOppTierNeutral)*this.config.durationOppTierWeight,c=Math.abs(r-D),y=(i.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,j=(s.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,I=t===i?y:j,T=t===i?j:y,z=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,N=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,R=t===i?z:N,V=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,le=s.rawData.Number_of_Fights_36m>0?s.rawData.win_kotko/s.rawData.Number_of_Fights_36m*100:0,Y=t===i?V:le,M=l.rawData.Number_of_Fights_36m>0?(l.rawData.loss_kotko+l.rawData.loss_sub)/l.rawData.Number_of_Fights_36m*100:0;let p=c*this.config.durationSkillGapWeight+R*this.config.durationFinishRateWeight+M*this.config.durationVulnerabilityWeight+(15-Math.min(I,15))*this.config.durationAvgTimeWeight*10;M>this.config.durationLoserVulnThreshold&&(p+=this.config.durationLoserVulnBonus),z<this.config.durationBothLowFinishThreshold&&N<this.config.durationBothLowFinishThreshold&&(p-=this.config.durationDecisionFighterPenalty);const B=i.rawData.Number_of_Fights_36m,P=s.rawData.Number_of_Fights_36m;Math.abs(B-P)>=this.config.durationPaceAsymmetryThreshold&&Math.min(B,P)<=2&&(p-=this.config.durationPaceAsymmetryPenalty);const q=(y+j)/2,oe=[],G=R>this.config.extremeFinishWinnerThreshold1&&M>this.config.extremeFinishLoserThreshold1&&c>this.config.extremeFinishSkillGap1||R>this.config.extremeFinishWinnerThreshold2&&M>this.config.extremeFinishLoserThreshold2||c>this.config.extremeFinishSkillGap3&&R>this.config.extremeFinishWinnerThreshold3;if(p>this.config.under15ScoreThreshold&&f.probability>this.config.under15WinProbThreshold&&G||I<this.config.under15WinnerTimeThreshold&&T<this.config.under15LoserTimeThreshold&&c>this.config.under15SkillGapThreshold||p>this.config.under15RelaxedEarlyFinishThreshold&&f.probability>this.config.under15RelaxedWinProbThreshold){let b=Math.min(Math.round(p+this.config.durationUnderExtreme),this.config.under15InitialCap);c>this.config.under15SkillGapExtreme&&(b+=this.config.durationUnderSkillGapExtreme),R>this.config.under15FinishRateExtreme&&(b+=this.config.durationUnderFinishRateExtreme),M>this.config.under15VulnExtreme&&(b+=this.config.durationUnderLoserVulnExtreme);const fe=Math.min(b,this.config.under15FinalCap);oe.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:fe,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:I})}if(o===5){const b=R>this.config.under25FinishThreshold1&&M>this.config.under25LoserFinishThreshold1||Y>this.config.under25KOThreshold&&I<this.config.under25AvgTimeThreshold,fe=I<this.config.under25WinnerTimeThreshold&&T<this.config.under25LoserTimeThreshold;if(p>this.config.earlyFinishScoreThreshold&&f.probability>this.config.under25WinProbMin||b){let Q=Math.min(Math.round(p+this.config.underBonusBase),this.config.under25InitialCap);c>this.config.under25SkillGapThreshold&&(Q+=this.config.durationUnderSkillGapBonus),M>this.config.under25VulnThreshold&&(Q+=this.config.durationUnderLoserVulnBonus),R>this.config.under25WinnerFinishThreshold&&(Q+=this.config.durationUnderWinnerFinishBonus),R>this.config.under25ComboWinnerThreshold&&M>this.config.under25ComboLoserThreshold&&(Q+=this.config.durationUnderComboBonus);const Me=Math.min(Q,this.config.under25FinalCap);fe&&oe.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:Me,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:I})}}if(o===3){let b=this.config.over15BaseProbability;p>this.config.over15HighThreatThreshold&&(b=this.config.over15HighThreatValue),p>this.config.over15MedThreatLowThreshold&&p<=this.config.over15MedThreatHighThreshold&&(b=this.config.over15MedThreatValue),p<this.config.over15LowThreatThreshold&&(b=this.config.over15LowThreatValue),p<this.config.over15VeryLowThreatThreshold&&(b=this.config.over15VeryLowThreatValue),R>this.config.over15FinisherThreshold&&(b-=this.config.over15FinisherPenalty),R<this.config.over15DecisionThreshold&&(b+=this.config.over15DecisionBoost),R<this.config.over15DualDecisionThreshold1&&M<this.config.over15DualDecisionThreshold2&&(b+=this.config.over15DualDecisionBoost),q>this.config.over15LongTimeThreshold&&(b=Math.min(b+this.config.over15LongTimeBoost,this.config.over15MaxProbability)),p>this.config.over15FinishLikelihoodPenaltyThreshold&&(b-=this.config.over15FinishLikelihoodPenaltyAmount);const fe=Math.min(Math.max(Math.round(b),this.config.over15MinProbability),this.config.over15MaxProbability);oe.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:fe,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:q})}if(o===5){let b=this.config.over15BaseProbability;p>this.config.over15HighThreatThreshold&&(b=this.config.over15HighThreatValue),p>this.config.over15MedThreatLowThreshold&&p<=this.config.over15MedThreatHighThreshold&&(b=this.config.over15MedThreatValue),p<this.config.over15LowThreatThreshold&&(b=this.config.over15LowThreatValue),p<this.config.over15VeryLowThreatThreshold&&(b=this.config.over15VeryLowThreatValue),R>this.config.over15FinisherThreshold&&(b-=this.config.over15FinisherPenalty),R<this.config.over15DecisionThreshold&&(b+=this.config.over15DecisionBoost),R<this.config.over15DualDecisionThreshold1&&M<this.config.over15DualDecisionThreshold2&&(b+=this.config.over15DualDecisionBoost);const fe=Math.min(Math.max(Math.round(b),this.config.over15MinProbability),this.config.over15MaxProbability);oe.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:fe,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:q});const Q=R<this.config.over35DecisionThreshold1&&M<this.config.over35DecisionThreshold2&&q>this.config.over35AvgTimeThreshold,Me=p<this.config.over35LowFinishThreshold,Xe=q>this.config.over35LongTimeThreshold;if(Q||Me||Xe){let x=this.config.over35BaseProbability;R<this.config.over35PureDecisionThreshold&&M<this.config.over35PureDecisionThreshold&&(x=this.config.over35PureDecisionValue),R<this.config.over35ExtremeDecisionThreshold&&M<this.config.over35ExtremeDecisionThreshold&&(x=this.config.over35ExtremeDecisionValue),Xe&&(x=Math.max(x,this.config.over35LongMinProbability),R<this.config.over35LongDecisionThreshold&&M<this.config.over35LongDecisionThreshold&&(x=Math.min(x+this.config.over35LongDecisionBoost,this.config.over35LongDecisionCap))),p>this.config.over35FinishPenaltyThreshold1&&(x-=this.config.over35FinishPenalty1),p>this.config.over35FinishPenaltyThreshold2&&(x-=this.config.over35FinishPenalty2);const ae=Math.min(Math.max(Math.round(x),this.config.over35MinProbability),this.config.over35MaxProbability);oe.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:ae,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:q})}}return oe.sort((b,fe)=>fe.probability-b.probability),oe[0]}generateFightProps(i,s,f){const o=this.calculateBettingMetrics(i,s,f),t=6;return o.f1SubRate+o.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:o}:o.weightedFinishRate&&o.weightedFinishRate>this.config.durationFinishRateThreshold&&o.weightedAvgFightTime&&o.weightedAvgFightTime<t?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:o}:o.f1KnockdownRate>.6&&o.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:o}:o.f1TakedownRate>this.config.durationTakedownRateThreshold||o.f2TakedownRate>this.config.durationTakedownRateThreshold?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:o}:o.f1StrikeVolume>this.config.durationStrikeVolumeThreshold&&o.f2StrikeVolume>this.config.durationStrikeVolumeThreshold?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:o}:o.f1TakedownRate<this.config.durationLowTakedownThreshold&&o.f2TakedownRate<this.config.durationLowTakedownThreshold?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:o}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:o}}analyzeKeyFactors(i,s){const f=[],o=i.rawData.reach_inches||0,t=s.rawData.reach_inches||0,l=Math.abs(o-t);if(l>this.config.winnerReachDiffThreshold){const T=o>t?i.name||"Fighter 1":s.name||"Fighter 2";f.push({label:"combat_analysis.key_factors.reach_advantage",value:`${T} +${l}"`,type:"advantage"})}const r=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0,D=s.rawData.Sig_Strikes_Thrown>0?Math.round(s.rawData.Sig_Strikes_Landed/s.rawData.Sig_Strikes_Thrown*100):0;f.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${i.name||"F1"}: ${r}% vs ${s.name||"F2"}: ${D}%`,type:"comparison"});const c=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85,y=s.rawData.takedowns_attempted_against>0?Math.round(s.rawData.Takedowns_Defended/s.rawData.takedowns_attempted_against*100):85;f.push({label:"combat_analysis.key_factors.takedown_defense",value:`${i.name||"F1"}: ${c}% vs ${s.name||"F2"}: ${y}%`,type:"comparison"});const j=i.rawData.Number_of_Fights_36m||0,I=s.rawData.Number_of_Fights_36m||0;if(Math.abs(j-I)>this.config.winnerExperienceGapThreshold){const T=j>I?i.name||"Fighter 1":s.name||"Fighter 2",z=Math.max(j,I),N=Math.min(j,I);f.push({label:"combat_analysis.key_factors.higher_activity",value:`${T}: ${z} vs ${N} fights`,type:"advantage"})}return f}analyzeTrends(i,s){const f=[],o=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0,t=s.rawData.Number_of_Fights_36m>0?Math.round(s.rawData.win/s.rawData.Number_of_Fights_36m*100):0;o>=75?f.push({type:"positive",text:`${i.name||"Fighter 1"} has ${o}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 1",winRate:o},fighter:i.name}):o<50&&f.push({type:"negative",text:`${i.name||"Fighter 1"} struggling at ${o}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 1",winRate:o},fighter:i.name}),t>=75?f.push({type:"positive",text:`${s.name||"Fighter 2"} has ${t}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:s.name||"Fighter 2",winRate:t},fighter:s.name}):t<50&&f.push({type:"negative",text:`${s.name||"Fighter 2"} struggling at ${t}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:s.name||"Fighter 2",winRate:t},fighter:s.name});const l=(i.rawData.Fight_Duration_Seconds||900)/60,r=(s.rawData.Fight_Duration_Seconds||900)/60,D=(l+r)/2;return f.push({type:"neutral",text:`Combined average fight time: ${D.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:D.toFixed(1)}}),f}calculateMomentum(i){const s=i.streak;if(s===0)return 0;const f=Math.abs(s);return s>0?f>=3?this.config.winStreak3PlusBonus:f>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:f>=3?-this.config.loseStreak3PlusPenalty:f>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(i){return i===0?1:i===1?this.config.damageMultiplier1KO:i===2?this.config.damageMultiplier2KO:i===3?this.config.damageMultiplier3KO:i===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(i){const s=this.calculateAge(i),o={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[i.division]||32,t=i.rawData.loss_kotko||0,l=this.calculateDamageMultiplier(t),r=(s-o)*l;if(r<=0)return 1;let D=0;return r<=5?D=r*this.config.agePenaltyPhase1Rate:r<=10?D=5*this.config.agePenaltyPhase1Rate+(r-5)*this.config.agePenaltyPhase2Rate:D=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(r-10)*this.config.agePenaltyPhase3Rate,D=Math.min(D,this.config.agePenaltyMaxCap),1-D}calculateAge(i){if(i.age&&i.age>0)return i.age;const s=25,f=2.5,o=i.rawData.Number_of_Fights_36m||0;return Math.round(s+o/f)}getInactiveMonths(i){const s=i.rawData.Number_of_Fights_36m||0;return s>=3?0:s>=2?6:s>=1?12:24}getFightsInPeriod(i,s){const f=s/36;return Math.round((i.rawData.Number_of_Fights_36m||0)*f)}getWeightedMetric(i,s,f,o,t=.5){const l=f.probability/100,r=1-l;return f.winner===o?i*l+s*r*t:s*l+i*r*t}calculateBettingMetrics(i,s,f){const o=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,t=s.rawData.Number_of_Fights_36m>0?(s.rawData.win_kotko+s.rawData.win_sub)/s.rawData.Number_of_Fights_36m*100:0,l=(i.rawData.Fight_Duration_Seconds||900)/60,r=(s.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:s.rawData.Sig_Strikes_Thrown>0?s.rawData.Takedowns_Attempted/s.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f2KnockdownRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Knockdowns/s.rawData.Number_of_Fights_36m:0,f1StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:s.rawData.Sig_Strikes_Thrown||0,f1SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f2SubRate:s.rawData.Number_of_Fights_36m>0?s.rawData.Sub_Attempts/s.rawData.Number_of_Fights_36m:0,f1FinishRate:o,f2FinishRate:t,avgFightTime:(l+r)/2,weightedFinishRate:f?this.getWeightedMetric(o,t,f,i,.5):void 0,weightedAvgFightTime:f?this.getWeightedMetric(l,r,f,i,1):void 0}}getWinReasoningKey(i,s,f,o){return i.overall>s.overall+20?"combat_analysis.reasoning.significant_rating_advantage":i.performance>s.performance+10?"combat_analysis.reasoning.significant_performance_advantage":i.fightIQ>s.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":f>o+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(i){return i>=ci.MIN_HIGH_CONFIDENCE?"high":i>=ci.MIN_MEDIUM_CONFIDENCE?"medium":(i>=ci.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(i){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:i.winner.name||"Unknown Fighter",confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{adjustedScore1:i.adjustedScore1,adjustedScore2:i.adjustedScore2},priority:1}}createVictoryMethodCard(i){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:i.method,predictionKey:i.methodKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{method:i.method,finishRate1:i.finishRate1,finishRate2:i.finishRate2},priority:2}}createTotalRoundsCard(i){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:i.prediction,predictionKey:i.predictionKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{avgTime:i.avgTime},priority:3}}createFightPropsCard(i){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:i.prop,predictionKey:i.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{value:i.value,valueKey:i.valueKey,metrics:i.metrics},priority:7}}createKeyFactorsCard(i){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:i},priority:8}}createTrendsCard(i){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:i},priority:9}}createNoPredictionCard(i,s,f,o,t,l,r){if(i==="insufficient_fights"&&s&&f){const D=(o||0)<=2,c=(t||0)<=2;let y="";return D&&c?y=`Both fighters have insufficient fight data: ${s.name} (${o} fights) and ${f.name} (${t} fights). Minimum 3 fights required for accurate predictions.`:D?y=`${s.name} has insufficient fight data (${o} fights). Minimum 3 fights required for accurate predictions.`:c&&(y=`${f.name} has insufficient fight data (${t} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:y,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:o,fighter2Fights:t}}}if(i==="different_divisions"&&s&&f)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${s.name} competes in ${s.division} while ${f.name} competes in ${f.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:s.division,fighter2Division:f.division}};if(i==="low_moneyline_confidence"&&s&&f){const D=l||0,c=r||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${s.name} ${D.toFixed(1)}% vs ${f.name} ${c.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:s.name,fighter2Name:f.name,fighter1Probability:D,fighter2Probability:c}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(i){return i.some(s=>(s.type==="moneyline"||s.type==="victory_method"||s.type==="duration"||s.type==="fight_props")&&s.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(i){return i.sort((s,f)=>s.priority-f.priority)}}const Da=new ci;var Fa=C('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),ka=C('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),xa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ma=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Sa=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ca=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Pa=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ka=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),La=C('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),ja=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Oa=C('<div class="bet-explanation svelte-1v78qb8"> </div>'),Na=C('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Ba=C('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),Ea=C('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Wa=C("<div><!></div>"),$a=C('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),qa=C('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function Ia($,i){bi(i,!1);const[s,f]=ki(),o=()=>fi(At,"$locale",s),t=()=>fi(xi,"$_",s),l=w(),r=w(),D=w(),c=w(),y=w(),j=w(),I=w(),T=w(),z=w(),N=w(),R=w(),V=w(),le=w(),Y=w(),M=w(),p=w(),B=w(),P=$t();let F=Qe(i,"fighter1",8,null),q=Qe(i,"fighter2",8,null),oe=Qe(i,"scheduledRounds",8,3);function G(ae){P("roundsChanged",ae)}function b(ae,ze){return ae.filter($e=>$e.type===ze)}function fe(ae){switch(ae){case Fi.HIGH:return"high-confidence";case Fi.MEDIUM:return"medium-confidence";case Fi.LOW:return"low-confidence";default:return""}}let Q=o();H(()=>(S(F()),S(q())),()=>{g(l,F()&&q())}),H(()=>(e(l),S(F()),S(q()),S(oe())),()=>{g(r,e(l)?Da.generateBetCards(F(),q(),!0,oe()):[])}),H(()=>(e(l),S(F()),S(q()),e(r),vi),()=>{e(l)&&F()&&q()&&e(r).length>0&&vi.trackBettingAnalysis(F().name,q().name)}),H(()=>(e(r),xe),()=>{g(D,b(e(r),xe.MONEYLINE))}),H(()=>(e(r),xe),()=>{g(c,b(e(r),xe.VICTORY_METHOD))}),H(()=>(e(r),xe),()=>{g(y,b(e(r),xe.DURATION))}),H(()=>(e(r),xe),()=>{g(j,b(e(r),xe.GOES_TO_DECISION))}),H(()=>(e(r),xe),()=>{g(I,b(e(r),xe.GONE_IN_60))}),H(()=>(e(r),xe),()=>{g(T,b(e(r),xe.FIGHT_PROPS))}),H(()=>(e(r),xe),()=>{g(z,b(e(r),xe.KEY_FACTORS))}),H(()=>(e(r),xe),()=>{g(N,b(e(r),xe.TRENDS))}),H(()=>(e(r),xe),()=>{g(R,b(e(r),xe.NO_PREDICTION))}),H(()=>(e(D),e(c),e(y),e(j),e(I)),()=>{g(V,e(D).length+e(c).length+e(y).length+e(j).length+e(I).length)}),H(()=>e(V),()=>{g(le,e(V)>0)}),H(()=>e(le),()=>{g(Y,e(le)?0:1)}),H(()=>(e(T),e(z),e(N)),()=>{g(M,e(T).length+e(z).length+e(N).length)}),H(()=>(e(V),e(Y),e(M)),()=>{g(p,e(V)+e(Y)+e(M))}),H(()=>o(),()=>{o()!==Q&&Q&&window.location.reload()}),H(()=>e(l),()=>{g(B,e(l))}),yi(),wi();var Me=ni(),Xe=Ie(Me);{var x=ae=>{var ze=qa(),$e=a(ze),E=a($e),ue=a(E),Te=a(ue);tt(Te,{size:32});var Pe=d(ue),we=d(E,4),be=a(we),Ke=d($e,2),Se=a(Ke),Le=a(Se),Ae=a(Le),Be=d(Le,2),He=a(Be),De=d(Be,2),Ee=a(De),_e=d(Se,4),X=a(_e),pe=a(X),je=d(X,2),Ze=a(je),ei=d(je,2),ii=a(ei),se=d(Ke,2);{var Oe=U=>{var h=Fa(),O=a(h),ne=a(O),me=d(O,2),he=a(me),ee=d(he,2);W(ie=>{u(ne,`${ie??""}:`),Ve(he,1,`rounds-btn ${oe()===3?"active":""}`,"svelte-1v78qb8"),Ve(ee,1,`rounds-btn ${oe()===5?"active":""}`,"svelte-1v78qb8")},[()=>(t(),n(()=>t()("fight_radar.scheduled_rounds")))]),We("click",he,()=>G(3)),We("click",ee,()=>G(5)),m(U,h)};te(se,U=>{e(V)>0&&U(Oe)})}var Ye=d(se,2);let Fe;var Ce=a(Ye);ti(Ce,1,()=>e(R),si,(U,h)=>{var O=ka(),ne=a(O),me=a(ne);Ci(me,{size:16,style:"display: inline; margin-right: 0.25rem;"});var he=d(me),ee=d(ne,2),ie=a(ee),K=a(ie),L=d(ie,2),re=a(L),ce=d(ee,2),J=a(ce);W((A,de,ve,ge)=>{u(he,` ${A??""}`),u(K,de),u(re,ve),u(J,ge)},[()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.confidence_threshold"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey,{values:e(h).metadata||{}})))]),m(U,O)});var Ge=d(Ce,2);ti(Ge,1,()=>e(D),si,(U,h)=>{var O=xa(),ne=a(O),me=a(ne),he=d(ne,2),ee=a(he),ie=a(ee),K=d(ee,2),L=a(K),re=d(he,2),ce=a(re);W((J,A,de,ve)=>{Ve(O,1,`bet-card moneyline ${J??""}`,"svelte-1v78qb8"),u(me,A),u(ie,(e(h),n(()=>e(h).prediction))),u(L,`${e(h),n(()=>e(h).confidence)??""}% ${de??""}`),u(ce,ve)},[()=>(e(h),n(()=>fe(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),m(U,O)});var oi=d(Ge,2);ti(oi,1,()=>e(c),si,(U,h)=>{var O=Ma(),ne=a(O),me=a(ne),he=d(ne,2),ee=a(he),ie=a(ee),K=d(ee,2),L=a(K),re=d(he,2),ce=a(re);W((J,A,de,ve,ge)=>{Ve(O,1,`bet-card method-victory ${J??""}`,"svelte-1v78qb8"),u(me,A),u(ie,de),u(L,`${e(h),n(()=>e(h).confidence)??""}% ${ve??""}`),u(ce,ge)},[()=>(e(h),n(()=>fe(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),m(U,O)});var ai=d(oi,2);ti(ai,1,()=>e(y),si,(U,h)=>{var O=Pa(),ne=a(O),me=a(ne),he=d(ne,2),ee=a(he),ie=a(ee),K=d(ee,2),L=a(K),re=d(he,2),ce=a(re),J=d(re,2);{var A=ve=>{var ge=Sa(),Ne=a(ge);W(Ue=>u(Ne,Ue),[()=>(t(),e(h),n(()=>t()(e(h).explanationKey)))]),m(ve,ge)},de=ve=>{var ge=ni(),Ne=Ie(ge);{var Ue=qe=>{var Je=Ca(),hi=a(Je);W(()=>u(hi,(e(h),n(()=>e(h).explanation)))),m(qe,Je)};te(Ne,qe=>{e(h),n(()=>e(h).explanation)&&qe(Ue)},!0)}m(ve,ge)};te(J,ve=>{e(h),n(()=>e(h).explanationKey)?ve(A):ve(de,!1)})}W((ve,ge,Ne,Ue,qe)=>{Ve(O,1,`bet-card total-rounds ${ve??""}`,"svelte-1v78qb8"),u(me,ge),u(ie,Ne),u(L,`${e(h),n(()=>e(h).confidence)??""}% ${Ue??""}`),u(ce,qe)},[()=>(e(h),n(()=>fe(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),m(U,O)});var ri=d(ai,2);ti(ri,1,()=>e(j),si,(U,h)=>{var O=Ka(),ne=a(O),me=a(ne),he=d(ne,2),ee=a(he),ie=a(ee),K=d(ee,2),L=a(K),re=d(he,2),ce=a(re);W((J,A,de,ve,ge)=>{Ve(O,1,`bet-card decision-type ${J??""}`,"svelte-1v78qb8"),u(me,A),u(ie,de),u(L,`${e(h),n(()=>e(h).confidence)??""}% ${ve??""}`),u(ce,ge)},[()=>(e(h),n(()=>fe(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),m(U,O)});var li=d(ri,2);ti(li,1,()=>e(I),si,(U,h)=>{var O=La(),ne=a(O),me=a(ne),he=d(ne,2),ee=a(he),ie=a(ee),K=d(ee,2),L=a(K),re=d(he,2),ce=a(re);W((J,A,de,ve,ge)=>{Ve(O,1,`bet-card gone-in-60 ${J??""}`,"svelte-1v78qb8"),u(me,A),u(ie,de),u(L,`${e(h),n(()=>e(h).confidence)??""}% ${ve??""}`),u(ce,ge)},[()=>(e(h),n(()=>fe(e(h).confidenceLevel))),()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),m(U,O)});var v=d(li,2);ti(v,1,()=>e(T),si,(U,h)=>{var O=Na(),ne=a(O),me=a(ne);it(me,{size:16,style:"display: inline; margin-right: 0.25rem;"});var he=d(me),ee=d(ne,2),ie=a(ee),K=a(ie),L=d(ie,2),re=a(L),ce=d(ee,2),J=a(ce),A=d(ce,2);{var de=ge=>{var Ne=ja(),Ue=a(Ne);W(qe=>u(Ue,qe),[()=>(t(),e(h),n(()=>t()(e(h).explanationKey)))]),m(ge,Ne)},ve=ge=>{var Ne=ni(),Ue=Ie(Ne);{var qe=Je=>{var hi=Oa(),gi=a(hi);W(()=>u(gi,(e(h),n(()=>e(h).explanation)))),m(Je,hi)};te(Ue,Je=>{e(h),n(()=>e(h).explanation)&&Je(qe)},!0)}m(ge,Ne)};te(A,ge=>{e(h),n(()=>e(h).explanationKey)?ge(de):ge(ve,!1)})}W((ge,Ne,Ue,qe,Je)=>{u(he,` ${ge??""}`),u(K,Ne),u(re,`${Ue??""}: ${qe??""}`),u(J,Je)},[()=>(t(),e(h),n(()=>t()(e(h).titleKey))),()=>(e(h),t(),n(()=>e(h).predictionKey?t()(e(h).predictionKey):e(h).prediction)),()=>(t(),n(()=>t()("combat_analysis.value"))),()=>(e(h),t(),n(()=>e(h).metadata?.valueKey?t()(e(h).metadata.valueKey):e(h).metadata?.value||"N/A")),()=>(t(),e(h),n(()=>t()(e(h).reasoningKey)))]),m(U,O)});var _=d(v,2);ti(_,1,()=>e(z),si,(U,h)=>{var O=Ea(),ne=a(O),me=a(ne),he=d(ne,2);ti(he,5,()=>(e(h),n(()=>e(h).metadata?.factors||[])),si,(ee,ie)=>{var K=Ba(),L=a(K),re=a(L),ce=d(L,2),J=a(ce);W(A=>{u(re,A),u(J,(e(ie),n(()=>e(ie).value)))},[()=>(t(),e(ie),n(()=>t()(e(ie).label)))]),m(ee,K)}),W(ee=>u(me,ee),[()=>(t(),e(h),n(()=>t()(e(h).titleKey)))]),m(U,O)});var k=d(_,2);ti(k,1,()=>e(N),si,(U,h)=>{var O=$a(),ne=a(O),me=a(ne),he=d(ne,2);ti(he,5,()=>(e(h),n(()=>e(h).metadata?.trends||[])),si,(ee,ie)=>{var K=Wa(),L=a(K);{var re=J=>{var A=_i();W(de=>u(A,de),[()=>(t(),e(ie),n(()=>t()(e(ie).textKey,{values:e(ie).params||{}})))]),m(J,A)},ce=J=>{var A=_i();W(()=>u(A,(e(ie),n(()=>e(ie).text)))),m(J,A)};te(L,J=>{e(ie),n(()=>e(ie).textKey)?J(re):J(ce,!1)})}W(()=>Ve(K,1,`trend-item ${e(ie),n(()=>e(ie).type)??""}`,"svelte-1v78qb8")),m(ee,K)}),W(ee=>u(me,ee),[()=>(t(),e(h),n(()=>t()(e(h).titleKey)))]),m(U,O)});var Z=d(Ye,2),Re=a(Z),ke=a(Re);W((U,h,O,ne)=>{u(Pe,` ${U??""}`),u(be,h),u(Ae,(S(F()),n(()=>F().name))),u(He,`${S(F()),n(()=>F().rawData.win)??""}-${S(F()),n(()=>F().rawData.loss)??""}-${S(F()),n(()=>F().rawData.draws)??""}`),u(Ee,(S(F()),n(()=>F().archetype.archetypeEmojis))),u(pe,(S(q()),n(()=>q().name))),u(Ze,`${S(q()),n(()=>q().rawData.win)??""}-${S(q()),n(()=>q().rawData.loss)??""}-${S(q()),n(()=>q().rawData.draws)??""}`),u(ii,(S(q()),n(()=>q().archetype.archetypeEmojis))),Fe=Ve(Ye,1,"betting-grid svelte-1v78qb8",null,Fe,O),u(ke,`* ${ne??""}`)},[()=>(t(),n(()=>t()("combat_analysis.fight_analysis"))),()=>(t(),n(()=>t()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(p)<=3}),()=>(t(),n(()=>t()("combat_analysis.disclaimer")))]),m(ae,ze)};te(Xe,ae=>{e(B)&&ae(x)})}m($,Me),Ti(),f()}var za=C('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),Va=C('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Aa=C('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),Ha=C('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),Ga=C('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Ua=C('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),Ya=C('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Qa=C('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),Xa=C('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function Za($,i){bi(i,!1);const s=w(),f=w(),o=w(),t=w();let l=Qe(i,"channelId",8),r=w([]),D=w(!0),c=w(null),y=w(0),j=w(!1),I=w(null),T=w(!0);function z(){e(r).length!==0&&(g(T,!0),Ii(y),e(y)>=e(r).length*2&&setTimeout(()=>{g(T,!1),g(y,e(r).length),setTimeout(()=>{g(T,!0)},50)},400))}function N(){e(r).length!==0&&(g(T,!0),Ii(y,-1),e(y)<e(r).length&&setTimeout(()=>{g(T,!1),g(y,e(r).length*2-1),setTimeout(()=>{g(T,!0)},50)},400))}function R(x){g(I,x)}let V=0,le=0,Y=0,M=!1,p=!1,B=w(0),P=0;const F=40;function q(x){e(j)&&(V=x.touches[0].clientX,le=x.touches[0].clientY,Y=V,M=!0,p=!1,g(T,!1),P=e(y),g(B,0))}function oe(x){if(!e(j)||!M)return;const ae=x.touches[0].clientX,ze=x.touches[0].clientY,$e=Math.abs(ae-V),E=Math.abs(ze-le);if(!p)if($e>F&&$e>E)p=!0;else if(E>$e&&E>10){M=!1,p=!1,g(T,!0),g(B,0);return}else return;if(p){Y=ae;const ue=Y-V,Te=x.currentTarget instanceof HTMLElement?x.currentTarget.clientWidth:window.innerWidth;g(B,-(ue/Te)*100),x.preventDefault()}}function G(){if(!e(j)||!M)return;M=!1,p=!1,g(T,!0);const x=V-Y;Math.abs(x)>50?x>0?g(y,P+1):g(y,P-1):Math.abs(e(B))>40?g(y,P+(e(B)>0?1:-1)):g(y,P),e(y)>=e(r).length*2?setTimeout(()=>{g(T,!1),g(y,e(r).length),setTimeout(()=>{g(T,!0)},50)},400):e(y)<e(r).length&&setTimeout(()=>{g(T,!1),g(y,e(r).length*2-1),setTimeout(()=>{g(T,!0)},50)},400),g(B,0),V=0,le=0,Y=0}function b(){const x=window.innerWidth;g(j,x<768)}at(()=>(b(),window.addEventListener("resize",b),(async()=>{try{const x=await Ht.fetchVideosByChannelId(l(),!0);x.length===0?g(c,"No se encontraron videos para este canal"):(g(r,x),console.log(`Loaded ${e(r).length} videos from channel ${l()}`))}catch(x){console.error("Error fetching videos:",x),g(c,"Error al cargar los videos")}finally{g(D,!1)}})(),()=>{window.removeEventListener("resize",b)})),H(()=>e(j),()=>{g(s,e(j)?1:window.innerWidth>=1024?4:3)}),H(()=>(e(j),e(s)),()=>{g(f,e(j)?80:100/e(s))}),H(()=>e(j),()=>{g(o,e(j)?10:0)}),H(()=>e(r),()=>{g(t,e(r).length>0?[...e(r).map((x,ae)=>({...x,_key:`prev-${ae}`})),...e(r).map((x,ae)=>({...x,_key:`curr-${ae}`})),...e(r).map((x,ae)=>({...x,_key:`next-${ae}`}))]:[])}),H(()=>(e(r),e(y)),()=>{e(r).length>0&&e(y)===0&&g(y,e(r).length)}),yi(),wi();var fe=Xa(),Q=a(fe);{var Me=x=>{var ae=za();m(x,ae)},Xe=x=>{var ae=ni(),ze=Ie(ae);{var $e=ue=>{var Te=Va(),Pe=a(Te),we=a(Pe);W(()=>u(we,e(c))),m(ue,Te)},E=ue=>{var Te=ni(),Pe=Ie(Te);{var we=be=>{var Ke=Qa(),Se=a(Ke);{var Le=_e=>{var X=Aa();We("click",X,N),m(_e,X)};te(Se,_e=>{e(r),n(()=>e(r).length>1)&&_e(Le)})}var Ae=d(Se,2),Be=a(Ae);let He;ti(Be,5,()=>e(t),_e=>_e._key,(_e,X)=>{var pe=Ua(),je=a(pe);{var Ze=Fe=>{var Ce=Ha(),Ge=a(Ce);W(()=>{ye(Ge,"src",`${e(X),n(()=>e(X).embedUrl)??""}?autoplay=1`),ye(Ge,"title",(e(X),n(()=>e(X).title)))}),m(Fe,Ce)},ei=Fe=>{var Ce=Ga(),Ge=a(Ce);W(()=>{ye(Ce,"aria-label",`Reproducir ${e(X),n(()=>e(X).title)??""}`),ye(Ge,"src",(e(X),n(()=>e(X).thumbnailUrl))),ye(Ge,"alt",(e(X),n(()=>e(X).title)))}),We("click",Ce,()=>R(e(X)._key)),m(Fe,Ce)};te(je,Fe=>{e(I),e(X),n(()=>e(I)===e(X)._key)?Fe(Ze):Fe(ei,!1)})}var ii=d(je,2),se=a(ii),Oe=a(se),Ye=a(Oe);W(()=>{mi(pe,`flex: 0 0 ${e(j)?"80%":100/e(s)+"%"}`),ye(se,"href",(e(X),n(()=>e(X).watchUrl))),u(Ye,(e(X),n(()=>e(X).title)))}),m(_e,pe)});var De=d(Ae,2);{var Ee=_e=>{var X=Ya();We("click",X,z),m(_e,X)};te(De,_e=>{e(r),n(()=>e(r).length>1)&&_e(Ee)})}W(_e=>{He=Ve(Be,1,"videos-track svelte-18xx8u1",null,He,_e),mi(Be,`transform: translateX(-${e(y)*e(f)-e(o)+e(B)}%)`)},[()=>({"no-transition":!e(T)})]),We("touchstart",Ke,q),We("touchmove",Ke,oe),We("touchend",Ke,G),m(be,Ke)};te(Pe,be=>{e(r),n(()=>e(r).length>0)&&be(we)},!0)}m(ue,Te)};te(ze,ue=>{e(c)?ue($e):ue(E,!1)},!0)}m(x,ae)};te(Q,x=>{e(D)?x(Me):x(Xe,!1)})}m($,fe),Ti()}var Ja=C('<div class="loading svelte-1c61qfj" id="loading"><div class="loading-content svelte-1c61qfj"><div class="spinner svelte-1c61qfj"></div> <p class="svelte-1c61qfj"> </p></div></div>'),es=C('<button class="share-fight-btn svelte-1c61qfj"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c61qfj"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1c61qfj"></path></svg> </button>'),is=C('<div class="action-buttons-section svelte-1c61qfj"><!> <button class="clear-radars-btn svelte-1c61qfj"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c61qfj"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1c61qfj"></path></svg> </button></div>'),ts=C('<div class="controls svelte-1c61qfj"><div class="fighter-selectors svelte-1c61qfj"><div class="control-group svelte-1c61qfj"><label for="fighter1-select" class="svelte-1c61qfj"> </label> <div id="fighter1-container-select" class="svelte-1c61qfj"><!></div></div> <div class="vs-divider svelte-1c61qfj">VS</div> <div class="control-group svelte-1c61qfj"><label for="fighter2-select" class="svelte-1c61qfj"> </label> <div id="fighter2-container-select" class="svelte-1c61qfj"><!></div></div></div> <!></div>'),as=C('<div class="division-disclaimer svelte-1c61qfj"><div class="disclaimer-title svelte-1c61qfj"><!> <strong class="svelte-1c61qfj"> </strong></div> <div class="disclaimer-text svelte-1c61qfj"> </div></div>'),ss=C('<div class="fighter-info svelte-1c61qfj"><div id="fighter1-container" class="svelte-1c61qfj"><!></div> <div id="fighter2-container" class="svelte-1c61qfj"><!></div></div>'),ns=C('<div class="radar-container svelte-1c61qfj"><div id="fight-radar-container" class="svelte-1c61qfj"><!></div> <div id="iq-radar-container" class="svelte-1c61qfj"><!></div></div>'),os=C('<!> <div class="view-calendar-link svelte-1c61qfj"><button class="calendar-link-btn svelte-1c61qfj"> </button></div>',1),rs=C('<hr class="section-divider svelte-1c61qfj"/> <!>',1),ls=C('<div class="fight-radar-app svelte-1c61qfj"><div class="container svelte-1c61qfj"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function ms($,i){bi(i,!1);const[s,f]=ki(),o=()=>fi(F,"$urlSearchParams",s),t=()=>fi(xi,"$_",s),l=w(),r=w(),D=w(),c=w(),y=w(),j=w(),I=w(),T=w(),z=w(),N=w(),R=w(),V=w();let le=Qe(i,"isDarkMode",8,!0),Y=Qe(i,"toggleTheme",8,()=>{}),M=w(new Map),p=w(new Map),B=w([]),P=w(new Map);const F=qt(di());function q(v,_){const k=`fighter${_}`;ui({[k]:v}),F.set(di())}function oe(v){ui({rounds:v.toString()}),F.set(di())}let G=w(!1),b=w(!1),fe=w(!1),Q=w(!1),Me=w(!1),Xe=w(!1),x=w(!1),ae=w(!1),ze=!1;at(()=>{window.Highcharts=It,F.set(di());const v=Gt(()=>{F.set(di())});return $e(),v});async function $e(){try{g(G,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:_,processedFightersMap:k,processedFighters:Z}=await Yt.loadFightersFromCSV();g(M,v),g(P,_),g(p,k),g(B,Z),g(b,!0)}catch(v){console.error("Error loading data:",v)}finally{g(G,!1)}}function E(v=[]){return v.map(_=>({value:_.nameWithNickname,label:_.name,imageUrl:ue(_)}))}function ue(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:Te(v.division)?"no_photo_female.png":"no_photo_male.png"}function Te(v){return!!(v&&v.startsWith("W_"))}function Pe(v){if(q(v,1),!(!ze&&o().has("rounds"))){const k=e(M).get(v),Z=e(r)?e(M).get(e(r)):null;k&&k.division_ranking==="0"||Z&&Z.division_ranking==="0"?oe(5):(ui({rounds:""}),F.set(di()))}ze=!0,v&&!e(r)&&(g(ae,!1),setTimeout(()=>{g(ae,!0),setTimeout(()=>{g(ae,!1)},50)},100))}function we(v){if(q(v,2),!o().has("rounds")){const k=e(l)?e(M).get(e(l)):null,Z=e(M).get(v);k&&k.division_ranking==="0"||Z&&Z.division_ranking==="0"?oe(5):(ui({rounds:""}),F.set(di()))}v&&!e(l)&&(g(x,!1),setTimeout(()=>{g(x,!0),setTimeout(()=>{g(x,!1)},50)},100))}function be(v){g(Me,v)}function Ke(v){g(Xe,v)}function Se(){vi.trackCleanRadars(),ui({fighter1:"",fighter2:"",rounds:""}),F.set(di())}function Le(){if(!e(l)||!e(r))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";vi.trackFightShare(e(l),e(r),v);const _=Ut("/",{fighter1:e(l),fighter2:e(r)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(r)} - Fight-Radar`,text:`Compara las estadsticas de ${e(l)} vs ${e(r)}`,url:_}).catch(console.error):navigator.clipboard.writeText(_).then(()=>{Ae("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",_)})}function Ae(v){const _=document.createElement("div");_.className="notification",_.textContent=v,_.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(_),setTimeout(()=>{_.style.opacity="1",_.style.transform="translateY(0)"},10),setTimeout(()=>{_.style.opacity="0",_.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(_)},300)},3e3)}function Be(v,_,k){const Z=[];return v&&Z.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),_&&Z.push({name:_.name,data:[_.fightRadar.STR_OFF,_.fightRadar.STR_DEF,_.fightRadar.TD_OFF,_.fightRadar.TD_DEF,_.fightRadar.CTRL,_.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&Z.push({name:k.name,data:[k.fightRadar.STR_OFF,k.fightRadar.STR_DEF,k.fightRadar.TD_OFF,k.fightRadar.TD_DEF,k.fightRadar.CTRL,k.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),Z}function He(v,_,k){const Z=[];return v&&Z.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),_&&Z.push({name:_.name,data:[_.iqRadar.distance,_.iqRadar.adaptability,_.iqRadar.composure,_.iqRadar.decisions,_.iqRadar.rhythm,_.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&Z.push({name:k.name,data:[k.iqRadar.distance,k.iqRadar.adaptability,k.iqRadar.composure,k.iqRadar.decisions,k.iqRadar.rhythm,k.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),Z}function De(v){const _={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[k,Z,Re]=v.combinedRole.split("+")??["AT"];let ke=[[k,100]];if(Z&&Re?ke=[[k,33],[Z,34],[Re,33]]:Z?ke=[[k,50],[Z,50]]:Re&&(ke=[[k,60],[Re,40]]),ke.length===1){const[U,h]=ke[0],O=Math.min(h,70);return`linear-gradient(135deg, ${_[U]} 0%, ${_[U]} ${O}%, var(--card-bg) 100%)`}else{const U=ke.reduce((me,[,he])=>me+he,0);let h=[],O=0;return ke.forEach(([me,he],ee)=>{const ie=he/U*85,K=_[me];ee===0&&h.push(`${K} ${O}%`),O+=ie,ee===ke.length-1?(h.push(`${K} ${O}%`),h.push("var(--card-bg) 100%")):h.push(`${K} ${O}%`)}),`linear-gradient(135deg, ${h.join(", ")})`}}H(()=>o(),()=>{g(l,o().get("fighter1")||"")}),H(()=>o(),()=>{g(r,o().get("fighter2")||"")}),H(()=>o(),()=>{g(D,o().get("rounds")==="5"?5:3)}),H(()=>(e(Me),e(Xe)),()=>{g(c,e(Me)||e(Xe))}),H(()=>(e(B),e(r)),()=>{g(y,E(e(B)).filter(v=>v.value!==e(r)))}),H(()=>(e(B),e(l)),()=>{g(j,E(e(B)).filter(v=>v.value!==e(l)))}),H(()=>(e(l),e(r),e(M),e(P),Ai),()=>{g(I,(()=>{if(!e(l)||!e(r))return null;const v=e(M).get(e(l)),_=e(M).get(e(r));if(!v||!_)return null;if(v.Division===_.Division){const k=v.Division;if(e(P).has(k))return Ai(k,e(P).get(k))}return null})())}),H(()=>(e(l),e(p)),()=>{g(T,e(l)?e(p).get(e(l))??null:null)}),H(()=>(e(r),e(p)),()=>{g(z,e(r)?e(p).get(e(r))??null:null)}),H(()=>(e(I),e(l),e(r),e(M),e(P),Hi),()=>{g(N,(()=>{if(!e(I)||!e(l)||!e(r))return null;const v=e(M).get(e(l));return!v||!e(P).has(v.Division)?null:Hi(e(I),e(P).get(v.Division))})())}),H(()=>(e(T),e(z),e(N)),()=>{g(R,Be(e(T)??null,e(z)??null,e(N)??null))}),H(()=>(e(T),e(z),e(N)),()=>{g(V,He(e(T),e(z),e(N)))}),H(()=>(e(G),e(M),e(l),e(r),vi),()=>{const v=!e(G)&&e(M).size>0&&e(M).has(e(l))&&e(M).has(e(r));g(fe,!!(e(l)&&e(r)&&v)),g(Q,!!(e(l)&&e(r)&&v)),e(l)&&e(r)&&v&&vi.trackFighterComparison(e(l),e(r))}),yi(),wi();var Ee=ls(),_e=a(Ee),X=a(_e);zt(X,{showThemeToggle:!0,get isDarkMode(){return le()},get toggleTheme(){return Y()}});var pe=d(X,2);{var je=v=>{var _=Ja(),k=a(_),Z=d(a(k),2),Re=a(Z);W(ke=>u(Re,ke),[()=>(t(),n(()=>t()("fight_radar.loading_data")))]),m(v,_)};te(pe,v=>{e(G)&&v(je)})}var Ze=d(pe,2);{var ei=v=>{var _=ts(),k=a(_),Z=a(k),Re=a(Z),ke=a(Re),U=d(Re,2),h=a(U);{let L=Di(()=>(t(),n(()=>t()("common.select_fighter"))));Zi(h,{id:"fighter1-select",get placeholder(){return e(L)},disabled:!1,get options(){return e(y)},get selectedValue(){return e(l)},onSelectionChange:Pe,onOpenStateChange:be,get shouldOpen(){return e(x)}})}var O=d(Z,4),ne=a(O),me=a(ne),he=d(ne,2),ee=a(he);{let L=Di(()=>(t(),n(()=>t()("common.select_fighter"))));Zi(ee,{id:"fighter2-select",get placeholder(){return e(L)},disabled:!1,get options(){return e(j)},get selectedValue(){return e(r)},onSelectionChange:we,onOpenStateChange:Ke,get shouldOpen(){return e(ae)}})}var ie=d(k,2);{var K=L=>{var re=is(),ce=a(re);{var J=ve=>{var ge=es(),Ne=d(a(ge));W(Ue=>u(Ne,` ${Ue??""}`),[()=>(t(),n(()=>t()("fight_radar.share_fight")))]),We("click",ge,Le),m(ve,ge)};te(ce,ve=>{e(l)&&e(r)&&ve(J)})}var A=d(ce,2),de=d(a(A));W(ve=>u(de,` ${ve??""}`),[()=>(t(),n(()=>t()("fight_radar.clear_radars")))]),We("click",A,Se),m(L,re)};te(ie,L=>{(e(l)||e(r))&&L(K)})}W((L,re)=>{u(ke,`${L??""}:`),u(me,`${re??""}:`)},[()=>(t(),n(()=>t()("common.fighter_1"))),()=>(t(),n(()=>t()("common.fighter_2")))]),m(v,_)};te(Ze,v=>{e(b)&&v(ei)})}var ii=d(Ze,2);{var se=v=>{var _=ni(),k=Ie(_);{var Z=Re=>{var ke=as(),U=a(ke),h=a(U);Ci(h,{size:20,class:"disclaimer-icon"});var O=d(h,2),ne=a(O),me=d(U,2),he=a(me);W((ee,ie)=>{u(ne,ee),u(he,ie)},[()=>(t(),n(()=>t()("fight_radar.cross_division_title"))),()=>(t(),S(pi),e(T),e(z),n(()=>t()("fight_radar.cross_division_text",{values:{division1:pi(e(T).rawData.Division),division2:pi(e(z).rawData.Division)}})))]),m(Re,ke)};te(k,Re=>{e(T),e(z),n(()=>e(T)?.rawData&&e(z)?.rawData&&e(T).rawData.Division!==e(z).rawData.Division)&&Re(Z)})}m(v,_)};te(ii,v=>{e(l)&&e(r)&&e(fe)&&v(se)})}var Oe=d(ii,2);{var Ye=v=>{var _=ss(),k=a(_),Z=a(k);Ji(Z,{get fighter(){return e(T)},id:"fighter1-info"});var Re=d(k,2),ke=a(Re);Ji(ke,{get fighter(){return e(z)},id:"fighter2-info"}),W((U,h)=>{mi(k,`background: ${U??""}`),mi(Re,`background: ${h??""}`)},[()=>(e(T),n(()=>e(T)?De(e(T).archetype):"var(--card-bg)")),()=>(e(z),n(()=>e(z)?De(e(z).archetype):"var(--card-bg)"))]),m(v,_)};te(Oe,v=>{e(fe)&&v(Ye)})}var Fe=d(Oe,2);{var Ce=v=>{var _=ns(),k=a(_),Z=a(k);zi(Z,()=>(e(l),e(r),e(R),n(()=>`${e(l)}-${e(r)}-${e(R).length}`)),U=>{{let h=Di(()=>(S(Gi),n(Gi)));Yi(U,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(h)},get series(){return e(R)},isIQRadar:!1})}});var Re=d(k,2),ke=a(Re);zi(ke,()=>(e(l),e(r),e(V),n(()=>`${e(l)}-${e(r)}-${e(V).length}`)),U=>{{let h=Di(()=>(S(Ui),n(Ui)));Yi(U,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(h)},get series(){return e(V)},isIQRadar:!0})}}),m(v,_)};te(Fe,v=>{e(Q),e(R),n(()=>e(Q)&&e(R).length>0)&&v(Ce)})}var Ge=d(Fe,2);Ia(Ge,{get fighter1(){return e(T)},get fighter2(){return e(z)},get scheduledRounds(){return e(D)},$$events:{roundsChanged:v=>oe(v.detail)}});var oi=d(Ge,2);{var ai=v=>{var _=os(),k=Ie(_);Vt(k,{limit:2});var Z=d(k,2),Re=a(Z),ke=a(Re);W(U=>u(ke,`${U??""} `),[()=>(t(),n(()=>t()("banner.view_calendar")))]),We("click",Re,()=>st("/calendar")),m(v,_)};te(oi,v=>{!e(l)&&!e(r)&&!e(c)&&v(ai)})}var ri=d(_e,2);{var li=v=>{var _=rs(),k=d(Ie(_),2);Za(k,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),m(v,_)};te(ri,v=>{!e(l)&&!e(r)&&!e(c)&&v(li)})}m($,Ee),Ti(),f()}export{ms as default};
