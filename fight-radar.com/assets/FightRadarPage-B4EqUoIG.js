import{g as yi,p as Ye,l as Q,h as u,m as T,j as E,o as e,k as Ti,n as wi,f as P,H as We,$ as Wi,i as se,c as s,q as c,Z as $i,t as q,E as be,s as Ge,b as p,r as Di,u as xi,x as Ae,z as n,B as f,A as fi,_ as St,v as ri,K as ei,L as ni,V as Ai,a0 as Mt,a1 as bi,y as pi,a2 as Ct,a as Kt,a3 as Pt,a4 as Lt,a5 as et,a6 as it,T as Ki,G as Ot,C as tt,U as qi,w as Bt,N as ki,a7 as Ii}from"./lucide-BZTUuGOE.js";import{H as Nt}from"./highcharts-B6Q7ZKVu.js";import"./highcharts-more-sARtgawo.js";import{H as Et,U as Wt}from"./UpcomingFights-CRAQzTeB.js";import{$ as Si,A as gi,n as at,a as $t,v as At,g as vi,b as qt,u as _i,c as It}from"./index-CvwKNs1f.js";import{c as Mi,g as Vi,f as mi,a as Vt,b as Hi,p as Gi,d as zi,e as Ui}from"./fighters_service-6BCJy-Mi.js";import{R as Ht,a as ji}from"./RadarChart-CGxE1tIo.js";import{f as Yi,a as Qi,F as Gt}from"./unit_conversion-Bb78BXJh.js";import"./highcharts-DyRVWUji.js";var zt=P('<img class="svelte-gkl5a1"/>'),Ut=P('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),jt=P("<!> <span> </span>",1),Yt=P("<span> </span>"),Qt=P('<img class="svelte-gkl5a1"/>'),Xt=P('<div class="dropdown-icon svelte-gkl5a1"><!></div>'),Zt=P('<button type="button"><!> <span> </span></button>'),Jt=P('<div class="no-results svelte-gkl5a1"> </div>'),ea=P('<div class="dropdown-menu svelte-gkl5a1"><div class="search-container svelte-gkl5a1"><input class="search-input svelte-gkl5a1" type="text" aria-label="Search fighters"/></div> <div class="dropdown-options svelte-gkl5a1" role="listbox"><button type="button"><span> </span></button> <!></div></div>'),ia=P('<div class="dropdown svelte-gkl5a1"><button role="combobox" aria-haspopup="listbox"><div class="dropdown-content svelte-gkl5a1"><!></div> <div><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gkl5a1"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button> <!></div>');function Xi(I,i){yi(i,!1);const[a,g]=xi(),h=()=>fi(Si,"$_",a),t=T(),l=T();let r=Ye(i,"id",8),b=Ye(i,"placeholder",8,""),d=Ye(i,"disabled",8,!0),m=Ye(i,"options",24,()=>[]),A=Ye(i,"selectedValue",12,""),ee=Ye(i,"onSelectionChange",8,void 0),y=Ye(i,"onOpenStateChange",8,void 0),G=Ye(i,"shouldOpen",8,!1),V=T(!1),W=T(),X=T(),ie=T(""),J=T(!1);function x(){d()||(u(V,!e(V)),e(V)&&setTimeout(()=>e(X)?.focus(),0))}function B(F){A(F.value),u(ie,""),u(V,!1),ee()&&ee()(F.value,F)}function H(F){const le=F.target;u(ie,le.value)}function N(F){F.key==="Enter"&&e(l).length>0?(B(e(l)[0]),F.preventDefault()):F.key==="Escape"&&(u(ie,""),u(V,!1))}function S(F){e(W)&&!e(W).contains(F.target)&&(u(V,!1),u(ie,""))}function w(F){F.key==="Escape"&&u(V,!1)}Q(()=>(E(m()),E(A())),()=>{u(t,m().find(F=>F.value===A()))}),Q(()=>(E(G()),e(J),E(d()),e(X)),()=>{G()&&!e(J)&&!d()?(u(J,!0),u(V,!0),setTimeout(()=>e(X)?.focus(),0)):G()||u(J,!1)}),Q(()=>(E(y()),e(V)),()=>{y()&&y()(e(V))}),Q(()=>(e(ie),E(m()),Mi),()=>{u(l,e(ie)?m().filter(F=>Mi(F.label.toLowerCase()).includes(Mi(e(ie).toLowerCase()))):m())}),Ti(),wi();var U=ia();We("click",Wi,S),We("keydown",Wi,w);var j=s(U);let ne;var re=s(j),Y=s(re);{var Ee=F=>{var le=jt(),ye=Ae(le);{var Oe=Be=>{var ce=zt();q(()=>{be(ce,"src",(e(t),n(()=>e(t).imageUrl))),be(ce,"alt",(e(t),n(()=>e(t).label)))}),p(Be,ce)},ze=Be=>{var ce=ri(),Te=Ae(ce);{var Ie=Ve=>{var we=Ut(),Pe=s(we);Ai(Pe,()=>e(t).iconComponent,(he,te)=>{te(he,{size:16})}),p(Ve,we)};se(Te,Ve=>{e(t),n(()=>e(t)?.iconComponent)&&Ve(Ie)},!0)}p(Be,ce)};se(ye,Be=>{e(t),n(()=>e(t)?.imageUrl)?Be(Oe):Be(ze,!1)})}var qe=c(ye,2),$e=s(qe);q(()=>f($e,(e(t),n(()=>e(t).label)))),p(F,le)},Z=F=>{var le=Yt(),ye=s(le);q(Oe=>f(ye,Oe),[()=>(E(b()),h(),n(()=>b()||h()("common.select_option")))]),p(F,le)};se(Y,F=>{e(t)?F(Ee):F(Z,!1)})}var M=c(re,2);let oe;var De=c(j,2);{var Ke=F=>{var le=ea(),ye=s(le),Oe=s(ye);$i(Oe,we=>u(X,we),()=>e(X));var ze=c(ye,2),qe=s(ze);let $e;var Be=s(qe),ce=s(Be),Te=c(qe,2);{var Ie=we=>{var Pe=ri(),he=Ae(Pe);ei(he,1,()=>e(l),ni,(te,ue)=>{var He=Zt();let je;var ii=s(He);{var Qe=Se=>{var L=Qt();q(()=>{be(L,"src",(e(ue),n(()=>e(ue).imageUrl))),be(L,"alt",(e(ue),n(()=>e(ue).label)))}),We("error",L,Re=>{Re.currentTarget.style.display="none"}),p(Se,L)},Ze=Se=>{var L=ri(),Re=Ae(L);{var ti=Ue=>{var li=Xt(),hi=s(li);Ai(hi,()=>e(ue).iconComponent,(v,_)=>{_(v,{size:16})}),p(Ue,li)};se(Re,Ue=>{e(ue),n(()=>e(ue)?.iconComponent)&&Ue(ti)},!0)}p(Se,L)};se(ii,Se=>{e(ue),n(()=>e(ue)?.imageUrl)?Se(Qe):Se(Ze,!1)})}var Je=c(ii,2),oi=s(Je);q(Se=>{je=Ge(He,1,"dropdown-item svelte-gkl5a1",null,je,Se),f(oi,(e(ue),n(()=>e(ue).label)))},[()=>({selected:A()===e(ue).value})]),We("click",He,()=>B(e(ue))),p(te,He)}),p(we,Pe)},Ve=we=>{var Pe=ri(),he=Ae(Pe);{var te=ue=>{var He=Jt(),je=s(He);q(()=>f(je,`No se encontraron resultados para "${e(ie)??""}"`)),p(ue,He)};se(he,ue=>{e(ie)&&ue(te)},!0)}p(we,Pe)};se(Te,we=>{e(l),n(()=>e(l).length>0)?we(Ie):we(Ve,!1)})}q((we,Pe,he)=>{be(Oe,"placeholder",we),be(ze,"id",`dropdown-options-${r()??""}`),$e=Ge(qe,1,"dropdown-item svelte-gkl5a1",null,$e,Pe),f(ce,he)},[()=>(h(),n(()=>h()("common.search")||"Search...")),()=>({selected:A()===""}),()=>(E(b()),h(),n(()=>b()||h()("common.select_option")))]),St(Oe,()=>e(ie),we=>u(ie,we)),We("input",Oe,H),We("keydown",Oe,N),We("click",qe,()=>B({value:"",label:b(),imageUrl:""})),p(F,le)};se(De,F=>{e(V)&&F(Ke)})}$i(U,F=>u(W,F),()=>e(W)),q((F,le)=>{be(U,"id",r()),ne=Ge(j,1,"dropdown-button svelte-gkl5a1",null,ne,F),j.disabled=d(),be(j,"aria-expanded",e(V)),be(j,"aria-controls",`dropdown-options-${r()??""}`),oe=Ge(M,1,"dropdown-arrow svelte-gkl5a1",null,oe,le)},[()=>({disabled:d(),open:e(V)}),()=>({rotated:e(V)})]),We("click",j,x),p(I,U),Di(),g()}function Ci(I,i){if(i()){gi.trackFighterCardCTA(i().nameWithNickname,"view_profile");const a=`/data-center/fighter-details?fighter=${encodeURIComponent(i().nameWithNickname)}`;at(a)}}function ta(I,i){u(i,!e(i))}var aa=P('<img class="fighter-image svelte-1cmiluv"/> <div class="fighter-placeholder svelte-1cmiluv" style="display: none;">Picture Unavailable</div>',1),sa=P('<div class="fighter-placeholder svelte-1cmiluv">Picture Unavailable</div>'),na=P('<span class="division-ranking champion svelte-1cmiluv" title="Champion"><!></span>'),oa=P('<span class="division-ranking ranked svelte-1cmiluv"> </span>'),ra=(I,i)=>I.key==="Enter"&&i(),la=P('<div class="stat-item role-disc-clickable svelte-1cmiluv" role="button" tabindex="0"><span class="stat-label svelte-1cmiluv">ROLE-DISC:</span> <span><div class="role-emojis svelte-1cmiluv"> </div> <div class="role-name svelte-1cmiluv"> </div></span></div>'),ha=P('<div class="archetype-fields svelte-1cmiluv"><div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value description svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value favorite-zone svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value strengths svelte-1cmiluv"> </div></div> <div class="archetype-field svelte-1cmiluv"><div class="archetype-field-header svelte-1cmiluv"><span class="archetype-icon svelte-1cmiluv"><!></span> <div class="archetype-field-label svelte-1cmiluv"> </div></div> <div class="archetype-field-value weaknesses svelte-1cmiluv"> </div></div></div>'),da=P('<hr class="archetype-divider svelte-1cmiluv"/> <div class="archetype-container svelte-1cmiluv"><div class="archetype-section svelte-1cmiluv"><button type="button" class="archetype-section-title svelte-1cmiluv"><span><!></span> </button> <!></div></div>',1),ca=P('<div class="fighter-header svelte-1cmiluv"><div class="header-actions svelte-1cmiluv"><!> <button type="button" class="fighter-detail-cta svelte-1cmiluv" title="View detailed fighter profile"><!></button></div> <button type="button" class="fighter-link svelte-1cmiluv"><div class="fighter-image-container svelte-1cmiluv"><!></div></button></div> <button type="button" class="fighter-name-link svelte-1cmiluv"><div class="fighter-name svelte-1cmiluv"> </div></button> <div class="fighter-division-container svelte-1cmiluv"><span class="fighter-division svelte-1cmiluv"> </span> <!></div> <div class="star-rating svelte-1cmiluv"><div class="stars-container svelte-1cmiluv"></div></div> <div class="fighter-stats svelte-1cmiluv"><!> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value career-record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value record svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span><!></span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value height svelte-1cmiluv"> </span></div> <div class="stat-item svelte-1cmiluv"><span class="stat-label svelte-1cmiluv"> </span> <span class="stat-value reach svelte-1cmiluv"> </span></div></div> <!>',1),va=P('<div class="empty-card svelte-1cmiluv"><div class="empty-message svelte-1cmiluv"> </div></div>'),ua=P('<div class="fighter-card svelte-1cmiluv"><!></div> <!>',1);function Zi(I,i){yi(i,!1);const[a,g]=xi(),h=()=>fi(Si,"$_",a),t=T(),l=T(),r=T(),b=T();let d=Ye(i,"fighter",8,null),m=Ye(i,"id",8,""),A=T(!1),ee=T(!1);function y(){u(A,!0)}function G(){u(A,!1)}Q(()=>h(),()=>{u(t,B=>{if(!B||!B.startsWith("@ARCHETYPE_"))return B;let H="",N="";if(B.includes("_DESCRIPTION"))H=B.replace("@ARCHETYPE_","").replace("_DESCRIPTION",""),N="description";else if(B.includes("_FAVORITE_ZONE"))H=B.replace("@ARCHETYPE_","").replace("_FAVORITE_ZONE",""),N="favorite_zone";else if(B.includes("_STRENGTHS"))H=B.replace("@ARCHETYPE_","").replace("_STRENGTHS",""),N="strengths";else if(B.includes("_WEAKNESSES"))H=B.replace("@ARCHETYPE_","").replace("_WEAKNESSES",""),N="weaknesses";else{const U=B.match(/@ARCHETYPE_(.+)_([^_]+)$/);if(!U)return B;H=U[1],N=U[2].toLowerCase()}const S=`archetype_data.${H}.${N}`,w=h()(S);return B.includes("_WEAKNESSES"),w!==S?w:B})}),Q(()=>(E(d()),Vi),()=>{u(l,d()?Vi(d().archetype):null)}),Q(()=>(E(d()),Yi),()=>{u(r,d()?.rawData.height_inches?Yi(d().rawData.height_inches):"-")}),Q(()=>(E(d()),Qi),()=>{u(b,d()?.rawData.reach_inches?Qi(d().rawData.reach_inches):"-")}),Ti(),wi();var V=ua(),W=Ae(V),X=s(W);{var ie=B=>{var H=ca(),N=Ae(H),S=s(N),w=s(S);Gt(w,{get fighterFullName(){return E(d()),n(()=>d().name)},size:"large"});var U=c(w,2);U.__click=[Ci,d];var j=s(U);Mt(j,{size:16});var ne=c(S,2);ne.__click=[Ci,d];var re=s(ne),Y=s(re);{var Ee=D=>{var o=aa(),R=Ae(o);q(()=>{be(R,"src",(E(d()),n(()=>d().pictureUrl))),be(R,"alt",`${E(d()),n(()=>d().name)??""} fighter profile picture`)}),We("error",R,O=>{O.currentTarget.style.display="none";const z=O.currentTarget.nextElementSibling;z&&(z.style.display="block")}),p(D,o)},Z=D=>{var o=sa();p(D,o)};se(Y,D=>{E(d()),n(()=>d().pictureUrl)?D(Ee):D(Z,!1)})}var M=c(N,2);M.__click=[Ci,d];var oe=s(M),De=s(oe),Ke=c(M,2),F=s(Ke),le=s(F),ye=c(F,2);{var Oe=D=>{var o=ri(),R=Ae(o);{var O=K=>{var C=na(),$=s(C);Pt($,{size:16}),p(K,C)},z=K=>{var C=oa(),$=s(C);q(()=>{be(C,"title",`Division Ranking #${E(d()),n(()=>d().rawData.division_ranking)??""}`),f($,`#${E(d()),n(()=>d().rawData.division_ranking)??""}`)}),p(K,C)};se(R,K=>{E(d()),n(()=>d().rawData.division_ranking==="0")?K(O):K(z,!1)})}p(D,o)};se(ye,D=>{E(d()),n(()=>d().rawData.division_ranking!==void 0&&d().rawData.division_ranking!=="")&&D(Oe)})}var ze=c(Ke,2),qe=s(ze),$e=c(ze,2),Be=s($e);{var ce=D=>{var o=la();o.__click=y,o.__keydown=[ra,y];var R=s(o),O=c(R,2),z=s(O),K=s(z),C=c(z,2),$=s(C);q((de,pe)=>{be(o,"aria-label",de),be(R,"title",pe),Ge(O,1,`stat-value role-indicator archetype-dots archetype-${e(l),n(()=>e(l).type)??""}`,"svelte-1cmiluv"),be(O,"title",(e(l),n(()=>e(l).tooltip))),f(K,(e(l),n(()=>e(l).label))),f($,(e(l),n(()=>e(l).name)))},[()=>(h(),n(()=>h()("role_disc_modal.open_modal_aria_label"))),()=>(h(),n(()=>h()("role_disc_modal.archetype_tooltip")))]),p(D,o)};se(Be,D=>{e(l)&&D(ce)})}var Te=c(Be,2),Ie=s(Te),Ve=s(Ie),we=c(Ie,2),Pe=s(we),he=c(Te,2),te=s(he),ue=s(te),He=c(te,2),je=s(He),ii=c(he,2),Qe=s(ii),Ze=s(Qe),Je=c(Qe,2);let oi;var Se=s(Je);{var L=D=>{var o=pi();q(()=>f(o,`+${E(d()),n(()=>d().streak)??""}W`)),p(D,o)},Re=D=>{var o=ri(),R=Ae(o);{var O=K=>{var C=pi();q(()=>f(C,`${E(d()),n(()=>d().streak)??""}L`)),p(K,C)},z=K=>{var C=pi("-");p(K,C)};se(R,K=>{E(d()),n(()=>d().streak<0)?K(O):K(z,!1)},!0)}p(D,o)};se(Se,D=>{E(d()),n(()=>d().streak>0)?D(L):D(Re,!1)})}var ti=c(ii,2),Ue=s(ti),li=s(Ue),hi=c(Ue,2),v=s(hi),_=c(ti,2),k=s(_),ae=s(k),ke=c(k,2),Me=s(ke),Ne=c($e,2);{var Le=D=>{var o=da(),R=c(Ae(o),2),O=s(R),z=s(O);z.__click=[ta,ee];var K=s(z);let C;var $=s(K);Ct($,{size:20});var de=c(K),pe=c(z,2);{var xe=ge=>{var fe=ha(),ve=s(fe),Ce=s(ve),Fe=s(Ce),_e=s(Fe);Lt(_e,{size:18});var Xe=c(Fe,2),ai=s(Xe),si=c(Ce,2),di=s(si),ui=c(ve,2),Ri=s(ui),Pi=s(Ri),st=s(Pi);et(st,{size:18});var nt=c(Pi,2),ot=s(nt),rt=c(Ri,2),lt=s(rt),Li=c(ui,2),Oi=s(Li),Bi=s(Oi),ht=s(Bi);it(ht,{size:18});var dt=c(Bi,2),ct=s(dt),vt=c(Oi,2),ut=s(vt),gt=c(Li,2),Ni=s(gt),Ei=s(Ni),ft=s(Ei);Ki(ft,{size:18});var _t=c(Ei,2),pt=s(_t),mt=c(Ni,2),bt=s(mt);q((yt,Tt,wt,Dt,Rt,kt,Ft,xt)=>{f(ai,yt),f(di,Tt),f(ot,wt),f(lt,Dt),f(ct,Rt),f(ut,kt),f(pt,Ft),f(bt,xt)},[()=>(h(),n(()=>h()("archetype.tactical_description"))),()=>(e(t),E(d()),n(()=>e(t)(d().archetype.description))),()=>(h(),n(()=>h()("archetype.preferred_zone"))),()=>(e(t),E(d()),n(()=>e(t)(d().archetype.favoriteZone))),()=>(h(),n(()=>h()("archetype.strengths"))),()=>(e(t),E(d()),n(()=>e(t)(d().archetype.strengths))),()=>(h(),n(()=>h()("archetype.weaknesses"))),()=>(e(t),E(d()),n(()=>e(t)(d().archetype.weaknesses)))]),p(ge,fe)};se(pe,ge=>{e(ee)&&ge(xe)})}q((ge,fe)=>{be(z,"aria-expanded",e(ee)),C=Ge(K,1,"archetype-caret svelte-1cmiluv",null,C,ge),f(de,` ${fe??""}`)},[()=>({expanded:e(ee)}),()=>(h(),n(()=>h()("archetype.analysis_title")))]),p(D,o)};se(Ne,D=>{E(d()),n(()=>d().archetype)&&D(Le)})}q((D,o,R,O,z,K,C,$,de,pe,xe,ge)=>{be(U,"aria-label",`View detailed fighter profile for ${E(d()),n(()=>d().nameWithNickname)??""}`),f(De,(E(d()),n(()=>d().name))),f(le,D),bi(qe,`--fill-width: ${E(d()),n(()=>d().stars*20)??""}%`),be(Ie,"title",o),f(Ve,`${R??""}:`),f(Pe,(E(d()),n(()=>d().career_record))),be(te,"title",O),f(ue,`${z??""}:`),f(je,(E(d()),n(()=>d().record_36m))),be(Qe,"title",K),f(Ze,`${C??""}:`),oi=Ge(Je,1,"stat-value streak svelte-1cmiluv",null,oi,$),be(Ue,"title",de),f(li,`${pe??""}:`),f(v,e(r)),be(k,"title",xe),f(ae,`${ge??""}:`),f(Me,e(b))},[()=>(E(mi),E(d()),n(()=>mi(d().division||""))),()=>(h(),n(()=>h()("fighter_profile.career_record_tooltip")||"Complete career record of the fighter")),()=>(h(),n(()=>h()("fighter_profile.career_record"))),()=>(h(),n(()=>h()("fighter_profile.record_36m_tooltip")||"Record from the last 36 months")),()=>(h(),n(()=>h()("fighter_profile.record_36m"))),()=>(h(),n(()=>h()("fighter_profile.streak_tooltip")||"Current winning or losing streak")),()=>(h(),n(()=>h()("fighter_profile.streak"))),()=>({"streak-win":d().streak>0,"streak-loss":d().streak<0}),()=>(h(),n(()=>h()("fighter_profile.height_tooltip")||"Fighter height in feet and inches")),()=>(h(),n(()=>h()("fighter_profile.height"))),()=>(h(),n(()=>h()("fighter_profile.reach_tooltip")||"Fighter arm reach in inches")),()=>(h(),n(()=>h()("fighter_profile.reach")))]),p(B,H)},J=B=>{var H=va(),N=s(H),S=s(N);q(w=>f(S,w),[()=>(h(),n(()=>h()("fight_radar.select_fighter_stats")))]),p(B,H)};se(X,B=>{d()?B(ie):B(J,!1)})}var x=c(W,2);Ht(x,{get isOpen(){return e(A)},$$events:{close:G}}),q(()=>be(W,"id",m())),p(I,V),Di(),g()}Kt(["click","keydown"]);function ga(I){const i=I.filter(r=>(r.type===me.VICTORY_METHOD||r.type===me.WINNER_AND_METHOD)&&(r.prediction.toLowerCase().includes("decision")||r.predictionKey?.toLowerCase().includes("decision")));if(i.length===0)return I;const a=I.filter(r=>{if(r.type!==me.DURATION)return!1;const b=r.prediction.toLowerCase(),d=r.predictionKey?.toLowerCase()||"";return b.includes("under")||d.includes("under")});if(a.length===0)return I;const g=[...i,...a],h=Math.max(...g.map(r=>r.confidence)),t=g.find(r=>r.confidence===h);if(!t)return I;const l=new Set(g.map(r=>r.id));return I.filter(r=>!l.has(r.id)||r.id===t.id)}function fa(I){const i=I.filter(l=>l.type===me.VICTORY_METHOD||l.type===me.WINNER_AND_METHOD),a=I.filter(l=>l.type===me.FIGHT_PROPS);if(i.length===0||a.length===0)return I;const h=i.reduce((l,r)=>r.confidence>l.confidence?r:l).prediction.toLowerCase(),t=new Set;for(const l of a){const r=(l.prediction||"").toLowerCase(),b=(l.predictionKey||"").toLowerCase();(h.includes("ko")||h.includes("tko"))&&(r.includes("submission")||r.includes("ground control")||b.includes("submission")||b.includes("ground_control"))&&t.add(l.id),h.includes("submission")&&(r.includes("standing exchange")&&!r.includes("ground")||b.includes("standing_exchange")&&!b.includes("ground"))&&t.add(l.id),h.includes("decision")&&(r.includes("first round finish")||r.includes("gone in 60")||b.includes("first_round_finish")||b.includes("gone_in_60"))&&t.add(l.id)}return I.filter(l=>!t.has(l.id))}function _a(I){const i=I.filter(h=>h.type===me.DURATION),a=I.filter(h=>h.type===me.FIGHT_PROPS);if(i.length===0||a.length===0)return I;const g=new Set;for(const h of i){const t=(h.prediction||"").toLowerCase(),l=(h.predictionKey||"").toLowerCase(),r=t.includes("under 2.5")||l.includes("under_2_5"),b=t.includes("over 3.5")||l.includes("over_3_5");for(const d of a){const m=(d.prediction||"").toLowerCase(),A=(d.predictionKey||"").toLowerCase();r&&((m.includes("over 100 strikes")||A.includes("over_100_strikes"))&&g.add(d.id),(m.includes("goes to distance")||A.includes("goes_to_distance"))&&g.add(d.id)),b&&(m.includes("first round")||m.includes("gone in 60")||A.includes("first_round")||A.includes("gone_in_60"))&&g.add(d.id)}}return I.filter(h=>!g.has(h.id))}function Ji(I){let i=[...I];return i=ga(i),i=fa(i),i=_a(i),i}const pa={W_Strawweight:{finishBias:-.06728395061728398,koVsSubBias:-.18703703703703703,sampleSize:81,stats_3R:{sampleSize:76,decisionRate:.631578947368421,finishRate:.3684210526315789,koRate:.17105263157894737,submissionRate:.19736842105263158},stats_5R:{sampleSize:5,decisionRate:.4,finishRate:.6,koRate:.2,submissionRate:.4}},Bantamweight:{finishBias:-.07773722627737228,koVsSubBias:-.11350364963503648,sampleSize:137,stats_3R:{sampleSize:128,decisionRate:.6171875,finishRate:.3828125,koRate:.203125,submissionRate:.1796875},stats_5R:{sampleSize:9,decisionRate:.7777777777777778,finishRate:.2222222222222222,koRate:.2222222222222222,submissionRate:0}},Lightweight:{finishBias:.07083333333333336,koVsSubBias:.07916666666666666,sampleSize:144,stats_3R:{sampleSize:133,decisionRate:.48120300751879697,finishRate:.518796992481203,koRate:.37593984962406013,submissionRate:.14285714285714285},stats_5R:{sampleSize:11,decisionRate:.45454545454545453,finishRate:.5454545454545454,koRate:.36363636363636365,submissionRate:.18181818181818182}},W_Bantamweight:{finishBias:-.10384615384615387,koVsSubBias:-.11153846153846153,sampleSize:52,stats_3R:{sampleSize:52,decisionRate:.6538461538461539,finishRate:.34615384615384615,koRate:.19230769230769232,submissionRate:.15384615384615385},stats_5R:{sampleSize:0,decisionRate:0,finishRate:0,koRate:0,submissionRate:0}},W_Flyweight:{finishBias:-.2,koVsSubBias:-.13333333333333333,sampleSize:60,stats_3R:{sampleSize:56,decisionRate:.7321428571428571,finishRate:.26785714285714285,koRate:.14285714285714285,submissionRate:.125},stats_5R:{sampleSize:4,decisionRate:1,finishRate:0,koRate:0,submissionRate:0}},Middleweight:{finishBias:.14999999999999997,koVsSubBias:.13,sampleSize:125,stats_3R:{sampleSize:106,decisionRate:.37735849056603776,finishRate:.6226415094339622,koRate:.4528301886792453,submissionRate:.16981132075471697},stats_5R:{sampleSize:19,decisionRate:.5263157894736842,finishRate:.47368421052631576,koRate:.3684210526315789,submissionRate:.10526315789473684}},Featherweight:{finishBias:.07343749999999999,koVsSubBias:-.017187499999999994,sampleSize:128,stats_3R:{sampleSize:124,decisionRate:.47580645161290325,finishRate:.5241935483870968,koRate:.3225806451612903,submissionRate:.20161290322580644},stats_5R:{sampleSize:4,decisionRate:.5,finishRate:.5,koRate:.5,submissionRate:0}},Flyweight:{finishBias:.07873563218390806,koVsSubBias:-.12701149425287359,sampleSize:87,stats_3R:{sampleSize:77,decisionRate:.4675324675324675,finishRate:.5324675324675324,koRate:.2597402597402597,submissionRate:.2727272727272727},stats_5R:{sampleSize:10,decisionRate:.5,finishRate:.5,koRate:.4,submissionRate:.1}},Welterweight:{finishBias:.14842519685039374,koVsSubBias:.16496062992125987,sampleSize:127,stats_3R:{sampleSize:115,decisionRate:.391304347826087,finishRate:.6086956521739131,koRate:.4608695652173913,submissionRate:.14782608695652175},stats_5R:{sampleSize:12,decisionRate:.5,finishRate:.5,koRate:.4166666666666667,submissionRate:.08333333333333333}},Heavyweight:{finishBias:.016666666666666663,koVsSubBias:.07666666666666669,sampleSize:75,stats_3R:{sampleSize:64,decisionRate:.625,finishRate:.375,koRate:.296875,submissionRate:.078125},stats_5R:{sampleSize:11,decisionRate:0,finishRate:1,koRate:.6363636363636364,submissionRate:.36363636363636365}},Light_Heavyweight:{finishBias:.19615384615384618,koVsSubBias:.18846153846153849,sampleSize:65,stats_3R:{sampleSize:60,decisionRate:.36666666666666664,finishRate:.6333333333333333,koRate:.4666666666666667,submissionRate:.16666666666666666},stats_5R:{sampleSize:5,decisionRate:.2,finishRate:.8,koRate:.8,submissionRate:0}}};var me=(I=>(I.MONEYLINE="moneyline",I.VICTORY_METHOD="victory_method",I.WINNER_AND_METHOD="winner_and_method",I.DURATION="duration",I.GOES_TO_DECISION="goes_to_decision",I.GONE_IN_60="gone_in_60",I.FIGHT_PROPS="fight_props",I.KEY_FACTORS="key_factors",I.TRENDS="trends",I.NO_PREDICTION="no_prediction",I))(me||{}),Fi=(I=>(I.HIGH="high",I.MEDIUM="medium",I.LOW="low",I))(Fi||{});class ci{constructor(){this.config={finishLikelihoodThreshold:35.5,skillGapWeight:.05000000000000006,finishRateWeight:.41,vulnerabilityWeight:.41,methodMatchBonus:8,highPaceFinishBonus:3.5,styleStrengthBonus:0,finisherVsVulnerableBonus:1,predatorVsDefensiveBonus:2.5,bothFinishersMultiplier:1.2,bothFinishersThreshold:45,loserDecisionRateWeight:.05,decisionRateBonus:-2,koThreatWinnerWeight:.57,koThreatLoserWeight:.35999999999999993,koVulnDiffHighThreshold:8,koVulnDiffMedThreshold:2,koVulnDiffHighBonus:10,koVulnDiffMedBonus:1,koSkillGapBonus:7,koLoserVulnBonus:7,koWinnerRateBonus:5,koComboBonus:3,koMethodMatchBonus:10,koMethodMatchWinnerThreshold:15,koMethodMatchLoserThreshold:12,subThreatWinnerWeight:.59,subThreatLoserWeight:.41,subVulnDiffHighThreshold:12,subVulnDiffMedThreshold:6,subVulnDiffHighBonus:10,subVulnDiffMedBonus:5,subSkillGapBonus:7,subLoserVulnBonus:7,subWinnerRateBonus:5,subComboBonus:3,subMethodMatchBonus:10,subMethodMatchWinnerThreshold:13,subMethodMatchLoserThreshold:9,strOffGapHighThreshold:34,strOffGapMedThreshold:24,strOffGapLowThreshold:16,strOffGapHighBonus:10,strOffGapMedBonus:6,strOffGapLowBonus:4,ctrlGapHighThreshold:34,ctrlGapMedThreshold:24,ctrlGapLowThreshold:14,ctrlGapHighBonus:10,ctrlGapMedBonus:6,ctrlGapLowBonus:4,tdOffGapHighThreshold:34,tdOffGapMedThreshold:24,tdOffGapLowThreshold:14,tdOffGapHighBonus:8,tdOffGapMedBonus:4,tdOffGapLowBonus:2,unexpectedKOStrLandedThreshold:4.5,unexpectedKOStrAbsorbedThreshold:4.5,unexpectedKOKnockdownThreshold:1,unexpectedKOThreatThreshold:25,unexpectedKOBoost:5,earlyFinishScoreThreshold:38,durationSkillGapWeight:.04,durationFinishRateWeight:.1,durationVulnerabilityWeight:.15,durationAvgTimeWeight:.5,underBonusBase:25,loserVulnBonus:5,decisionFighterPenalty:5,durationLoserVulnThreshold:50,durationBothLowFinishThreshold:22,durationPaceAsymmetryThreshold:5,durationPaceAsymmetryPenalty:2,durationUnderSkillGapBonus:11,durationUnderLoserVulnBonus:15,durationUnderWinnerFinishBonus:10,durationUnderComboBonus:8,durationUnderExtreme:64,durationUnderSkillGapExtreme:22,durationUnderFinishRateExtreme:8,durationUnderLoserVulnExtreme:12,oppTierWeight:11.5,oppTierNeutral:.53,winRateWeightNormal:.35,winRateWeightHigh:.3,winRateWeightLow:.3,winRateHighThreshold:70,winRateLowThreshold:30,ageImpactEnabled:!0,agePenaltyPhase1Rate:.002,agePenaltyPhase2Rate:1.1,agePenaltyPhase3Rate:4.2,agePenaltyMaxCap:.22000000000000014,damageMultiplier1KO:1,damageMultiplier2KO:1.1,damageMultiplier3KO:1.7,damageMultiplier4KO:1.45,damageMultiplier5PlusKO:1.5,relativeAgeThreshold:7,relativeAgeAdjustRate:1.7,relativeAgeMaxAdjust:.028,momentumEnabled:!0,winStreak1Bonus:.002,winStreak2Bonus:.022000000000000006,winStreak3PlusBonus:.041999999999999996,loseStreak1Penalty:.002,loseStreak2Penalty:.036,loseStreak3PlusPenalty:.041999999999999996,physicalAdvantagesEnabled:!0,reachAdvantageWeight:.08,heightAdvantageWeight:.05,reachDiffThreshold:2,heightDiffThreshold:2,reachAdvantageMaxCap:.0049999999999999975,heightAdvantageMaxCap:.0030000000000000027,inactivityEnabled:!0,inactivityThreshold:23,inactivityPenaltyRate:1.6,inactivityMaxPenalty:.23,activityBonusThreshold:7,activityBonus:4,amplificationEnabled:!0,amplificationThreshold:15,amplificationRate:.25,minProbability:15,maxProbability:88,decisionProbabilityBase:63,decisionLowFinishAdjust:0,goesToDecisionMaxProb:88,decisionBaseMax:85,koMaxProb:89,subMaxProb:76,decisionMinFloor:81,methodOppTierWeight:5,methodDecisionRateFinisherThreshold:12,methodDecisionRateFinisherBonus:10,methodHighPaceMinFights:3,methodHighPaceMinFinish:34,methodHighPaceMaxFinish:58,methodStyleStrengthThreshold:39,methodLoserVulnThreshold:36,methodStrongFinisherWinnerThreshold:65,methodStrongFinisherLoserThreshold:40,decisionCapHighFinishThreshold:53,decisionCapPenaltyBase:8,decisionCapPenaltyScale:2,decisionCapPenaltyDivisor:9,decisionCapMedFinishThreshold:42,decisionCapMedPenalty:2,decisionCapLowFinishThreshold:36,decisionCapLowPenalty:0,divisionMinSampleSize:24,divisionThreatDiffThreshold:8,divisionPreferenceThreshold:15,divisionTiebreakerBoost:2,koThreatComponent:.25,subThreatComponent:.25,koLoserVulnThreshold:38,koWinnerRateThreshold:58,koWinnerComboThreshold:65,koLoserComboThreshold:27,subLoserVulnThreshold:18,subWinnerRateThreshold:30,subWinnerComboThreshold:46,subLoserComboThreshold:15,durationOppTierWeight:2.5,defaultFightDuration:900,extremeFinishWinnerThreshold1:67,extremeFinishLoserThreshold1:44,extremeFinishSkillGap1:11,extremeFinishWinnerThreshold2:62,extremeFinishLoserThreshold2:40,extremeFinishSkillGap3:15,extremeFinishWinnerThreshold3:63,under15ScoreThreshold:55,under15WinProbThreshold:67,under15WinnerTimeThreshold:5,under15LoserTimeThreshold:6,under15SkillGapThreshold:8,under15InitialCap:70,under15SkillGapExtreme:27,under15FinishRateExtreme:76,under15VulnExtreme:40,under15FinalCap:86,under15RelaxedEarlyFinishThreshold:48,under15RelaxedWinProbThreshold:50,under25FinishThreshold1:59,under25LoserFinishThreshold1:47,under25KOThreshold:50,under25AvgTimeThreshold:6,under25WinnerTimeThreshold:10,under25LoserTimeThreshold:10,under25WinProbMin:40,under25InitialCap:75,under25SkillGapThreshold:8,under25VulnThreshold:30,under25WinnerFinishThreshold:65,under25ComboWinnerThreshold:60,under25ComboLoserThreshold:47,under25FinalCap:85,over15BaseProbability:40,over15HighThreatThreshold:40,over15HighThreatValue:50,over15MedThreatLowThreshold:23,over15MedThreatHighThreshold:27,over15MedThreatValue:65,over15LowThreatThreshold:14,over15LowThreatValue:60,over15VeryLowThreatThreshold:13,over15VeryLowThreatValue:70,over15FinisherThreshold:35,over15FinisherPenalty:9,over15DecisionThreshold:70,over15DecisionBoost:17,over15DualDecisionThreshold1:21,over15DualDecisionThreshold2:35,over15DualDecisionBoost:8,over15LongTimeThreshold:7,over15LongTimeBoost:13,over15MinProbability:50,over15MaxProbability:84,over15FinishLikelihoodPenaltyThreshold:46,over15FinishLikelihoodPenaltyAmount:15,over35DecisionThreshold1:50,over35DecisionThreshold2:70,over35AvgTimeThreshold:10,over35LowFinishThreshold:15,over35LongTimeThreshold:15,over35BaseProbability:40,over35PureDecisionThreshold:60,over35PureDecisionValue:40,over35ExtremeDecisionThreshold:70,over35ExtremeDecisionValue:58,over35LongMinProbability:39,over35LongDecisionThreshold:50,over35LongDecisionBoost:11,over35LongDecisionCap:61,over35FinishPenaltyThreshold1:34,over35FinishPenalty1:13,over35FinishPenaltyThreshold2:50,over35FinishPenalty2:6,over35MinProbability:40,over35MaxProbability:70,physicalAdvantageReachThreshold:4,physicalAdvantageHeightThreshold:4,activityPeriodMonths:48,activityThresholdFights:4,defaultWinProbability:45,reachAnalysisThreshold:2,activityDifferenceThreshold:2,highWinRateThreshold:73,strugglingWinRateThreshold:55,estimatedCareerStartAge:16,estimatedFightsPerYear:2.9,grapplerTakedownThreshold:43,grapplerSubmissionThreshold:35,strikerKOThreshold:31,strikerTakedownMax:10,dominantGrapplerThreshold:55,weightedMetricLoserImpact:.35,firstRoundFinishThreshold:3,subAttemptsOverThreshold:2.3,finishRateFirstRoundThreshold:69,doubleKnockdownThreshold:.3,groundControlTakedownThreshold:15,strikeVolumeThreshold:120,standingExchangeTakedownMax:3,divisionBlendFinishLikelihood:0,divisionBlendKOThreat:0,divisionBlendSubThreat:.08,decisionToKOBiasReduction:0,decisionToKOStrLandedThreshold:6.5,decisionToKOKnockdownThreshold:.3,koToDecisionBiasReduction:8,koToDecisionLoserDecisionRateThreshold:44,koToDecisionLowKOThreatThreshold:34,decisionToSubBiasReduction:0,decisionToSubCtrlGapThreshold:6,decisionToSubTDGapThreshold:5,subToDecisionBiasReduction:5,subToDecisionLoserDecisionRateThreshold:48,subToDecisionLowSubThreatThreshold:39,predatorFinishRateThreshold:40,predatorVulnerabilityThreshold:30,methodThreatDiffThreshold:3,methodStyleDiffThreshold:2,koThreatMultiplier:.3,koComboWinnerRateThreshold:52,koComboLoserVulnThreshold:18,durationFinishRateThreshold:50,durationTakedownRateThreshold:16,durationStrikeVolumeThreshold:125,durationLowTakedownThreshold:3,subThreatMultiplier:.3,subComboWinnerRateThreshold:49,subComboLoserVulnThreshold:29,winnerReachDiffThreshold:1,winnerExperienceGapThreshold:1,winnerAgePrimeStart:25,winnerAgePrimeEnd:31,winnerYearsAfterPrimeModerate:3,winnerYearsAfterPrimeSevere:8,h2hRecentVictoryMonths:38,h2hRecentVictoryPenalty:15,h2hRecencyWeight:.5,divisionBlendDurationFinish:0,divisionFinishAdjustmentScale:.5,ufcAverageFinishRate:47,durationOppTierNeutral:.48,durationDivisionMinSampleSize:33,durationLoserVulnBonus:15,durationDecisionFighterPenalty:14}}static{this.MIN_HIGH_CONFIDENCE=75}static{this.MIN_MEDIUM_CONFIDENCE=60}static{this.MIN_LOW_CONFIDENCE=50}static{this.divisionCoefficients=null}static loadDivisionCoefficients(){return this.divisionCoefficients?this.divisionCoefficients:(this.divisionCoefficients=new Map(Object.entries(pa)),this.divisionCoefficients)}generateBetCards(i,a,g=!1,h=3){const t=[],r=i.rawData.Number_of_Fights_36m||0,b=a.rawData.Number_of_Fights_36m||0;if(r<3||b<3)return[this.createNoPredictionCard("insufficient_fights",i,a,r,b)];if(i.division!==a.division)return[this.createNoPredictionCard("different_divisions",i,a)];const d=this.calculateWinProbability(i,a);if(g&&d.probability<ci.MIN_MEDIUM_CONFIDENCE){const W=d.winner===i?d.probability:100-d.probability,X=100-W;t.push(this.createNoPredictionCard("low_moneyline_confidence",i,a,void 0,void 0,W,X))}else t.push(this.createMoneylineCard(d));const m=this.predictMethodGivenWinner(i,a,d,h),A=this.predictTotalRounds(i,a,d,h),ee=this.generateFightProps(i,a,d,h),y=this.analyzeKeyFactors(i,a),G=this.analyzeTrends(i,a);t.push(this.createVictoryMethodCard(m));const V=this.predictWinnerAndMethod(d,m);return t.push(V),t.push(this.createTotalRoundsCard(A)),t.push(this.createFightPropsCard(ee)),t.push(this.createKeyFactorsCard(y)),t.push(this.createTrendsCard(G)),this.hasHighConfidencePredictions(t)||t.push(this.createNoPredictionCard("low_confidence")),g?this.sortBetCardsByPriority(this.filterByConfidence(Ji(t))):this.sortBetCardsByPriority(Ji(t))}filterByConfidence(i){return i.filter(a=>a.type==="key_factors"||a.type==="trends"||a.type==="no_prediction"?!0:a.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}calculatePhysicalAdvantage(i,a){const g=(i.rawData.reach_inches||0)-(a.rawData.reach_inches||0),h=(i.rawData.height_inches||0)-(a.rawData.height_inches||0);let t=0,l=0;return g>=this.config.physicalAdvantageReachThreshold?t+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025):g<=-this.config.physicalAdvantageReachThreshold&&(l+=Math.min(Math.abs(g)*this.config.reachAdvantageWeight,.025)),h>=this.config.physicalAdvantageHeightThreshold?t+=Math.min(Math.abs(h)*this.config.heightAdvantageWeight,.015):h<=-this.config.physicalAdvantageHeightThreshold&&(l+=Math.min(Math.abs(h)*this.config.heightAdvantageWeight,.015)),{f1Advantage:t,f2Advantage:l}}checkRecentH2H(i,a){if(!i.rawData.Dates_36m||!a.rawData.Dates_36m)return{loserRecentlyBeatWinner:!1,winnerRecentlyBeatLoser:!1};const g=i.id,h=a.id,t=i.name.toLowerCase(),l=a.name.toLowerCase(),r=t.split(" ")[0],b=l.split(" ")[0],d=i.rawData.Dates_36m?i.rawData.Dates_36m.split(","):[],m=a.rawData.Dates_36m?a.rawData.Dates_36m.split(","):[],A=new Date().getTime(),ee=this.config.h2hRecentVictoryMonths*30*24*60*60*1e3,y=(W,X,ie,J)=>{const x=W.toLowerCase();return x===X||x===ie||x===J||x.includes(J)};let G=!1;for(const W of d){if(!W||W.trim().length===0)continue;const X=W.trim().split(":");if(X.length<3)continue;const ie=X[0],J=X[1],x=X[2];if(y(J,h,l,b)&&x.toUpperCase()==="W"){const B=this.parseUFCDate(ie);if(B&&A-B.getTime()<ee){G=!0;break}}}let V=!1;for(const W of m){if(!W||W.trim().length===0)continue;const X=W.trim().split(":");if(X.length<3)continue;const ie=X[0],J=X[1],x=X[2];if(y(J,g,t,r)&&x.toUpperCase()==="W"){const B=this.parseUFCDate(ie);if(B&&A-B.getTime()<ee){V=!0;break}}}return{loserRecentlyBeatWinner:V,winnerRecentlyBeatLoser:G}}parseUFCDate(i){const a=i.split("-");if(a.length!==3)return null;const g=parseInt(a[0],10),h=parseInt(a[1],10),t=parseInt(a[2],10);return isNaN(g)||isNaN(h)||isNaN(t)?null:new Date(t,h-1,g)}calculateWinProbability(i,a){const g=this.config.oppTierNeutral,h=this.config.oppTierWeight;let t=i.overall+(i.oppTierScore-g)*h,l=a.overall+(a.oppTierScore-g)*h;const r=this.calculatePhysicalAdvantage(i,a);t*=1+r.f1Advantage,l*=1+r.f2Advantage,t*=this.calculateAgeImpact(i),l*=this.calculateAgeImpact(a);const b=this.getInactiveMonths(i),d=this.getInactiveMonths(a);if(b>=this.config.inactivityThreshold){const Y=Math.min((b-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);t*=1-Y}if(d>=this.config.inactivityThreshold){const Y=Math.min((d-this.config.inactivityThreshold)*this.config.inactivityPenaltyRate,this.config.inactivityMaxPenalty);l*=1-Y}const m=this.getFightsInPeriod(i,18),A=this.getFightsInPeriod(a,18);m>=this.config.activityBonusThreshold&&(t*=1+this.config.activityBonus),A>=this.config.activityBonusThreshold&&(l*=1+this.config.activityBonus);const ee=i.rawData.Number_of_Fights_36m>0?i.rawData.win/i.rawData.Number_of_Fights_36m*100:0,y=a.rawData.Number_of_Fights_36m>0?a.rawData.win/a.rawData.Number_of_Fights_36m*100:0,G=this.calculateMomentum(i),V=this.calculateMomentum(a);t*=1+G,l*=1+V;let W=this.config.winRateWeightNormal,X=this.config.winRateWeightNormal;ee>=this.config.winRateHighThreshold?W=this.config.winRateWeightHigh:ee<this.config.winRateLowThreshold&&(W=this.config.winRateWeightLow),y>=this.config.winRateHighThreshold?X=this.config.winRateWeightHigh:y<this.config.winRateLowThreshold&&(X=this.config.winRateWeightLow);const ie=t+ee*W,J=l+y*X,x=this.calculateAge(i),B=this.calculateAge(a),H=x-B;let N=ie,S=J;if(Math.abs(H)>=this.config.relativeAgeThreshold){const Y=Math.min(Math.abs(H)*this.config.relativeAgeAdjustRate,this.config.relativeAgeMaxAdjust);H>0?(N=ie*(1-Y),S=J*(1+Y)):(N=ie*(1+Y),S=J*(1-Y))}const w=Math.abs(N-S);if(w>this.config.amplificationThreshold){const Y=1+(w-this.config.amplificationThreshold)*this.config.amplificationRate;N>S?N*=Y:S*=Y}const U=N+S;let j=U>0?Math.round(N/U*100):50,ne=U>0?Math.round(S/U*100):50;const re=this.checkRecentH2H(i,a);if(re.loserRecentlyBeatWinner){const Y=j*this.config.h2hRecentVictoryPenalty/100,Ee=j*(1-this.config.h2hRecencyWeight)+(j-Y)*this.config.h2hRecencyWeight;j=Math.round(Ee),ne=100-j}if(re.winnerRecentlyBeatLoser){const Y=j*this.config.h2hRecentVictoryPenalty/100,Ee=j*(1-this.config.h2hRecencyWeight)+(j+Y)*this.config.h2hRecencyWeight;j=Math.round(Ee),ne=100-j}if(j=Math.max(this.config.minProbability,Math.min(this.config.maxProbability,j)),ne=100-j,j>ne){let Y=this.getWinReasoningKey(i,a,ee,y);return{winner:i,probability:j,reasoningKey:Y,adjustedScore1:N,adjustedScore2:S}}else{let Y=this.getWinReasoningKey(a,i,y,ee);return{winner:a,probability:ne,reasoningKey:Y,adjustedScore1:S,adjustedScore2:N}}}predictWinnerAndMethod(i,a){let g=i.probability/100*(a.probability/100)*100;const h=i.winner,t=a.method,l=a.methodKey,r=h.name,b=`combat_analysis.winner_and_method.${l.split(".").pop()}`;return{id:"winner-and-method",type:"winner_and_method",category:"secondary",title:"Winner and Method",titleKey:"betting_markets.winner_and_method",prediction:r,predictionKey:b,confidence:Math.round(g),confidenceLevel:this.getConfidenceLevel(g),reasoningKey:"combat_analysis.reasoning.winner_and_method_combined",metadata:{winner:h.name,method:t,methodKey:b,winnerProb:i.probability,methodProb:a.probability,compositeProb:g},priority:2.5}}predictMethodGivenWinner(i,a,g,h=3){const t=g.winner,l=t===i?a:i,r=ci.loadDivisionCoefficients(),b=t.division,d=r.get(b),m=d?h===5?d.stats_5R:d.stats_3R:null,A=t.overall+(t.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,ee=l.overall+(l.oppTierScore-this.config.oppTierNeutral)*this.config.methodOppTierWeight,y=Math.abs(A-ee),G=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,V=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,W=t===i?G:V,X=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,ie=a.rawData.Number_of_Fights_36m>0?a.rawData.win_kotko/a.rawData.Number_of_Fights_36m*100:0,J=t===i?X:ie,x=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,B=a.rawData.Number_of_Fights_36m>0?a.rawData.win_sub/a.rawData.Number_of_Fights_36m*100:0,H=t===i?x:B,N=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_kotko/l.rawData.Number_of_Fights_36m*100:0,S=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_sub/l.rawData.Number_of_Fights_36m*100:0,w=N+S,U=w,j=l.rawData.Number_of_Fights_36m>0?l.rawData.loss_decision/l.rawData.Number_of_Fights_36m*100:0;let ne=y*this.config.skillGapWeight+W*this.config.finishRateWeight+w*this.config.vulnerabilityWeight;const re=j*this.config.loserDecisionRateWeight/10;ne-=re,j<this.config.methodDecisionRateFinisherThreshold&&(ne+=this.config.methodDecisionRateFinisherBonus);const Y=J>H&&N>S,Ee=H>J&&S>N;(Y||Ee)&&(ne+=this.config.methodMatchBonus),t.rawData.Number_of_Fights_36m>=this.config.methodHighPaceMinFights&&W>=this.config.methodHighPaceMinFinish&&W<=this.config.methodHighPaceMaxFinish&&(ne+=this.config.highPaceFinishBonus),Math.max(J,H)>this.config.methodStyleStrengthThreshold&&w>this.config.methodLoserVulnThreshold&&(ne+=this.config.styleStrengthBonus),W>this.config.methodStrongFinisherWinnerThreshold&&U>this.config.methodStrongFinisherLoserThreshold&&(ne+=this.config.finisherVsVulnerableBonus);const oe=t.archetype?.combinedRole||"",De=l.archetype?.combinedRole||"",Ke=oe.includes("AT")||oe.includes("ANT"),F=De.includes("PT")||De.includes("PNT");Ke&&F&&W>this.config.predatorFinishRateThreshold&&w>this.config.predatorVulnerabilityThreshold&&(ne+=this.config.predatorVsDefensiveBonus);const le=l===i?G:V,ye=Math.min(W,le),Oe=Math.max(W,le);if(ye>this.config.bothFinishersThreshold&&Oe>this.config.bothFinishersThreshold&&(ne*=this.config.bothFinishersMultiplier),m&&m.sampleSize>=this.config.divisionMinSampleSize&&this.config.divisionBlendFinishLikelihood>0){const L=m.finishRate*100;ne=ne*(1-this.config.divisionBlendFinishLikelihood)+L*this.config.divisionBlendFinishLikelihood}const ze=t.rawData.Sig_Strikes_Landed/((t.rawData.Fight_Duration_Seconds||600)/60)||0,qe=t.rawData.Knockdowns/((t.rawData.Fight_Duration_Seconds||600)/900)||0;ze>this.config.decisionToKOStrLandedThreshold&&qe>this.config.decisionToKOKnockdownThreshold&&(ne+=this.config.decisionToKOBiasReduction);const $e=t.fightRadar.CTRL-l.fightRadar.CTRL,Be=t.fightRadar.TD_OFF-l.fightRadar.TD_OFF;if($e>this.config.decisionToSubCtrlGapThreshold&&Be>this.config.decisionToSubTDGapThreshold&&(ne+=this.config.decisionToSubBiasReduction),ne<this.config.finishLikelihoodThreshold){let L=Math.min(Math.round(100-ne),this.config.decisionBaseMax),Re=this.config.decisionBaseMax;if(ye>this.config.decisionCapHighFinishThreshold){const v=this.config.decisionCapPenaltyBase+(ye-this.config.decisionCapHighFinishThreshold)/this.config.decisionCapPenaltyDivisor*this.config.decisionCapPenaltyScale;Re=Math.max(Re-v,this.config.decisionMinFloor)}else ye>this.config.decisionCapMedFinishThreshold?Re=Math.max(Re-this.config.decisionCapMedPenalty,this.config.decisionMinFloor+4):ye>this.config.decisionCapLowFinishThreshold&&(Re=Math.max(Re-this.config.decisionCapLowPenalty,this.config.decisionMinFloor+2));const ti=t.rawData.Sig_Strikes_Landed/((t.rawData.Fight_Duration_Seconds||600)/60)||0,Ue=t.rawData.Knockdowns/((t.rawData.Fight_Duration_Seconds||600)/900)||0;ti>this.config.decisionToKOStrLandedThreshold&&Ue>this.config.decisionToKOKnockdownThreshold&&(L-=this.config.decisionToKOBiasReduction);const li=t.fightRadar.CTRL-l.fightRadar.CTRL,hi=t.fightRadar.TD_OFF-l.fightRadar.TD_OFF;return li>this.config.decisionToSubCtrlGapThreshold&&hi>this.config.decisionToSubTDGapThreshold&&(L-=this.config.decisionToSubBiasReduction),{method:"Decision",methodKey:"combat_analysis.finish_methods.decision",probability:Math.min(L,Re),reasoningKey:"combat_analysis.reasoning.both_tend_long_fights",finishRate1:G,finishRate2:V}}let ce=J*this.config.koThreatWinnerWeight+N*this.config.koThreatLoserWeight,Te=H*this.config.subThreatWinnerWeight+S*this.config.subThreatLoserWeight;if(m&&m.sampleSize>=this.config.divisionMinSampleSize){if(this.config.divisionBlendKOThreat>0){const L=m.koRate*100;ce=ce*(1-this.config.divisionBlendKOThreat)+L*this.config.divisionBlendKOThreat}if(this.config.divisionBlendSubThreat>0){const L=m.submissionRate*100;Te=Te*(1-this.config.divisionBlendSubThreat)+L*this.config.divisionBlendSubThreat}}if(m&&m.sampleSize>=this.config.divisionMinSampleSize){const L=Math.abs(ce-Te),Re=m.koRate*100,ti=m.submissionRate*100,Ue=Re-ti;L<this.config.divisionThreatDiffThreshold&&Math.abs(Ue)>this.config.divisionPreferenceThreshold&&(Ue>0?ce+=this.config.divisionTiebreakerBoost:Te+=this.config.divisionTiebreakerBoost)}const Ie=S-N;Ie>this.config.subVulnDiffHighThreshold?Te+=this.config.subVulnDiffHighBonus:Ie>this.config.subVulnDiffMedThreshold&&(Te+=this.config.subVulnDiffMedBonus);const Ve=N-S;Ve>this.config.koVulnDiffHighThreshold?ce+=this.config.koVulnDiffHighBonus:Ve>this.config.koVulnDiffMedThreshold&&(ce+=this.config.koVulnDiffMedBonus);const we=t.fightRadar.STR_OFF-l.fightRadar.STR_OFF;if(we>this.config.strOffGapLowThreshold){const L=we>this.config.strOffGapHighThreshold?this.config.strOffGapHighBonus:we>this.config.strOffGapMedThreshold?this.config.strOffGapMedBonus:this.config.strOffGapLowBonus;ce+=L}const Pe=t.fightRadar.CTRL-l.fightRadar.CTRL;if(Pe>this.config.ctrlGapLowThreshold){const L=Pe>this.config.ctrlGapHighThreshold?this.config.ctrlGapHighBonus:Pe>this.config.ctrlGapMedThreshold?this.config.ctrlGapMedBonus:this.config.ctrlGapLowBonus;Te+=L}const he=t.fightRadar.TD_OFF-l.fightRadar.TD_OFF;if(he>this.config.tdOffGapLowThreshold){const L=he>this.config.tdOffGapHighThreshold?this.config.tdOffGapHighBonus:he>this.config.tdOffGapMedThreshold?this.config.tdOffGapMedBonus:this.config.tdOffGapLowBonus;Te+=L}const te=t.rawData.Fight_Duration_Seconds||600,ue=l.rawData.Fight_Duration_Seconds||600,He=t.rawData.Sig_Strikes_Landed/(te/60)||0,je=l.rawData.Sig_Strikes_Absorbed/(ue/60)||0,ii=t.rawData.Knockdowns/(te/900)||0;He>this.config.unexpectedKOStrLandedThreshold&&je>this.config.unexpectedKOStrAbsorbedThreshold&&ii>this.config.unexpectedKOKnockdownThreshold&&ce<this.config.unexpectedKOThreatThreshold&&(ce+=this.config.unexpectedKOBoost);const Qe=J>H&&N>S,Ze=H>J&&S>N,Je=Math.abs(ce-Te),oi=Math.abs(J-H);if(Je<this.config.methodThreatDiffThreshold?oi<this.config.methodStyleDiffThreshold?N>S:Qe&&!Ze||ce>Te&&!Ze:ce>Te){let L=Math.round(ne+ce*this.config.koThreatMultiplier);return y>10&&(L+=this.config.koSkillGapBonus),N>30&&(L+=this.config.koLoserVulnBonus),J>50&&(L+=this.config.koWinnerRateBonus),J>this.config.koComboWinnerRateThreshold&&N>this.config.koComboLoserVulnThreshold&&(L+=this.config.koComboBonus),Qe&&J>this.config.koMethodMatchWinnerThreshold&&N>this.config.koMethodMatchLoserThreshold&&(L+=this.config.koMethodMatchBonus),j>this.config.koToDecisionLoserDecisionRateThreshold&&ce<this.config.koToDecisionLowKOThreatThreshold&&(L-=this.config.koToDecisionBiasReduction),{method:"KO/TKO",methodKey:"combat_analysis.finish_methods.ko_tko",probability:Math.min(L,this.config.koMaxProb),reasoningKey:"combat_analysis.reasoning.both_knockout_history",finishRate1:G,finishRate2:V}}else{let L=Math.min(Math.round(ne+Te*this.config.subThreatMultiplier),this.config.subMaxProb);return y>10&&(L+=this.config.subSkillGapBonus),S>24&&(L+=this.config.subLoserVulnBonus),H>40&&(L+=this.config.subWinnerRateBonus),H>this.config.subComboWinnerRateThreshold&&S>this.config.subComboLoserVulnThreshold&&(L+=this.config.subComboBonus),Ze&&H>this.config.subMethodMatchWinnerThreshold&&S>this.config.subMethodMatchLoserThreshold&&(L+=this.config.subMethodMatchBonus),j>this.config.subToDecisionLoserDecisionRateThreshold&&Te<this.config.subToDecisionLowSubThreatThreshold&&(L-=this.config.subToDecisionBiasReduction),{method:"Submission",methodKey:"combat_analysis.finish_methods.submission",probability:Math.min(L,89),reasoningKey:"combat_analysis.reasoning.high_submission_probability",finishRate1:G,finishRate2:V}}}predictTotalRounds(i,a,g,h=3){const t=g.winner,l=t===i?a:i,r=ci.loadDivisionCoefficients(),b=t.division,d=r.get(b),m=d?h===5?d.stats_5R:d.stats_3R:null,A=t.overall+(t.oppTierScore-this.config.durationOppTierNeutral)*this.config.durationOppTierWeight,ee=l.overall+(l.oppTierScore-this.config.durationOppTierNeutral)*this.config.durationOppTierWeight,y=Math.abs(A-ee),G=(i.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,V=(a.rawData.Fight_Duration_Seconds||this.config.defaultFightDuration)/60,W=t===i?G:V,X=t===i?V:G,ie=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,J=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,x=t===i?ie:J,B=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0,H=a.rawData.Number_of_Fights_36m>0?a.rawData.win_kotko/a.rawData.Number_of_Fights_36m*100:0,N=t===i?B:H,S=l.rawData.Number_of_Fights_36m>0?(l.rawData.loss_kotko+l.rawData.loss_sub)/l.rawData.Number_of_Fights_36m*100:0;let w=y*this.config.durationSkillGapWeight+x*this.config.durationFinishRateWeight+S*this.config.durationVulnerabilityWeight+(15-Math.min(W,15))*this.config.durationAvgTimeWeight*10;S>this.config.durationLoserVulnThreshold&&(w+=this.config.durationLoserVulnBonus),ie<this.config.durationBothLowFinishThreshold&&J<this.config.durationBothLowFinishThreshold&&(w-=this.config.durationDecisionFighterPenalty);const U=i.rawData.Number_of_Fights_36m,j=a.rawData.Number_of_Fights_36m;if(Math.abs(U-j)>=this.config.durationPaceAsymmetryThreshold&&Math.min(U,j)<=2&&(w-=this.config.durationPaceAsymmetryPenalty),m&&m.sampleSize>=this.config.durationDivisionMinSampleSize&&this.config.divisionBlendDurationFinish>0){const M=(m.finishRate*100-this.config.ufcAverageFinishRate)*this.config.divisionFinishAdjustmentScale;w=w*(1-this.config.divisionBlendDurationFinish)+(w+M)*this.config.divisionBlendDurationFinish}const re=(G+V)/2,Y=[],Ee=x>this.config.extremeFinishWinnerThreshold1&&S>this.config.extremeFinishLoserThreshold1&&y>this.config.extremeFinishSkillGap1||x>this.config.extremeFinishWinnerThreshold2&&S>this.config.extremeFinishLoserThreshold2||y>this.config.extremeFinishSkillGap3&&x>this.config.extremeFinishWinnerThreshold3;if(w>this.config.under15ScoreThreshold&&g.probability>this.config.under15WinProbThreshold&&Ee||W<this.config.under15WinnerTimeThreshold&&X<this.config.under15LoserTimeThreshold&&y>this.config.under15SkillGapThreshold||w>this.config.under15RelaxedEarlyFinishThreshold&&g.probability>this.config.under15RelaxedWinProbThreshold){let Z=Math.min(Math.round(w+this.config.durationUnderExtreme),this.config.under15InitialCap);y>this.config.under15SkillGapExtreme&&(Z+=this.config.durationUnderSkillGapExtreme),x>this.config.under15FinishRateExtreme&&(Z+=this.config.durationUnderFinishRateExtreme),S>this.config.under15VulnExtreme&&(Z+=this.config.durationUnderLoserVulnExtreme);const M=Math.min(Z,this.config.under15FinalCap);Y.push({prediction:"UNDER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_1_5_rounds",probability:M,reasoningKey:"combat_analysis.reasoning.extreme_early_finish",explanationKey:"combat_analysis.bet_explanations.under_1_5_rounds",avgTime:W})}if(h===5){const Z=x>this.config.under25FinishThreshold1&&S>this.config.under25LoserFinishThreshold1||N>this.config.under25KOThreshold&&W<this.config.under25AvgTimeThreshold,M=W<this.config.under25WinnerTimeThreshold&&X<this.config.under25LoserTimeThreshold;if(w>this.config.earlyFinishScoreThreshold&&g.probability>this.config.under25WinProbMin||Z){let oe=Math.min(Math.round(w+this.config.underBonusBase),this.config.under25InitialCap);y>this.config.under25SkillGapThreshold&&(oe+=this.config.durationUnderSkillGapBonus),S>this.config.under25VulnThreshold&&(oe+=this.config.durationUnderLoserVulnBonus),x>this.config.under25WinnerFinishThreshold&&(oe+=this.config.durationUnderWinnerFinishBonus),x>this.config.under25ComboWinnerThreshold&&S>this.config.under25ComboLoserThreshold&&(oe+=this.config.durationUnderComboBonus);const De=Math.min(oe,this.config.under25FinalCap);M&&Y.push({prediction:"UNDER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.under_2_5_rounds",probability:De,reasoningKey:"combat_analysis.reasoning.short_fight_history",explanationKey:"combat_analysis.bet_explanations.under_2_5_rounds",avgTime:W})}}if(h===3){let Z=this.config.over15BaseProbability;w>this.config.over15HighThreatThreshold&&(Z=this.config.over15HighThreatValue),w>this.config.over15MedThreatLowThreshold&&w<=this.config.over15MedThreatHighThreshold&&(Z=this.config.over15MedThreatValue),w<this.config.over15LowThreatThreshold&&(Z=this.config.over15LowThreatValue),w<this.config.over15VeryLowThreatThreshold&&(Z=this.config.over15VeryLowThreatValue),x>this.config.over15FinisherThreshold&&(Z-=this.config.over15FinisherPenalty),x<this.config.over15DecisionThreshold&&(Z+=this.config.over15DecisionBoost),x<this.config.over15DualDecisionThreshold1&&S<this.config.over15DualDecisionThreshold2&&(Z+=this.config.over15DualDecisionBoost),re>this.config.over15LongTimeThreshold&&(Z=Math.min(Z+this.config.over15LongTimeBoost,this.config.over15MaxProbability)),w>this.config.over15FinishLikelihoodPenaltyThreshold&&(Z-=this.config.over15FinishLikelihoodPenaltyAmount);const M=Math.min(Math.max(Math.round(Z),this.config.over15MinProbability),this.config.over15MaxProbability);Y.push({prediction:"OVER 1.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_1_5_rounds",probability:M,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_1_5_rounds",avgTime:re})}if(h===5){let Z=this.config.over15BaseProbability;w>this.config.over15HighThreatThreshold&&(Z=this.config.over15HighThreatValue),w>this.config.over15MedThreatLowThreshold&&w<=this.config.over15MedThreatHighThreshold&&(Z=this.config.over15MedThreatValue),w<this.config.over15LowThreatThreshold&&(Z=this.config.over15LowThreatValue),w<this.config.over15VeryLowThreatThreshold&&(Z=this.config.over15VeryLowThreatValue),x>this.config.over15FinisherThreshold&&(Z-=this.config.over15FinisherPenalty),x<this.config.over15DecisionThreshold&&(Z+=this.config.over15DecisionBoost),x<this.config.over15DualDecisionThreshold1&&S<this.config.over15DualDecisionThreshold2&&(Z+=this.config.over15DualDecisionBoost);const M=Math.min(Math.max(Math.round(Z),this.config.over15MinProbability),this.config.over15MaxProbability);Y.push({prediction:"OVER 2.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_2_5_rounds",probability:M,reasoningKey:"combat_analysis.reasoning.expected_average_duration",explanationKey:"combat_analysis.bet_explanations.over_2_5_rounds",avgTime:re});const oe=x<this.config.over35DecisionThreshold1&&S<this.config.over35DecisionThreshold2&&re>this.config.over35AvgTimeThreshold,De=w<this.config.over35LowFinishThreshold,Ke=re>this.config.over35LongTimeThreshold;if(oe||De||Ke){let F=this.config.over35BaseProbability;x<this.config.over35PureDecisionThreshold&&S<this.config.over35PureDecisionThreshold&&(F=this.config.over35PureDecisionValue),x<this.config.over35ExtremeDecisionThreshold&&S<this.config.over35ExtremeDecisionThreshold&&(F=this.config.over35ExtremeDecisionValue),Ke&&(F=Math.max(F,this.config.over35LongMinProbability),x<this.config.over35LongDecisionThreshold&&S<this.config.over35LongDecisionThreshold&&(F=Math.min(F+this.config.over35LongDecisionBoost,this.config.over35LongDecisionCap))),w>this.config.over35FinishPenaltyThreshold1&&(F-=this.config.over35FinishPenalty1),w>this.config.over35FinishPenaltyThreshold2&&(F-=this.config.over35FinishPenalty2);const le=Math.min(Math.max(Math.round(F),this.config.over35MinProbability),this.config.over35MaxProbability);Y.push({prediction:"OVER 3.5 rounds",predictionKey:"combat_analysis.duration_predictions.over_3_5_rounds",probability:le,reasoningKey:"combat_analysis.reasoning.expected_extended_duration",explanationKey:"combat_analysis.bet_explanations.over_3_5_rounds",avgTime:re})}}return Y.sort((Z,M)=>M.probability-Z.probability),Y[0]}generateFightProps(i,a,g,h=3){const t=this.calculateBettingMetrics(i,a,g);this.hasDominantGrappler(i,a),this.isStrikerWar(i,a);const l=6;return t.f1SubRate+t.f2SubRate>1.5?{prop:"OVER 1.5 submission attempts",propKey:"combat_analysis.special_bets.over_1_5_submissions",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_seek_submissions",explanationKey:"combat_analysis.bet_explanations.over_1_5_submissions",metrics:t}:t.weightedFinishRate&&t.weightedFinishRate>this.config.durationFinishRateThreshold&&t.weightedAvgFightTime&&t.weightedAvgFightTime<l?{prop:"First round finish",propKey:"combat_analysis.special_bets.first_round_finish",value:"MEDIUM-HIGH",valueKey:"combat_analysis.bet_values.medium_high",reasoningKey:"combat_analysis.reasoning.at_least_one_finishes_fast",explanationKey:"combat_analysis.bet_explanations.first_round_finish",metrics:t}:t.f1KnockdownRate>.6&&t.f2KnockdownRate>.6?{prop:"Double knockdown",propKey:"combat_analysis.special_bets.double_knockdown",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.both_knockdown_history",explanationKey:"combat_analysis.bet_explanations.double_knockdown",metrics:t}:t.f1TakedownRate>this.config.durationTakedownRateThreshold||t.f2TakedownRate>this.config.durationTakedownRateThreshold?{prop:"Ground control +2 minutes",propKey:"combat_analysis.special_bets.ground_control_2min",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.technical_fighters_takedowns",explanationKey:"combat_analysis.bet_explanations.ground_control_2min",metrics:t}:t.f1StrikeVolume>this.config.durationStrikeVolumeThreshold&&t.f2StrikeVolume>this.config.durationStrikeVolumeThreshold?{prop:"OVER 100 strikes per fighter",propKey:"combat_analysis.special_bets.over_100_strikes_each",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_high_volume",explanationKey:"combat_analysis.bet_explanations.over_100_strikes_each",metrics:t}:t.f1TakedownRate<this.config.durationLowTakedownThreshold&&t.f2TakedownRate<this.config.durationLowTakedownThreshold?{prop:"Standing exchange +80%",propKey:"combat_analysis.special_bets.standing_exchange_80",value:"HIGH",valueKey:"combat_analysis.bet_values.high",reasoningKey:"combat_analysis.reasoning.both_prefer_standing",explanationKey:"combat_analysis.bet_explanations.standing_exchange_80",metrics:t}:{prop:"Fight goes to distance",propKey:"combat_analysis.special_bets.goes_to_distance",value:"MEDIUM",valueKey:"combat_analysis.bet_values.medium",reasoningKey:"combat_analysis.reasoning.compatible_styles_technical",explanationKey:"combat_analysis.bet_explanations.goes_to_distance",metrics:t}}analyzeKeyFactors(i,a){const g=[],h=i.rawData.reach_inches||0,t=a.rawData.reach_inches||0,l=Math.abs(h-t);if(l>this.config.winnerReachDiffThreshold){const y=h>t?i.name||"Fighter 1":a.name||"Fighter 2";g.push({label:"combat_analysis.key_factors.reach_advantage",value:`${y} +${l}"`,type:"advantage"})}const r=i.rawData.Sig_Strikes_Thrown>0?Math.round(i.rawData.Sig_Strikes_Landed/i.rawData.Sig_Strikes_Thrown*100):0,b=a.rawData.Sig_Strikes_Thrown>0?Math.round(a.rawData.Sig_Strikes_Landed/a.rawData.Sig_Strikes_Thrown*100):0;g.push({label:"combat_analysis.key_factors.strike_accuracy",value:`${i.name||"F1"}: ${r}% vs ${a.name||"F2"}: ${b}%`,type:"comparison"});const d=i.rawData.takedowns_attempted_against>0?Math.round(i.rawData.Takedowns_Defended/i.rawData.takedowns_attempted_against*100):85,m=a.rawData.takedowns_attempted_against>0?Math.round(a.rawData.Takedowns_Defended/a.rawData.takedowns_attempted_against*100):85;g.push({label:"combat_analysis.key_factors.takedown_defense",value:`${i.name||"F1"}: ${d}% vs ${a.name||"F2"}: ${m}%`,type:"comparison"});const A=i.rawData.Number_of_Fights_36m||0,ee=a.rawData.Number_of_Fights_36m||0;if(Math.abs(A-ee)>this.config.winnerExperienceGapThreshold){const y=A>ee?i.name||"Fighter 1":a.name||"Fighter 2",G=Math.max(A,ee),V=Math.min(A,ee);g.push({label:"combat_analysis.key_factors.higher_activity",value:`${y}: ${G} vs ${V} fights`,type:"advantage"})}return g}analyzeTrends(i,a){const g=[],h=i.rawData.Number_of_Fights_36m>0?Math.round(i.rawData.win/i.rawData.Number_of_Fights_36m*100):0,t=a.rawData.Number_of_Fights_36m>0?Math.round(a.rawData.win/a.rawData.Number_of_Fights_36m*100):0;h>=75?g.push({type:"positive",text:`${i.name||"Fighter 1"} has ${h}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:i.name||"Fighter 1",winRate:h},fighter:i.name}):h<50&&g.push({type:"negative",text:`${i.name||"Fighter 1"} struggling at ${h}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:i.name||"Fighter 1",winRate:h},fighter:i.name}),t>=75?g.push({type:"positive",text:`${a.name||"Fighter 2"} has ${t}% win rate`,textKey:"combat_analysis.trends.high_win_rate",params:{name:a.name||"Fighter 2",winRate:t},fighter:a.name}):t<50&&g.push({type:"negative",text:`${a.name||"Fighter 2"} struggling at ${t}% win rate`,textKey:"combat_analysis.trends.struggling_win_rate",params:{name:a.name||"Fighter 2",winRate:t},fighter:a.name});const l=(i.rawData.Fight_Duration_Seconds||900)/60,r=(a.rawData.Fight_Duration_Seconds||900)/60,b=(l+r)/2;return g.push({type:"neutral",text:`Combined average fight time: ${b.toFixed(1)} minutes`,textKey:"combat_analysis.trends.avg_fight_time",params:{avgTime:b.toFixed(1)}}),g}calculateMomentum(i){const a=i.streak;if(a===0)return 0;const g=Math.abs(a);return a>0?g>=3?this.config.winStreak3PlusBonus:g>=2?this.config.winStreak2Bonus:this.config.winStreak1Bonus:g>=3?-this.config.loseStreak3PlusPenalty:g>=2?-this.config.loseStreak2Penalty:-this.config.loseStreak1Penalty}calculateDamageMultiplier(i){return i===0?1:i===1?this.config.damageMultiplier1KO:i===2?this.config.damageMultiplier2KO:i===3?this.config.damageMultiplier3KO:i===4?this.config.damageMultiplier4KO:this.config.damageMultiplier5PlusKO}calculateAgeImpact(i){const a=this.calculateAge(i),h={Flyweight:30,Bantamweight:30,Featherweight:31,Lightweight:31,Welterweight:32,Middleweight:32,"Light Heavyweight":33,Heavyweight:34}[i.division]||32,t=i.rawData.loss_kotko||0,l=this.calculateDamageMultiplier(t),r=(a-h)*l;if(r<=0)return 1;let b=0;return r<=5?b=r*this.config.agePenaltyPhase1Rate:r<=10?b=5*this.config.agePenaltyPhase1Rate+(r-5)*this.config.agePenaltyPhase2Rate:b=5*this.config.agePenaltyPhase1Rate+5*this.config.agePenaltyPhase2Rate+(r-10)*this.config.agePenaltyPhase3Rate,b=Math.min(b,this.config.agePenaltyMaxCap),1-b}calculateAge(i){if(i.age&&i.age>0)return i.age;if(i.birthDate||i.rawData.Birth_Date){const t=i.birthDate||i.rawData.Birth_Date,l=new Date(t);if(!isNaN(l.getTime())){const r=new Date;let b=r.getFullYear()-l.getFullYear();const d=r.getMonth()-l.getMonth();return(d<0||d===0&&r.getDate()<l.getDate())&&b--,b}}const a=25,g=2.5,h=i.rawData.Number_of_Fights_36m||0;return Math.round(a+h/g)}getInactiveMonths(i){const a=i.rawData.Number_of_Fights_36m||0;return a>=3?0:a>=2?6:a>=1?12:24}getFightsInPeriod(i,a){const g=a/36;return Math.round((i.rawData.Number_of_Fights_36m||0)*g)}getWeightedMetric(i,a,g,h,t=.5){const l=g.probability/100,r=1-l;return g.winner===h?i*l+a*r*t:a*l+i*r*t}getFighterStyle(i){const a=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,g=i.rawData.Number_of_Fights_36m>0?i.rawData.win_sub/i.rawData.Number_of_Fights_36m*100:0,h=i.rawData.Number_of_Fights_36m>0?i.rawData.win_kotko/i.rawData.Number_of_Fights_36m*100:0;return a>15||g>25?"grappler":h>30&&a<10?"striker":"balanced"}hasDominantGrappler(i,a){const g=this.getFighterStyle(i),h=this.getFighterStyle(a),t=i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,l=a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0;return g==="grappler"&&t>20||h==="grappler"&&l>20}isStrikerWar(i,a){return this.getFighterStyle(i)==="striker"&&this.getFighterStyle(a)==="striker"}calculateBettingMetrics(i,a,g){const h=i.rawData.Number_of_Fights_36m>0?(i.rawData.win_kotko+i.rawData.win_sub)/i.rawData.Number_of_Fights_36m*100:0,t=a.rawData.Number_of_Fights_36m>0?(a.rawData.win_kotko+a.rawData.win_sub)/a.rawData.Number_of_Fights_36m*100:0,l=(i.rawData.Fight_Duration_Seconds||900)/60,r=(a.rawData.Fight_Duration_Seconds||900)/60;return{f1TakedownRate:i.rawData.Sig_Strikes_Thrown>0?i.rawData.Takedowns_Attempted/i.rawData.Sig_Strikes_Thrown*100:0,f2TakedownRate:a.rawData.Sig_Strikes_Thrown>0?a.rawData.Takedowns_Attempted/a.rawData.Sig_Strikes_Thrown*100:0,f1KnockdownRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Knockdowns/i.rawData.Number_of_Fights_36m:0,f2KnockdownRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Knockdowns/a.rawData.Number_of_Fights_36m:0,f1StrikeVolume:i.rawData.Sig_Strikes_Thrown||0,f2StrikeVolume:a.rawData.Sig_Strikes_Thrown||0,f1SubRate:i.rawData.Number_of_Fights_36m>0?i.rawData.Sub_Attempts/i.rawData.Number_of_Fights_36m:0,f2SubRate:a.rawData.Number_of_Fights_36m>0?a.rawData.Sub_Attempts/a.rawData.Number_of_Fights_36m:0,f1FinishRate:h,f2FinishRate:t,avgFightTime:(l+r)/2,weightedFinishRate:g?this.getWeightedMetric(h,t,g,i,.5):void 0,weightedAvgFightTime:g?this.getWeightedMetric(l,r,g,i,1):void 0}}getWinReasoningKey(i,a,g,h){return i.overall>a.overall+20?"combat_analysis.reasoning.significant_rating_advantage":i.performance>a.performance+10?"combat_analysis.reasoning.significant_performance_advantage":i.fightIQ>a.fightIQ+10?"combat_analysis.reasoning.superior_tactical_iq":g>h+20?"combat_analysis.reasoning.better_recent_record":"combat_analysis.reasoning.slight_combined_advantage"}getConfidenceLevel(i){return i>=ci.MIN_HIGH_CONFIDENCE?"high":i>=ci.MIN_MEDIUM_CONFIDENCE?"medium":(i>=ci.MIN_LOW_CONFIDENCE,"low")}createMoneylineCard(i){return{id:"moneyline",type:"moneyline",category:"primary",title:"Fight Winner (Moneyline)",titleKey:"betting_markets.fight_winner",prediction:i.winner.name||"Unknown Fighter",confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{adjustedScore1:i.adjustedScore1,adjustedScore2:i.adjustedScore2},priority:1}}createVictoryMethodCard(i){return{id:"victory-method",type:"victory_method",category:"secondary",title:"Method of Victory",titleKey:"betting_markets.method_of_victory",prediction:i.method,predictionKey:i.methodKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,metadata:{method:i.method,finishRate1:i.finishRate1,finishRate2:i.finishRate2},priority:2}}createTotalRoundsCard(i){return{id:"total-rounds",type:"duration",category:"secondary",title:"Total Rounds (Over/Under)",titleKey:"betting_markets.total_rounds",prediction:i.prediction,predictionKey:i.predictionKey,confidence:i.probability,confidenceLevel:this.getConfidenceLevel(i.probability),reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{avgTime:i.avgTime},priority:3}}createFightPropsCard(i){return{id:"fight-props",type:"fight_props",category:"prop",title:"Fight Props",titleKey:"betting_markets.fight_props",prediction:i.prop,predictionKey:i.propKey,confidence:60,confidenceLevel:"medium",reasoningKey:i.reasoningKey,explanationKey:i.explanationKey,metadata:{value:i.value,valueKey:i.valueKey,metrics:i.metrics},priority:7}}createKeyFactorsCard(i){return{id:"key-factors",type:"key_factors",category:"statistical",title:"Key Factors",titleKey:"combat_analysis.key_factors_title",prediction:"Statistical Analysis",predictionKey:"combat_analysis.key_factors_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.statistical_analysis",metadata:{factors:i},priority:8}}createTrendsCard(i){return{id:"trends",type:"trends",category:"statistical",title:"Recent Trends",titleKey:"combat_analysis.trends_title",prediction:"Recent Trends",predictionKey:"combat_analysis.trends_title",confidence:100,confidenceLevel:"high",reasoningKey:"combat_analysis.reasoning.trend_analysis",metadata:{trends:i},priority:9}}createNoPredictionCard(i,a,g,h,t,l,r){if(i==="insufficient_fights"&&a&&g){const b=(h||0)<=2,d=(t||0)<=2;let m="";return b&&d?m=`Both fighters have insufficient fight data: ${a.name} (${h} fights) and ${g.name} (${t} fights). Minimum 3 fights required for accurate predictions.`:b?m=`${a.name} has insufficient fight data (${h} fights). Minimum 3 fights required for accurate predictions.`:d&&(m=`${g.name} has insufficient fight data (${t} fights). Minimum 3 fights required for accurate predictions.`),{id:"no-predictions-insufficient-fights",type:"no_prediction",category:"primary",title:"Insufficient Fight Data",titleKey:"combat_analysis.insufficient_fight_data",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_fights_explanation",explanation:m,priority:10,metadata:{reason:"insufficient_fights",fighter1Fights:h,fighter2Fights:t}}}if(i==="different_divisions"&&a&&g)return{id:"no-predictions-different-divisions",type:"no_prediction",category:"primary",title:"Different Divisions",titleKey:"combat_analysis.different_divisions",prediction:"No Prediction Available",predictionKey:"combat_analysis.no_prediction_available",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.different_divisions_explanation",explanation:`${a.name} competes in ${a.division} while ${g.name} competes in ${g.division}. Predictions are only available for fighters in the same division.`,priority:10,metadata:{reason:"different_divisions",fighter1Division:a.division,fighter2Division:g.division}};if(i==="low_moneyline_confidence"&&a&&g){const b=l||0,d=r||0;return{id:"no-predictions-low-confidence",type:"no_prediction",category:"primary",title:"Low Confidence Prediction",titleKey:"combat_analysis.low_confidence_prediction",prediction:"No Clear Prediction",predictionKey:"combat_analysis.no_clear_prediction",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.low_confidence_explanation",explanation:`The prediction model shows low confidence in determining a clear winner: ${a.name} ${b.toFixed(1)}% vs ${g.name} ${d.toFixed(1)}%. This indicates evenly matched fighters or insufficient data for reliable predictions.`,explanationKey:"combat_analysis.low_confidence_bet_explanation",priority:1,metadata:{reason:"low_moneyline_confidence",fighter1Name:a.name,fighter2Name:g.name,fighter1Probability:b,fighter2Probability:d}}}return{id:"no-predictions",type:"no_prediction",category:"primary",title:"Inconclusive Analysis",titleKey:"combat_analysis.inconclusive_analysis",prediction:"Insufficient Data",predictionKey:"combat_analysis.insufficient_data",explanationKey:"combat_analysis.insufficient_data_explanation",confidence:0,confidenceLevel:"low",reasoningKey:"combat_analysis.insufficient_data_explanation",priority:10}}hasHighConfidencePredictions(i){return i.some(a=>(a.type==="moneyline"||a.type==="victory_method"||a.type==="duration"||a.type==="winner_and_method"||a.type==="fight_props")&&a.confidence>=ci.MIN_MEDIUM_CONFIDENCE)}sortBetCardsByPriority(i){return i.sort((a,g)=>a.priority-g.priority)}}const ma=new ci;var ba=P('<div class="rounds-toggle-section svelte-1v78qb8"><span class="rounds-label svelte-1v78qb8"> </span> <div class="rounds-buttons svelte-1v78qb8"><button>3 Rounds</button> <button>5 Rounds</button></div></div>'),ya=P('<div class="bet-card no-predictions svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="no-pred-title svelte-1v78qb8"> </div> <div class="no-pred-subtitle svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ta=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="winner-name svelte-1v78qb8"> </div> <div class="confidence svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),wa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Da=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="method svelte-1v78qb8"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ra=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),ka=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Fa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="rounds"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),xa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="decision"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Sa=P('<div><div class="bet-type svelte-1v78qb8"> </div> <div class="bet-prediction svelte-1v78qb8"><div class="gone-60"> </div> <div class="probability svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div></div>'),Ma=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ca=P('<div class="bet-explanation svelte-1v78qb8"> </div>'),Ka=P('<div class="bet-card fight-props svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"><!> </div> <div class="bet-prediction svelte-1v78qb8"><div class="prop svelte-1v78qb8"> </div> <div class="value svelte-1v78qb8"> </div></div> <div class="reasoning svelte-1v78qb8"> </div> <!></div>'),Pa=P('<div class="stat-item svelte-1v78qb8"><span class="stat-label svelte-1v78qb8"> </span> <span class="stat-value svelte-1v78qb8"> </span></div>'),La=P('<div class="bet-card stats svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="key-stats svelte-1v78qb8"></div></div>'),Oa=P("<div><!></div>"),Ba=P('<div class="bet-card trends svelte-1v78qb8"><div class="bet-type svelte-1v78qb8"> </div> <div class="trend-list svelte-1v78qb8"></div></div>'),Na=P('<div class="fight-best-bets svelte-1v78qb8"><div class="header svelte-1v78qb8"><h2 class="title svelte-1v78qb8"><span class="icon svelte-1v78qb8"><!></span> </h2> <hr class="title-divider svelte-1v78qb8"/> <div class="subtitle svelte-1v78qb8"> </div></div> <div class="matchup-header svelte-1v78qb8"><div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div> <div class="vs-divider svelte-1v78qb8"><span>VS</span></div> <div class="fighter-preview svelte-1v78qb8"><div class="fighter-name svelte-1v78qb8"> </div> <div class="fighter-record svelte-1v78qb8"> </div> <div class="fighter-archetype svelte-1v78qb8"> </div></div></div> <!> <div><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="disclaimer svelte-1v78qb8"><small class="svelte-1v78qb8"> </small></div></div>');function Ea(I,i){yi(i,!1);const[a,g]=xi(),h=()=>fi($t,"$locale",a),t=()=>fi(Si,"$_",a),l=T(),r=T(),b=T(),d=T(),m=T(),A=T(),ee=T(),y=T(),G=T(),V=T(),W=T(),X=T(),ie=T(),J=T(),x=T(),B=T(),H=T(),N=T(),S=Ot();let w=Ye(i,"fighter1",8,null),U=Ye(i,"fighter2",8,null),j=Ye(i,"scheduledRounds",8,3);function ne(De){S("roundsChanged",De)}function re(De,Ke){return De.filter(F=>F.type===Ke)}function Y(De){switch(De){case Fi.HIGH:return"high-confidence";case Fi.MEDIUM:return"medium-confidence";case Fi.LOW:return"low-confidence";default:return""}}let Ee=h();Q(()=>(E(w()),E(U())),()=>{u(l,w()&&U())}),Q(()=>(e(l),E(w()),E(U()),E(j())),()=>{u(r,e(l)?ma.generateBetCards(w(),U(),!0,j()):[])}),Q(()=>(e(l),E(w()),E(U()),e(r),gi),()=>{e(l)&&w()&&U()&&e(r).length>0&&gi.trackBettingAnalysis(w().name,U().name)}),Q(()=>(e(r),me),()=>{u(b,re(e(r),me.MONEYLINE))}),Q(()=>(e(r),me),()=>{u(d,re(e(r),me.VICTORY_METHOD))}),Q(()=>(e(r),me),()=>{u(m,re(e(r),me.WINNER_AND_METHOD))}),Q(()=>(e(r),me),()=>{u(A,re(e(r),me.DURATION))}),Q(()=>(e(r),me),()=>{u(ee,re(e(r),me.GOES_TO_DECISION))}),Q(()=>(e(r),me),()=>{u(y,re(e(r),me.GONE_IN_60))}),Q(()=>(e(r),me),()=>{u(G,re(e(r),me.FIGHT_PROPS))}),Q(()=>(e(r),me),()=>{u(V,re(e(r),me.KEY_FACTORS))}),Q(()=>(e(r),me),()=>{u(W,re(e(r),me.TRENDS))}),Q(()=>(e(r),me),()=>{u(X,re(e(r),me.NO_PREDICTION))}),Q(()=>(e(b),e(d),e(m),e(A),e(ee),e(y)),()=>{u(ie,e(b).length+e(d).length+e(m).length+e(A).length+e(ee).length+e(y).length)}),Q(()=>e(ie),()=>{u(J,e(ie)>0)}),Q(()=>e(J),()=>{u(x,e(J)?0:1)}),Q(()=>(e(G),e(V),e(W)),()=>{u(B,e(G).length+e(V).length+e(W).length)}),Q(()=>(e(ie),e(x),e(B)),()=>{u(H,e(ie)+e(x)+e(B))}),Q(()=>h(),()=>{h()!==Ee&&Ee&&window.location.reload()}),Q(()=>e(l),()=>{u(N,e(l))}),Ti(),wi();var Z=ri(),M=Ae(Z);{var oe=De=>{var Ke=Na(),F=s(Ke),le=s(F),ye=s(le),Oe=s(ye);it(Oe,{size:32});var ze=c(ye),qe=c(le,4),$e=s(qe),Be=c(F,2),ce=s(Be),Te=s(ce),Ie=s(Te),Ve=c(Te,2),we=s(Ve),Pe=c(Ve,2),he=s(Pe),te=c(ce,4),ue=s(te),He=s(ue),je=c(ue,2),ii=s(je),Qe=c(je,2),Ze=s(Qe),Je=c(Be,2);{var oi=D=>{var o=ba(),R=s(o),O=s(R),z=c(R,2),K=s(z),C=c(K,2);q($=>{f(O,`${$??""}:`),Ge(K,1,`rounds-btn ${j()===3?"active":""}`,"svelte-1v78qb8"),Ge(C,1,`rounds-btn ${j()===5?"active":""}`,"svelte-1v78qb8")},[()=>(t(),n(()=>t()("fight_radar.scheduled_rounds")))]),We("click",K,()=>ne(3)),We("click",C,()=>ne(5)),p(D,o)};se(Je,D=>{e(ie)>0&&D(oi)})}var Se=c(Je,2);let L;var Re=s(Se);ei(Re,1,()=>e(X),ni,(D,o)=>{var R=ya(),O=s(R),z=s(O);Ki(z,{size:16,style:"display: inline; margin-right: 0.25rem;"});var K=c(z),C=c(O,2),$=s(C),de=s($),pe=c($,2),xe=s(pe),ge=c(C,2),fe=s(ge);q((ve,Ce,Fe,_e)=>{f(K,` ${ve??""}`),f(de,Ce),f(xe,Fe),f(fe,_e)},[()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.confidence_threshold"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey,{values:e(o).metadata||{}})))]),p(D,R)});var ti=c(Re,2);ei(ti,1,()=>e(b),ni,(D,o)=>{var R=Ta(),O=s(R),z=s(O),K=c(O,2),C=s(K),$=s(C),de=c(C,2),pe=s(de),xe=c(K,2),ge=s(xe);q((fe,ve,Ce,Fe)=>{Ge(R,1,`bet-card moneyline ${fe??""}`,"svelte-1v78qb8"),f(z,ve),f($,(e(o),n(()=>e(o).prediction))),f(pe,`${e(o),n(()=>e(o).confidence)??""}% ${Ce??""}`),f(ge,Fe)},[()=>(e(o),n(()=>Y(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),p(D,R)});var Ue=c(ti,2);ei(Ue,1,()=>e(d),ni,(D,o)=>{var R=wa(),O=s(R),z=s(O),K=c(O,2),C=s(K),$=s(C),de=c(C,2),pe=s(de),xe=c(K,2),ge=s(xe);q((fe,ve,Ce,Fe,_e)=>{Ge(R,1,`bet-card method-victory ${fe??""}`,"svelte-1v78qb8"),f(z,ve),f($,Ce),f(pe,`${e(o),n(()=>e(o).confidence)??""}% ${Fe??""}`),f(ge,_e)},[()=>(e(o),n(()=>Y(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),p(D,R)});var li=c(Ue,2);ei(li,1,()=>e(m),ni,(D,o)=>{var R=Da(),O=s(R),z=s(O),K=c(O,2),C=s(K),$=s(C),de=c(C,2),pe=s(de),xe=c(K,2),ge=s(xe);q((fe,ve,Ce,Fe,_e)=>{Ge(R,1,`bet-card winner-and-method ${fe??""}`,"svelte-1v78qb8"),f(z,ve),f($,`${e(o),n(()=>e(o).prediction)??""}
              ${Ce??""}`),f(pe,`${e(o),n(()=>e(o).confidence)??""}% ${Fe??""}`),f(ge,_e)},[()=>(e(o),n(()=>Y(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):"")),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),p(D,R)});var hi=c(li,2);ei(hi,1,()=>e(A),ni,(D,o)=>{var R=Fa(),O=s(R),z=s(O),K=c(O,2),C=s(K),$=s(C),de=c(C,2),pe=s(de),xe=c(K,2),ge=s(xe),fe=c(xe,2);{var ve=Fe=>{var _e=Ra(),Xe=s(_e);q(ai=>f(Xe,ai),[()=>(t(),e(o),n(()=>t()(e(o).explanationKey)))]),p(Fe,_e)},Ce=Fe=>{var _e=ri(),Xe=Ae(_e);{var ai=si=>{var di=ka(),ui=s(di);q(()=>f(ui,(e(o),n(()=>e(o).explanation)))),p(si,di)};se(Xe,si=>{e(o),n(()=>e(o).explanation)&&si(ai)},!0)}p(Fe,_e)};se(fe,Fe=>{e(o),n(()=>e(o).explanationKey)?Fe(ve):Fe(Ce,!1)})}q((Fe,_e,Xe,ai,si)=>{Ge(R,1,`bet-card total-rounds ${Fe??""}`,"svelte-1v78qb8"),f(z,_e),f($,Xe),f(pe,`${e(o),n(()=>e(o).confidence)??""}% ${ai??""}`),f(ge,si)},[()=>(e(o),n(()=>Y(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),p(D,R)});var v=c(hi,2);ei(v,1,()=>e(ee),ni,(D,o)=>{var R=xa(),O=s(R),z=s(O),K=c(O,2),C=s(K),$=s(C),de=c(C,2),pe=s(de),xe=c(K,2),ge=s(xe);q((fe,ve,Ce,Fe,_e)=>{Ge(R,1,`bet-card decision-type ${fe??""}`,"svelte-1v78qb8"),f(z,ve),f($,Ce),f(pe,`${e(o),n(()=>e(o).confidence)??""}% ${Fe??""}`),f(ge,_e)},[()=>(e(o),n(()=>Y(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),p(D,R)});var _=c(v,2);ei(_,1,()=>e(y),ni,(D,o)=>{var R=Sa(),O=s(R),z=s(O),K=c(O,2),C=s(K),$=s(C),de=c(C,2),pe=s(de),xe=c(K,2),ge=s(xe);q((fe,ve,Ce,Fe,_e)=>{Ge(R,1,`bet-card gone-in-60 ${fe??""}`,"svelte-1v78qb8"),f(z,ve),f($,Ce),f(pe,`${e(o),n(()=>e(o).confidence)??""}% ${Fe??""}`),f(ge,_e)},[()=>(e(o),n(()=>Y(e(o).confidenceLevel))),()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.probability"))),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),p(D,R)});var k=c(_,2);ei(k,1,()=>e(G),ni,(D,o)=>{var R=Ka(),O=s(R),z=s(O);et(z,{size:16,style:"display: inline; margin-right: 0.25rem;"});var K=c(z),C=c(O,2),$=s(C),de=s($),pe=c($,2),xe=s(pe),ge=c(C,2),fe=s(ge),ve=c(ge,2);{var Ce=_e=>{var Xe=Ma(),ai=s(Xe);q(si=>f(ai,si),[()=>(t(),e(o),n(()=>t()(e(o).explanationKey)))]),p(_e,Xe)},Fe=_e=>{var Xe=ri(),ai=Ae(Xe);{var si=di=>{var ui=Ca(),Ri=s(ui);q(()=>f(Ri,(e(o),n(()=>e(o).explanation)))),p(di,ui)};se(ai,di=>{e(o),n(()=>e(o).explanation)&&di(si)},!0)}p(_e,Xe)};se(ve,_e=>{e(o),n(()=>e(o).explanationKey)?_e(Ce):_e(Fe,!1)})}q((_e,Xe,ai,si,di)=>{f(K,` ${_e??""}`),f(de,Xe),f(xe,`${ai??""}: ${si??""}`),f(fe,di)},[()=>(t(),e(o),n(()=>t()(e(o).titleKey))),()=>(e(o),t(),n(()=>e(o).predictionKey?t()(e(o).predictionKey):e(o).prediction)),()=>(t(),n(()=>t()("combat_analysis.value"))),()=>(e(o),t(),n(()=>e(o).metadata?.valueKey?t()(e(o).metadata.valueKey):e(o).metadata?.value||"N/A")),()=>(t(),e(o),n(()=>t()(e(o).reasoningKey)))]),p(D,R)});var ae=c(k,2);ei(ae,1,()=>e(V),ni,(D,o)=>{var R=La(),O=s(R),z=s(O),K=c(O,2);ei(K,5,()=>(e(o),n(()=>e(o).metadata?.factors||[])),ni,(C,$)=>{var de=Pa(),pe=s(de),xe=s(pe),ge=c(pe,2),fe=s(ge);q(ve=>{f(xe,ve),f(fe,(e($),n(()=>e($).value)))},[()=>(t(),e($),n(()=>t()(e($).label)))]),p(C,de)}),q(C=>f(z,C),[()=>(t(),e(o),n(()=>t()(e(o).titleKey)))]),p(D,R)});var ke=c(ae,2);ei(ke,1,()=>e(W),ni,(D,o)=>{var R=Ba(),O=s(R),z=s(O),K=c(O,2);ei(K,5,()=>(e(o),n(()=>e(o).metadata?.trends||[])),ni,(C,$)=>{var de=Oa(),pe=s(de);{var xe=fe=>{var ve=pi();q(Ce=>f(ve,Ce),[()=>(t(),e($),n(()=>t()(e($).textKey,{values:e($).params||{}})))]),p(fe,ve)},ge=fe=>{var ve=pi();q(()=>f(ve,(e($),n(()=>e($).text)))),p(fe,ve)};se(pe,fe=>{e($),n(()=>e($).textKey)?fe(xe):fe(ge,!1)})}q(()=>Ge(de,1,`trend-item ${e($),n(()=>e($).type)??""}`,"svelte-1v78qb8")),p(C,de)}),q(C=>f(z,C),[()=>(t(),e(o),n(()=>t()(e(o).titleKey)))]),p(D,R)});var Me=c(Se,2),Ne=s(Me),Le=s(Ne);q((D,o,R,O)=>{f(ze,` ${D??""}`),f($e,o),f(Ie,(E(w()),n(()=>w().name))),f(we,`${E(w()),n(()=>w().rawData.win)??""}-${E(w()),n(()=>w().rawData.loss)??""}-${E(w()),n(()=>w().rawData.draws)??""}`),f(he,(E(w()),n(()=>w().archetype.archetypeEmojis))),f(He,(E(U()),n(()=>U().name))),f(ii,`${E(U()),n(()=>U().rawData.win)??""}-${E(U()),n(()=>U().rawData.loss)??""}-${E(U()),n(()=>U().rawData.draws)??""}`),f(Ze,(E(U()),n(()=>U().archetype.archetypeEmojis))),L=Ge(Se,1,"betting-grid svelte-1v78qb8",null,L,R),f(Le,`* ${O??""}`)},[()=>(t(),n(()=>t()("combat_analysis.fight_analysis"))),()=>(t(),n(()=>t()("combat_analysis.last_36_months_only"))),()=>({"few-cards":e(H)<=3}),()=>(t(),n(()=>t()("combat_analysis.disclaimer")))]),p(De,Ke)};se(M,De=>{e(N)&&De(oe)})}p(I,Z),Di(),g()}var Wa=P('<div class="loading-spinner svelte-18xx8u1"><div class="spinner svelte-18xx8u1"></div> <p class="svelte-18xx8u1">Cargando shorts...</p></div>'),$a=P('<div class="error-message svelte-18xx8u1"><p> </p></div>'),Aa=P('<button class="nav-button prev svelte-18xx8u1" aria-label="Video anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="15 18 9 12 15 6"></polyline></svg></button>'),qa=P('<div class="video-embed svelte-18xx8u1"><iframe frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="svelte-18xx8u1"></iframe></div>'),Ia=P('<button class="video-thumbnail svelte-18xx8u1"><img loading="lazy" class="svelte-18xx8u1"/> <div class="play-overlay svelte-18xx8u1"><svg width="64" height="64" viewBox="0 0 24 24" fill="white" class="svelte-18xx8u1"><path d="M8 5v14l11-7z"></path></svg></div> <div class="shorts-badge svelte-18xx8u1">Shorts</div></button>'),Va=P('<div class="video-item svelte-18xx8u1"><!> <div class="video-info svelte-18xx8u1"><a target="_blank" rel="noopener noreferrer" class="video-title-link svelte-18xx8u1"><h3 class="video-title svelte-18xx8u1"> </h3></a></div></div>'),Ha=P('<button class="nav-button next svelte-18xx8u1" aria-label="Siguiente video"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-18xx8u1"><polyline points="9 18 15 12 9 6"></polyline></svg></button>'),Ga=P('<div class="carousel-wrapper svelte-18xx8u1"><!> <div class="videos-container svelte-18xx8u1"><div></div></div> <!></div>'),za=P('<div class="shorts-slider-container svelte-18xx8u1"><!></div>');function Ua(I,i){yi(i,!1);const a=T(),g=T(),h=T(),t=T();let l=Ye(i,"channelId",8),r=T([]),b=T(!0),d=T(null),m=T(0),A=T(!1),ee=T(null),y=T(!0);function G(){e(r).length!==0&&(u(y,!0),qi(m),e(m)>=e(r).length*2&&setTimeout(()=>{u(y,!1),u(m,e(r).length),setTimeout(()=>{u(y,!0)},50)},400))}function V(){e(r).length!==0&&(u(y,!0),qi(m,-1),e(m)<e(r).length&&setTimeout(()=>{u(y,!1),u(m,e(r).length*2-1),setTimeout(()=>{u(y,!0)},50)},400))}function W(M){u(ee,M)}let X=0,ie=0,J=0,x=!1,B=!1,H=T(0),N=0;const S=40;function w(M){e(A)&&(X=M.touches[0].clientX,ie=M.touches[0].clientY,J=X,x=!0,B=!1,u(y,!1),N=e(m),u(H,0))}function U(M){if(!e(A)||!x)return;const oe=M.touches[0].clientX,De=M.touches[0].clientY,Ke=Math.abs(oe-X),F=Math.abs(De-ie);if(!B)if(Ke>S&&Ke>F)B=!0;else if(F>Ke&&F>10){x=!1,B=!1,u(y,!0),u(H,0);return}else return;if(B){J=oe;const le=J-X,ye=M.currentTarget instanceof HTMLElement?M.currentTarget.clientWidth:window.innerWidth;u(H,-(le/ye)*100),M.preventDefault()}}function j(){if(!e(A)||!x)return;x=!1,B=!1,u(y,!0);const M=X-J;Math.abs(M)>50?M>0?u(m,N+1):u(m,N-1):Math.abs(e(H))>40?u(m,N+(e(H)>0?1:-1)):u(m,N),e(m)>=e(r).length*2?setTimeout(()=>{u(y,!1),u(m,e(r).length),setTimeout(()=>{u(y,!0)},50)},400):e(m)<e(r).length&&setTimeout(()=>{u(y,!1),u(m,e(r).length*2-1),setTimeout(()=>{u(y,!0)},50)},400),u(H,0),X=0,ie=0,J=0}function ne(){const M=window.innerWidth;u(A,M<768)}tt(()=>(ne(),window.addEventListener("resize",ne),(async()=>{try{const M=await At.fetchVideosByChannelId(l(),!0);M.length===0?u(d,"No se encontraron videos para este canal"):(u(r,M),console.log(`Loaded ${e(r).length} videos from channel ${l()}`))}catch(M){console.error("Error fetching videos:",M),u(d,"Error al cargar los videos")}finally{u(b,!1)}})(),()=>{window.removeEventListener("resize",ne)})),Q(()=>e(A),()=>{u(a,e(A)?1:window.innerWidth>=1024?4:3)}),Q(()=>(e(A),e(a)),()=>{u(g,e(A)?80:100/e(a))}),Q(()=>e(A),()=>{u(h,e(A)?10:0)}),Q(()=>e(r),()=>{u(t,e(r).length>0?[...e(r).map((M,oe)=>({...M,_key:`prev-${oe}`})),...e(r).map((M,oe)=>({...M,_key:`curr-${oe}`})),...e(r).map((M,oe)=>({...M,_key:`next-${oe}`}))]:[])}),Q(()=>(e(r),e(m)),()=>{e(r).length>0&&e(m)===0&&u(m,e(r).length)}),Ti(),wi();var re=za(),Y=s(re);{var Ee=M=>{var oe=Wa();p(M,oe)},Z=M=>{var oe=ri(),De=Ae(oe);{var Ke=le=>{var ye=$a(),Oe=s(ye),ze=s(Oe);q(()=>f(ze,e(d))),p(le,ye)},F=le=>{var ye=ri(),Oe=Ae(ye);{var ze=qe=>{var $e=Ga(),Be=s($e);{var ce=he=>{var te=Aa();We("click",te,V),p(he,te)};se(Be,he=>{e(r),n(()=>e(r).length>1)&&he(ce)})}var Te=c(Be,2),Ie=s(Te);let Ve;ei(Ie,5,()=>e(t),he=>he._key,(he,te)=>{var ue=Va(),He=s(ue);{var je=Se=>{var L=qa(),Re=s(L);q(()=>{be(Re,"src",`${e(te),n(()=>e(te).embedUrl)??""}?autoplay=1`),be(Re,"title",(e(te),n(()=>e(te).title)))}),p(Se,L)},ii=Se=>{var L=Ia(),Re=s(L);q(()=>{be(L,"aria-label",`Reproducir ${e(te),n(()=>e(te).title)??""}`),be(Re,"src",(e(te),n(()=>e(te).thumbnailUrl))),be(Re,"alt",(e(te),n(()=>e(te).title)))}),We("click",L,()=>W(e(te)._key)),p(Se,L)};se(He,Se=>{e(ee),e(te),n(()=>e(ee)===e(te)._key)?Se(je):Se(ii,!1)})}var Qe=c(He,2),Ze=s(Qe),Je=s(Ze),oi=s(Je);q(()=>{bi(ue,`flex: 0 0 ${e(A)?"80%":100/e(a)+"%"}`),be(Ze,"href",(e(te),n(()=>e(te).watchUrl))),f(oi,(e(te),n(()=>e(te).title)))}),p(he,ue)});var we=c(Te,2);{var Pe=he=>{var te=Ha();We("click",te,G),p(he,te)};se(we,he=>{e(r),n(()=>e(r).length>1)&&he(Pe)})}q(he=>{Ve=Ge(Ie,1,"videos-track svelte-18xx8u1",null,Ve,he),bi(Ie,`transform: translateX(-${e(m)*e(g)-e(h)+e(H)}%)`)},[()=>({"no-transition":!e(y)})]),We("touchstart",$e,w),We("touchmove",$e,U),We("touchend",$e,j),p(qe,$e)};se(Oe,qe=>{e(r),n(()=>e(r).length>0)&&qe(ze)},!0)}p(le,ye)};se(De,le=>{e(d)?le(Ke):le(F,!1)},!0)}p(M,oe)};se(Y,M=>{e(b)?M(Ee):M(Z,!1)})}p(I,re),Di()}var ja=P('<div class="loading svelte-1c61qfj" id="loading"><div class="loading-content svelte-1c61qfj"><div class="spinner svelte-1c61qfj"></div> <p class="svelte-1c61qfj"> </p></div></div>'),Ya=P('<button class="share-fight-btn svelte-1c61qfj"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c61qfj"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" class="svelte-1c61qfj"></path></svg> </button>'),Qa=P('<div class="action-buttons-section svelte-1c61qfj"><!> <button class="clear-radars-btn svelte-1c61qfj"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="svelte-1c61qfj"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" class="svelte-1c61qfj"></path></svg> </button></div>'),Xa=P('<div class="controls svelte-1c61qfj"><div class="fighter-selectors svelte-1c61qfj"><div class="control-group svelte-1c61qfj"><label for="fighter1-select" class="svelte-1c61qfj"> </label> <div id="fighter1-container-select" class="svelte-1c61qfj"><!></div></div> <div class="vs-divider svelte-1c61qfj">VS</div> <div class="control-group svelte-1c61qfj"><label for="fighter2-select" class="svelte-1c61qfj"> </label> <div id="fighter2-container-select" class="svelte-1c61qfj"><!></div></div></div> <!></div>'),Za=P('<div class="division-disclaimer svelte-1c61qfj"><div class="disclaimer-title svelte-1c61qfj"><!> <strong class="svelte-1c61qfj"> </strong></div> <div class="disclaimer-text svelte-1c61qfj"> </div></div>'),Ja=P('<div class="fighter-info svelte-1c61qfj"><div id="fighter1-container" class="svelte-1c61qfj"><!></div> <div id="fighter2-container" class="svelte-1c61qfj"><!></div></div>'),es=P('<div class="radar-container svelte-1c61qfj"><div id="fight-radar-container" class="svelte-1c61qfj"><!></div> <div id="iq-radar-container" class="svelte-1c61qfj"><!></div></div>'),is=P('<!> <div class="view-calendar-link svelte-1c61qfj"><button class="calendar-link-btn svelte-1c61qfj"> </button></div>',1),ts=P('<hr class="section-divider svelte-1c61qfj"/> <!>',1),as=P('<div class="fight-radar-app svelte-1c61qfj"><div class="container svelte-1c61qfj"><!> <!> <!> <!> <!> <!> <!> <!></div> <!></div>');function us(I,i){yi(i,!1);const[a,g]=xi(),h=()=>fi(S,"$urlSearchParams",a),t=()=>fi(Si,"$_",a),l=T(),r=T(),b=T(),d=T(),m=T(),A=T(),ee=T(),y=T(),G=T(),V=T(),W=T(),X=T();let ie=Ye(i,"isDarkMode",8,!0),J=Ye(i,"toggleTheme",8,()=>{}),x=T(new Map),B=T(new Map),H=T([]),N=T(new Map);const S=Bt(vi());function w(v,_){const k=`fighter${_}`;_i({[k]:v}),S.set(vi())}function U(v){_i({rounds:v.toString()}),S.set(vi())}let j=T(!1),ne=T(!1),re=T(!1),Y=T(!1),Ee=T(!1),Z=T(!1),M=T(!1),oe=T(!1),De=!1;tt(()=>{window.Highcharts=Nt,S.set(vi());const v=qt(()=>{S.set(vi())});return Ke(),v});async function Ke(){try{u(j,!0);const{allRawFightersDataMap:v,allRawFightersByDivision:_,processedFightersMap:k,processedFighters:ae}=await Vt.loadFightersFromCSV();u(x,v),u(N,_),u(B,k),u(H,ae),u(ne,!0)}catch(v){console.error("Error loading data:",v)}finally{u(j,!1)}}function F(v=[]){return v.map(_=>({value:_.nameWithNickname,label:_.name,imageUrl:le(_)}))}function le(v){return v.pictureUrl&&v.pictureUrl!==""?v.pictureUrl:ye(v.division)?"no_photo_female.png":"no_photo_male.png"}function ye(v){return!!(v&&v.startsWith("W_"))}function Oe(v){if(w(v,1),!(!De&&h().has("rounds"))){const k=e(x).get(v),ae=e(r)?e(x).get(e(r)):null;k&&k.division_ranking==="0"||ae&&ae.division_ranking==="0"?U(5):(_i({rounds:""}),S.set(vi()))}De=!0,v&&!e(r)&&(u(oe,!1),setTimeout(()=>{u(oe,!0),setTimeout(()=>{u(oe,!1)},50)},100))}function ze(v){if(w(v,2),!h().has("rounds")){const k=e(l)?e(x).get(e(l)):null,ae=e(x).get(v);k&&k.division_ranking==="0"||ae&&ae.division_ranking==="0"?U(5):(_i({rounds:""}),S.set(vi()))}v&&!e(l)&&(u(M,!1),setTimeout(()=>{u(M,!0),setTimeout(()=>{u(M,!1)},50)},100))}function qe(v){u(Ee,v)}function $e(v){u(Z,v)}function Be(){gi.trackCleanRadars(),_i({fighter1:"",fighter2:"",rounds:""}),S.set(vi())}function ce(){if(!e(l)||!e(r))return;const v=navigator.share&&typeof navigator.share=="function"?"web_share_api":"clipboard";gi.trackFightShare(e(l),e(r),v);const _=It("/",{fighter1:e(l),fighter2:e(r)});navigator.share&&typeof navigator.share=="function"?navigator.share({title:`${e(l)} vs ${e(r)} - Fight-Radar`,text:`Compara las estadsticas de ${e(l)} vs ${e(r)}`,url:_}).catch(console.error):navigator.clipboard.writeText(_).then(()=>{Te("Enlace copiado al portapapeles!")}).catch(()=>{prompt("Copia este enlace para compartir la pelea:",_)})}function Te(v){const _=document.createElement("div");_.className="notification",_.textContent=v,_.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-weight: 500;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    `,document.body.appendChild(_),setTimeout(()=>{_.style.opacity="1",_.style.transform="translateY(0)"},10),setTimeout(()=>{_.style.opacity="0",_.style.transform="translateY(-20px)",setTimeout(()=>{document.body.removeChild(_)},300)},3e3)}function Ie(v,_,k){const ae=[];return v&&ae.push({name:v.name,data:[v.fightRadar.STR_OFF,v.fightRadar.STR_DEF,v.fightRadar.TD_OFF,v.fightRadar.TD_DEF,v.fightRadar.CTRL,v.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter1-color)"}),_&&ae.push({name:_.name,data:[_.fightRadar.STR_OFF,_.fightRadar.STR_DEF,_.fightRadar.TD_OFF,_.fightRadar.TD_DEF,_.fightRadar.CTRL,_.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&ae.push({name:k.name,data:[k.fightRadar.STR_OFF,k.fightRadar.STR_DEF,k.fightRadar.TD_OFF,k.fightRadar.TD_DEF,k.fightRadar.CTRL,k.fightRadar.FIN_THREAT],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ae}function Ve(v,_,k){const ae=[];return v&&ae.push({name:v.name,data:[v.iqRadar.distance,v.iqRadar.adaptability,v.iqRadar.composure,v.iqRadar.decisions,v.iqRadar.rhythm,v.iqRadar.feints],pointPlacement:"on",color:"var(--fighter1-color)"}),_&&ae.push({name:_.name,data:[_.iqRadar.distance,_.iqRadar.adaptability,_.iqRadar.composure,_.iqRadar.decisions,_.iqRadar.rhythm,_.iqRadar.feints],pointPlacement:"on",color:"var(--fighter2-color)"}),k&&ae.push({name:k.name,data:[k.iqRadar.distance,k.iqRadar.adaptability,k.iqRadar.composure,k.iqRadar.decisions,k.iqRadar.rhythm,k.iqRadar.feints],pointPlacement:"on",color:"var(--avgFighter-color)",visible:!1}),ae}function we(v){const _={AT:"rgba(220, 53, 69, 0.3)",ANT:"rgba(255, 193, 7, 0.3)",PT:"rgba(13, 110, 253, 0.3)",PNT:"rgba(25, 135, 84, 0.3)"},[k,ae,ke]=v.combinedRole.split("+")??["AT"];let Me=[[k,100]];if(ae&&ke?Me=[[k,33],[ae,34],[ke,33]]:ae?Me=[[k,50],[ae,50]]:ke&&(Me=[[k,60],[ke,40]]),Me.length===1){const[Ne,Le]=Me[0],D=Math.min(Le,70);return`linear-gradient(135deg, ${_[Ne]} 0%, ${_[Ne]} ${D}%, var(--card-bg) 100%)`}else{const Ne=Me.reduce((R,[,O])=>R+O,0);let Le=[],D=0;return Me.forEach(([R,O],z)=>{const K=O/Ne*85,C=_[R];z===0&&Le.push(`${C} ${D}%`),D+=K,z===Me.length-1?(Le.push(`${C} ${D}%`),Le.push("var(--card-bg) 100%")):Le.push(`${C} ${D}%`)}),`linear-gradient(135deg, ${Le.join(", ")})`}}Q(()=>h(),()=>{u(l,h().get("fighter1")||"")}),Q(()=>h(),()=>{u(r,h().get("fighter2")||"")}),Q(()=>h(),()=>{u(b,h().get("rounds")==="5"?5:3)}),Q(()=>(e(Ee),e(Z)),()=>{u(d,e(Ee)||e(Z))}),Q(()=>(e(H),e(r)),()=>{u(m,F(e(H)).filter(v=>v.value!==e(r)))}),Q(()=>(e(H),e(l)),()=>{u(A,F(e(H)).filter(v=>v.value!==e(l)))}),Q(()=>(e(l),e(r),e(x),e(N),Hi),()=>{u(ee,(()=>{if(!e(l)||!e(r))return null;const v=e(x).get(e(l)),_=e(x).get(e(r));if(!v||!_)return null;if(v.Division===_.Division){const k=v.Division;if(e(N).has(k))return Hi(k,e(N).get(k))}return null})())}),Q(()=>(e(l),e(B)),()=>{u(y,e(l)?e(B).get(e(l))??null:null)}),Q(()=>(e(r),e(B)),()=>{u(G,e(r)?e(B).get(e(r))??null:null)}),Q(()=>(e(ee),e(l),e(r),e(x),e(N),Gi),()=>{u(V,(()=>{if(!e(ee)||!e(l)||!e(r))return null;const v=e(x).get(e(l));return!v||!e(N).has(v.Division)?null:Gi(e(ee),e(N).get(v.Division))})())}),Q(()=>(e(y),e(G),e(V)),()=>{u(W,Ie(e(y)??null,e(G)??null,e(V)??null))}),Q(()=>(e(y),e(G),e(V)),()=>{u(X,Ve(e(y),e(G),e(V)))}),Q(()=>(e(j),e(x),e(l),e(r),gi),()=>{const v=!e(j)&&e(x).size>0&&e(x).has(e(l))&&e(x).has(e(r));u(re,!!(e(l)&&e(r)&&v)),u(Y,!!(e(l)&&e(r)&&v)),e(l)&&e(r)&&v&&gi.trackFighterComparison(e(l),e(r))}),Ti(),wi();var Pe=as(),he=s(Pe),te=s(he);Et(te,{showThemeToggle:!0,get isDarkMode(){return ie()},get toggleTheme(){return J()}});var ue=c(te,2);{var He=v=>{var _=ja(),k=s(_),ae=c(s(k),2),ke=s(ae);q(Me=>f(ke,Me),[()=>(t(),n(()=>t()("fight_radar.loading_data")))]),p(v,_)};se(ue,v=>{e(j)&&v(He)})}var je=c(ue,2);{var ii=v=>{var _=Xa(),k=s(_),ae=s(k),ke=s(ae),Me=s(ke),Ne=c(ke,2),Le=s(Ne);{let $=ki(()=>(t(),n(()=>t()("common.select_fighter"))));Xi(Le,{id:"fighter1-select",get placeholder(){return e($)},disabled:!1,get options(){return e(m)},get selectedValue(){return e(l)},onSelectionChange:Oe,onOpenStateChange:qe,get shouldOpen(){return e(M)}})}var D=c(ae,4),o=s(D),R=s(o),O=c(o,2),z=s(O);{let $=ki(()=>(t(),n(()=>t()("common.select_fighter"))));Xi(z,{id:"fighter2-select",get placeholder(){return e($)},disabled:!1,get options(){return e(A)},get selectedValue(){return e(r)},onSelectionChange:ze,onOpenStateChange:$e,get shouldOpen(){return e(oe)}})}var K=c(k,2);{var C=$=>{var de=Qa(),pe=s(de);{var xe=ve=>{var Ce=Ya(),Fe=c(s(Ce));q(_e=>f(Fe,` ${_e??""}`),[()=>(t(),n(()=>t()("fight_radar.share_fight")))]),We("click",Ce,ce),p(ve,Ce)};se(pe,ve=>{e(l)&&e(r)&&ve(xe)})}var ge=c(pe,2),fe=c(s(ge));q(ve=>f(fe,` ${ve??""}`),[()=>(t(),n(()=>t()("fight_radar.clear_radars")))]),We("click",ge,Be),p($,de)};se(K,$=>{(e(l)||e(r))&&$(C)})}q(($,de)=>{f(Me,`${$??""}:`),f(R,`${de??""}:`)},[()=>(t(),n(()=>t()("common.fighter_1"))),()=>(t(),n(()=>t()("common.fighter_2")))]),p(v,_)};se(je,v=>{e(ne)&&v(ii)})}var Qe=c(je,2);{var Ze=v=>{var _=ri(),k=Ae(_);{var ae=ke=>{var Me=Za(),Ne=s(Me),Le=s(Ne);Ki(Le,{size:20,class:"disclaimer-icon"});var D=c(Le,2),o=s(D),R=c(Ne,2),O=s(R);q((z,K)=>{f(o,z),f(O,K)},[()=>(t(),n(()=>t()("fight_radar.cross_division_title"))),()=>(t(),E(mi),e(y),e(G),n(()=>t()("fight_radar.cross_division_text",{values:{division1:mi(e(y).rawData.Division),division2:mi(e(G).rawData.Division)}})))]),p(ke,Me)};se(k,ke=>{e(y),e(G),n(()=>e(y)?.rawData&&e(G)?.rawData&&e(y).rawData.Division!==e(G).rawData.Division)&&ke(ae)})}p(v,_)};se(Qe,v=>{e(l)&&e(r)&&e(re)&&v(Ze)})}var Je=c(Qe,2);{var oi=v=>{var _=Ja(),k=s(_),ae=s(k);Zi(ae,{get fighter(){return e(y)},id:"fighter1-info"});var ke=c(k,2),Me=s(ke);Zi(Me,{get fighter(){return e(G)},id:"fighter2-info"}),q((Ne,Le)=>{bi(k,`background: ${Ne??""}`),bi(ke,`background: ${Le??""}`)},[()=>(e(y),n(()=>e(y)?we(e(y).archetype):"var(--card-bg)")),()=>(e(G),n(()=>e(G)?we(e(G).archetype):"var(--card-bg)"))]),p(v,_)};se(Je,v=>{e(re)&&v(oi)})}var Se=c(Je,2);{var L=v=>{var _=es(),k=s(_),ae=s(k);Ii(ae,()=>(e(l),e(r),e(W),n(()=>`${e(l)}-${e(r)}-${e(W).length}`)),Ne=>{{let Le=ki(()=>(E(zi),n(zi)));ji(Ne,{title:"Fight-Radar",chartId:"fight-radar",get categories(){return e(Le)},get series(){return e(W)},isIQRadar:!1})}});var ke=c(k,2),Me=s(ke);Ii(Me,()=>(e(l),e(r),e(X),n(()=>`${e(l)}-${e(r)}-${e(X).length}`)),Ne=>{{let Le=ki(()=>(E(Ui),n(Ui)));ji(Ne,{title:"IQ Radar",chartId:"iq-radar",get categories(){return e(Le)},get series(){return e(X)},isIQRadar:!0})}}),p(v,_)};se(Se,v=>{e(Y),e(W),n(()=>e(Y)&&e(W).length>0)&&v(L)})}var Re=c(Se,2);Ea(Re,{get fighter1(){return e(y)},get fighter2(){return e(G)},get scheduledRounds(){return e(b)},$$events:{roundsChanged:v=>U(v.detail)}});var ti=c(Re,2);{var Ue=v=>{var _=is(),k=Ae(_);Wt(k,{limit:2});var ae=c(k,2),ke=s(ae),Me=s(ke);q(Ne=>f(Me,`${Ne??""} `),[()=>(t(),n(()=>t()("banner.view_calendar")))]),We("click",ke,()=>at("/calendar")),p(v,_)};se(ti,v=>{!e(l)&&!e(r)&&!e(d)&&v(Ue)})}var li=c(he,2);{var hi=v=>{var _=ts(),k=c(Ae(_),2);Ua(k,{channelId:"UCvgfXK4nTYKudb0rFR6noLA"}),p(v,_)};se(li,v=>{!e(l)&&!e(r)&&!e(d)&&v(hi)})}p(I,Pe),Di(),g()}export{us as default};
